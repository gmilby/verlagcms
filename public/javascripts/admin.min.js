(function(i,h){function j(a){return c.isWindow(a)?a:a.nodeType===9?a.defaultView||a.parentWindow:false}function o(a){if(!Ka[a]){var b=c("<"+a+">").appendTo("body"),d=b.css("display");b.remove();if(d==="none"||d===""){Ma||(Ma=X.createElement("iframe"),Ma.frameBorder=Ma.width=Ma.height=0);X.body.appendChild(Ma);if(!rb||!Ma.createElement){rb=(Ma.contentWindow||Ma.contentDocument).document;rb.write("<!doctype><html><body></body></html>")}b=rb.createElement(a);rb.body.appendChild(b);d=c.css(b,"display");
X.body.removeChild(Ma)}Ka[a]=d}return Ka[a]}function t(a,b){var d={};c.each(xb.concat.apply([],xb.slice(0,b)),function(){d[this]=a});return d}function u(){Qa=h}function x(){setTimeout(u,0);return Qa=c.now()}function G(){try{return new i.XMLHttpRequest}catch(a){}}function C(a,b,d,e){if(c.isArray(b))c.each(b,function(g,k){d||jb.test(a)?e(a,k):C(a+"["+(typeof k=="object"||c.isArray(k)?g:"")+"]",k,d,e)});else if(!d&&b!=null&&typeof b=="object")for(var f in b)C(a+"["+f+"]",b[f],d,e);else e(a,b)}function z(a,
b,d,e,f,g){f=f||b.dataTypes[0];g=g||{};g[f]=true;f=a[f];for(var k=0,n=f?f.length:0,r=a===bb,q;k<n&&(r||!q);k++){q=f[k](b,d,e);typeof q=="string"&&(!r||g[q]?(q=h):(b.dataTypes.unshift(q),q=z(a,b,d,e,q,g)))}(r||!q)&&!g["*"]&&(q=z(a,b,d,e,"*",g));return q}function M(a){return function(b,d){typeof b!="string"&&(d=b,b="*");if(c.isFunction(d))for(var e=b.toLowerCase().split(Ua),f=0,g=e.length,k,n;f<g;f++){k=e[f];(n=/^\+/.test(k))&&(k=k.substr(1)||"*");k=a[k]=a[k]||[];k[n?"unshift":"push"](d)}}}function T(a,
b,d){var e=b==="width"?a.offsetWidth:a.offsetHeight;if(d==="border")return e;c.each(b==="width"?Ob:Gb,function(){d||(e-=parseFloat(c.css(a,"padding"+this))||0);d==="margin"?(e+=parseFloat(c.css(a,"margin"+this))||0):(e-=parseFloat(c.css(a,"border"+this+"Width"))||0)});return e}function ja(a,b){b.src?c.ajax({url:b.src,async:false,dataType:"script"}):c.globalEval((b.text||b.textContent||b.innerHTML||"").replace(dc,"/*$0*/"));b.parentNode&&b.parentNode.removeChild(b)}function oa(a){c.nodeName(a,"input")?
ka(a):a.getElementsByTagName&&c.grep(a.getElementsByTagName("input"),ka)}function ka(a){if(a.type==="checkbox"||a.type==="radio")a.defaultChecked=a.checked}function l(a){return"getElementsByTagName"in a?a.getElementsByTagName("*"):"querySelectorAll"in a?a.querySelectorAll("*"):[]}function p(a,b){var d;if(b.nodeType===1){b.clearAttributes&&b.clearAttributes();b.mergeAttributes&&b.mergeAttributes(a);d=b.nodeName.toLowerCase();if(d==="object")b.outerHTML=a.outerHTML;else if(d!=="input"||a.type!=="checkbox"&&
a.type!=="radio")if(d==="option")b.selected=a.defaultSelected;else{if(d==="input"||d==="textarea")b.defaultValue=a.defaultValue}else{a.checked&&(b.defaultChecked=b.checked=a.checked);b.value!==a.value&&(b.value=a.value)}b.removeAttribute(c.expando)}}function w(a,b){if(b.nodeType===1&&c.hasData(a)){var d=c.expando,e=c.data(a),f=c.data(b,e);if(e=e[d]){var g=e.events;f=f[d]=c.extend({},e);if(g){delete f.handle;f.events={};for(var k in g){d=0;for(e=g[k].length;d<e;d++)c.event.add(b,k+(g[k][d].namespace?
".":"")+g[k][d].namespace,g[k][d],g[k][d].data)}}}}}function E(a,b,d){b=b||0;if(c.isFunction(b))return c.grep(a,function(f,g){return!!b.call(f,g,f)===d});if(b.nodeType)return c.grep(a,function(f){return f===b===d});if(typeof b=="string"){var e=c.grep(a,function(f){return f.nodeType===1});if(Ha.test(b))return c.filter(b,e,!d);b=c.filter(b,e)}return c.grep(a,function(f){return c.inArray(f,b)>=0===d})}function ba(a,b){return(a&&a!=="*"?a+".":"")+b.replace(Ia,"`").replace(fb,"&")}function na(a){var b,
d,e,f,g,k,n,r,q,y,W,ia=[];f=[];g=c._data(this,"events");if(!(a.liveFired===this||!g||!g.live||a.target.disabled||a.button&&a.type==="click")){a.namespace&&(W=new RegExp("(^|\\.)"+a.namespace.split(".").join("\\.(?:.*\\.)?")+"(\\.|$)"));a.liveFired=this;var ma=g.live.slice(0);for(n=0;n<ma.length;n++){g=ma[n];g.origType.replace(ra,"")===a.type?f.push(g.selector):ma.splice(n--,1)}f=c(a.target).closest(f,a.currentTarget);r=0;for(q=f.length;r<q;r++){y=f[r];for(n=0;n<ma.length;n++){g=ma[n];if(y.selector===
g.selector&&(!W||W.test(g.namespace))&&!y.elem.disabled){k=y.elem;e=null;if(g.preType==="mouseenter"||g.preType==="mouseleave"){a.type=g.preType;(e=c(a.relatedTarget).closest(g.selector)[0])&&c.contains(k,e)&&(e=k)}(!e||e!==k)&&ia.push({elem:k,handleObj:g,level:y.level})}}}r=0;for(q=ia.length;r<q;r++){f=ia[r];if(d&&f.level>d)break;a.currentTarget=f.elem;a.data=f.handleObj.data;a.handleObj=f.handleObj;W=f.handleObj.origHandler.apply(f.elem,arguments);if(W===false||a.isPropagationStopped()){d=f.level;
W===false&&(b=false);if(a.isImmediatePropagationStopped())break}}return b}}function V(a,b,d){var e=c.extend({},d[0]);e.type=a;e.originalEvent={};e.liveFired=h;c.event.handle.call(b,e);e.isDefaultPrevented()&&d[0].preventDefault()}function ea(){return true}function fa(){return false}function Aa(a,b,d){var e=b+"defer",f=b+"queue",g=b+"mark",k=c.data(a,e,h,true);k&&(d==="queue"||!c.data(a,f,h,true))&&(d==="mark"||!c.data(a,g,h,true))&&setTimeout(function(){!c.data(a,f,h,true)&&!c.data(a,g,h,true)&&(c.removeData(a,
e,true),k.resolve())},0)}function La(a){for(var b in a)if(b!=="toJSON")return false;return true}function Va(a,b,d){if(d===h&&a.nodeType===1){d="data-"+b.replace(Q,"$1-$2").toLowerCase();d=a.getAttribute(d);if(typeof d=="string"){try{d=d==="true"?true:d==="false"?false:d==="null"?null:c.isNaN(d)?K.test(d)?c.parseJSON(d):d:parseFloat(d)}catch(e){}c.data(a,b,d)}else d=h}return d}var X=i.document,N=i.navigator,S=i.location,c=function(){function a(){if(!b.isReady){try{X.documentElement.doScroll("left")}catch(v){setTimeout(a,
1);return}b.ready()}}var b=function(v,O){return new b.fn.init(v,O,f)},d=i.jQuery,e=i.$,f,g=/^(?:[^<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,k=/\S/,n=/^\s+/,r=/\s+$/,q=/\d/,y=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,W=/^[\],:{}\s]*$/,ia=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,ma=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,pa=/(?:^|:|,)(?:\s*\[)+/g,Fa=/(webkit)[ \/]([\w.]+)/,ya=/(opera)(?:.*version)?[ \/]([\w.]+)/,Ga=/(msie) ([\w.]+)/,Ra=/(mozilla)(?:.*? rv:([\w.]+))?/,m=N.userAgent,s,D,H=Object.prototype.toString,
B=Object.prototype.hasOwnProperty,I=Array.prototype.push,R=Array.prototype.slice,aa=String.prototype.trim,wa=Array.prototype.indexOf,Na={};b.fn=b.prototype={constructor:b,init:function(v,O,Y){var L,xa;if(!v)return this;if(v.nodeType){this.context=this[0]=v;this.length=1;return this}if(v==="body"&&!O&&X.body){this.context=X;this[0]=X.body;this.selector=v;this.length=1;return this}if(typeof v=="string"){v.charAt(0)!=="<"||v.charAt(v.length-1)!==">"||v.length<3?(L=g.exec(v)):(L=[null,v,null]);if(L&&
(L[1]||!O)){if(L[1]){xa=(O=O instanceof b?O[0]:O)?O.ownerDocument||O:X;(Y=y.exec(v))?b.isPlainObject(O)?(v=[X.createElement(Y[1])],b.fn.attr.call(v,O,true)):(v=[xa.createElement(Y[1])]):(Y=b.buildFragment([L[1]],[xa]),v=(Y.cacheable?b.clone(Y.fragment):Y.fragment).childNodes);return b.merge(this,v)}if((O=X.getElementById(L[2]))&&O.parentNode){if(O.id!==L[2])return Y.find(v);this.length=1;this[0]=O}this.context=X;this.selector=v;return this}return!O||O.jquery?(O||Y).find(v):this.constructor(O).find(v)}if(b.isFunction(v))return Y.ready(v);
v.selector!==h&&(this.selector=v.selector,this.context=v.context);return b.makeArray(v,this)},selector:"",jquery:"1.6.1",length:0,size:function(){return this.length},toArray:function(){return R.call(this,0)},get:function(v){return v==null?this.toArray():v<0?this[this.length+v]:this[v]},pushStack:function(v,O,Y){var L=this.constructor();b.isArray(v)?I.apply(L,v):b.merge(L,v);L.prevObject=this;L.context=this.context;O==="find"?(L.selector=this.selector+(this.selector?" ":"")+Y):O&&(L.selector=this.selector+
"."+O+"("+Y+")");return L},each:function(v,O){return b.each(this,v,O)},ready:function(v){b.bindReady();s.done(v);return this},eq:function(v){return v===-1?this.slice(v):this.slice(v,+v+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(R.apply(this,arguments),"slice",R.call(arguments).join(","))},map:function(v){return this.pushStack(b.map(this,function(O,Y){return v.call(O,Y,O)}))},end:function(){return this.prevObject||this.constructor(null)},
push:I,sort:[].sort,splice:[].splice};b.fn.init.prototype=b.fn;b.extend=b.fn.extend=function(){var v,O,Y,L,xa,ua,qa=arguments[0]||{},Ca=1,Hb=arguments.length,yb=false;typeof qa=="boolean"&&(yb=qa,qa=arguments[1]||{},Ca=2);typeof qa!="object"&&!b.isFunction(qa)&&(qa={});for(Hb===Ca&&(qa=this,--Ca);Ca<Hb;Ca++)if((v=arguments[Ca])!=null)for(O in v){Y=qa[O];L=v[O];if(qa!==L)yb&&L&&(b.isPlainObject(L)||(xa=b.isArray(L)))?(xa?(xa=false,ua=Y&&b.isArray(Y)?Y:[]):(ua=Y&&b.isPlainObject(Y)?Y:{}),qa[O]=b.extend(yb,
ua,L)):L!==h&&(qa[O]=L)}return qa};b.extend({noConflict:function(v){i.$===b&&(i.$=e);v&&i.jQuery===b&&(i.jQuery=d);return b},isReady:false,readyWait:1,holdReady:function(v){v?b.readyWait++:b.ready(true)},ready:function(v){if(v===true&&!--b.readyWait||v!==true&&!b.isReady){if(!X.body)return setTimeout(b.ready,1);b.isReady=true;if(!(v!==true&&--b.readyWait>0)){s.resolveWith(X,[b]);b.fn.trigger&&b(X).trigger("ready").unbind("ready")}}},bindReady:function(){if(!s){s=b._Deferred();if(X.readyState==="complete")return setTimeout(b.ready,
1);if(X.addEventListener){X.addEventListener("DOMContentLoaded",D,false);i.addEventListener("load",b.ready,false)}else if(X.attachEvent){X.attachEvent("onreadystatechange",D);i.attachEvent("onload",b.ready);var v=false;try{v=i.frameElement==null}catch(O){}X.documentElement.doScroll&&v&&a()}}},isFunction:function(v){return b.type(v)==="function"},isArray:Array.isArray||function(v){return b.type(v)==="array"},isWindow:function(v){return v&&typeof v=="object"&&"setInterval"in v},isNaN:function(v){return v==
null||!q.test(v)||isNaN(v)},type:function(v){return v==null?String(v):Na[H.call(v)]||"object"},isPlainObject:function(v){if(!v||b.type(v)!=="object"||v.nodeType||b.isWindow(v))return false;if(v.constructor&&!B.call(v,"constructor")&&!B.call(v.constructor.prototype,"isPrototypeOf"))return false;var O;for(O in v);return O===h||B.call(v,O)},isEmptyObject:function(v){for(var O in v)return false;return true},error:function(v){throw v;},parseJSON:function(v){if(typeof v!="string"||!v)return null;v=b.trim(v);
if(i.JSON&&i.JSON.parse)return i.JSON.parse(v);if(W.test(v.replace(ia,"@").replace(ma,"]").replace(pa,"")))return(new Function("return "+v))();b.error("Invalid JSON: "+v)},parseXML:function(v,O,Y){i.DOMParser?(Y=new DOMParser,O=Y.parseFromString(v,"text/xml")):(O=new ActiveXObject("Microsoft.XMLDOM"),O.async="false",O.loadXML(v));Y=O.documentElement;(!Y||!Y.nodeName||Y.nodeName==="parsererror")&&b.error("Invalid XML: "+v);return O},noop:function(){},globalEval:function(v){v&&k.test(v)&&(i.execScript||
function(O){i.eval.call(i,O)})(v)},nodeName:function(v,O){return v.nodeName&&v.nodeName.toUpperCase()===O.toUpperCase()},each:function(v,O,Y){var L,xa=0,ua=v.length,qa=ua===h||b.isFunction(v);if(Y)if(qa)for(L in v){if(O.apply(v[L],Y)===false)break}else for(;xa<ua;){if(O.apply(v[xa++],Y)===false)break}else if(qa)for(L in v){if(O.call(v[L],L,v[L])===false)break}else for(;xa<ua;)if(O.call(v[xa],xa,v[xa++])===false)break;return v},trim:aa?function(v){return v==null?"":aa.call(v)}:function(v){return v==
null?"":(v+"").replace(n,"").replace(r,"")},makeArray:function(v,O){var Y=O||[];if(v!=null){var L=b.type(v);v.length==null||L==="string"||L==="function"||L==="regexp"||b.isWindow(v)?I.call(Y,v):b.merge(Y,v)}return Y},inArray:function(v,O){if(wa)return wa.call(O,v);for(var Y=0,L=O.length;Y<L;Y++)if(O[Y]===v)return Y;return-1},merge:function(v,O){var Y=v.length,L=0;if(typeof O.length=="number")for(var xa=O.length;L<xa;L++)v[Y++]=O[L];else for(;O[L]!==h;)v[Y++]=O[L++];v.length=Y;return v},grep:function(v,
O,Y){var L=[],xa;Y=!!Y;for(var ua=0,qa=v.length;ua<qa;ua++){xa=!!O(v[ua],ua);Y!==xa&&L.push(v[ua])}return L},map:function(v,O,Y){var L,xa,ua=[],qa=0,Ca=v.length;if(v instanceof b||Ca!==h&&typeof Ca=="number"&&(Ca>0&&v[0]&&v[Ca-1]||Ca===0||b.isArray(v)))for(;qa<Ca;qa++){L=O(v[qa],qa,Y);L!=null&&(ua[ua.length]=L)}else for(xa in v){L=O(v[xa],xa,Y);L!=null&&(ua[ua.length]=L)}return ua.concat.apply([],ua)},guid:1,proxy:function(v,O){if(typeof O=="string"){var Y=v[O];O=v;v=Y}if(!b.isFunction(v))return h;
var L=R.call(arguments,2);Y=function(){return v.apply(O,L.concat(R.call(arguments)))};Y.guid=v.guid=v.guid||Y.guid||b.guid++;return Y},access:function(v,O,Y,L,xa,ua){var qa=v.length;if(typeof O=="object"){for(var Ca in O)b.access(v,Ca,O[Ca],L,xa,Y);return v}if(Y!==h){L=!ua&&L&&b.isFunction(Y);for(Ca=0;Ca<qa;Ca++)xa(v[Ca],O,L?Y.call(v[Ca],Ca,xa(v[Ca],O)):Y,ua);return v}return qa?xa(v[0],O):h},now:function(){return(new Date).getTime()},uaMatch:function(v){v=v.toLowerCase();v=Fa.exec(v)||ya.exec(v)||
Ga.exec(v)||v.indexOf("compatible")<0&&Ra.exec(v)||[];return{browser:v[1]||"",version:v[2]||"0"}},sub:function(){function v(Y,L){return new v.fn.init(Y,L)}b.extend(true,v,this);v.superclass=this;v.fn=v.prototype=this();v.fn.constructor=v;v.sub=this.sub;v.fn.init=function(Y,L){L&&L instanceof b&&!(L instanceof v)&&(L=v(L));return b.fn.init.call(this,Y,L,O)};v.fn.init.prototype=v.fn;var O=v(X);return v},browser:{}});b.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(v,
O){Na["[object "+O+"]"]=O.toLowerCase()});m=b.uaMatch(m);m.browser&&(b.browser[m.browser]=true,b.browser.version=m.version);b.browser.webkit&&(b.browser.safari=true);k.test("\u00a0")&&(n=/^[\s\xA0]+/,r=/[\s\xA0]+$/);f=b(X);X.addEventListener?(D=function(){X.removeEventListener("DOMContentLoaded",D,false);b.ready()}):X.attachEvent&&(D=function(){X.readyState==="complete"&&(X.detachEvent("onreadystatechange",D),b.ready())});return b}(),A="done fail isResolved isRejected promise then always pipe".split(" "),
J=[].slice;c.extend({_Deferred:function(){var a=[],b,d,e,f={done:function(){if(!e){var g=arguments,k,n,r,q,y;b&&(y=b,b=0);k=0;for(n=g.length;k<n;k++){r=g[k];q=c.type(r);q==="array"?f.done.apply(f,r):q==="function"&&a.push(r)}y&&f.resolveWith(y[0],y[1])}return this},resolveWith:function(g,k){if(!e&&!b&&!d){k=k||[];d=1;try{for(;a[0];)a.shift().apply(g,k)}finally{b=[g,k];d=0}}return this},resolve:function(){f.resolveWith(this,arguments);return this},isResolved:function(){return!!d||!!b},cancel:function(){e=
1;a=[];return this}};return f},Deferred:function(a){var b=c._Deferred(),d=c._Deferred(),e;c.extend(b,{then:function(f,g){b.done(f).fail(g);return this},always:function(){return b.done.apply(b,arguments).fail.apply(this,arguments)},fail:d.done,rejectWith:d.resolveWith,reject:d.resolve,isRejected:d.isResolved,pipe:function(f,g){return c.Deferred(function(k){c.each({done:[f,"resolve"],fail:[g,"reject"]},function(n,r){var q=r[0],y=r[1],W;c.isFunction(q)?b[n](function(){(W=q.apply(this,arguments))&&c.isFunction(W.promise)?
W.promise().then(k.resolve,k.reject):k[y](W)}):b[n](k[y])})}).promise()},promise:function(f){if(f==null){if(e)return e;e=f={}}for(var g=A.length;g--;)f[A[g]]=b[A[g]];return f}});b.done(d.cancel).fail(b.cancel);delete b.cancel;a&&a.call(b,b);return b},when:function(a){function b(n){return function(r){d[n]=arguments.length>1?J.call(arguments,0):r;--g||k.resolveWith(k,J.call(d,0))}}var d=arguments,e=0,f=d.length,g=f,k=f<=1&&a&&c.isFunction(a.promise)?a:c.Deferred();if(f>1){for(;e<f;e++)d[e]&&c.isFunction(d[e].promise)?
d[e].promise().then(b(e),k.reject):--g;g||k.resolveWith(k,d)}else k!==a&&k.resolveWith(k,f?[a]:[]);return k.promise()}});c.support=function(){var a=X.createElement("div"),b=X.documentElement,d,e,f,g,k,n,r;a.setAttribute("className","t");a.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>";d=a.getElementsByTagName("*");e=a.getElementsByTagName("a")[0];if(!d||!d.length||!e)return{};f=X.createElement("select");g=f.appendChild(X.createElement("option"));
d=a.getElementsByTagName("input")[0];n={leadingWhitespace:a.firstChild.nodeType===3,tbody:!a.getElementsByTagName("tbody").length,htmlSerialize:!!a.getElementsByTagName("link").length,style:/top/.test(e.getAttribute("style")),hrefNormalized:e.getAttribute("href")==="/a",opacity:/^0.55$/.test(e.style.opacity),cssFloat:!!e.style.cssFloat,checkOn:d.value==="on",optSelected:g.selected,getSetAttribute:a.className!=="t",submitBubbles:true,changeBubbles:true,focusinBubbles:false,deleteExpando:true,noCloneEvent:true,
inlineBlockNeedsLayout:false,shrinkWrapBlocks:false,reliableMarginRight:true};d.checked=true;n.noCloneChecked=d.cloneNode(true).checked;f.disabled=true;n.optDisabled=!g.disabled;try{delete a.test}catch(q){n.deleteExpando=false}!a.addEventListener&&a.attachEvent&&a.fireEvent&&(a.attachEvent("onclick",function y(){n.noCloneEvent=false;a.detachEvent("onclick",y)}),a.cloneNode(true).fireEvent("onclick"));d=X.createElement("input");d.value="t";d.setAttribute("type","radio");n.radioValue=d.value==="t";
d.setAttribute("checked","checked");a.appendChild(d);e=X.createDocumentFragment();e.appendChild(a.firstChild);n.checkClone=e.cloneNode(true).cloneNode(true).lastChild.checked;a.innerHTML="";a.style.width=a.style.paddingLeft="1px";e=X.createElement("body");f={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};for(r in f)e.style[r]=f[r];e.appendChild(a);b.insertBefore(e,b.firstChild);n.appendChecked=d.checked;n.boxModel=a.offsetWidth===2;"zoom"in a.style&&(a.style.display="inline",
a.style.zoom=1,n.inlineBlockNeedsLayout=a.offsetWidth===2,a.style.display="",a.innerHTML="<div style='width:4px;'></div>",n.shrinkWrapBlocks=a.offsetWidth!==2);a.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>";f=a.getElementsByTagName("td");d=f[0].offsetHeight===0;f[0].style.display="";f[1].style.display="none";n.reliableHiddenOffsets=d&&f[0].offsetHeight===0;a.innerHTML="";X.defaultView&&X.defaultView.getComputedStyle&&(k=X.createElement("div"),k.style.width=
"0",k.style.marginRight="0",a.appendChild(k),n.reliableMarginRight=(parseInt((X.defaultView.getComputedStyle(k,null)||{marginRight:0}).marginRight,10)||0)===0);e.innerHTML="";b.removeChild(e);if(a.attachEvent)for(r in{submit:1,change:1,focusin:1}){b="on"+r;(d=b in a)||(a.setAttribute(b,"return;"),d=typeof a[b]=="function");n[r+"Bubbles"]=d}return n}();c.boxModel=c.support.boxModel;var K=/^(?:\{.*\}|\[.*\])$/,Q=/([a-z])([A-Z])/g;c.extend({cache:{},uuid:0,expando:"jQuery"+(c.fn.jquery+Math.random()).replace(/\D/g,
""),noData:{embed:true,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:true},hasData:function(a){a=a.nodeType?c.cache[a[c.expando]]:a[c.expando];return!!a&&!La(a)},data:function(a,b,d,e){if(c.acceptData(a)){var f=c.expando,g=typeof b=="string",k=a.nodeType,n=k?c.cache:a,r=k?a[c.expando]:a[c.expando]&&c.expando;if(!((!r||e&&r&&!n[r][f])&&g&&d===h)){r||(k?(a[c.expando]=r=++c.uuid):(r=c.expando));n[r]||(n[r]={},k||(n[r].toJSON=c.noop));if(typeof b=="object"||typeof b=="function")e?(n[r][f]=
c.extend(n[r][f],b)):(n[r]=c.extend(n[r],b));a=n[r];e&&(a[f]||(a[f]={}),a=a[f]);d!==h&&(a[c.camelCase(b)]=d);if(b==="events"&&!a[b])return a[f]&&a[f].events;return g?a[c.camelCase(b)]:a}}},removeData:function(a,b,d){if(c.acceptData(a)){var e=c.expando,f=a.nodeType,g=f?c.cache:a,k=f?a[c.expando]:c.expando;if(g[k]){if(b){var n=d?g[k][e]:g[k];if(n){delete n[b];if(!La(n))return}}if(d){delete g[k][e];if(!La(g[k]))return}b=g[k][e];c.support.deleteExpando||g!=i?delete g[k]:(g[k]=null);b?(g[k]={},f||(g[k].toJSON=
c.noop),g[k][e]=b):f&&(c.support.deleteExpando?delete a[c.expando]:a.removeAttribute?a.removeAttribute(c.expando):(a[c.expando]=null))}}},_data:function(a,b,d){return c.data(a,b,d,true)},acceptData:function(a){if(a.nodeName){var b=c.noData[a.nodeName.toLowerCase()];if(b)return b!==true&&a.getAttribute("classid")===b}return true}});c.fn.extend({data:function(a,b){var d=null;if(typeof a=="undefined"){if(this.length){d=c.data(this[0]);if(this[0].nodeType===1)for(var e=this[0].attributes,f,g=0,k=e.length;g<
k;g++){f=e[g].name;f.indexOf("data-")===0&&(f=c.camelCase(f.substring(5)),Va(this[0],f,d[f]))}}return d}if(typeof a=="object")return this.each(function(){c.data(this,a)});var n=a.split(".");n[1]=n[1]?"."+n[1]:"";if(b===h){d=this.triggerHandler("getData"+n[1]+"!",[n[0]]);d===h&&this.length&&(d=c.data(this[0],a),d=Va(this[0],a,d));return d===h&&n[1]?this.data(n[0]):d}return this.each(function(){var r=c(this),q=[n[0],b];r.triggerHandler("setData"+n[1]+"!",q);c.data(this,a,b);r.triggerHandler("changeData"+
n[1]+"!",q)})},removeData:function(a){return this.each(function(){c.removeData(this,a)})}});c.extend({_mark:function(a,b){a&&(b=(b||"fx")+"mark",c.data(a,b,(c.data(a,b,h,true)||0)+1,true))},_unmark:function(a,b,d){a!==true&&(d=b,b=a,a=false);if(b){d=d||"fx";var e=d+"mark";(a=a?0:(c.data(b,e,h,true)||1)-1)?c.data(b,e,a,true):(c.removeData(b,e,true),Aa(b,d,"mark"))}},queue:function(a,b,d){if(a){b=(b||"fx")+"queue";var e=c.data(a,b,h,true);d&&(!e||c.isArray(d)?(e=c.data(a,b,c.makeArray(d),true)):e.push(d));
return e||[]}},dequeue:function(a,b){b=b||"fx";var d=c.queue(a,b),e=d.shift();e==="inprogress"&&(e=d.shift());e&&(b==="fx"&&d.unshift("inprogress"),e.call(a,function(){c.dequeue(a,b)}));d.length||(c.removeData(a,b+"queue",true),Aa(a,b,"queue"))}});c.fn.extend({queue:function(a,b){typeof a!="string"&&(b=a,a="fx");if(b===h)return c.queue(this[0],a);return this.each(function(){var d=c.queue(this,a,b);a==="fx"&&d[0]!=="inprogress"&&c.dequeue(this,a)})},dequeue:function(a){return this.each(function(){c.dequeue(this,
a)})},delay:function(a,b){a=c.fx?c.fx.speeds[a]||a:a;b=b||"fx";return this.queue(b,function(){var d=this;setTimeout(function(){c.dequeue(d,b)},a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){function d(){--k||e.resolveWith(f,[f])}typeof a!="string"&&(b=a,a=h);a=a||"fx";for(var e=c.Deferred(),f=this,g=f.length,k=1,n=a+"defer",r=a+"queue",q=a+"mark",y;g--;)if(y=c.data(f[g],n,h,true)||(c.data(f[g],r,h,true)||c.data(f[g],q,h,true))&&c.data(f[g],n,c._Deferred(),true)){k++;
y.done(d)}d();return e.promise()}});var ha=/[\n\t\r]/g,ga=/\s+/,za=/\r/g,Ea=/^(?:button|input)$/i,ta=/^(?:button|input|object|select|textarea)$/i,Ja=/^a(?:rea)?$/i,F=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,ca=/\:/,Z,da;c.fn.extend({attr:function(a,b){return c.access(this,a,b,true,c.attr)},removeAttr:function(a){return this.each(function(){c.removeAttr(this,a)})},prop:function(a,b){return c.access(this,a,b,true,c.prop)},
removeProp:function(a){a=c.propFix[a]||a;return this.each(function(){try{this[a]=h;delete this[a]}catch(b){}})},addClass:function(a){if(c.isFunction(a))return this.each(function(q){var y=c(this);y.addClass(a.call(this,q,y.attr("class")||""))});if(a&&typeof a=="string")for(var b=(a||"").split(ga),d=0,e=this.length;d<e;d++){var f=this[d];if(f.nodeType===1)if(f.className){for(var g=" "+f.className+" ",k=f.className,n=0,r=b.length;n<r;n++)g.indexOf(" "+b[n]+" ")<0&&(k+=" "+b[n]);f.className=c.trim(k)}else f.className=
a}return this},removeClass:function(a){if(c.isFunction(a))return this.each(function(r){var q=c(this);q.removeClass(a.call(this,r,q.attr("class")))});if(a&&typeof a=="string"||a===h)for(var b=(a||"").split(ga),d=0,e=this.length;d<e;d++){var f=this[d];if(f.nodeType===1&&f.className)if(a){for(var g=(" "+f.className+" ").replace(ha," "),k=0,n=b.length;k<n;k++)g=g.replace(" "+b[k]+" "," ");f.className=c.trim(g)}else f.className=""}return this},toggleClass:function(a,b){var d=typeof a,e=typeof b=="boolean";
if(c.isFunction(a))return this.each(function(f){var g=c(this);g.toggleClass(a.call(this,f,g.attr("class"),b),b)});return this.each(function(){if(d==="string")for(var f,g=0,k=c(this),n=b,r=a.split(ga);f=r[g++];){n=e?n:!k.hasClass(f);k[n?"addClass":"removeClass"](f)}else if(d==="undefined"||d==="boolean"){this.className&&c._data(this,"__className__",this.className);this.className=this.className||a===false?"":c._data(this,"__className__")||""}})},hasClass:function(a){for(var b=0,d=this.length;b<d;b++)if((" "+
this[b].className+" ").replace(ha," ").indexOf(" "+a+" ")>-1)return true;return false},val:function(a){var b,d,e=this[0];if(!arguments.length){if(e){if((b=c.valHooks[e.nodeName.toLowerCase()]||c.valHooks[e.type])&&"get"in b&&(d=b.get(e,"value"))!==h)return d;return(e.value||"").replace(za,"")}return h}var f=c.isFunction(a);return this.each(function(g){var k=c(this),n;if(this.nodeType===1){f?(n=a.call(this,g,k.val())):(n=a);n==null?(n=""):typeof n=="number"?(n+=""):c.isArray(n)&&(n=c.map(n,function(r){return r==
null?"":r+""}));b=c.valHooks[this.nodeName.toLowerCase()]||c.valHooks[this.type];if(!b||!("set"in b)||b.set(this,n,"value")===h)this.value=n}})}});c.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){var b,d=a.selectedIndex,e=[],f=a.options;a=a.type==="select-one";if(d<0)return null;for(var g=a?d:0,k=a?d+1:f.length;g<k;g++){b=f[g];if(b.selected&&(c.support.optDisabled?!b.disabled:b.getAttribute("disabled")===null)&&(!b.parentNode.disabled||
!c.nodeName(b.parentNode,"optgroup"))){b=c(b).val();if(a)return b;e.push(b)}}if(a&&!e.length&&f.length)return c(f[d]).val();return e},set:function(a,b){var d=c.makeArray(b);c(a).find("option").each(function(){this.selected=c.inArray(c(this).val(),d)>=0});d.length||(a.selectedIndex=-1);return d}}},attrFn:{val:true,css:true,html:true,text:true,data:true,width:true,height:true,offset:true},attrFix:{tabindex:"tabIndex"},attr:function(a,b,d,e){var f=a.nodeType;if(!a||f===3||f===8||f===2)return h;if(e&&
b in c.attrFn)return c(a)[b](d);if(!("getAttribute"in a))return c.prop(a,b,d);var g;b=(f=f!==1||!c.isXMLDoc(a))&&c.attrFix[b]||b;(e=c.attrHooks[b])||(!F.test(b)||typeof d!="boolean"&&d!==h&&d.toLowerCase()!==b.toLowerCase()?Z&&(c.nodeName(a,"form")||ca.test(b))&&(e=Z):(e=da));if(d!==h){if(d===null){c.removeAttr(a,b);return h}if(e&&"set"in e&&f&&(g=e.set(a,d,b))!==h)return g;a.setAttribute(b,""+d);return d}if(e&&"get"in e&&f)return e.get(a,b);g=a.getAttribute(b);return g===null?h:g},removeAttr:function(a,
b){var d;a.nodeType===1&&(b=c.attrFix[b]||b,c.support.getSetAttribute?a.removeAttribute(b):(c.attr(a,b,""),a.removeAttributeNode(a.getAttributeNode(b))),F.test(b)&&(d=c.propFix[b]||b)in a&&(a[d]=false))},attrHooks:{type:{set:function(a,b){if(Ea.test(a.nodeName)&&a.parentNode)c.error("type property can't be changed");else if(!c.support.radioValue&&b==="radio"&&c.nodeName(a,"input")){var d=a.value;a.setAttribute("type",b);d&&(a.value=d);return b}}},tabIndex:{get:function(a){var b=a.getAttributeNode("tabIndex");
return b&&b.specified?parseInt(b.value,10):ta.test(a.nodeName)||Ja.test(a.nodeName)&&a.href?0:h}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,b,d){var e=a.nodeType;if(!a||e===3||e===8||e===2)return h;var f;b=(e!==1||!c.isXMLDoc(a))&&c.propFix[b]||b;e=c.propHooks[b];
return d!==h?e&&"set"in e&&(f=e.set(a,d,b))!==h?f:(a[b]=d):e&&"get"in e&&(f=e.get(a,b))!==h?f:a[b]},propHooks:{}});da={get:function(a,b){return a[c.propFix[b]||b]?b.toLowerCase():h},set:function(a,b,d){var e;b===false?c.removeAttr(a,d):(e=c.propFix[d]||d,e in a&&(a[e]=b),a.setAttribute(d,d.toLowerCase()));return d}};c.attrHooks.value={get:function(a,b){if(Z&&c.nodeName(a,"button"))return Z.get(a,b);return a.value},set:function(a,b,d){if(Z&&c.nodeName(a,"button"))return Z.set(a,b,d);a.value=b}};c.support.getSetAttribute||
(c.attrFix=c.propFix,Z=c.attrHooks.name=c.valHooks.button={get:function(a,b){var d;return(d=a.getAttributeNode(b))&&d.nodeValue!==""?d.nodeValue:h},set:function(a,b,d){if(a=a.getAttributeNode(d))return a.nodeValue=b}},c.each(["width","height"],function(a,b){c.attrHooks[b]=c.extend(c.attrHooks[b],{set:function(d,e){if(e===""){d.setAttribute(b,"auto");return e}}})}));c.support.hrefNormalized||c.each(["href","src","width","height"],function(a,b){c.attrHooks[b]=c.extend(c.attrHooks[b],{get:function(d){d=
d.getAttribute(b,2);return d===null?h:d}})});c.support.style||(c.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||h},set:function(a,b){return a.style.cssText=""+b}});c.support.optSelected||(c.propHooks.selected=c.extend(c.propHooks.selected,{get:function(){}}));c.support.checkOn||c.each(["radio","checkbox"],function(){c.valHooks[this]={get:function(a){return a.getAttribute("value")===null?"on":a.value}}});c.each(["radio","checkbox"],function(){c.valHooks[this]=c.extend(c.valHooks[this],
{set:function(a,b){if(c.isArray(b))return a.checked=c.inArray(c(a).val(),b)>=0}})});var ra=/\.(.*)$/,sa=/^(?:textarea|input|select)$/i,Ia=/\./g,fb=/ /g,kb=/[^\w\s.|`]/g,zb=function(a){return a.replace(kb,"\\$&")};c.event={add:function(a,b,d,e){if(a.nodeType!==3&&a.nodeType!==8){if(d===false)d=fa;else if(!d)return;var f,g;d.handler&&(f=d,d=f.handler);d.guid||(d.guid=c.guid++);if(g=c._data(a)){var k=g.events,n=g.handle;k||(g.events=k={});n||(g.handle=n=function(ma){return typeof c!="undefined"&&(!ma||
c.event.triggered!==ma.type)?c.event.handle.apply(n.elem,arguments):h});n.elem=a;b=b.split(" ");for(var r,q=0,y;r=b[q++];){g=f?c.extend({},f):{handler:d,data:e};r.indexOf(".")>-1?(y=r.split("."),r=y.shift(),g.namespace=y.slice(0).sort().join(".")):(y=[],g.namespace="");g.type=r;g.guid||(g.guid=d.guid);var W=k[r],ia=c.event.special[r]||{};if(!W){W=k[r]=[];if(!ia.setup||ia.setup.call(a,e,y,n)===false)a.addEventListener?a.addEventListener(r,n,false):a.attachEvent&&a.attachEvent("on"+r,n)}ia.add&&(ia.add.call(a,
g),g.handler.guid||(g.handler.guid=d.guid));W.push(g);c.event.global[r]=true}a=null}}},global:{},remove:function(a,b,d,e){if(a.nodeType!==3&&a.nodeType!==8){d===false&&(d=fa);var f,g,k=0,n,r,q,y,W,ia,ma=c.hasData(a)&&c._data(a),pa=ma&&ma.events;if(ma&&pa){b&&b.type&&(d=b.handler,b=b.type);if(!b||typeof b=="string"&&b.charAt(0)===".")for(f in pa)c.event.remove(a,f+(b||""));else{for(b=b.split(" ");f=b[k++];){y=f;n=f.indexOf(".")<0;r=[];n||(r=f.split("."),f=r.shift(),q=new RegExp("(^|\\.)"+c.map(r.slice(0).sort(),
zb).join("\\.(?:.*\\.)?")+"(\\.|$)"));if(W=pa[f])if(d){y=c.event.special[f]||{};for(g=e||0;g<W.length;g++){ia=W[g];if(d.guid===ia.guid){if(n||q.test(ia.namespace)){e==null&&W.splice(g--,1);y.remove&&y.remove.call(a,ia)}if(e!=null)break}}if(W.length===0||e!=null&&W.length===1){(!y.teardown||y.teardown.call(a,r)===false)&&c.removeEvent(a,f,ma.handle);delete pa[f]}}else for(g=0;g<W.length;g++){ia=W[g];if(n||q.test(ia.namespace)){c.event.remove(a,y,ia.handler,g);W.splice(g--,1)}}}if(c.isEmptyObject(pa)){(b=
ma.handle)&&(b.elem=null);delete ma.events;delete ma.handle;c.isEmptyObject(ma)&&c.removeData(a,h,true)}}}}},customEvent:{getData:true,setData:true,changeData:true},trigger:function(a,b,d,e){var f=a.type||a,g=[],k;f.indexOf("!")>=0&&(f=f.slice(0,-1),k=true);f.indexOf(".")>=0&&(g=f.split("."),f=g.shift(),g.sort());if(d&&!c.event.customEvent[f]||c.event.global[f]){a=typeof a=="object"?a[c.expando]?a:new c.Event(f,a):new c.Event(f);a.type=f;a.exclusive=k;a.namespace=g.join(".");a.namespace_re=new RegExp("(^|\\.)"+
g.join("\\.(?:.*\\.)?")+"(\\.|$)");if(e||!d){a.preventDefault();a.stopPropagation()}if(d){if(!(d.nodeType===3||d.nodeType===8)){a.result=h;a.target=d;b=b?c.makeArray(b):[];b.unshift(a);g=d;e=f.indexOf(":")<0?"on"+f:"";do{k=c._data(g,"handle");a.currentTarget=g;k&&k.apply(g,b);e&&c.acceptData(g)&&g[e]&&g[e].apply(g,b)===false&&(a.result=false,a.preventDefault());g=g.parentNode||g.ownerDocument||g===a.target.ownerDocument&&i}while(g&&!a.isPropagationStopped());if(!a.isDefaultPrevented()){var n;g=c.event.special[f]||
{};if((!g._default||g._default.call(d.ownerDocument,a)===false)&&(f!=="click"||!c.nodeName(d,"a"))&&c.acceptData(d)){try{e&&d[f]&&(n=d[e],n&&(d[e]=null),c.event.triggered=f,d[f]())}catch(r){}n&&(d[e]=n);c.event.triggered=h}}return a.result}}else c.each(c.cache,function(){var q=this[c.expando];q&&q.events&&q.events[f]&&c.event.trigger(a,b,q.handle.elem)})}},handle:function(a){a=c.event.fix(a||i.event);var b=((c._data(this,"events")||{})[a.type]||[]).slice(0),d=!a.exclusive&&!a.namespace,e=Array.prototype.slice.call(arguments,
0);e[0]=a;a.currentTarget=this;for(var f=0,g=b.length;f<g;f++){var k=b[f];if(d||a.namespace_re.test(k.namespace)){a.handler=k.handler;a.data=k.data;a.handleObj=k;k=k.handler.apply(this,e);k!==h&&(a.result=k,k===false&&(a.preventDefault(),a.stopPropagation()));if(a.isImmediatePropagationStopped())break}}return a.result},props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),
fix:function(a){if(a[c.expando])return a;var b=a;a=c.Event(b);for(var d=this.props.length,e;d;){e=this.props[--d];a[e]=b[e]}a.target||(a.target=a.srcElement||X);a.target.nodeType===3&&(a.target=a.target.parentNode);!a.relatedTarget&&a.fromElement&&(a.relatedTarget=a.fromElement===a.target?a.toElement:a.fromElement);if(a.pageX==null&&a.clientX!=null){d=a.target.ownerDocument||X;b=d.documentElement;d=d.body;a.pageX=a.clientX+(b&&b.scrollLeft||d&&d.scrollLeft||0)-(b&&b.clientLeft||d&&d.clientLeft||0);
a.pageY=a.clientY+(b&&b.scrollTop||d&&d.scrollTop||0)-(b&&b.clientTop||d&&d.clientTop||0)}a.which==null&&(a.charCode!=null||a.keyCode!=null)&&(a.which=a.charCode!=null?a.charCode:a.keyCode);!a.metaKey&&a.ctrlKey&&(a.metaKey=a.ctrlKey);!a.which&&a.button!==h&&(a.which=a.button&1?1:a.button&2?3:a.button&4?2:0);return a},guid:1E8,proxy:c.proxy,special:{ready:{setup:c.bindReady,teardown:c.noop},live:{add:function(a){c.event.add(this,ba(a.origType,a.selector),c.extend({},a,{handler:na,guid:a.handler.guid}))},
remove:function(a){c.event.remove(this,ba(a.origType,a.selector),a)}},beforeunload:{setup:function(a,b,d){c.isWindow(this)&&(this.onbeforeunload=d)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}}};c.removeEvent=X.removeEventListener?function(a,b,d){a.removeEventListener&&a.removeEventListener(b,d,false)}:function(a,b,d){a.detachEvent&&a.detachEvent("on"+b,d)};c.Event=function(a,b){if(!this.preventDefault)return new c.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=
a.type,this.isDefaultPrevented=a.defaultPrevented||a.returnValue===false||a.getPreventDefault&&a.getPreventDefault()?ea:fa):(this.type=a);b&&c.extend(this,b);this.timeStamp=c.now();this[c.expando]=true};c.Event.prototype={preventDefault:function(){this.isDefaultPrevented=ea;var a=this.originalEvent;!a||(a.preventDefault?a.preventDefault():(a.returnValue=false))},stopPropagation:function(){this.isPropagationStopped=ea;var a=this.originalEvent;!a||(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=
true)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=ea;this.stopPropagation()},isDefaultPrevented:fa,isPropagationStopped:fa,isImmediatePropagationStopped:fa};var Pb=function(a){var b=a.relatedTarget;a.type=a.data;try{if(!(b&&b!==X&&!b.parentNode)){for(;b&&b!==this;)b=b.parentNode;b!==this&&c.event.handle.apply(this,arguments)}}catch(d){}},Qb=function(a){a.type=a.data;c.event.handle.apply(this,arguments)};c.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){c.event.special[a]=
{setup:function(d){c.event.add(this,b,d&&d.selector?Qb:Pb,a)},teardown:function(d){c.event.remove(this,b,d&&d.selector?Qb:Pb)}}});c.support.submitBubbles||(c.event.special.submit={setup:function(){if(c.nodeName(this,"form"))return false;else{c.event.add(this,"click.specialSubmit",function(a){var b=a.target,d=b.type;(d==="submit"||d==="image")&&c(b).closest("form").length&&V("submit",this,arguments)});c.event.add(this,"keypress.specialSubmit",function(a){var b=a.target,d=b.type;(d==="text"||d==="password")&&
c(b).closest("form").length&&a.keyCode===13&&V("submit",this,arguments)})}},teardown:function(){c.event.remove(this,".specialSubmit")}});if(!c.support.changeBubbles){var lb,Ab=function(a){var b=a.type,d=a.value;b==="radio"||b==="checkbox"?(d=a.checked):b==="select-multiple"?(d=a.selectedIndex>-1?c.map(a.options,function(e){return e.selected}).join("-"):""):c.nodeName(a,"select")&&(d=a.selectedIndex);return d},Bb=function(a,b){var d=a.target,e,f;if(sa.test(d.nodeName)&&!d.readOnly){e=c._data(d,"_change_data");
f=Ab(d);(a.type!=="focusout"||d.type!=="radio")&&c._data(d,"_change_data",f);if(!(e===h||f===e))if(e!=null||f){a.type="change";a.liveFired=h;c.event.trigger(a,b,d)}}};c.event.special.change={filters:{focusout:Bb,beforedeactivate:Bb,click:function(a){var b=a.target,d=c.nodeName(b,"input")?b.type:"";(d==="radio"||d==="checkbox"||c.nodeName(b,"select"))&&Bb.call(this,a)},keydown:function(a){var b=a.target,d=c.nodeName(b,"input")?b.type:"";(a.keyCode===13&&!c.nodeName(b,"textarea")||a.keyCode===32&&(d===
"checkbox"||d==="radio")||d==="select-multiple")&&Bb.call(this,a)},beforeactivate:function(a){a=a.target;c._data(a,"_change_data",Ab(a))}},setup:function(){if(this.type==="file")return false;for(var a in lb)c.event.add(this,a+".specialChange",lb[a]);return sa.test(this.nodeName)},teardown:function(){c.event.remove(this,".specialChange");return sa.test(this.nodeName)}};lb=c.event.special.change.filters;lb.focus=lb.beforeactivate}c.support.focusinBubbles||c.each({focus:"focusin",blur:"focusout"},function(a,
b){function d(f){var g=c.event.fix(f);g.type=b;g.originalEvent={};c.event.trigger(g,null,g.target);g.isDefaultPrevented()&&f.preventDefault()}var e=0;c.event.special[b]={setup:function(){e++===0&&X.addEventListener(a,d,true)},teardown:function(){--e===0&&X.removeEventListener(a,d,true)}}});c.each(["bind","one"],function(a,b){c.fn[b]=function(d,e,f){var g;if(typeof d=="object"){for(var k in d)this[b](k,e,d[k],f);return this}if(arguments.length===2||e===false){f=e;e=h}b==="one"?(g=function(r){c(this).unbind(r,
g);return f.apply(this,arguments)},g.guid=f.guid||c.guid++):(g=f);if(d==="unload"&&b!=="one")this.one(d,e,f);else{k=0;for(var n=this.length;k<n;k++)c.event.add(this[k],d,g,e)}return this}});c.fn.extend({unbind:function(a,b){if(typeof a=="object"&&!a.preventDefault)for(var d in a)this.unbind(d,a[d]);else{d=0;for(var e=this.length;d<e;d++)c.event.remove(this[d],a,b)}return this},delegate:function(a,b,d,e){return this.live(b,d,e,a)},undelegate:function(a,b,d){return arguments.length===0?this.unbind("live"):
this.die(b,null,d,a)},trigger:function(a,b){return this.each(function(){c.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0])return c.event.trigger(a,b,this[0],true)},toggle:function(a){var b=arguments,d=a.guid||c.guid++,e=0,f=function(g){var k=(c.data(this,"lastToggle"+a.guid)||0)%e;c.data(this,"lastToggle"+a.guid,k+1);g.preventDefault();return b[k].apply(this,arguments)||false};for(f.guid=d;e<b.length;)b[e++].guid=d;return this.click(f)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||
a)}});var nb={focus:"focusin",blur:"focusout",mouseenter:"mouseover",mouseleave:"mouseout"};c.each(["live","die"],function(a,b){c.fn[b]=function(d,e,f,g){var k=0,n,r,q=g||this.selector,y=g?this:c(this.context);if(typeof d=="object"&&!d.preventDefault){for(n in d)y[b](n,e,d[n],q);return this}if(b==="die"&&!d&&g&&g.charAt(0)==="."){y.unbind(g);return this}if(e===false||c.isFunction(e)){f=e||fa;e=h}for(d=(d||"").split(" ");(g=d[k++])!=null;){n=ra.exec(g);r="";n&&(r=n[0],g=g.replace(ra,""));if(g==="hover")d.push("mouseenter"+
r,"mouseleave"+r);else{n=g;nb[g]?(d.push(nb[g]+r),g+=r):(g=(nb[g]||g)+r);if(b==="live"){r=0;for(var W=y.length;r<W;r++)c.event.add(y[r],"live."+ba(g,q),{data:e,selector:q,handler:f,origType:g,origHandler:f,preType:n})}else y.unbind("live."+ba(g,q),f)}}return this}});c.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error".split(" "),function(a,b){c.fn[b]=function(d,
e){e==null&&(e=d,d=null);return arguments.length>0?this.bind(b,d,e):this.trigger(b)};c.attrFn&&(c.attrFn[b]=true)});(function(){function a(m,s,D,H,B,I){B=0;for(var R=H.length;B<R;B++){var aa=H[B];if(aa){var wa=false;for(aa=aa[m];aa;){if(aa.sizcache===D){wa=H[aa.sizset];break}if(aa.nodeType===1){I||(aa.sizcache=D,aa.sizset=B);if(typeof s!="string"){if(aa===s){wa=true;break}}else if(q.filter(s,[aa]).length>0){wa=aa;break}}aa=aa[m]}H[B]=wa}}}function b(m,s,D,H,B,I){B=0;for(var R=H.length;B<R;B++){var aa=
H[B];if(aa){var wa=false;for(aa=aa[m];aa;){if(aa.sizcache===D){wa=H[aa.sizset];break}aa.nodeType===1&&!I&&(aa.sizcache=D,aa.sizset=B);if(aa.nodeName.toLowerCase()===s){wa=aa;break}aa=aa[m]}H[B]=wa}}}var d=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,e=0,f=Object.prototype.toString,g=false,k=true,n=/\\/g,r=/\W/;[0,0].sort(function(){k=false;return 0});var q=function(m,s,D,H){D=D||[];var B=s=s||X;if(s.nodeType!==
1&&s.nodeType!==9)return[];if(!m||typeof m!="string")return D;var I,R,aa,wa,Na,v,O=true,Y=q.isXML(s),L=[],xa=m;do{d.exec("");if(I=d.exec(xa)){xa=I[3];L.push(I[1]);if(I[2]){wa=I[3];break}}}while(I);if(L.length>1&&W.exec(m))if(L.length===2&&y.relative[L[0]])R=Ra(L[0]+L[1],s);else for(R=y.relative[L[0]]?[s]:q(L.shift(),s);L.length;){m=L.shift();y.relative[m]&&(m+=L.shift());R=Ra(m,R)}else{!H&&L.length>1&&s.nodeType===9&&!Y&&y.match.ID.test(L[0])&&!y.match.ID.test(L[L.length-1])&&(Na=q.find(L.shift(),
s,Y),s=Na.expr?q.filter(Na.expr,Na.set)[0]:Na.set[0]);if(s){Na=H?{expr:L.pop(),set:pa(H)}:q.find(L.pop(),L.length===1&&(L[0]==="~"||L[0]==="+")&&s.parentNode?s.parentNode:s,Y);R=Na.expr?q.filter(Na.expr,Na.set):Na.set;for(L.length>0?(aa=pa(R)):(O=false);L.length;){I=v=L.pop();y.relative[v]?(I=L.pop()):(v="");I==null&&(I=s);y.relative[v](aa,I,Y)}}else aa=[]}aa||(aa=R);aa||q.error(v||m);if(f.call(aa)==="[object Array]")if(O)if(s&&s.nodeType===1)for(m=0;aa[m]!=null;m++)aa[m]&&(aa[m]===true||aa[m].nodeType===
1&&q.contains(s,aa[m]))&&D.push(R[m]);else for(m=0;aa[m]!=null;m++)aa[m]&&aa[m].nodeType===1&&D.push(R[m]);else D.push.apply(D,aa);else pa(aa,D);wa&&(q(wa,B,D,H),q.uniqueSort(D));return D};q.uniqueSort=function(m){if(ya){g=k;m.sort(ya);if(g)for(var s=1;s<m.length;s++)m[s]===m[s-1]&&m.splice(s--,1)}return m};q.matches=function(m,s){return q(m,null,null,s)};q.matchesSelector=function(m,s){return q(s,null,null,[m]).length>0};q.find=function(m,s,D){var H;if(!m)return[];for(var B=0,I=y.order.length;B<
I;B++){var R,aa=y.order[B];if(R=y.leftMatch[aa].exec(m)){var wa=R[1];R.splice(1,1);if(wa.substr(wa.length-1)!=="\\"){R[1]=(R[1]||"").replace(n,"");H=y.find[aa](R,s,D);if(H!=null){m=m.replace(y.match[aa],"");break}}}}H||(H=typeof s.getElementsByTagName!="undefined"?s.getElementsByTagName("*"):[]);return{set:H,expr:m}};q.filter=function(m,s,D,H){for(var B,I,R=m,aa=[],wa=s,Na=s&&s[0]&&q.isXML(s[0]);m&&s.length;){for(var v in y.filter)if((B=y.leftMatch[v].exec(m))!=null&&B[2]){var O,Y,L=y.filter[v];Y=
B[1];I=false;B.splice(1,1);if(Y.substr(Y.length-1)!=="\\"){wa===aa&&(aa=[]);if(y.preFilter[v])if(B=y.preFilter[v](B,wa,D,aa,H,Na)){if(B===true)continue}else I=O=true;if(B)for(var xa=0;(Y=wa[xa])!=null;xa++)if(Y){O=L(Y,B,xa,wa);var ua=H^!!O;D&&O!=null?ua?(I=true):(wa[xa]=false):ua&&(aa.push(Y),I=true)}if(O!==h){D||(wa=aa);m=m.replace(y.match[v],"");if(!I)return[];break}}}if(m===R)if(I==null)q.error(m);else break;R=m}return wa};q.error=function(m){throw"Syntax error, unrecognized expression: "+m;};
var y=q.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,
PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(m){return m.getAttribute("href")},type:function(m){return m.getAttribute("type")}},relative:{"+":function(m,s){var D=typeof s=="string",H=D&&!r.test(s);D=D&&!H;H&&(s=s.toLowerCase());H=0;for(var B=m.length,I;H<B;H++)if(I=m[H]){for(;(I=I.previousSibling)&&I.nodeType!==1;);m[H]=D||I&&I.nodeName.toLowerCase()===s?I||false:I===s}D&&
q.filter(s,m,true)},">":function(m,s){var D,H=typeof s=="string",B=0,I=m.length;if(H&&!r.test(s))for(s=s.toLowerCase();B<I;B++){if(D=m[B]){D=D.parentNode;m[B]=D.nodeName.toLowerCase()===s?D:false}}else{for(;B<I;B++)(D=m[B])&&(m[B]=H?D.parentNode:D.parentNode===s);H&&q.filter(s,m,true)}},"":function(m,s,D){var H,B=e++,I=a;typeof s=="string"&&!r.test(s)&&(s=s.toLowerCase(),H=s,I=b);I("parentNode",s,B,m,H,D)},"~":function(m,s,D){var H,B=e++,I=a;typeof s=="string"&&!r.test(s)&&(s=s.toLowerCase(),H=s,
I=b);I("previousSibling",s,B,m,H,D)}},find:{ID:function(m,s,D){if(typeof s.getElementById!="undefined"&&!D)return(m=s.getElementById(m[1]))&&m.parentNode?[m]:[]},NAME:function(m,s){if(typeof s.getElementsByName!="undefined"){for(var D=[],H=s.getElementsByName(m[1]),B=0,I=H.length;B<I;B++)H[B].getAttribute("name")===m[1]&&D.push(H[B]);return D.length===0?null:D}},TAG:function(m,s){if(typeof s.getElementsByTagName!="undefined")return s.getElementsByTagName(m[1])}},preFilter:{CLASS:function(m,s,D,H,
B,I){m=" "+m[1].replace(n,"")+" ";if(I)return m;I=0;for(var R;(R=s[I])!=null;I++)R&&(B^(R.className&&(" "+R.className+" ").replace(/[\t\n\r]/g," ").indexOf(m)>=0)?D||H.push(R):D&&(s[I]=false));return false},ID:function(m){return m[1].replace(n,"")},TAG:function(m){return m[1].replace(n,"").toLowerCase()},CHILD:function(m){if(m[1]==="nth"){m[2]||q.error(m[0]);m[2]=m[2].replace(/^\+|\s*/g,"");var s=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(m[2]==="even"&&"2n"||m[2]==="odd"&&"2n+1"||!/\D/.test(m[2])&&"0n+"+
m[2]||m[2]);m[2]=s[1]+(s[2]||1)-0;m[3]=s[3]-0}else m[2]&&q.error(m[0]);m[0]=e++;return m},ATTR:function(m,s,D,H,B,I){s=m[1]=m[1].replace(n,"");!I&&y.attrMap[s]&&(m[1]=y.attrMap[s]);m[4]=(m[4]||m[5]||"").replace(n,"");m[2]==="~="&&(m[4]=" "+m[4]+" ");return m},PSEUDO:function(m,s,D,H,B){if(m[1]==="not")if((d.exec(m[3])||"").length>1||/^\w/.test(m[3]))m[3]=q(m[3],null,null,s);else{m=q.filter(m[3],s,D,true^B);D||H.push.apply(H,m);return false}else if(y.match.POS.test(m[0])||y.match.CHILD.test(m[0]))return true;
return m},POS:function(m){m.unshift(true);return m}},filters:{enabled:function(m){return m.disabled===false&&m.type!=="hidden"},disabled:function(m){return m.disabled===true},checked:function(m){return m.checked===true},selected:function(m){return m.selected===true},parent:function(m){return!!m.firstChild},empty:function(m){return!m.firstChild},has:function(m,s,D){return!!q(D[3],m).length},header:function(m){return/h\d/i.test(m.nodeName)},text:function(m){var s=m.getAttribute("type"),D=m.type;return m.nodeName.toLowerCase()===
"input"&&"text"===D&&(s===D||s===null)},radio:function(m){return m.nodeName.toLowerCase()==="input"&&"radio"===m.type},checkbox:function(m){return m.nodeName.toLowerCase()==="input"&&"checkbox"===m.type},file:function(m){return m.nodeName.toLowerCase()==="input"&&"file"===m.type},password:function(m){return m.nodeName.toLowerCase()==="input"&&"password"===m.type},submit:function(m){var s=m.nodeName.toLowerCase();return(s==="input"||s==="button")&&"submit"===m.type},image:function(m){return m.nodeName.toLowerCase()===
"input"&&"image"===m.type},reset:function(m){var s=m.nodeName.toLowerCase();return(s==="input"||s==="button")&&"reset"===m.type},button:function(m){var s=m.nodeName.toLowerCase();return s==="input"&&"button"===m.type||s==="button"},input:function(m){return/input|select|textarea|button/i.test(m.nodeName)},focus:function(m){return m===m.ownerDocument.activeElement}},setFilters:{first:function(m,s){return s===0},last:function(m,s,D,H){return s===H.length-1},even:function(m,s){return s%2===0},odd:function(m,
s){return s%2===1},lt:function(m,s,D){return s<D[3]-0},gt:function(m,s,D){return s>D[3]-0},nth:function(m,s,D){return D[3]-0===s},eq:function(m,s,D){return D[3]-0===s}},filter:{PSEUDO:function(m,s,D,H){var B=s[1],I=y.filters[B];if(I)return I(m,D,s,H);if(B==="contains")return(m.textContent||m.innerText||q.getText([m])||"").indexOf(s[3])>=0;if(B==="not"){s=s[3];D=0;for(H=s.length;D<H;D++)if(s[D]===m)return false;return true}q.error(B)},CHILD:function(m,s){var D=s[1],H=m;switch(D){case "only":case "first":for(;H=
H.previousSibling;)if(H.nodeType===1)return false;if(D==="first")return true;H=m;case "last":for(;H=H.nextSibling;)if(H.nodeType===1)return false;return true;case "nth":D=s[2];var B=s[3];if(D===1&&B===0)return true;var I=s[0],R=m.parentNode;if(R&&(R.sizcache!==I||!m.nodeIndex)){var aa=0;for(H=R.firstChild;H;H=H.nextSibling)H.nodeType===1&&(H.nodeIndex=++aa);R.sizcache=I}H=m.nodeIndex-B;return D===0?H===0:H%D===0&&H/D>=0}},ID:function(m,s){return m.nodeType===1&&m.getAttribute("id")===s},TAG:function(m,
s){return s==="*"&&m.nodeType===1||m.nodeName.toLowerCase()===s},CLASS:function(m,s){return(" "+(m.className||m.getAttribute("class"))+" ").indexOf(s)>-1},ATTR:function(m,s){var D=s[1];D=y.attrHandle[D]?y.attrHandle[D](m):m[D]!=null?m[D]:m.getAttribute(D);var H=D+"",B=s[2],I=s[4];return D==null?B==="!=":B==="="?H===I:B==="*="?H.indexOf(I)>=0:B==="~="?(" "+H+" ").indexOf(I)>=0:I?B==="!="?H!==I:B==="^="?H.indexOf(I)===0:B==="$="?H.substr(H.length-I.length)===I:B==="|="?H===I||H.substr(0,I.length+1)===
I+"-":false:H&&D!==false},POS:function(m,s,D,H){var B=y.setFilters[s[2]];if(B)return B(m,D,s,H)}}},W=y.match.POS,ia=function(m,s){return"\\"+(s-0+1)};for(var ma in y.match){y.match[ma]=new RegExp(y.match[ma].source+/(?![^\[]*\])(?![^\(]*\))/.source);y.leftMatch[ma]=new RegExp(/(^(?:.|\r|\n)*?)/.source+y.match[ma].source.replace(/\\(\d+)/g,ia))}var pa=function(m,s){m=Array.prototype.slice.call(m,0);if(s){s.push.apply(s,m);return s}return m};try{Array.prototype.slice.call(X.documentElement.childNodes,
0)}catch(Fa){pa=function(m,s){var D=0,H=s||[];if(f.call(m)==="[object Array]")Array.prototype.push.apply(H,m);else if(typeof m.length=="number")for(var B=m.length;D<B;D++)H.push(m[D]);else for(;m[D];D++)H.push(m[D]);return H}}var ya,Ga;X.documentElement.compareDocumentPosition?(ya=function(m,s){if(m===s){g=true;return 0}if(!m.compareDocumentPosition||!s.compareDocumentPosition)return m.compareDocumentPosition?-1:1;return m.compareDocumentPosition(s)&4?-1:1}):(ya=function(m,s){if(m===s){g=true;return 0}if(m.sourceIndex&&
s.sourceIndex)return m.sourceIndex-s.sourceIndex;var D,H,B=[],I=[];D=m.parentNode;H=s.parentNode;var R=D;if(D===H)return Ga(m,s);if(!D)return-1;if(!H)return 1;for(;R;){B.unshift(R);R=R.parentNode}for(R=H;R;){I.unshift(R);R=R.parentNode}D=B.length;H=I.length;for(R=0;R<D&&R<H;R++)if(B[R]!==I[R])return Ga(B[R],I[R]);return R===D?Ga(m,I[R],-1):Ga(B[R],s,1)},Ga=function(m,s,D){if(m===s)return D;for(m=m.nextSibling;m;){if(m===s)return-1;m=m.nextSibling}return 1});q.getText=function(m){for(var s="",D,H=
0;m[H];H++){D=m[H];D.nodeType===3||D.nodeType===4?(s+=D.nodeValue):D.nodeType!==8&&(s+=q.getText(D.childNodes))}return s};(function(){var m=X.createElement("div"),s="script"+(new Date).getTime(),D=X.documentElement;m.innerHTML="<a name='"+s+"'/>";D.insertBefore(m,D.firstChild);X.getElementById(s)&&(y.find.ID=function(H,B,I){if(typeof B.getElementById!="undefined"&&!I)return(B=B.getElementById(H[1]))?B.id===H[1]||typeof B.getAttributeNode!="undefined"&&B.getAttributeNode("id").nodeValue===H[1]?[B]:
h:[]},y.filter.ID=function(H,B){var I=typeof H.getAttributeNode!="undefined"&&H.getAttributeNode("id");return H.nodeType===1&&I&&I.nodeValue===B});D.removeChild(m);D=m=null})();(function(){var m=X.createElement("div");m.appendChild(X.createComment(""));m.getElementsByTagName("*").length>0&&(y.find.TAG=function(s,D){var H=D.getElementsByTagName(s[1]);if(s[1]==="*"){for(var B=[],I=0;H[I];I++)H[I].nodeType===1&&B.push(H[I]);H=B}return H});m.innerHTML="<a href='#'></a>";m.firstChild&&typeof m.firstChild.getAttribute!=
"undefined"&&m.firstChild.getAttribute("href")!=="#"&&(y.attrHandle.href=function(s){return s.getAttribute("href",2)});m=null})();X.querySelectorAll&&function(){var m=q,s=X.createElement("div");s.innerHTML="<p class='TEST'></p>";if(!s.querySelectorAll||s.querySelectorAll(".TEST").length!==0){q=function(H,B,I,R){B=B||X;if(!R&&!q.isXML(B)){var aa=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(H);if(aa&&(B.nodeType===1||B.nodeType===9)){if(aa[1])return pa(B.getElementsByTagName(H),I);if(aa[2]&&y.find.CLASS&&
B.getElementsByClassName)return pa(B.getElementsByClassName(aa[2]),I)}if(B.nodeType===9){if(H==="body"&&B.body)return pa([B.body],I);if(aa&&aa[3]){var wa=B.getElementById(aa[3]);if(!wa||!wa.parentNode)return pa([],I);if(wa.id===aa[3])return pa([wa],I)}try{return pa(B.querySelectorAll(H),I)}catch(Na){}}else if(B.nodeType===1&&B.nodeName.toLowerCase()!=="object"){aa=B;var v=(wa=B.getAttribute("id"))||"__sizzle__",O=B.parentNode,Y=/^\s*[+~]/.test(H);wa?(v=v.replace(/'/g,"\\$&")):B.setAttribute("id",
v);Y&&O&&(B=B.parentNode);try{if(!Y||O)return pa(B.querySelectorAll("[id='"+v+"'] "+H),I)}catch(L){}finally{wa||aa.removeAttribute("id")}}}return m(H,B,I,R)};for(var D in m)q[D]=m[D];s=null}}();(function(){var m=X.documentElement,s=m.matchesSelector||m.mozMatchesSelector||m.webkitMatchesSelector||m.msMatchesSelector;if(s){var D=!s.call(X.createElement("div"),"div"),H=false;try{s.call(X.documentElement,"[test!='']:sizzle")}catch(B){H=true}q.matchesSelector=function(I,R){R=R.replace(/\=\s*([^'"\]]*)\s*\]/g,
"='$1']");if(!q.isXML(I))try{if(H||!y.match.PSEUDO.test(R)&&!/!=/.test(R)){var aa=s.call(I,R);if(aa||!D||I.document&&I.document.nodeType!==11)return aa}}catch(wa){}return q(R,null,null,[I]).length>0}}})();(function(){var m=X.createElement("div");m.innerHTML="<div class='test e'></div><div class='test'></div>";if(m.getElementsByClassName&&m.getElementsByClassName("e").length!==0){m.lastChild.className="e";if(m.getElementsByClassName("e").length!==1){y.order.splice(1,0,"CLASS");y.find.CLASS=function(s,
D,H){if(typeof D.getElementsByClassName!="undefined"&&!H)return D.getElementsByClassName(s[1])};m=null}}})();X.documentElement.contains?(q.contains=function(m,s){return m!==s&&(m.contains?m.contains(s):true)}):X.documentElement.compareDocumentPosition?(q.contains=function(m,s){return!!(m.compareDocumentPosition(s)&16)}):(q.contains=function(){return false});q.isXML=function(m){return(m=(m?m.ownerDocument||m:0).documentElement)?m.nodeName!=="HTML":false};var Ra=function(m,s){for(var D,H=[],B="",I=
s.nodeType?[s]:s;D=y.match.PSEUDO.exec(m);){B+=D[0];m=m.replace(y.match.PSEUDO,"")}m=y.relative[m]?m+"*":m;D=0;for(var R=I.length;D<R;D++)q(m,I[D],H);return q.filter(B,H)};c.find=q;c.expr=q.selectors;c.expr[":"]=c.expr.filters;c.unique=q.uniqueSort;c.text=q.getText;c.isXMLDoc=q.isXML;c.contains=q.contains})();var sb=/Until$/,tb=/^(?:parents|prevUntil|prevAll)/,ub=/,/,Ha=/^.[^:#\[\.,]*$/,mc=Array.prototype.slice,ob=c.expr.match.POS,ec={children:true,contents:true,next:true,prev:true};c.fn.extend({find:function(a){var b=
this,d,e;if(typeof a!="string")return c(a).filter(function(){d=0;for(e=b.length;d<e;d++)if(c.contains(b[d],this))return true});var f=this.pushStack("","find",a),g,k,n;d=0;for(e=this.length;d<e;d++){g=f.length;c.find(a,this[d],f);if(d>0)for(k=g;k<f.length;k++)for(n=0;n<g;n++)if(f[n]===f[k]){f.splice(k--,1);break}}return f},has:function(a){var b=c(a);return this.filter(function(){for(var d=0,e=b.length;d<e;d++)if(c.contains(this,b[d]))return true})},not:function(a){return this.pushStack(E(this,a,false),
"not",a)},filter:function(a){return this.pushStack(E(this,a,true),"filter",a)},is:function(a){return!!a&&(typeof a=="string"?c.filter(a,this).length>0:this.filter(a).length>0)},closest:function(a,b){var d=[],e,f,g=this[0];if(c.isArray(a)){var k,n={},r=1;if(g&&a.length){e=0;for(f=a.length;e<f;e++){k=a[e];n[k]||(n[k]=ob.test(k)?c(k,b||this.context):k)}for(;g&&g.ownerDocument&&g!==b;){for(k in n){e=n[k];(e.jquery?e.index(g)>-1:c(g).is(e))&&d.push({selector:k,elem:g,level:r})}g=g.parentNode;r++}}return d}k=
ob.test(a)||typeof a!="string"?c(a,b||this.context):0;e=0;for(f=this.length;e<f;e++)for(g=this[e];g;){if(k?k.index(g)>-1:c.find.matchesSelector(g,a)){d.push(g);break}g=g.parentNode;if(!g||!g.ownerDocument||g===b||g.nodeType===11)break}d=d.length>1?c.unique(d):d;return this.pushStack(d,"closest",a)},index:function(a){if(!a||typeof a=="string")return c.inArray(this[0],a?c(a):this.parent().children());return c.inArray(a.jquery?a[0]:a,this)},add:function(a,b){var d=typeof a=="string"?c(a,b):c.makeArray(a&&
a.nodeType?[a]:a),e=c.merge(this.get(),d);return this.pushStack(!d[0]||!d[0].parentNode||d[0].parentNode.nodeType===11||!e[0]||!e[0].parentNode||e[0].parentNode.nodeType===11?e:c.unique(e))},andSelf:function(){return this.add(this.prevObject)}});c.each({parent:function(a){return(a=a.parentNode)&&a.nodeType!==11?a:null},parents:function(a){return c.dir(a,"parentNode")},parentsUntil:function(a,b,d){return c.dir(a,"parentNode",d)},next:function(a){return c.nth(a,2,"nextSibling")},prev:function(a){return c.nth(a,
2,"previousSibling")},nextAll:function(a){return c.dir(a,"nextSibling")},prevAll:function(a){return c.dir(a,"previousSibling")},nextUntil:function(a,b,d){return c.dir(a,"nextSibling",d)},prevUntil:function(a,b,d){return c.dir(a,"previousSibling",d)},siblings:function(a){return c.sibling(a.parentNode.firstChild,a)},children:function(a){return c.sibling(a.firstChild)},contents:function(a){return c.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:c.makeArray(a.childNodes)}},function(a,
b){c.fn[a]=function(d,e){var f=c.map(this,b,d),g=mc.call(arguments);sb.test(a)||(e=d);e&&typeof e=="string"&&(f=c.filter(e,f));f=this.length>1&&!ec[a]?c.unique(f):f;(this.length>1||ub.test(e))&&tb.test(a)&&(f=f.reverse());return this.pushStack(f,a,g.join(","))}});c.extend({filter:function(a,b,d){d&&(a=":not("+a+")");return b.length===1?c.find.matchesSelector(b[0],a)?[b[0]]:[]:c.find.matches(a,b)},dir:function(a,b,d){var e=[];for(a=a[b];a&&a.nodeType!==9&&(d===h||a.nodeType!==1||!c(a).is(d));){a.nodeType===
1&&e.push(a);a=a[b]}return e},nth:function(a,b,d){for(var e=0;a;a=a[d])if(a.nodeType===1&&++e===(b||1))break;return a},sibling:function(a,b){for(var d=[];a;a=a.nextSibling)a.nodeType===1&&a!==b&&d.push(a);return d}});var Rb=/ jQuery\d+="(?:\d+|null)"/g,Ib=/^\s+/,Sb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,Tb=/<([\w:]+)/,Ub=/<tbody/i,fc=/<|&#?\w+;/,$a=/<(?:script|object|embed|option|style)/i,pb=/checked\s*(?:[^=]|=\s*.checked.)/i,gc=/\/(java|ecma)script/i,dc=/^\s*<!(?:\[CDATA\[|\-\-)/,
Wa={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};Wa.optgroup=Wa.option;Wa.tbody=Wa.tfoot=Wa.colgroup=Wa.caption=Wa.thead;Wa.th=Wa.td;c.support.htmlSerialize||(Wa._default=[1,"div<div>","</div>"]);c.fn.extend({text:function(a){if(c.isFunction(a))return this.each(function(b){var d=
c(this);d.text(a.call(this,b,d.text()))});if(typeof a!="object"&&a!==h)return this.empty().append((this[0]&&this[0].ownerDocument||X).createTextNode(a));return c.text(this)},wrapAll:function(a){if(c.isFunction(a))return this.each(function(d){c(this).wrapAll(a.call(this,d))});if(this[0]){var b=c(a,this[0].ownerDocument).eq(0).clone(true);this[0].parentNode&&b.insertBefore(this[0]);b.map(function(){for(var d=this;d.firstChild&&d.firstChild.nodeType===1;)d=d.firstChild;return d}).append(this)}return this},
wrapInner:function(a){if(c.isFunction(a))return this.each(function(b){c(this).wrapInner(a.call(this,b))});return this.each(function(){var b=c(this),d=b.contents();d.length?d.wrapAll(a):b.append(a)})},wrap:function(a){return this.each(function(){c(this).wrapAll(a)})},unwrap:function(){return this.parent().each(function(){c.nodeName(this,"body")||c(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,true,function(a){this.nodeType===1&&this.appendChild(a)})},
prepend:function(){return this.domManip(arguments,true,function(a){this.nodeType===1&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,false,function(b){this.parentNode.insertBefore(b,this)});if(arguments.length){var a=c(arguments[0]);a.push.apply(a,this.toArray());return this.pushStack(a,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,false,function(b){this.parentNode.insertBefore(b,
this.nextSibling)});if(arguments.length){var a=this.pushStack(this,"after",arguments);a.push.apply(a,c(arguments[0]).toArray());return a}},remove:function(a,b){for(var d=0,e;(e=this[d])!=null;d++)if(!a||c.filter(a,[e]).length){!b&&e.nodeType===1&&(c.cleanData(e.getElementsByTagName("*")),c.cleanData([e]));e.parentNode&&e.parentNode.removeChild(e)}return this},empty:function(){for(var a=0,b;(b=this[a])!=null;a++)for(b.nodeType===1&&c.cleanData(b.getElementsByTagName("*"));b.firstChild;)b.removeChild(b.firstChild);
return this},clone:function(a,b){a=a==null?false:a;b=b==null?a:b;return this.map(function(){return c.clone(this,a,b)})},html:function(a){if(a===h)return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(Rb,""):null;if(typeof a=="string"&&!$a.test(a)&&(c.support.leadingWhitespace||!Ib.test(a))&&!Wa[(Tb.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Sb,"<$1></$2>");try{for(var b=0,d=this.length;b<d;b++)this[b].nodeType===1&&(c.cleanData(this[b].getElementsByTagName("*")),this[b].innerHTML=a)}catch(e){this.empty().append(a)}}else c.isFunction(a)?
this.each(function(f){var g=c(this);g.html(a.call(this,f,g.html()))}):this.empty().append(a);return this},replaceWith:function(a){if(this[0]&&this[0].parentNode){if(c.isFunction(a))return this.each(function(b){var d=c(this),e=d.html();d.replaceWith(a.call(this,b,e))});typeof a!="string"&&(a=c(a).detach());return this.each(function(){var b=this.nextSibling,d=this.parentNode;c(this).remove();b?c(b).before(a):c(d).append(a)})}return this.length?this.pushStack(c(c.isFunction(a)?a():a),"replaceWith",a):
this},detach:function(a){return this.remove(a,true)},domManip:function(a,b,d){var e,f,g,k=a[0],n=[];if(!c.support.checkClone&&arguments.length===3&&typeof k=="string"&&pb.test(k))return this.each(function(){c(this).domManip(a,b,d,true)});if(c.isFunction(k))return this.each(function(y){var W=c(this);a[0]=k.call(this,y,b?W.html():h);W.domManip(a,b,d)});if(this[0]){g=k&&k.parentNode;c.support.parentNode&&g&&g.nodeType===11&&g.childNodes.length===this.length?(e={fragment:g}):(e=c.buildFragment(a,this,
n));g=e.fragment;g.childNodes.length===1?(f=g=g.firstChild):(f=g.firstChild);if(f){b=b&&c.nodeName(f,"tr");f=0;for(var r=this.length,q=r-1;f<r;f++)d.call(b?c.nodeName(this[f],"table")?this[f].getElementsByTagName("tbody")[0]||this[f].appendChild(this[f].ownerDocument.createElement("tbody")):this[f]:this[f],e.cacheable||r>1&&f<q?c.clone(g,true,true):g)}n.length&&c.each(n,ja)}return this}});c.buildFragment=function(a,b,d){var e,f,g;b=b&&b[0]?b[0].ownerDocument||b[0]:X;a.length===1&&typeof a[0]=="string"&&
a[0].length<512&&b===X&&a[0].charAt(0)==="<"&&!$a.test(a[0])&&(c.support.checkClone||!pb.test(a[0]))&&(f=true,g=c.fragments[a[0]],g&&g!==1&&(e=g));e||(e=b.createDocumentFragment(),c.clean(a,b,e,d));f&&(c.fragments[a[0]]=g?e:1);return{fragment:e,cacheable:f}};c.fragments={};c.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){c.fn[a]=function(d){var e=[];d=c(d);var f=this.length===1&&this[0].parentNode;if(f&&f.nodeType===11&&
f.childNodes.length===1&&d.length===1){d[b](this[0]);return this}f=0;for(var g=d.length;f<g;f++){var k=(f>0?this.clone(true):this).get();c(d[f])[b](k);e=e.concat(k)}return this.pushStack(e,a,d.selector)}});c.extend({clone:function(a,b,d){var e=a.cloneNode(true),f,g,k;if((!c.support.noCloneEvent||!c.support.noCloneChecked)&&(a.nodeType===1||a.nodeType===11)&&!c.isXMLDoc(a)){p(a,e);f=l(a);g=l(e);for(k=0;f[k];++k)p(f[k],g[k])}if(b){w(a,e);if(d){f=l(a);g=l(e);for(k=0;f[k];++k)w(f[k],g[k])}}return e},
clean:function(a,b,d,e){b=b||X;typeof b.createElement=="undefined"&&(b=b.ownerDocument||b[0]&&b[0].ownerDocument||X);for(var f=[],g,k=0,n;(n=a[k])!=null;k++){typeof n=="number"&&(n+="");if(n){if(typeof n=="string")if(fc.test(n)){n=n.replace(Sb,"<$1></$2>");g=(Tb.exec(n)||["",""])[1].toLowerCase();var r=Wa[g]||Wa._default,q=r[0],y=b.createElement("div");for(y.innerHTML=r[1]+n+r[2];q--;)y=y.lastChild;if(!c.support.tbody){q=Ub.test(n);r=g==="table"&&!q?y.firstChild&&y.firstChild.childNodes:r[1]==="<table>"&&
!q?y.childNodes:[];for(g=r.length-1;g>=0;--g)c.nodeName(r[g],"tbody")&&!r[g].childNodes.length&&r[g].parentNode.removeChild(r[g])}!c.support.leadingWhitespace&&Ib.test(n)&&y.insertBefore(b.createTextNode(Ib.exec(n)[0]),y.firstChild);n=y.childNodes}else n=b.createTextNode(n);var W;if(!c.support.appendChecked)if(n[0]&&typeof(W=n.length)=="number")for(g=0;g<W;g++)oa(n[g]);else oa(n);n.nodeType?f.push(n):(f=c.merge(f,n))}}if(d){a=function(ia){return!ia.type||gc.test(ia.type)};for(k=0;f[k];k++)if(e&&c.nodeName(f[k],
"script")&&(!f[k].type||f[k].type.toLowerCase()==="text/javascript"))e.push(f[k].parentNode?f[k].parentNode.removeChild(f[k]):f[k]);else{if(f[k].nodeType===1){b=c.grep(f[k].getElementsByTagName("script"),a);f.splice.apply(f,[k+1,0].concat(b))}d.appendChild(f[k])}}return f},cleanData:function(a){for(var b,d,e=c.cache,f=c.expando,g=c.event.special,k=c.support.deleteExpando,n=0,r;(r=a[n])!=null;n++)if(!(r.nodeName&&c.noData[r.nodeName.toLowerCase()]))if(d=r[c.expando]){if((b=e[d]&&e[d][f])&&b.events){for(var q in b.events)g[q]?
c.event.remove(r,q):c.removeEvent(r,q,b.handle);b.handle&&(b.handle.elem=null)}k?delete r[c.expando]:r.removeAttribute&&r.removeAttribute(c.expando);delete e[d]}}});var Vb=/alpha\([^)]*\)/i,hc=/opacity=([^)]*)/,nc=/-([a-z])/ig,Wb=/([A-Z]|^ms)/g,Jb=/^-?\d+(?:px)?$/i,Xb=/^-?\d/,Ba=/^[+\-]=/,ic=/[^+\-\.\de]+/g,la={position:"absolute",visibility:"hidden",display:"block"},Ob=["Left","Right"],Gb=["Top","Bottom"],ab,va,gb,cb=function(a,b){return b.toUpperCase()};c.fn.css=function(a,b){if(arguments.length===
2&&b===h)return this;return c.access(this,a,b,true,function(d,e,f){return f!==h?c.style(d,e,f):c.css(d,e)})};c.extend({cssHooks:{opacity:{get:function(a,b){if(b){var d=ab(a,"opacity","opacity");return d===""?"1":d}return a.style.opacity}}},cssNumber:{zIndex:true,fontWeight:true,opacity:true,zoom:true,lineHeight:true,widows:true,orphans:true},cssProps:{"float":c.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,d,e){if(a&&a.nodeType!==3&&a.nodeType!==8&&a.style){var f,g=c.camelCase(b),k=
a.style,n=c.cssHooks[g];b=c.cssProps[g]||g;if(d===h){if(n&&"get"in n&&(f=n.get(a,false,e))!==h)return f;return k[b]}e=typeof d;if(!(e==="number"&&isNaN(d)||d==null)){e==="string"&&Ba.test(d)&&(d=+d.replace(ic,"")+parseFloat(c.css(a,b)));e==="number"&&!c.cssNumber[g]&&(d+="px");if(!n||!("set"in n)||(d=n.set(a,d))!==h)try{k[b]=d}catch(r){}}}},css:function(a,b,d){var e,f;b=c.camelCase(b);f=c.cssHooks[b];b=c.cssProps[b]||b;b==="cssFloat"&&(b="float");if(f&&"get"in f&&(e=f.get(a,true,d))!==h)return e;
if(ab)return ab(a,b)},swap:function(a,b,d){var e={};for(var f in b){e[f]=a.style[f];a.style[f]=b[f]}d.call(a);for(f in b)a.style[f]=e[f]},camelCase:function(a){return a.replace(nc,cb)}});c.curCSS=c.css;c.each(["height","width"],function(a,b){c.cssHooks[b]={get:function(d,e,f){var g;if(e){d.offsetWidth!==0?(g=T(d,b,f)):c.swap(d,la,function(){g=T(d,b,f)});if(g<=0){g=ab(d,b,b);g==="0px"&&gb&&(g=gb(d,b,b));if(g!=null)return g===""||g==="auto"?"0px":g}if(g<0||g==null){g=d.style[b];return g===""||g==="auto"?
"0px":g}return typeof g=="string"?g:g+"px"}},set:function(d,e){if(!Jb.test(e))return e;e=parseFloat(e);if(e>=0)return e+"px"}}});c.support.opacity||(c.cssHooks.opacity={get:function(a,b){return hc.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":b?"1":""},set:function(a,b){var d=a.style,e=a.currentStyle;d.zoom=1;var f=c.isNaN(b)?"":"alpha(opacity="+b*100+")";e=e&&e.filter||d.filter||"";d.filter=Vb.test(e)?e.replace(Vb,f):e+" "+f}});c(function(){c.support.reliableMarginRight||
(c.cssHooks.marginRight={get:function(a,b){var d;c.swap(a,{display:"inline-block"},function(){b?(d=ab(a,"margin-right","marginRight")):(d=a.style.marginRight)});return d}})});X.defaultView&&X.defaultView.getComputedStyle&&(va=function(a,b){var d,e;b=b.replace(Wb,"-$1").toLowerCase();if(!(e=a.ownerDocument.defaultView))return h;if(e=e.getComputedStyle(a,null)){d=e.getPropertyValue(b);d===""&&!c.contains(a.ownerDocument.documentElement,a)&&(d=c.style(a,b))}return d});X.documentElement.currentStyle&&
(gb=function(a,b){var d,e=a.currentStyle&&a.currentStyle[b],f=a.runtimeStyle&&a.runtimeStyle[b],g=a.style;!Jb.test(e)&&Xb.test(e)&&(d=g.left,f&&(a.runtimeStyle.left=a.currentStyle.left),g.left=b==="fontSize"?"1em":e||0,e=g.pixelLeft+"px",g.left=d,f&&(a.runtimeStyle.left=f));return e===""?"auto":e});ab=va||gb;c.expr&&c.expr.filters&&(c.expr.filters.hidden=function(a){var b=a.offsetHeight;return a.offsetWidth===0&&b===0||!c.support.reliableHiddenOffsets&&(a.style.display||c.css(a,"display"))==="none"},
c.expr.filters.visible=function(a){return!c.expr.filters.hidden(a)});var Yb=/%20/g,jb=/\[\]$/,Cb=/\r?\n/g,Zb=/#.*$/,Da=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,Xa=/^(?:color|date|datetime|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,qb=/^(?:GET|HEAD)$/,Sa=/^\/\//,Kb=/\?/,oc=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,$b=/^(?:select|textarea)/i,Ua=/\s+/,U=/([?&])_=[^&]*/,db=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,Ya=c.fn.load,bb={},P={},Ta,Za;try{Ta=S.href}catch(jc){Ta=
X.createElement("a");Ta.href="";Ta=Ta.href}Za=db.exec(Ta.toLowerCase())||[];c.fn.extend({load:function(a,b,d){if(typeof a!="string"&&Ya)return Ya.apply(this,arguments);if(!this.length)return this;var e=a.indexOf(" ");if(e>=0){var f=a.slice(e,a.length);a=a.slice(0,e)}e="GET";b&&(c.isFunction(b)?(d=b,b=h):typeof b=="object"&&(b=c.param(b,c.ajaxSettings.traditional),e="POST"));var g=this;c.ajax({url:a,type:e,dataType:"html",data:b,complete:function(k,n,r){r=k.responseText;k.isResolved()&&(k.done(function(q){r=
q}),g.html(f?c("<div>").append(r.replace(oc,"")).find(f):r));d&&g.each(d,[r,n,k])}});return this},serialize:function(){return c.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?c.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||$b.test(this.nodeName)||Xa.test(this.type))}).map(function(a,b){var d=c(this).val();return d==null?null:c.isArray(d)?c.map(d,function(e){return{name:b.name,value:e.replace(Cb,
"\r\n")}}):{name:b.name,value:d.replace(Cb,"\r\n")}}).get()}});c.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){c.fn[b]=function(d){return this.bind(b,d)}});c.each(["get","post"],function(a,b){c[b]=function(d,e,f,g){c.isFunction(e)&&(g=g||f,f=e,e=h);return c.ajax({type:b,url:d,data:e,success:f,dataType:g})}});c.extend({getScript:function(a,b){return c.get(a,h,b,"script")},getJSON:function(a,b,d){return c.get(a,b,d,"json")},ajaxSetup:function(a,b){b?
c.extend(true,a,c.ajaxSettings,b):(b=a,a=c.extend(true,c.ajaxSettings,b));for(var d in{context:1,url:1})d in b?(a[d]=b[d]):d in c.ajaxSettings&&(a[d]=c.ajaxSettings[d]);return a},ajaxSettings:{url:Ta,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|widget):$/.test(Za[1]),global:true,type:"GET",contentType:"application/x-www-form-urlencoded",processData:true,async:true,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":"*/*"},
contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":i.String,"text html":true,"text json":c.parseJSON,"text xml":c.parseXML}},ajaxPrefilter:M(bb),ajaxTransport:M(P),ajax:function(a,b){function d(B,I,R,aa){if(Ga!==2){Ga=2;Fa&&clearTimeout(Fa);pa=h;ia=aa||"";s.readyState=B?4:0;var wa,Na,v;if(R){aa=e;var O=s,Y=aa.contents,L=aa.dataTypes,xa=aa.responseFields,ua,qa,Ca,Hb;for(qa in xa)qa in R&&(O[xa[qa]]=R[qa]);for(;L[0]==="*";){L.shift();
ua===h&&(ua=aa.mimeType||O.getResponseHeader("content-type"))}if(ua)for(qa in Y)if(Y[qa]&&Y[qa].test(ua)){L.unshift(qa);break}if(L[0]in R)Ca=L[0];else{for(qa in R){if(!L[0]||aa.converters[qa+" "+L[0]]){Ca=qa;break}Hb||(Hb=qa)}Ca=Ca||Hb}if(Ca){Ca!==L[0]&&L.unshift(Ca);R=R[Ca]}else R=void 0}else R=h;R=R;if(B>=200&&B<300||B===304){if(e.ifModified){if(ua=s.getResponseHeader("Last-Modified"))c.lastModified[q]=ua;if(ua=s.getResponseHeader("Etag"))c.etag[q]=ua}if(B===304){I="notmodified";wa=true}else try{ua=
e;R=R;ua.dataFilter&&(R=ua.dataFilter(R,ua.dataType));var yb=ua.dataTypes;qa={};var ac,kc,qc=yb.length,lc,vb=yb[0],Lb,pc,wb,Db,Mb;for(ac=1;ac<qc;ac++){if(ac===1)for(kc in ua.converters)typeof kc=="string"&&(qa[kc.toLowerCase()]=ua.converters[kc]);Lb=vb;vb=yb[ac];if(vb==="*")vb=Lb;else if(Lb!=="*"&&Lb!==vb){pc=Lb+" "+vb;wb=qa[pc]||qa["* "+vb];if(!wb){Mb=h;for(Db in qa){lc=Db.split(" ");if(lc[0]===Lb||lc[0]==="*")if(Mb=qa[lc[1]+" "+vb]){Db=qa[Db];Db===true?(wb=Mb):Mb===true&&(wb=Db);break}}}!wb&&!Mb&&
c.error("No conversion from "+pc.replace(" "," to "));wb!==true&&(R=wb?wb(R):Mb(Db(R)))}}Na=R;I="success";wa=true}catch(rc){I="parsererror";v=rc}}else{v=I;if(!I||B){I="error";B<0&&(B=0)}}s.status=B;s.statusText=I;wa?k.resolveWith(f,[Na,I,s]):k.rejectWith(f,[s,I,v]);s.statusCode(r);r=h;Ra&&g.trigger("ajax"+(wa?"Success":"Error"),[s,e,wa?Na:v]);n.resolveWith(f,[s,I]);Ra&&(g.trigger("ajaxComplete",[s,e]),--c.active||c.event.trigger("ajaxStop"))}}typeof a=="object"&&(b=a,a=h);b=b||{};var e=c.ajaxSetup({},
b),f=e.context||e,g=f!==e&&(f.nodeType||f instanceof c)?c(f):c.event,k=c.Deferred(),n=c._Deferred(),r=e.statusCode||{},q,y={},W={},ia,ma,pa,Fa,ya,Ga=0,Ra,m,s={readyState:0,setRequestHeader:function(B,I){if(!Ga){var R=B.toLowerCase();B=W[R]=W[R]||B;y[B]=I}return this},getAllResponseHeaders:function(){return Ga===2?ia:null},getResponseHeader:function(B){var I;if(Ga===2){if(!ma)for(ma={};I=Da.exec(ia);)ma[I[1].toLowerCase()]=I[2];I=ma[B.toLowerCase()]}return I===h?null:I},overrideMimeType:function(B){Ga||
(e.mimeType=B);return this},abort:function(B){B=B||"abort";pa&&pa.abort(B);d(0,B);return this}};k.promise(s);s.success=s.done;s.error=s.fail;s.complete=n.done;s.statusCode=function(B){if(B){var I;if(Ga<2)for(I in B)r[I]=[r[I],B[I]];else{I=B[s.status];s.then(I,I)}}return this};e.url=((a||e.url)+"").replace(Zb,"").replace(Sa,Za[1]+"//");e.dataTypes=c.trim(e.dataType||"*").toLowerCase().split(Ua);e.crossDomain==null&&(ya=db.exec(e.url.toLowerCase()),e.crossDomain=!(!ya||ya[1]==Za[1]&&ya[2]==Za[2]&&(ya[3]||
(ya[1]==="http:"?80:443))==(Za[3]||(Za[1]==="http:"?80:443))));e.data&&e.processData&&typeof e.data!="string"&&(e.data=c.param(e.data,e.traditional));z(bb,e,b,s);if(Ga===2)return false;Ra=e.global;e.type=e.type.toUpperCase();e.hasContent=!qb.test(e.type);Ra&&c.active++===0&&c.event.trigger("ajaxStart");if(!e.hasContent){e.data&&(e.url+=(Kb.test(e.url)?"&":"?")+e.data);q=e.url;if(e.cache===false){ya=c.now();var D=e.url.replace(U,"$1_="+ya);e.url=D+(D===e.url?(Kb.test(e.url)?"&":"?")+"_="+ya:"")}}(e.data&&
e.hasContent&&e.contentType!==false||b.contentType)&&s.setRequestHeader("Content-Type",e.contentType);e.ifModified&&(q=q||e.url,c.lastModified[q]&&s.setRequestHeader("If-Modified-Since",c.lastModified[q]),c.etag[q]&&s.setRequestHeader("If-None-Match",c.etag[q]));s.setRequestHeader("Accept",e.dataTypes[0]&&e.accepts[e.dataTypes[0]]?e.accepts[e.dataTypes[0]]+(e.dataTypes[0]!=="*"?", */*; q=0.01":""):e.accepts["*"]);for(m in e.headers)s.setRequestHeader(m,e.headers[m]);if(e.beforeSend&&(e.beforeSend.call(f,
s,e)===false||Ga===2)){s.abort();return false}for(m in{success:1,error:1,complete:1})s[m](e[m]);if(pa=z(P,e,b,s)){s.readyState=1;Ra&&g.trigger("ajaxSend",[s,e]);e.async&&e.timeout>0&&(Fa=setTimeout(function(){s.abort("timeout")},e.timeout));try{Ga=1;pa.send(y,d)}catch(H){status<2?d(-1,H):c.error(H)}}else d(-1,"No Transport");return s},param:function(a,b){var d=[],e=function(g,k){k=c.isFunction(k)?k():k;d[d.length]=encodeURIComponent(g)+"="+encodeURIComponent(k)};b===h&&(b=c.ajaxSettings.traditional);
if(c.isArray(a)||a.jquery&&!c.isPlainObject(a))c.each(a,function(){e(this.name,this.value)});else for(var f in a)C(f,a[f],b,e);return d.join("&").replace(Yb,"+")}});c.extend({active:0,lastModified:{},etag:{}});var eb=c.now(),Oa=/(\=)\?(&|$)|\?\?/i;c.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return c.expando+"_"+eb++}});c.ajaxPrefilter("json jsonp",function(a,b,d){b=a.contentType==="application/x-www-form-urlencoded"&&typeof a.data=="string";if(a.dataTypes[0]==="jsonp"||a.jsonp!==false&&
(Oa.test(a.url)||b&&Oa.test(a.data))){var e,f=a.jsonpCallback=c.isFunction(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback,g=i[f],k=a.url,n=a.data,r="$1"+f+"$2";a.jsonp!==false&&(k=k.replace(Oa,r),a.url===k&&(b&&(n=n.replace(Oa,r)),a.data===n&&(k+=(/\?/.test(k)?"&":"?")+a.jsonp+"="+f)));a.url=k;a.data=n;i[f]=function(q){e=[q]};d.always(function(){i[f]=g;e&&c.isFunction(g)&&i[f](e[0])});a.converters["script json"]=function(){e||c.error(f+" was not called");return e[0]};a.dataTypes[0]="json";return"script"}});
c.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){c.globalEval(a);return a}}});c.ajaxPrefilter("script",function(a){a.cache===h&&(a.cache=false);a.crossDomain&&(a.type="GET",a.global=false)});c.ajaxTransport("script",function(a){if(a.crossDomain){var b,d=X.head||X.getElementsByTagName("head")[0]||X.documentElement;return{send:function(e,f){b=X.createElement("script");
b.async="async";a.scriptCharset&&(b.charset=a.scriptCharset);b.src=a.url;b.onload=b.onreadystatechange=function(g,k){if(k||!b.readyState||/loaded|complete/.test(b.readyState)){b.onload=b.onreadystatechange=null;d&&b.parentNode&&d.removeChild(b);b=h;k||f(200,"success")}};d.insertBefore(b,d.firstChild)},abort:function(){b&&b.onload(0,1)}}}});var Eb=i.ActiveXObject?function(){for(var a in hb)hb[a](0,1)}:false,mb=0,hb;c.ajaxSettings.xhr=i.ActiveXObject?function(){var a;if(!(a=!this.isLocal&&G()))a:{try{a=
new i.ActiveXObject("Microsoft.XMLHTTP");break a}catch(b){}a=void 0}return a}:G;(function(a){c.extend(c.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})})(c.ajaxSettings.xhr());c.support.ajax&&c.ajaxTransport(function(a){if(!a.crossDomain||c.support.cors){var b;return{send:function(d,e){var f=a.xhr(),g,k;a.username?f.open(a.type,a.url,a.async,a.username,a.password):f.open(a.type,a.url,a.async);if(a.xhrFields)for(k in a.xhrFields)f[k]=a.xhrFields[k];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType);
!a.crossDomain&&!d["X-Requested-With"]&&(d["X-Requested-With"]="XMLHttpRequest");try{for(k in d)f.setRequestHeader(k,d[k])}catch(n){}f.send(a.hasContent&&a.data||null);b=function(r,q){var y,W,ia,ma,pa;try{if(b&&(q||f.readyState===4)){b=h;g&&(f.onreadystatechange=c.noop,Eb&&delete hb[g]);if(q)f.readyState!==4&&f.abort();else{y=f.status;ia=f.getAllResponseHeaders();ma={};(pa=f.responseXML)&&pa.documentElement&&(ma.xml=pa);ma.text=f.responseText;try{W=f.statusText}catch(Fa){W=""}!y&&a.isLocal&&!a.crossDomain?
(y=ma.text?200:404):y===1223&&(y=204)}}}catch(ya){q||e(-1,ya)}ma&&e(y,W,ma,ia)};!a.async||f.readyState===4?b():(g=++mb,Eb&&(hb||(hb={},c(i).unload(Eb)),hb[g]=b),f.onreadystatechange=b)},abort:function(){b&&b(0,1)}}}});var Ka={},Ma,rb,Nb=/^(?:toggle|show|hide)$/,Pa=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,ib,xb=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],Qa,Fb=i.webkitRequestAnimationFrame||i.mozRequestAnimationFrame||
i.oRequestAnimationFrame;c.fn.extend({show:function(a,b,d){var e;if(a||a===0)return this.animate(t("show",3),a,b,d);b=0;for(d=this.length;b<d;b++){a=this[b];a.style&&(e=a.style.display,!c._data(a,"olddisplay")&&e==="none"&&(e=a.style.display=""),e===""&&c.css(a,"display")==="none"&&c._data(a,"olddisplay",o(a.nodeName)))}for(b=0;b<d;b++){a=this[b];if(a.style){e=a.style.display;if(e===""||e==="none")a.style.display=c._data(a,"olddisplay")||""}}return this},hide:function(a,b,d){if(a||a===0)return this.animate(t("hide",
3),a,b,d);a=0;for(b=this.length;a<b;a++)if(this[a].style){d=c.css(this[a],"display");d!=="none"&&!c._data(this[a],"olddisplay")&&c._data(this[a],"olddisplay",d)}for(a=0;a<b;a++)this[a].style&&(this[a].style.display="none");return this},_toggle:c.fn.toggle,toggle:function(a,b,d){var e=typeof a=="boolean";c.isFunction(a)&&c.isFunction(b)?this._toggle.apply(this,arguments):a==null||e?this.each(function(){var f=e?a:c(this).is(":hidden");c(this)[f?"show":"hide"]()}):this.animate(t("toggle",3),a,b,d);return this},
fadeTo:function(a,b,d,e){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:b},a,d,e)},animate:function(a,b,d,e){var f=c.speed(b,d,e);if(c.isEmptyObject(a))return this.each(f.complete,[false]);a=c.extend({},a);return this[f.queue===false?"each":"queue"](function(){f.queue===false&&c._mark(this);var g=c.extend({},f),k=this.nodeType===1,n=k&&c(this).is(":hidden"),r,q,y,W,ia,ma,pa,Fa;g.animatedProperties={};for(y in a){r=c.camelCase(y);y!==r&&(a[r]=a[y],delete a[y]);q=a[r];
c.isArray(q)?(g.animatedProperties[r]=q[1],q=a[r]=q[0]):(g.animatedProperties[r]=g.specialEasing&&g.specialEasing[r]||g.easing||"swing");if(q==="hide"&&n||q==="show"&&!n)return g.complete.call(this);k&&(r==="height"||r==="width")&&(g.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],c.css(this,"display")==="inline"&&c.css(this,"float")==="none"&&(c.support.inlineBlockNeedsLayout?(W=o(this.nodeName),W==="inline"?(this.style.display="inline-block"):(this.style.display="inline",
this.style.zoom=1)):(this.style.display="inline-block")))}g.overflow!=null&&(this.style.overflow="hidden");for(y in a){k=new c.fx(this,g,y);q=a[y];Nb.test(q)?k[q==="toggle"?n?"show":"hide":q]():(ia=Pa.exec(q),ma=k.cur(),ia?(pa=parseFloat(ia[2]),Fa=ia[3]||(c.cssNumber[y]?"":"px"),Fa!=="px"&&(c.style(this,y,(pa||1)+Fa),ma=(pa||1)/k.cur()*ma,c.style(this,y,ma+Fa)),ia[1]&&(pa=(ia[1]==="-="?-1:1)*pa+ma),k.custom(ma,pa,Fa)):k.custom(ma,q,""))}return true})},stop:function(a,b){a&&this.queue([]);this.each(function(){var d=
c.timers,e=d.length;for(b||c._unmark(true,this);e--;)d[e].elem===this&&(b&&d[e](true),d.splice(e,1))});b||this.dequeue();return this}});c.each({slideDown:t("show",1),slideUp:t("hide",1),slideToggle:t("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){c.fn[a]=function(d,e,f){return this.animate(b,d,e,f)}});c.extend({speed:function(a,b,d){var e=a&&typeof a=="object"?c.extend({},a):{complete:d||!d&&b||c.isFunction(a)&&a,duration:a,easing:d&&b||b&&
!c.isFunction(b)&&b};e.duration=c.fx.off?0:typeof e.duration=="number"?e.duration:e.duration in c.fx.speeds?c.fx.speeds[e.duration]:c.fx.speeds._default;e.old=e.complete;e.complete=function(f){e.queue!==false?c.dequeue(this):f!==false&&c._unmark(this);c.isFunction(e.old)&&e.old.call(this)};return e},easing:{linear:function(a,b,d,e){return d+e*a},swing:function(a,b,d,e){return(-Math.cos(a*Math.PI)/2+0.5)*e+d}},timers:[],fx:function(a,b,d){this.options=b;this.elem=a;this.prop=d;b.orig=b.orig||{}}});
c.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this);(c.fx.step[this.prop]||c.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null))return this.elem[this.prop];var a,b=c.css(this.elem,this.prop);return isNaN(a=parseFloat(b))?!b||b==="auto"?0:b:a},custom:function(a,b,d){function e(n){return f.step(n)}var f=this,g=c.fx,k;this.startTime=Qa||x();this.start=a;this.end=b;this.unit=d||this.unit||
(c.cssNumber[this.prop]?"":"px");this.now=this.start;this.pos=this.state=0;e.elem=this.elem;e()&&c.timers.push(e)&&!ib&&(Fb?(ib=1,k=function(){ib&&(Fb(k),g.tick())},Fb(k)):(ib=setInterval(g.tick,g.interval)))},show:function(){this.options.orig[this.prop]=c.style(this.elem,this.prop);this.options.show=true;this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur());c(this.elem).show()},hide:function(){this.options.orig[this.prop]=c.style(this.elem,this.prop);this.options.hide=true;this.custom(this.cur(),
0)},step:function(a){var b=Qa||x(),d=true,e=this.elem,f=this.options,g,k;if(a||b>=f.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();f.animatedProperties[this.prop]=true;for(g in f.animatedProperties)f.animatedProperties[g]!==true&&(d=false);if(d){f.overflow!=null&&!c.support.shrinkWrapBlocks&&c.each(["","X","Y"],function(r,q){e.style["overflow"+q]=f.overflow[r]});f.hide&&c(e).hide();if(f.hide||f.show)for(var n in f.animatedProperties)c.style(e,n,f.orig[n]);f.complete.call(e)}return false}f.duration==
Infinity?(this.now=b):(k=b-this.startTime,this.state=k/f.duration,this.pos=c.easing[f.animatedProperties[this.prop]](this.state,k,0,1,f.duration),this.now=this.start+(this.end-this.start)*this.pos);this.update();return true}};c.extend(c.fx,{tick:function(){for(var a=c.timers,b=0;b<a.length;++b)a[b]()||a.splice(b--,1);a.length||c.fx.stop()},interval:13,stop:function(){clearInterval(ib);ib=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){c.style(a.elem,"opacity",a.now)},_default:function(a){a.elem.style&&
a.elem.style[a.prop]!=null?(a.elem.style[a.prop]=(a.prop==="width"||a.prop==="height"?Math.max(0,a.now):a.now)+a.unit):(a.elem[a.prop]=a.now)}}});c.expr&&c.expr.filters&&(c.expr.filters.animated=function(a){return c.grep(c.timers,function(b){return a===b.elem}).length});var bc=/^t(?:able|d|h)$/i,cc=/^(?:body|html)$/i;"getBoundingClientRect"in X.documentElement?(c.fn.offset=function(a){var b=this[0],d;if(a)return this.each(function(k){c.offset.setOffset(this,a,k)});if(!b||!b.ownerDocument)return null;
if(b===b.ownerDocument.body)return c.offset.bodyOffset(b);try{d=b.getBoundingClientRect()}catch(e){}var f=b.ownerDocument,g=f.documentElement;if(!d||!c.contains(g,b))return d?{top:d.top,left:d.left}:{top:0,left:0};b=f.body;f=j(f);return{top:d.top+(f.pageYOffset||c.support.boxModel&&g.scrollTop||b.scrollTop)-(g.clientTop||b.clientTop||0),left:d.left+(f.pageXOffset||c.support.boxModel&&g.scrollLeft||b.scrollLeft)-(g.clientLeft||b.clientLeft||0)}}):(c.fn.offset=function(a){var b=this[0];if(a)return this.each(function(y){c.offset.setOffset(this,
a,y)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return c.offset.bodyOffset(b);c.offset.initialize();var d,e=b.offsetParent,f=b,g=b.ownerDocument,k=g.documentElement,n=g.body;d=(g=g.defaultView)?g.getComputedStyle(b,null):b.currentStyle;for(var r=b.offsetTop,q=b.offsetLeft;(b=b.parentNode)&&b!==n&&b!==k;){if(c.offset.supportsFixedPosition&&d.position==="fixed")break;d=g?g.getComputedStyle(b,null):b.currentStyle;r-=b.scrollTop;q-=b.scrollLeft;b===e&&(r+=b.offsetTop,q+=b.offsetLeft,
c.offset.doesNotAddBorder&&(!c.offset.doesAddBorderForTableAndCells||!bc.test(b.nodeName))&&(r+=parseFloat(d.borderTopWidth)||0,q+=parseFloat(d.borderLeftWidth)||0),f=e,e=b.offsetParent);c.offset.subtractsBorderForOverflowNotVisible&&d.overflow!=="visible"&&(r+=parseFloat(d.borderTopWidth)||0,q+=parseFloat(d.borderLeftWidth)||0);d=d}if(d.position==="relative"||d.position==="static"){r+=n.offsetTop;q+=n.offsetLeft}c.offset.supportsFixedPosition&&d.position==="fixed"&&(r+=Math.max(k.scrollTop,n.scrollTop),
q+=Math.max(k.scrollLeft,n.scrollLeft));return{top:r,left:q}});c.offset={initialize:function(){var a=X.body,b=X.createElement("div"),d,e,f,g=parseFloat(c.css(a,"marginTop"))||0;c.extend(b.style,{position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"});b.innerHTML="<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";
a.insertBefore(b,a.firstChild);d=b.firstChild;e=d.firstChild;f=d.nextSibling.firstChild.firstChild;this.doesNotAddBorder=e.offsetTop!==5;this.doesAddBorderForTableAndCells=f.offsetTop===5;e.style.position="fixed";e.style.top="20px";this.supportsFixedPosition=e.offsetTop===20||e.offsetTop===15;e.style.position=e.style.top="";d.style.overflow="hidden";d.style.position="relative";this.subtractsBorderForOverflowNotVisible=e.offsetTop===-5;this.doesNotIncludeMarginInBodyOffset=a.offsetTop!==g;a.removeChild(b);
c.offset.initialize=c.noop},bodyOffset:function(a){var b=a.offsetTop,d=a.offsetLeft;c.offset.initialize();c.offset.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(c.css(a,"marginTop"))||0,d+=parseFloat(c.css(a,"marginLeft"))||0);return{top:b,left:d}},setOffset:function(a,b,d){var e=c.css(a,"position");e==="static"&&(a.style.position="relative");var f=c(a),g=f.offset(),k=c.css(a,"top"),n=c.css(a,"left"),r={},q={},y,W;(e==="absolute"||e==="fixed")&&c.inArray("auto",[k,n])>-1?(q=f.position(),y=q.top,
W=q.left):(y=parseFloat(k)||0,W=parseFloat(n)||0);c.isFunction(b)&&(b=b.call(a,d,g));b.top!=null&&(r.top=b.top-g.top+y);b.left!=null&&(r.left=b.left-g.left+W);"using"in b?b.using.call(a,r):f.css(r)}};c.fn.extend({position:function(){if(!this[0])return null;var a=this[0],b=this.offsetParent(),d=this.offset(),e=cc.test(b[0].nodeName)?{top:0,left:0}:b.offset();d.top-=parseFloat(c.css(a,"marginTop"))||0;d.left-=parseFloat(c.css(a,"marginLeft"))||0;e.top+=parseFloat(c.css(b[0],"borderTopWidth"))||0;e.left+=
parseFloat(c.css(b[0],"borderLeftWidth"))||0;return{top:d.top-e.top,left:d.left-e.left}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||X.body;a&&!cc.test(a.nodeName)&&c.css(a,"position")==="static";)a=a.offsetParent;return a})}});c.each(["Left","Top"],function(a,b){var d="scroll"+b;c.fn[d]=function(e){var f,g;if(e===h){f=this[0];if(!f)return null;return(g=j(f))?"pageXOffset"in g?g[a?"pageYOffset":"pageXOffset"]:c.support.boxModel&&g.document.documentElement[d]||g.document.body[d]:
f[d]}return this.each(function(){(g=j(this))?g.scrollTo(a?c(g).scrollLeft():e,a?e:c(g).scrollTop()):(this[d]=e)})}});c.each(["Height","Width"],function(a,b){var d=b.toLowerCase();c.fn["inner"+b]=function(){return this[0]?parseFloat(c.css(this[0],d,"padding")):null};c.fn["outer"+b]=function(e){return this[0]?parseFloat(c.css(this[0],d,e?"margin":"border")):null};c.fn[d]=function(e){var f=this[0];if(!f)return e==null?null:this;if(c.isFunction(e))return this.each(function(k){var n=c(this);n[d](e.call(this,
k,n[d]()))});if(c.isWindow(f)){var g=f.document.documentElement["client"+b];return f.document.compatMode==="CSS1Compat"&&g||f.document.body["client"+b]||g}if(f.nodeType===9)return Math.max(f.documentElement["client"+b],f.body["scroll"+b],f.documentElement["scroll"+b],f.body["offset"+b],f.documentElement["offset"+b]);if(e===h){f=c.css(f,d);g=parseFloat(f);return c.isNaN(g)?f:g}return this.css(d,typeof e=="string"?e:e+"px")}});i.jQuery=i.$=c})(window);
(function(i,h){var j,o=/:([\w\d]+)/g,t=/\?([^#]*)$/,u=function(l){return Array.prototype.slice.call(l)},x=function(l){return Object.prototype.toString.call(l)==="[object Function]"},G=function(l){return Object.prototype.toString.call(l)==="[object Array]"},C=function(l){return decodeURIComponent((l||"").replace(/\+/g," "))},z=encodeURIComponent,M=function(l){return String(l).replace(/&(?!\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},T=function(l){return function(p,
w){return this.route.apply(this,[l,p,w])}},ja={},oa=!!(h.history&&history.pushState),ka=[];j=function(){var l=u(arguments),p,w;j.apps=j.apps||{};if(l.length===0||l[0]&&x(l[0]))return j.apply(j,["body"].concat(l));else if(typeof(w=l.shift())=="string"){p=j.apps[w]||new j.Application;p.element_selector=w;l.length>0&&i.each(l,function(E,ba){p.use(ba)});p.element_selector!=w&&delete j.apps[w];return j.apps[p.element_selector]=p}};j.VERSION="0.7.0pre";j.addLogger=function(l){ka.push(l)};j.log=function(){var l=
u(arguments);l.unshift("["+Date()+"]");i.each(ka,function(p,w){w.apply(j,l)})};if(typeof h.console!="undefined")x(h.console.log.apply)?j.addLogger(function(){h.console.log.apply(h.console,arguments)}):j.addLogger(function(){h.console.log(arguments)});else typeof console!="undefined"&&j.addLogger(function(){console.log.apply(console,arguments)});i.extend(j,{makeArray:u,isFunction:x,isArray:G});j.Object=function(l){return i.extend(this,l||{})};i.extend(j.Object.prototype,{escapeHTML:M,h:M,toHash:function(){var l=
{};i.each(this,function(p,w){x(w)||(l[p]=w)});return l},toHTML:function(){var l="";i.each(this,function(p,w){x(w)||(l+="<strong>"+p+"</strong> "+w+"<br />")});return l},keys:function(l){var p=[];for(var w in this)if(!x(this[w])||!l)p.push(w);return p},has:function(l){return this[l]&&i.trim(this[l].toString())!==""},join:function(){var l=u(arguments),p=l.shift();return l.join(p)},log:function(){j.log.apply(j,arguments)},toString:function(l){var p=[];i.each(this,function(w,E){if(!x(E)||l)p.push('"'+
w+'": '+E.toString())});return"Sammy.Object: {"+p.join(",")+"}"}});j.DefaultLocationProxy=function(l,p){this.app=l;this.is_native=false;this.has_history=oa;this._startPolling(p)};j.DefaultLocationProxy.fullPath=function(l){var p=l.toString().match(/^[^#]*(#.+)$/);return[l.pathname,l.search,p?p[1]:""].join("")};j.DefaultLocationProxy.prototype={bind:function(){var l=this,p=this.app,w=j.DefaultLocationProxy;i(h).bind("hashchange."+this.app.eventNamespace(),function(E,ba){if(l.is_native===false&&!ba){j.log("native hash change exists, using");
l.is_native=true;h.clearInterval(w._interval)}p.trigger("location-changed")});if(oa){i(h).bind("popstate."+this.app.eventNamespace(),function(){p.trigger("location-changed")});i("a").live("click.history-"+this.app.eventNamespace(),function(E){var ba=w.fullPath(this);if(this.hostname==h.location.hostname&&p.lookupRoute("get",ba)){E.preventDefault();l.setLocation(ba);return false}})}if(!w._bindings)w._bindings=0;w._bindings++},unbind:function(){i(h).unbind("hashchange."+this.app.eventNamespace());i(h).unbind("popstate."+
this.app.eventNamespace());i("a").die("click.history-"+this.app.eventNamespace());j.DefaultLocationProxy._bindings--;j.DefaultLocationProxy._bindings<=0&&h.clearInterval(j.DefaultLocationProxy._interval)},getLocation:function(){return j.DefaultLocationProxy.fullPath(h.location)},setLocation:function(l){if(/^([^#\/]|$)/.test(l))l=oa?"/"+l:"#!/"+l;if(l!=this.getLocation())if(oa&&/^\//.test(l)){history.pushState({path:l},h.title,l);this.app.trigger("location-changed")}else return h.location=l},_startPolling:function(l){var p=
this;if(!j.DefaultLocationProxy._interval){l||(l=10);var w=function(){var E=p.getLocation();if(typeof j.DefaultLocationProxy._last_location=="undefined"||E!=j.DefaultLocationProxy._last_location)h.setTimeout(function(){i(h).trigger("hashchange",[true])},0);j.DefaultLocationProxy._last_location=E};w();j.DefaultLocationProxy._interval=h.setInterval(w,l)}}};j.Application=function(l){var p=this;this.routes={};this.listeners=new j.Object({});this.arounds=[];this.befores=[];this.namespace=(new Date).getTime()+
"-"+parseInt(Math.random()*1E3,10);this.context_prototype=function(){j.EventContext.apply(this,arguments)};this.context_prototype.prototype=new j.EventContext;x(l)&&l.apply(this,[this]);this._location_proxy||this.setLocationProxy(new j.DefaultLocationProxy(this,this.run_interval_every));this.debug&&this.bindToAllEvents(function(w,E){p.log(p.toString(),w.cleaned_type,E||{})})};j.Application.prototype=i.extend({},j.Object.prototype,{ROUTE_VERBS:["get","post","put","delete"],APP_EVENTS:["run","unload",
"lookup-route","run-route","route-found","event-context-before","event-context-after","changed","error","check-form-submission","redirect","location-changed"],_last_route:null,_location_proxy:null,_running:false,element_selector:"body",debug:false,raise_errors:false,run_interval_every:50,template_engine:null,toString:function(){return"Sammy.Application:"+this.element_selector},$element:function(l){return l?i(this.element_selector).find(l):i(this.element_selector)},use:function(){var l=u(arguments),
p=l.shift(),w=p||"";try{l.unshift(this);if(typeof p=="string"){w="Sammy."+p;p=j[p]}p.apply(this,l)}catch(E){if(typeof p==="undefined")this.error("Plugin Error: called use() but plugin ("+w.toString()+") is not defined",E);else x(p)?this.error("Plugin Error",E):this.error("Plugin Error: called use() but '"+w.toString()+"' is not a function",E)}return this},setLocationProxy:function(l){var p=this._location_proxy;this._location_proxy=l;if(this.isRunning()){p&&p.unbind();this._location_proxy.bind()}},
route:function(l,p,w){var E=this,ba=[],na,V;if(!w&&x(p)){w=p=l;l="any"}l=l.toLowerCase();if(p.constructor==String){for(o.lastIndex=0;(V=o.exec(p))!==null;)ba.push(V[1]);p=new RegExp(p.replace(o,"([^/]+)")+"$")}if(typeof w=="string")w=E[w];na=function(ea){var fa={verb:ea,path:p,callback:w,param_names:ba};E.routes[ea]=E.routes[ea]||[];E.routes[ea].push(fa)};l==="any"?i.each(this.ROUTE_VERBS,function(ea,fa){na(fa)}):na(l);return this},get:T("get"),post:T("post"),put:T("put"),del:T("delete"),any:T("any"),
mapRoutes:function(l){var p=this;i.each(l,function(w,E){p.route.apply(p,E)});return this},eventNamespace:function(){return["sammy-app",this.namespace].join("-")},bind:function(l,p,w){var E=this;if(typeof w=="undefined")w=p;p=function(ba,na){var V;if(na&&na.context){V=na.context;delete na.context}else V=new E.context_prototype(E,"bind",ba.type,na,ba.target);ba.cleaned_type=ba.type.replace(E.eventNamespace(),"");w.apply(V,[ba,na])};this.listeners[l]||(this.listeners[l]=[]);this.listeners[l].push(p);
this.isRunning()&&this._listen(l,p);return this},trigger:function(l,p){this.$element().trigger([l,this.eventNamespace()].join("."),[p]);return this},refresh:function(){this.last_location=null;this.trigger("location-changed");return this},before:function(l,p){if(x(l)){p=l;l={}}this.befores.push([l,p]);return this},after:function(l){return this.bind("event-context-after",l)},around:function(l){this.arounds.push(l);return this},isRunning:function(){return this._running},helpers:function(l){i.extend(this.context_prototype.prototype,
l);return this},helper:function(l,p){this.context_prototype.prototype[l]=p;return this},run:function(l){if(this.isRunning())return false;var p=this;i.each(this.listeners.toHash(),function(w,E){i.each(E,function(ba,na){p._listen(w,na)})});this.trigger("run",{start_url:l});this._running=true;this.last_location=null;!/\#(.+)/.test(this.getLocation())&&typeof l!="undefined"&&this.setLocation(l);this._checkLocation();this._location_proxy.bind();this.bind("location-changed",function(){p._checkLocation()});
this.bind("submit",function(w){return p._checkFormSubmission(i(w.target).closest("form"))===false?w.preventDefault():false});i(h).bind("beforeunload",function(){p.unload()});return this.trigger("changed")},unload:function(){if(!this.isRunning())return false;var l=this;this.trigger("unload");this._location_proxy.unbind();this.$element().unbind("submit").removeClass(l.eventNamespace());i.each(this.listeners.toHash(),function(p,w){i.each(w,function(E,ba){l._unlisten(p,ba)})});this._running=false;return this},
bindToAllEvents:function(l){var p=this;i.each(this.APP_EVENTS,function(w,E){p.bind(E,l)});i.each(this.listeners.keys(true),function(w,E){i.inArray(E,p.APP_EVENTS)==-1&&p.bind(E,l)});return this},routablePath:function(l){return l.replace(t,"")},lookupRoute:function(l,p){var w=false,E=0,ba,na;if(typeof this.routes[l]!="undefined")for(ba=this.routes[l].length;E<ba;E++){na=this.routes[l][E];if(this.routablePath(p).match(na.path)){w=na;break}}return w},runRoute:function(l,p,w,E){var ba=this,na=this.lookupRoute(l,
p),V,ea,fa,Aa,La,Va,X;this.log("runRoute",[l,p].join(" "));this.trigger("run-route",{verb:l,path:p,params:w});if(typeof w=="undefined")w={};i.extend(w,this._parseQueryString(p));if(na){this.trigger("route-found",{route:na});if((Va=na.path.exec(this.routablePath(p)))!==null){Va.shift();i.each(Va,function(S,c){if(na.param_names[S])w[na.param_names[S]]=C(c);else{if(!w.splat)w.splat=[];w.splat.push(C(c))}})}V=new this.context_prototype(this,l,p,w,E);E=this.arounds.slice(0);fa=this.befores.slice(0);La=
[V].concat(w.splat);ea=function(){for(var S;fa.length>0;){Aa=fa.shift();if(ba.contextMatchesOptions(V,Aa[0])){S=Aa[1].apply(V,[V]);if(S===false)return false}}ba.last_route=na;V.trigger("event-context-before",{context:V});S=na.callback.apply(V,La);V.trigger("event-context-after",{context:V});return S};i.each(E.reverse(),function(S,c){var A=ea;ea=function(){return c.apply(V,[A])}});try{X=ea()}catch(N){this.error(["500 Error",l,p].join(" "),N)}return X}else return this.notFound(l,p)},contextMatchesOptions:function(l,
p,w){p=p;if(typeof p==="undefined"||p=={})return true;if(typeof w==="undefined")w=true;if(typeof p==="string"||x(p.test))p={path:p};if(p.only)return this.contextMatchesOptions(l,p.only,true);else if(p.except)return this.contextMatchesOptions(l,p.except,false);var E=true,ba=true;if(p.path){if(!x(p.path.test))p.path=new RegExp(p.path.toString()+"$");E=p.path.test(l.path)}if(p.verb)ba=p.verb===l.verb;return w?ba&&E:!(ba&&E)},getLocation:function(){return this._location_proxy.getLocation()},setLocation:function(l){return this._location_proxy.setLocation(l)},
swap:function(l){return this.$element().html(l)},templateCache:function(l,p){return typeof p!="undefined"?(ja[l]=p):ja[l]},clearTemplateCache:function(){return ja={}},notFound:function(l,p){var w=this.error(["404 Not Found",l,p].join(" "));return l==="get"?w:true},error:function(l,p){p||(p=new Error);p.message=[l,p.message].join(" ");this.trigger("error",{message:p.message,error:p});if(this.raise_errors)throw p;else this.log(p.message,p)},_checkLocation:function(){var l,p;l=this.getLocation();if(!this.last_location||
this.last_location[0]!="get"||this.last_location[1]!=l){this.last_location=["get",l];p=this.runRoute("get",l)}return p},_getFormVerb:function(l){l=i(l);var p,w;w=l.find('input[name="_method"]');if(w.length>0)p=w.val();p||(p=l[0].getAttribute("method"));if(!p||p=="")p="get";return i.trim(p.toString().toLowerCase())},_checkFormSubmission:function(l){var p,w,E;this.trigger("check-form-submission",{form:l});p=i(l);w=p.attr("action")||"";E=this._getFormVerb(p);this.log("_checkFormSubmission",p,w,E);if(E===
"get"){this.setLocation(w+"?"+this._serializeFormParams(p));l=false}else{p=i.extend({},this._parseFormParams(p));l=this.runRoute(E,w,p,l.get(0))}return typeof l=="undefined"?false:l},_serializeFormParams:function(l){var p="";l=l.serializeArray();var w;if(l.length>0){p=this._encodeFormPair(l[0].name,l[0].value);for(w=1;w<l.length;w++)p=p+"&"+this._encodeFormPair(l[w].name,l[w].value)}return p},_encodeFormPair:function(l,p){return z(l)+"="+z(p)},_parseFormParams:function(l){var p={};l=l.serializeArray();
var w;for(w=0;w<l.length;w++)p=this._parseParamPair(p,l[w].name,l[w].value);return p},_parseQueryString:function(l){var p={},w,E;if(l=l.match(t)){l=l[1].split("&");for(E=0;E<l.length;E++){w=l[E].split("=");p=this._parseParamPair(p,C(w[0]),C(w[1]||""))}}return p},_parseParamPair:function(l,p,w){if(l[p])if(G(l[p]))l[p].push(w);else l[p]=[l[p],w];else l[p]=w;return l},_listen:function(l,p){return this.$element().bind([l,this.eventNamespace()].join("."),p)},_unlisten:function(l,p){return this.$element().unbind([l,
this.eventNamespace()].join("."),p)}});j.RenderContext=function(l){this.event_context=l;this.callbacks=[];this.content=this.previous_content=null;this.waiting=this.next_engine=false};j.RenderContext.prototype=i.extend({},j.Object.prototype,{then:function(l){if(!x(l))if(typeof l==="string"&&l in this.event_context){var p=this.event_context[l];l=function(E){return p.apply(this.event_context,[E])}}else return this;var w=this;if(this.waiting)this.callbacks.push(l);else{this.wait();h.setTimeout(function(){var E=
l.apply(w,[w.content,w.previous_content]);E!==false&&w.next(E)},0)}return this},wait:function(){this.waiting=true},next:function(l){this.waiting=false;if(typeof l!=="undefined"){this.previous_content=this.content;this.content=l}this.callbacks.length>0&&this.then(this.callbacks.shift())},load:function(l,p,w){var E=this;return this.then(function(){var ba,na,V;if(x(p)){w=p;p={}}else p=i.extend({},p);w&&this.then(w);if(typeof l==="string"){ba=(V=l.match(/\.json$/)||p.json)&&p.cache===true||p.cache!==
false;E.next_engine=E.event_context.engineFor(l);delete p.cache;delete p.json;if(p.engine){E.next_engine=p.engine;delete p.engine}if(ba&&(na=this.event_context.app.templateCache(l)))return na;this.wait();i.ajax(i.extend({url:l,data:{},dataType:V?"json":null,type:"get",success:function(ea){ba&&E.event_context.app.templateCache(l,ea);E.next(ea)}},p));return false}else{if(l.nodeType)return l.innerHTML;if(l.selector){E.next_engine=l.attr("data-engine");return p.clone===false?l.remove()[0].innerHTML.toString():
l[0].innerHTML.toString()}}})},render:function(l,p,w){return x(l)&&!p?this.then(l):this.load(l).interpolate(p,l).then(w)},partial:function(l,p){return this.render(l,p).swap()},send:function(){var l=this,p=u(arguments),w=p.shift();if(G(p[0]))p=p[0];return this.then(function(){p.push(function(E){l.next(E)});l.wait();w.apply(w,p);return false})},collect:function(l,p,w){var E=this,ba=function(){if(x(l)){p=l;l=this.content}var na=[],V=false;i.each(l,function(ea,fa){var Aa=p.apply(E,[ea,fa]);if(Aa.jquery&&
Aa.length==1){Aa=Aa[0];V=true}na.push(Aa);return Aa});return V?na:na.join("")};return w?ba():this.then(ba)},renderEach:function(l,p,w,E){if(G(p)){E=w;w=p;p=null}return this.load(l).then(function(ba){var na=this;w||(w=G(this.previous_content)?this.previous_content:[]);if(E)i.each(w,function(V,ea){var fa={},Aa=this.next_engine||l;p?(fa[p]=ea):(fa=ea);E(ea,na.event_context.interpolate(ba,fa,Aa))});else return this.collect(w,function(V,ea){var fa={},Aa=this.next_engine||l;p?(fa[p]=ea):(fa=ea);return this.event_context.interpolate(ba,
fa,Aa)},true)})},interpolate:function(l,p,w){var E=this;return this.then(function(ba,na){if(!l&&na)l=na;if(this.next_engine){p=this.next_engine;this.next_engine=false}var V=E.event_context.interpolate(ba,l,p);return w?na+V:V})},swap:function(){return this.then(function(l){this.event_context.swap(l)}).trigger("changed",{})},appendTo:function(l){return this.then(function(p){i(l).append(p)}).trigger("changed",{})},prependTo:function(l){return this.then(function(p){i(l).prepend(p)}).trigger("changed",
{})},replace:function(l){return this.then(function(p){i(l).html(p)}).trigger("changed",{})},trigger:function(l,p){return this.then(function(w){if(typeof p=="undefined")p={content:w};this.event_context.trigger(l,p)})}});j.EventContext=function(l,p,w,E,ba){this.app=l;this.verb=p;this.path=w;this.params=new j.Object(E);this.target=ba};j.EventContext.prototype=i.extend({},j.Object.prototype,{$element:function(){return this.app.$element(u(arguments).shift())},engineFor:function(l){var p;if(x(l))return l;
l=(l||this.app.template_engine).toString();if(p=l.match(/\.([^\.\?\#]+)/))l=p[1];if(l&&x(this[l]))return this[l];if(this.app.template_engine)return this.engineFor(this.app.template_engine);return function(w){return w}},interpolate:function(l,p,w){return this.engineFor(w).apply(this,[l,p])},render:function(l,p,w){return(new j.RenderContext(this)).render(l,p,w)},renderEach:function(l,p,w,E){return(new j.RenderContext(this)).renderEach(l,p,w,E)},load:function(l,p,w){return(new j.RenderContext(this)).load(l,
p,w)},partial:function(l,p){return(new j.RenderContext(this)).partial(l,p)},send:function(){var l=new j.RenderContext(this);return l.send.apply(l,arguments)},redirect:function(){var l;l=u(arguments);var p=this.app.getLocation();if(l.length>1){l.unshift("/");l=this.join.apply(this,l)}else l=l[0];this.trigger("redirect",{to:l});this.app.last_location=[this.verb,this.path];this.app.setLocation(l);(new RegExp(l)).test(p)&&this.app.trigger("location-changed")},trigger:function(l,p){if(typeof p=="undefined")p=
{};if(!p.context)p.context=this;return this.app.trigger(l,p)},eventNamespace:function(){return this.app.eventNamespace()},swap:function(l){return this.app.swap(l)},notFound:function(){return this.app.notFound(this.verb,this.path)},json:function(l){return i.parseJSON(l)},toString:function(){return"Sammy.EventContext: "+[this.verb,this.path,this.params].join(" ")}});i.sammy=h.Sammy=j})(jQuery,window);
(function(i){Sammy=Sammy||{};Sammy.Title=function(){this.setTitle=function(h){this.title_function=i.isFunction(h)?h:function(j){return[h,j].join(" ")}};this.helper("title",function(){var h=i.makeArray(arguments).join(" ");if(this.app.title_function)h=this.app.title_function(h);document.title=h})}})(jQuery);
(function(i){function h(o){o=unescape(o);return o==="true"?true:o==="false"?false:o}function j(o,t,u){var x;if(t.match(/^[^\[]+$/))o[t]=h(u);else if(x=t.match(/^([^\[]+)\[\](.*)$/)){t=x[1];x=x[2];if(o[t]&&!i.isArray(o[t]))throw"400 Bad Request";if(x){x=x.match(/^\[([^\]]+)\](.*)$/);if(!x)throw"400 Bad Request";if(o[t])o[t][o[t].length-1][x[1]]?o[t].push(j({},x[1]+x[2],u)):i.extend(true,o[t][o[t].length-1],j({},x[1]+x[2],u));else o[t]=[j({},x[1]+x[2],u)]}else if(o[t])o[t].push(h(u));else o[t]=[h(u)]}else if(x=
t.match(/^([^\[]+)\[([^\[]+)\](.*)$/)){t=x[1];x=x[2]+x[3];if(o[t]&&i.isArray(o[t]))throw"400 Bad Request";if(o[t])i.extend(true,o[t],j(o[t],x,u));else o[t]=j({},x,u)}return o}Sammy=Sammy||{};Sammy.NestedParams=function(o){o._parseParamPair=j}})(jQuery);
(function(){if(!window.JSON)window.JSON={};(function(){function i(z){return z<10?"0"+z:z}function h(z){t.lastIndex=0;return t.test(z)?'"'+z.replace(t,function(M){var T=G[M];return typeof T==="string"?T:"\\u"+("0000"+M.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+z+'"'}function j(z,M){var T,ja,oa,ka,l=u,p,w=M[z];if(w&&typeof w==="object"&&typeof w.toJSON==="function")w=w.toJSON(z);if(typeof C==="function")w=C.call(M,z,w);switch(typeof w){case "string":return h(w);case "number":return isFinite(w)?
String(w):"null";case "boolean":case "null":return String(w);case "object":if(!w)return"null";u+=x;p=[];if(Object.prototype.toString.apply(w)==="[object Array]"){ka=w.length;for(T=0;T<ka;T+=1)p[T]=j(T,w)||"null";oa=p.length===0?"[]":u?"[\n"+u+p.join(",\n"+u)+"\n"+l+"]":"["+p.join(",")+"]";u=l;return oa}if(C&&typeof C==="object"){ka=C.length;for(T=0;T<ka;T+=1){ja=C[T];if(typeof ja==="string")if(oa=j(ja,w))p.push(h(ja)+(u?": ":":")+oa)}}else for(ja in w)if(Object.hasOwnProperty.call(w,ja))if(oa=j(ja,
w))p.push(h(ja)+(u?": ":":")+oa);oa=p.length===0?"{}":u?"{\n"+u+p.join(",\n"+u)+"\n"+l+"}":"{"+p.join(",")+"}";u=l;return oa}}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return this.getUTCFullYear()+"-"+i(this.getUTCMonth()+1)+"-"+i(this.getUTCDate())+"T"+i(this.getUTCHours())+":"+i(this.getUTCMinutes())+":"+i(this.getUTCSeconds())+"Z"};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var o=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
t=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,u,x,G={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},C;if(typeof JSON.stringify!=="function")JSON.stringify=function(z,M,T){var ja;x=u="";if(typeof T==="number")for(ja=0;ja<T;ja+=1)x+=" ";else if(typeof T==="string")x=T;if((C=M)&&typeof M!=="function"&&(typeof M!=="object"||typeof M.length!=="number"))throw new Error("JSON.stringify");
return j("",{"":z})};if(typeof JSON.parse!=="function")JSON.parse=function(z,M){function T(oa,ka){var l,p,w=oa[ka];if(w&&typeof w==="object")for(l in w)if(Object.hasOwnProperty.call(w,l)){p=T(w,l);if(p!==undefined)w[l]=p;else delete w[l]}return M.call(oa,ka,w)}var ja;o.lastIndex=0;if(o.test(z))z=z.replace(o,function(oa){return"\\u"+("0000"+oa.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(z.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){ja=eval("("+z+")");return typeof M==="function"?T({"":ja},""):ja}throw new SyntaxError("JSON.parse");}})();Sammy=Sammy||{};Sammy.JSON=function(i){i.helpers({json:function(h){return typeof h=="string"?JSON.parse(h):JSON.stringify(h)}})}})(jQuery);
(function(i){if(!window.Mustache)var h=function(){var j=function(){};j.prototype={otag:"{{",ctag:"}}",pragmas:{},buffer:[],pragmas_implemented:{"IMPLICIT-ITERATOR":true},context:{},render:function(o,t,u,x){if(!x){this.context=t;this.buffer=[]}if(!this.includes("",o))if(x)return o;else{this.send(o);return}o=this.render_pragmas(o);o=this.render_section(o,t,u);if(x)return this.render_tags(o,t,u,x);this.render_tags(o,t,u,x)},send:function(o){o!=""&&this.buffer.push(o)},render_pragmas:function(o){if(!this.includes("%",
o))return o;var t=this;return o.replace(new RegExp(this.otag+"%([\\w-]+) ?([\\w]+=[\\w]+)?"+this.ctag),function(u,x,G){if(!t.pragmas_implemented[x])throw{message:"This implementation of mustache doesn't understand the '"+x+"' pragma"};t.pragmas[x]={};if(G){u=G.split("=");t.pragmas[x][u[0]]=u[1]}return""})},render_partial:function(o,t,u){o=this.trim(o);if(!u||u[o]===undefined)throw{message:"unknown_partial '"+o+"'"};if(typeof t[o]!="object")return this.render(u[o],t,u,true);return this.render(u[o],
t[o],u,true)},render_section:function(o,t,u){if(!this.includes("#",o)&&!this.includes("^",o))return o;var x=this;return o.replace(new RegExp(this.otag+"(\\^|\\#)\\s*(.+)\\s*"+this.ctag+"\n*([\\s\\S]+?)"+this.otag+"\\/\\s*\\2\\s*"+this.ctag+"\\s*","mg"),function(G,C,z,M){G=x.find(z,t);if(C=="^")return!G||x.is_array(G)&&G.length===0?x.render(M,t,u,true):"";else if(C=="#")return x.is_array(G)?x.map(G,function(T){return x.render(M,x.create_context(T),u,true)}).join(""):x.is_object(G)?x.render(M,x.create_context(G),
u,true):typeof G==="function"?G.call(t,M,function(T){return x.render(T,t,u,true)}):G?x.render(M,t,u,true):""})},render_tags:function(o,t,u,x){var G=this,C=function(){return new RegExp(G.otag+"(=|!|>|\\{|%)?([^\\/#\\^]+?)\\1?"+G.ctag+"+","g")},z=C(),M=function(ja,oa,ka){switch(oa){case "!":return"";case "=":G.set_delimiters(ka);z=C();return"";case ">":return G.render_partial(ka,t,u);case "{":return G.find(ka,t);default:return G.escape(G.find(ka,t))}};o=o.split("\n");for(var T=0;T<o.length;T++){o[T]=
o[T].replace(z,M,this);x||this.send(o[T])}if(x)return o.join("\n")},set_delimiters:function(o){o=o.split(" ");this.otag=this.escape_regex(o[0]);this.ctag=this.escape_regex(o[1])},escape_regex:function(o){if(!arguments.callee.sRE)arguments.callee.sRE=new RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\)","g");return o.replace(arguments.callee.sRE,"\\$1")},find:function(o,t){o=this.trim(o);var u;if(t[o]===false||t[o]===0||t[o])u=t[o];else if(this.context[o]===false||this.context[o]===0||
this.context[o])u=this.context[o];if(typeof u==="function")return u.apply(t);if(u!==undefined)return u;return""},includes:function(o,t){return t.indexOf(this.otag+o)!=-1},escape:function(o){return String(o===null?"":o).replace(/&(?!\w+;)|["<>\\]/g,function(t){switch(t){case "&":return"&amp;";case "\\":return"\\\\";case '"':return'"';case "<":return"&lt;";case ">":return"&gt;";default:return t}})},create_context:function(o){if(this.is_object(o))return o;else{var t=".";if(this.pragmas["IMPLICIT-ITERATOR"])t=
this.pragmas["IMPLICIT-ITERATOR"].iterator;var u={};u[t]=o;return u}},is_object:function(o){return o&&typeof o=="object"},is_array:function(o){return Object.prototype.toString.call(o)==="[object Array]"},trim:function(o){return o.replace(/^\s*|\s*$/g,"")},map:function(o,t){if(typeof o.map=="function")return o.map(t);else{for(var u=[],x=o.length,G=0;G<x;G++)u.push(t(o[G]));return u}}};return{name:"mustache.js",version:"0.3.1-dev",to_html:function(o,t,u,x){var G=new j;if(x)G.send=x;G.render(o,t,u);
if(!x)return G.buffer.join("\n")}}}();Sammy=Sammy||{};Sammy.Mustache=function(j,o){o||(o="mustache");j.helper(o,function(t,u,x){u=i.extend({},this,u);x=i.extend({},u.partials,x);return h.to_html(t,u,x)})}})(jQuery);
window.Modernizr=function(i,h,j){function o(){G.input=function(N){for(var S=0,c=N.length;S<c;S++)na[N[S]]=!!(N[S]in ja);return na}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" "));G.inputtypes=function(N){for(var S=0,c,A,J,K=N.length;S<K;S++){ja.setAttribute("type",A=N[S]);(c=ja.type!=="text")&&(ja.value=oa,ja.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(A)&&ja.style.WebkitAppearance!==j?(C.appendChild(ja),J=h.defaultView,c=J.getComputedStyle&&
J.getComputedStyle(ja,null).WebkitAppearance!=="textfield"&&ja.offsetHeight!==0,C.removeChild(ja)):/^(search|tel)$/.test(A)||(/^(url|email)$/.test(A)?(c=ja.checkValidity&&ja.checkValidity()===false):/^color$/.test(A)?(C.appendChild(ja),c=ja.value!=oa,C.removeChild(ja)):(c=ja.value!=oa)));ba[N[S]]=!!c}return ba}("search tel url email datetime date month week time datetime-local number range color".split(" "))}function t(N,S){var c=N.charAt(0).toUpperCase()+N.substr(1);c=(N+" "+p.join(c+" ")+c).split(" ");
return!!u(c,S)}function u(N,S){for(var c in N)if(T[N[c]]!==j&&(!S||S(N[c],M)))return true}function x(N,S){return typeof N===S}var G={},C=h.documentElement,z=h.head||h.getElementsByTagName("head")[0],M=h.createElement("modernizr"),T=M.style,ja=h.createElement("input"),oa=":)",ka=Object.prototype.toString,l=" -webkit- -moz- -o- -ms- -khtml- ".split(" "),p="Webkit Moz O ms Khtml".split(" "),w={svg:"http://www.w3.org/2000/svg"},E={},ba={},na={},V=[],ea,fa=function(N){var S=h.createElement("style"),c=
h.createElement("div");S.textContent=N+"{#modernizr{height:3px}}";z.appendChild(S);c.id="modernizr";C.appendChild(c);N=c.offsetHeight===3;S.parentNode.removeChild(S);c.parentNode.removeChild(c);return!!N},Aa=function(){var N={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return function(S,c){c=c||h.createElement(N[S]||"div");var A=(S="on"+S)in c;A||(c.setAttribute||(c=h.createElement("div")),c.setAttribute&&c.removeAttribute&&(c.setAttribute(S,""),A=
x(c[S],"function"),x(c[S],j)||(c[S]=j),c.removeAttribute(S)));return A}}(),La={}.hasOwnProperty,Va;x(La,j)||x(La.call,j)?(Va=function(N,S){return S in N&&x(N.constructor.prototype[S],j)}):(Va=function(N,S){return La.call(N,S)});E.flexbox=function(){var N=h.createElement("div"),S=h.createElement("div");(function(A,J,K,Q){J+=":";A.style.cssText=(J+l.join(K+";"+J)).slice(0,-J.length)+(Q||"")})(N,"display","box","width:42px;padding:0;");S.style.cssText=l.join("box-flex:1;")+"width:10px;";N.appendChild(S);
C.appendChild(N);var c=S.offsetWidth===42;N.removeChild(S);C.removeChild(N);return c};E.canvas=function(){var N=h.createElement("canvas");return N.getContext&&N.getContext("2d")};E.canvastext=function(){return G.canvas&&x(h.createElement("canvas").getContext("2d").fillText,"function")};E.webgl=function(){return!!i.WebGLRenderingContext};E.touch=function(){return"ontouchstart"in i||fa("@media ("+l.join("touch-enabled),(")+"modernizr)")};E.geolocation=function(){return!!navigator.geolocation};E.postmessage=
function(){return!!i.postMessage};E.websqldatabase=function(){return!!i.openDatabase};E.indexedDB=function(){for(var N=-1,S=p.length;++N<S;){var c=p[N].toLowerCase();if(i[c+"_indexedDB"]||i[c+"IndexedDB"])return true}return false};E.hashchange=function(){return Aa("hashchange",i)&&(h.documentMode===j||h.documentMode>7)};E.history=function(){return!!(i.history&&history.pushState)};E.draganddrop=function(){return Aa("dragstart")&&Aa("drop")};E.websockets=function(){return"WebSocket"in i};E.rgba=function(){T.cssText=
"background-color:rgba(150,255,150,.5)";return(""+T.backgroundColor).indexOf("rgba")!==-1};E.hsla=function(){T.cssText="background-color:hsla(120,40%,100%,.5)";return(""+T.backgroundColor).indexOf("rgba")!==-1||(""+T.backgroundColor).indexOf("hsla")!==-1};E.multiplebgs=function(){T.cssText="background:url(//:),url(//:),red url(//:)";return/(url\s*\(.*?){3}/.test(T.background)};E.backgroundsize=function(){return t("backgroundSize")};E.borderimage=function(){return t("borderImage")};E.borderradius=
function(){return t("borderRadius","",function(N){return(""+N).indexOf("orderRadius")!==-1})};E.boxshadow=function(){return t("boxShadow")};E.textshadow=function(){return h.createElement("div").style.textShadow===""};E.opacity=function(){var N=l.join("opacity:.55;")+"";T.cssText=N;return/^0.55$/.test(T.opacity)};E.cssanimations=function(){return t("animationName")};E.csscolumns=function(){return t("columnCount")};E.cssgradients=function(){var N=("background-image:"+l.join("gradient(linear,left top,right bottom,from(#9f9),to(white));background-image:")+
l.join("linear-gradient(left top,#9f9, white);background-image:")).slice(0,-17);T.cssText=N;return(""+T.backgroundImage).indexOf("gradient")!==-1};E.cssreflections=function(){return t("boxReflect")};E.csstransforms=function(){return!!u(["transformProperty","WebkitTransform","MozTransform","OTransform","msTransform"])};E.csstransforms3d=function(){var N=!!u(["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"]);N&&"webkitPerspective"in C.style&&(N=fa("@media ("+
l.join("transform-3d),(")+"modernizr)"));return N};E.csstransitions=function(){return t("transitionProperty")};E.fontface=function(){var N,S,c=z||C,A=h.createElement("style");S=h.implementation||{hasFeature:function(){return false}};A.type="text/css";c.insertBefore(A,c.firstChild);N=A.sheet||A.styleSheet;S=(S.hasFeature("CSS2","")?function(J){if(!N||!J)return false;var K=false;try{N.insertRule(J,0);K=/src/i.test(N.cssRules[0].cssText);N.deleteRule(N.cssRules.length-1)}catch(Q){}return K}:function(J){if(!N||
!J)return false;N.cssText=J;return N.cssText.length!==0&&/src/i.test(N.cssText)&&N.cssText.replace(/\r+|\n+/g,"").indexOf(J.split(" ")[0])===0})('@font-face { font-family: "font"; src: url(data:,); }');c.removeChild(A);return S};E.video=function(){var N=h.createElement("video"),S=!!N.canPlayType;if(S){S=new Boolean(S);S.ogg=N.canPlayType('video/ogg; codecs="theora"');S.h264=N.canPlayType('video/mp4; codecs="avc1.42E01E"')||N.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"');S.webm=N.canPlayType('video/webm; codecs="vp8, vorbis"')}return S};
E.audio=function(){var N=h.createElement("audio"),S=!!N.canPlayType;S&&(S=new Boolean(S),S.ogg=N.canPlayType('audio/ogg; codecs="vorbis"'),S.mp3=N.canPlayType("audio/mpeg;"),S.wav=N.canPlayType('audio/wav; codecs="1"'),S.m4a=N.canPlayType("audio/x-m4a;")||N.canPlayType("audio/aac;"));return S};E.localstorage=function(){try{return!!localStorage.getItem}catch(N){return false}};E.sessionstorage=function(){try{return!!sessionStorage.getItem}catch(N){return false}};E.webWorkers=function(){return!!i.Worker};
E.applicationcache=function(){return!!i.applicationCache};E.svg=function(){return!!h.createElementNS&&!!h.createElementNS(w.svg,"svg").createSVGRect};E.inlinesvg=function(){var N=h.createElement("div");N.innerHTML="<svg/>";return(N.firstChild&&N.firstChild.namespaceURI)==w.svg};E.smil=function(){return!!h.createElementNS&&/SVG/.test(ka.call(h.createElementNS(w.svg,"animate")))};E.svgclippaths=function(){return!!h.createElementNS&&/SVG/.test(ka.call(h.createElementNS(w.svg,"clipPath")))};for(var X in E)Va(E,
X)&&(ea=X.toLowerCase(),G[ea]=E[X](),V.push((G[ea]?"":"no-")+ea));G.input||o();G.crosswindowmessaging=G.postmessage;G.historymanagement=G.history;G.addTest=function(N,S){N=N.toLowerCase();if(!G[N]){S=!!S();C.className+=" "+(S?"":"no-")+N;G[N]=S;return G}};T.cssText="";M=ja=null;i.attachEvent&&function(){var N=h.createElement("div");N.innerHTML="<elem></elem>";return N.childNodes.length!==1}()&&function(N,S){function c(Z,da){for(var ra=-1,sa=Z.length,Ia,fb=[];++ra<sa;){Ia=Z[ra];(da=Ia.media||da)!=
"screen"&&fb.push(c(Ia.imports,da),Ia.cssText)}return fb.join("")}function A(Z){for(var da=-1;++da<K;)Z.createElement(J[da])}var J="abbr|article|aside|audio|canvas|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video".split("|"),K=J.length,Q=new RegExp("(^|\\s)(abbr|article|aside|audio|canvas|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video)","gi"),ha=new RegExp("<(/*)(abbr|article|aside|audio|canvas|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video)",
"gi"),ga=new RegExp("(^|[^\\n]*?\\s)(abbr|article|aside|audio|canvas|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video)([^\\n]*)({[\\n\\w\\W]*?})","gi"),za=S.createDocumentFragment(),Ea=S.documentElement,ta=Ea.firstChild,Ja=S.createElement("body"),F=S.createElement("style"),ca;A(S);A(za);ta.insertBefore(F,ta.firstChild);F.media="print";N.attachEvent("onbeforeprint",function(){var Z=-1,da=c(S.styleSheets,"all"),ra=[],sa;for(ca=ca||S.body;(sa=ga.exec(da))!=
null;)ra.push((sa[1]+sa[2]+sa[3]).replace(Q,"$1.iepp_$2")+sa[4]);for(F.styleSheet.cssText=ra.join("\n");++Z<K;){da=S.getElementsByTagName(J[Z]);ra=da.length;for(sa=-1;++sa<ra;)da[sa].className.indexOf("iepp_")<0&&(da[sa].className+=" iepp_"+J[Z])}za.appendChild(ca);Ea.appendChild(Ja);Ja.className=ca.className;Ja.innerHTML=ca.innerHTML.replace(ha,"<$1font")});N.attachEvent("onafterprint",function(){Ja.innerHTML="";Ea.removeChild(Ja);Ea.appendChild(ca);F.styleSheet.cssText=""})}(i,h);G._enableHTML5=
true;G._version="1.7";C.className=C.className.replace(/\bno-js\b/,"")+" js "+V.join(" ");return G}(this,this.document);
var Model=function(i,h){var j=function(o){this.attributes=jQuery.extend({},o);this.changes={};this.errors=new Model.Errors(this);this.uid=[i,Model.UID.generate()].join("-");jQuery.isFunction(this.initialize)&&this.initialize()};Model.Module.extend.call(j,Model.Module);j._name=i;j.collection=[];j.unique_key="id";j.extend(Model.Callbacks).extend(Model.ClassMethods);j.prototype=new Model.Base;j.prototype.constructor=j;jQuery.isFunction(h)&&h.call(j,j,j.prototype);return j};
Model.Callbacks={bind:function(i,h){this.callbacks=this.callbacks||{};this.callbacks[i]=this.callbacks[i]||[];this.callbacks[i].push(h);return this},trigger:function(i,h){this.callbacks=this.callbacks||{};var j=this.callbacks[i];if(j)for(var o=0;o<j.length;o++)j[o].apply(this,h||[]);return this},unbind:function(i,h){this.callbacks=this.callbacks||{};if(h)for(var j=this.callbacks[i]||[],o=0;o<j.length;o++)j[o]===h&&this.callbacks[i].splice(o,1);else delete this.callbacks[i];return this}};
Model.ClassMethods={add:function(i){var h=i.id();if(jQuery.inArray(i,this.collection)===-1&&!(h&&this.find(h))){this.collection.push(i);this.trigger("add",[i])}return this},all:function(){return this.collection.slice()},chain:function(i){return jQuery.extend({},this,{collection:i})},count:function(){return this.all().length},detect:function(i){for(var h=this.all(),j,o=0,t=h.length;o<t;o++){j=h[o];if(i.call(j,j,o))return j}},each:function(i,h){for(var j=this.all(),o=0,t=j.length;o<t;o++)i.call(h||
j[o],j[o],o,j);return this},find:function(i){return this.detect(function(){return this.id()==i})},first:function(){return this.all()[0]},load:function(i){if(this._persistence){var h=this;this._persistence.read(function(j){for(var o=0,t=j.length;o<t;o++)h.add(j[o]);i&&i.call(h,j)})}return this},last:function(){var i=this.all();return i[i.length-1]},map:function(i,h){for(var j=this.all(),o=[],t=0,u=j.length;t<u;t++)o.push(i.call(h||j[t],j[t],t,j));return o},persistence:function(i){if(arguments.length==
0)return this._persistence;else{var h=Array.prototype.slice.call(arguments,1);h.unshift(this);this._persistence=i.apply(i,h);return this}},pluck:function(i){for(var h=this.all(),j=[],o=0,t=h.length;o<t;o++)j.push(h[o].attr(i));return j},remove:function(i){for(var h,j=0,o=this.collection.length;j<o;j++)if(this.collection[j]===i){h=j;break}if(h!=undefined){this.collection.splice(h,1);this.trigger("remove",[i]);return true}else return false},reverse:function(){return this.chain(this.all().reverse())},
select:function(i,h){for(var j=this.all(),o=[],t,u=0,x=j.length;u<x;u++){t=j[u];if(i.call(h||t,t,u,j))o.push(t)}return this.chain(o)},sort:function(i){return this.chain(this.all().sort(i))},sortBy:function(i){var h=jQuery.isFunction(i);return this.sort(function(j,o){var t=h?i.call(j):j.attr(i),u=h?i.call(o):o.attr(i);return t<u?-1:t>u?1:0})},use:function(i){var h=Array.prototype.slice.call(arguments,1);h.unshift(this);i.apply(this,h);return this}};
Model.Errors=function(i){this.errors={};this.model=i};Model.Errors.prototype={add:function(i,h){this.errors[i]||(this.errors[i]=[]);this.errors[i].push(h);return this},all:function(){return this.errors},clear:function(){this.errors={};return this},each:function(i){for(var h in this.errors)for(var j=0;j<this.errors[h].length;j++)i.call(this,h,this.errors[h][j]);return this},on:function(i){return this.errors[i]||[]},size:function(){var i=0;this.each(function(){i++});return i}};
Model.InstanceMethods={asJSON:function(){return this.attr()},attr:function(i,h){if(arguments.length===0)return jQuery.extend({},this.attributes,this.changes);else if(arguments.length===2){if(this.attributes[i]===h)delete this.changes[i];else this.changes[i]=h;return this}else if(typeof i==="object"){for(var j in i)this.attr(j,i[j]);return this}else return i in this.changes?this.changes[i]:this.attributes[i]},callPersistMethod:function(i,h){var j=this,o=function(t){if(t){j.merge(j.changes).reset();
i==="destroy"?j.constructor.remove(j):j.constructor.add(j);j.trigger(i)}var u;if(h)u=h.apply(j,arguments);return u};this.constructor._persistence?this.constructor._persistence[i](this,o):o.call(this,true)},destroy:function(i){this.callPersistMethod("destroy",i);return this},id:function(){return this.attributes[this.constructor.unique_key]},merge:function(i){jQuery.extend(this.attributes,i);return this},newRecord:function(){return this.id()===undefined},reset:function(){this.errors.clear();this.changes=
{};return this},save:function(i){if(this.valid())this.callPersistMethod(this.newRecord()?"create":"update",i);else i&&i(false);return this},valid:function(){this.errors.clear();this.validate();return this.errors.size()===0},validate:function(){return this}};
Model.localStorage=function(i){if(!window.localStorage)return{create:function(t,u){u(true)},destroy:function(t,u){u(true)},read:function(t){t([])},update:function(t,u){u(true)}};var h=[i._name,"collection"].join("-"),j=function(){var t=localStorage[h];return t?JSON.parse(t):[]},o=function(t){localStorage.setItem(t.uid,JSON.stringify(t.asJSON()));t=t.uid;var u=j();if(jQuery.inArray(t,u)===-1){u.push(t);localStorage.setItem(h,JSON.stringify(u))}};return{create:function(t,u){o(t);u(true)},destroy:function(t,
u){localStorage.removeItem(t.uid);var x=t.uid,G=j();x=jQuery.inArray(x,G);if(x>-1){G.splice(x,1);localStorage.setItem(h,JSON.stringify(G))}u(true)},read:function(t){if(!t)return false;for(var u=i.map(function(){return this.uid}),x=j(),G=[],C,z,M=0,T=x.length;M<T;M++){z=x[M];if(jQuery.inArray(z,u)==-1){C=JSON.parse(localStorage[z]);C=new i(C);C.uid=z;G.push(C)}}t(G)},update:function(t,u){o(t);u(true)}}};Model.Log=function(){window.console&&window.console.log.apply(window.console,arguments)};
Model.Module={extend:function(i){jQuery.extend(this,i);return this},include:function(i){jQuery.extend(this.prototype,i);return this}};
Model.REST=function(i,h,j){var o=/:([\w\d]+)/g,t=function(){for(var u=[],x;(x=o.exec(h))!==null;)u.push(x[1]);return u}();return jQuery.extend({path:function(u){var x=h;jQuery.each(t,function(G,C){x=x.replace(":"+C,u.attributes[C])});return x},create:function(u,x){return this.xhr("POST",this.create_path(u),u,x)},create_path:function(u){return this.path(u)},destroy:function(u,x){return this.xhr("DELETE",this.destroy_path(u),u,x)},destroy_path:function(u){return this.update_path(u)},params:function(u){var x;
if(u){var G=u.asJSON();delete G[u.constructor.unique_key];x={};x[u.constructor._name.toLowerCase()]=G}else x=null;if(jQuery.ajaxSettings.data)x=jQuery.extend({},jQuery.ajaxSettings.data,x);return x},read:function(u){return this.xhr("GET",this.read_path(),null,function(x,G,C){C=jQuery.makeArray(C);x=[];G=0;for(var z=C.length;G<z;G++)x.push(new i(C[G]));u(x)})},read_path:function(){return h},update:function(u,x){return this.xhr("PUT",this.update_path(u),u,x)},update_path:function(u){return[this.path(u),
u.id()].join("/")},xhr:function(u,x,G,C){var z=this,M=u=="GET"?undefined:this.params(G);console.log(M);console.log(u);return jQuery.ajax({type:u,url:x+".json",dataType:"json",data:M,dataFilter:function(T){return/\S/.test(T)?T:undefined},complete:function(T,ja){z.xhrComplete(T,ja,G,C)}})},xhrComplete:function(u,x,G,C){var z=Model.REST["handle"+u.status];z&&z.call(this,u,x,G);x=x==="success";z=Model.REST.parseResponseData(u);x&&G&&z&&G.attr(z);C&&C.call(G,x,u,z)}},j)};Model.RestPersistence=Model.REST;
Model.REST.handle422=function(i,h,j){if(i=Model.REST.parseResponseData(i)){j.errors.clear();for(var o in i)for(h=0;h<i[o].length;h++)j.errors.add(o,i[o][h])}};Model.REST.parseResponseData=function(i){try{return/\S/.test(i.responseText)?jQuery.parseJSON(i.responseText):undefined}catch(h){Model.Log(h)}};Model.UID={counter:0,generate:function(){return[(new Date).valueOf(),this.counter++].join("-")},reset:function(){this.counter=0;return this}};Model.VERSION="0.10.1";
Model.Base=function(){function i(){}i.prototype=jQuery.extend({},Model.Callbacks,Model.InstanceMethods);return i}();
Model.SinatraREST=function(i,h,j){var o=/:([\w\d]+)/g,t=function(){for(var u=[],x;(x=o.exec(h))!==null;)u.push(x[1]);return u}();return jQuery.extend({path:function(u){var x=h;jQuery.each(t,function(G,C){x=x.replace(":"+C,u.attributes[C])});return x},create:function(u,x){return this.xhr("POST",this.create_path(u),u,x)},create_path:function(u){return this.path(u)},destroy:function(u,x){return this.xhr("DELETE",this.destroy_path(u),u,x)},destroy_path:function(u){return this.update_path(u)},params:function(u){var x;
if(u){var G=u.asJSON();delete G[u.constructor.unique_key];x={};x[u.constructor._name.toLowerCase()]=G}else x=null;if(jQuery.ajaxSettings.data)x=jQuery.extend({},jQuery.ajaxSettings.data,x);return x},read:function(u){return this.xhr("GET",this.read_path(),null,function(x,G,C){C=jQuery.makeArray(C);x=[];G=0;for(var z=C.length;G<z;G++)x.push(new i(C[G]));u(x)})},read_path:function(){return h},update:function(u,x){return this.xhr("PUT",this.update_path(u),u,x)},update_path:function(u){return[this.path(u),
u.id()].join("/")},xhr:function(u,x,G,C){var z=this,M=u=="GET"?undefined:this.params(G);return jQuery.ajax({type:u,url:x+".json",dataType:"json",data:M,complete:function(T,ja){z.xhrComplete(T,ja,G,C)}})},xhrComplete:function(u,x,G,C){var z=Model.REST["handle"+u.status];z&&z.call(this,u,x,G);x=x==="success";z=Model.REST.parseResponseData(u);x&&G&&z&&G.attr(z);C&&C.call(G,x,u,z)}},j)};
var CodeMirror=function(){function i(c,A){function J(a){Ya=null;var b={line:0,ch:0};ha(b,{line:U.length-1,ch:U[U.length-1].text.length},X(a),b,b);Ya=new x}function K(){if(la.readOnly!="nocursor"){!bb&&la.onFocus&&la.onFocus(Qa);bb=true;ra();if(va.className.search(/\bCodeMirror-focused\b/)==-1)va.className+=" CodeMirror-focused";dc()}}function Q(){bb&&la.onBlur&&la.onBlur(Qa);clearInterval($b);Ta=null;bb=false;va.className=va.className.replace(" CodeMirror-focused","")}function ha(a,b,d,e,f){if(Ya){for(var g=
[],k=a.line,n=b.line+1;k<n;++k)g.push(U[k].text);for(Ya.addChange(a.line,d.length,g);Ya.done.length>la.undoDepth;)Ya.done.shift()}ta(a,b,d,e,f)}function ga(a,b){var d=a.pop();if(d){for(var e=[],f=d.start+d.added,g=d.start;g<f;++g)e.push(U[g].text);b.push({start:d.start,added:d.old.length,old:e});g=d.start+d.old.length-1;e=e[e.length-1];var k=d.old[d.old.length-1];if(k)if(e){for(var n=e.length,r=k.length;n>=0&&r>=0;--n,--r)if(e.charAt(n)!=k.charAt(r))break;e=r+1}else e=k.length;else e=e?e.length:0;
g=Ha({line:g,ch:e});ta({line:d.start,ch:0},{line:f-1,ch:U[f-1].text.length},d.old,g,g)}}function za(){ga(Ya.done,Ya.undone)}function Ea(){ga(Ya.undone,Ya.done)}function ta(a,b,d,e,f){for(var g=false,k=xb.length,n=a.line;n<b.line;++n)if(U[n].text.length==k){g=true;break}var r=b.line-a.line;n=U[a.line];var q=U[b.line];if(n==q)if(d.length==1)n.replace(a.ch,b.ch,d[0]);else{q=n.split(b.ch,d[d.length-1]);var y=[a.line+1,r];n.replace(a.ch,n.text.length,d[0]);n=1;for(var W=d.length-1;n<W;++n)y.push(new t(d[n]));
y.push(q);U.splice.apply(U,y)}else if(d.length==1){n.replace(a.ch,n.text.length,d[0]+q.text.slice(b.ch));U.splice(a.line+1,r)}else{y=[a.line+1,r-1];n.replace(a.ch,n.text.length,d[0]);q.replace(0,b.ch,d[d.length-1]);n=1;for(W=d.length-1;n<W;++n)y.push(new t(d[n]));U.splice.apply(U,y)}n=a.line;for(W=n+d.length;n<W;++n){q=U[n].text;if(q.length>k){xb=q;k=q.length;g=false}}if(g){n=k=0;for(W=U.length;n<W;++n){q=U[n].text;if(q.length>k){k=q.length;xb=q}}}g=[];r=d.length-r-1;n=0;for(q=db.length;n<q;++n){k=
db[n];if(k<a.line)g.push(k);else k>b.line&&g.push(k+r)}d.length&&g.push(a.line);db=g;Wb(100);Oa.push({from:a.line,to:b.line+1,diff:r});Eb={from:a,to:b,text:d};sb(e,f,P.from.line<=Math.min(b.line,b.line+r)?P.from.line:P.from.line+r,P.to.line<=Math.min(b.line,b.line+r)?P.to.line:P.to.line+r);gb.style.height=U.length*$a()+2*Xa.offsetTop+"px"}function Ja(a,b,d){function e(g){if(l(g,b))return g;if(!l(d,g))return f;var k=g.line+a.length-(d.line-b.line)-1,n=g.ch;if(g.line==d.line)n+=a[a.length-1].length-
(d.ch-(d.line==b.line?b.ch:0));return{line:k,ch:n}}b=Ha(b);d=d?Ha(d):b;a=X(a);var f;ca(a,b,d,function(g){f=g;return{from:e(P.from),to:e(P.to)}});return f}function F(a,b){ca(X(a),P.from,P.to,function(d){return b=="end"?{from:d,to:d}:b=="start"?{from:P.from,to:P.from}:{from:P.from,to:d}})}function ca(a,b,d,e){e=e({line:b.line+a.length-1,ch:a.length==1?a[0].length+b.ch:a[a.length-1].length});ha(b,d,a,e.from,e.to)}function Z(a,b){var d=a.line,e=b.line;if(d==e)return U[d].text.slice(a.ch,b.ch);var f=[U[d].text.slice(a.ch)];
for(d=d+1;d<e;++d)f.push(U[d].text);f.push(U[e].text.slice(0,b.ch));return f.join("\n")}function da(){return Z(P.from,P.to)}function ra(){Fb||Kb.set(2E3,function(){Jb();Ia();bb&&ra();Xb()})}function sa(a){function b(){Jb();var e=Ia();if(e=="moved"&&a)La[a]=true;if(!e&&!d){d=true;Kb.set(80,b)}else{Fb=false;ra()}Xb()}var d=false;Fb=true;Kb.set(20,b)}function Ia(){function a(Fa,ya){for(var Ga=0;;){var Ra=d.indexOf("\n",Ga);if(Ra==-1||(d.charAt(Ra-1)=="\r"?Ra-1:Ra)>=Fa)return{line:ya,ch:Fa-Ga};++ya;Ga=
Ra+1}}if(!hb){var b=false,d=Da.value,e=N(Da);if(!e)return false;b=Pa.text!=d;var f=Za,g=b||e.start!=Pa.start||e.end!=(f?Pa.start:Pa.end);if(!g&&!f)return false;if(b){Ta=Za=null;if(la.readOnly){eb=true;return"changed"}}var k=a(e.start,Pa.from),n=a(e.end,Pa.from);if(f){k=e.start==f.anchor?n:k;n=Ta?P.to:e.start==f.anchor?k:n;if(!l(k,n)){Za=null;P.inverted=false;f=k;k=n;n=f}}if(k.line==n.line&&k.line==P.from.line&&k.line==P.to.line&&!Ta)eb=false;if(b){f=0;for(var r=d.length,q=Math.min(r,Pa.text.length),
y,W=Pa.from,ia=-1;f<q&&(y=d.charAt(f))==Pa.text.charAt(f);){++f;if(y=="\n"){W++;ia=f}}q=ia>-1?f-ia:f;for(var ma=Pa.to-1,pa=Pa.text.length;;){y=Pa.text.charAt(pa);y=="\n"&&ma--;if(d.charAt(r)!=y){++r;++pa;break}if(pa<=f||r<=f)break;--r;--pa}ia=Pa.text.lastIndexOf("\n",pa-1);ha({line:W,ch:q},{line:ma,ch:ia==-1?pa:pa-ia-1},X(d.slice(f,r)),k,n);if(W!=ma||k.line!=W)eb=true}else sb(k,n);Pa.text=d;Pa.start=e.start;Pa.end=e.end;return b?"changed":g?"moved":false}}function fb(){for(var a=[],b=Math.max(0,P.from.line-
1),d=Math.min(U.length,P.to.line+2),e=b;e<d;++e)a.push(U[e].text);a=Da.value=a.join(ea);var f=P.from.ch,g=P.to.ch;for(e=b;e<P.from.line;++e)f+=ea.length+U[e].text.length;for(e=b;e<P.to.line;++e)g+=ea.length+U[e].text.length;Pa={text:a,from:b,to:d,start:f,end:g};S(Da,f,Za?f:g)}function kb(){la.readOnly!="nocursor"&&Da.focus()}function zb(){var a=Ub(P.inverted?P.from:P.to);return Pb(a.x,a.y,a.x,a.yBot)}function Pb(a,b,d,e){var f=Xa.offsetLeft,g=Xa.offsetTop,k=$a();b+=g;e+=g;a+=f;d+=f;var n=va.clientHeight,
r=va.scrollTop;f=false;g=true;if(b<r){va.scrollTop=Math.max(0,b-2*k);f=true}else if(e>r+n){va.scrollTop=e+k-n;f=true}b=va.clientWidth;e=va.scrollLeft;if(a<e){va.scrollLeft=Math.max(0,a-10);f=true}else if(d>b+e){va.scrollLeft=d+10-b;f=true;if(d>gb.clientWidth)g=false}f&&la.onScroll&&la.onScroll(Qa);return g}function Qb(){var a=$a(),b=va.scrollTop-Xa.offsetTop;return{from:Math.min(U.length,Math.max(0,Math.floor(b/a))),to:Math.min(U.length,Math.ceil((b+va.clientHeight)/a))}}function lb(a){if(va.clientWidth){for(var b=
a===true?[]:[{from:Ka,to:Ma,domStart:0}],d=0,e=a.length||0;d<e;++d){for(var f=a[d],g=[],k=f.diff||0,n=0,r=b.length;n<r;++n){var q=b[n];if(f.to<=q.from)g.push({from:q.from+k,to:q.to+k,domStart:q.domStart});else if(q.to<=f.from)g.push(q);else{f.from>q.from&&g.push({from:q.from,to:f.from,domStart:q.domStart});f.to<q.to&&g.push({from:f.to+k,to:q.to+k,domStart:q.domStart+(f.to-q.from)})}}b=g}k=Qb();f=Math.min(Ka,Math.max(k.from-3,0));g=Math.min(U.length,Math.max(Ma,k.to+3));a=[];n=0;r=Ma-Ka;var y=f,W=
0;d=0;for(e=b.length;d<e;++d){q=b[d];if(!(q.to<=f)){if(q.from>=g)break;if(q.domStart>n||q.from>y){a.push({from:y,to:q.from,domSize:q.domStart-n,domStart:n});W+=q.from-y}y=q.to;n=q.domStart+(q.to-q.from)}}if(n!=r||y!=g){W+=Math.abs(g-y);a.push({from:y,to:g,domSize:r-n,domStart:n})}if(a.length){Sa.style.display="none";if(W>(k.to-k.from)*0.3){q=f=Math.max(k.from-10,0);b=g=Math.min(k.to+7,U.length);d=[];e={line:q,ch:0};e=l(P.from,e)&&!l(P.to,e);for(q=q;q<b;++q){n=k=null;if(e){k=0;if(P.to.line==q){e=false;
n=P.to.ch}}else if(P.from.line==q)if(P.to.line==q){k=P.from.ch;n=P.to.ch}else{e=true;k=P.from.ch}d.push(U[q].getHTML(k,n,true))}Sa.innerHTML=d.join("")}else{b=P.from.line;d=P.to.line;e=0;q=na&&ab.createElement("div");k=0;for(n=a.length;k<n;++k){r=a[k];y=r.to-r.from-r.domSize;W=Sa.childNodes[r.domStart+r.domSize+e]||null;if(na)for(var ia=Math.max(-y,r.domSize);ia>0;--ia)Sa.removeChild(W?W.previousSibling:Sa.lastChild);else if(y){for(ia=Math.max(0,y);ia>0;--ia)Sa.insertBefore(ab.createElement("pre"),
W);for(ia=Math.max(0,-y);ia>0;--ia)Sa.removeChild(W?W.previousSibling:Sa.lastChild)}var ma=Sa.childNodes[r.domStart+e],pa=b<r.from&&d>=r.from;for(ia=r.from;ia<r.to;++ia){var Fa=null,ya=null;if(pa){Fa=0;if(d==ia){pa=false;ya=P.to.ch}}else if(b==ia)if(d==ia){Fa=P.from.ch;ya=P.to.ch}else{pa=true;Fa=P.from.ch}if(na){q.innerHTML=U[ia].getHTML(Fa,ya,true);Sa.insertBefore(q.firstChild,W)}else{ma.innerHTML=U[ia].getHTML(Fa,ya,false);ma.className=U[ia].className||"";ma=ma.nextSibling}}e+=y}}Sa.style.display=
"";b=f!=Ka||g!=Ma||rb!=va.clientHeight;Ka=f;Ma=g;Yb.style.top=f*$a()+"px";if(b){rb=va.clientHeight;gb.style.height=U.length*$a()+2*Xa.offsetTop+"px";Ab()}f=Ib(xb);Xa.style.width=f>va.clientWidth?f+"px":"";if(Sa.childNodes.length!=Ma-Ka)throw new Error("BAD PATCH! "+JSON.stringify(a)+" size="+(Ma-Ka)+" nodes="+Sa.childNodes.length);Bb()}}else Ka=Ma=0}function Ab(){if(la.gutter||la.lineNumbers){var a=Yb.offsetHeight,b=va.clientHeight;jb.style.height=(a-b<2?b:a)+"px";a=[];for(b=Ka;b<Ma;++b){var d=U[b].gutterMarker,
e=la.lineNumbers?b+la.firstLineNumber:null;if(d&&d.text)e=d.text.replace("%N%",e!=null?e:"");else if(e==null)e="\u00a0";a.push(d&&d.style?'<pre class="'+d.style+'">':"<pre>",e,"</pre>")}jb.style.display="none";Cb.innerHTML=a.join("");a=String(U.length).length;b=Cb.firstChild;d=b.textContent||b.innerText||b.nodeValue||"";for(e="";d.length+e.length<a;)e+="\u00a0";e&&b.insertBefore(ab.createTextNode(e),b.firstChild);jb.style.display="";Xa.style.marginLeft=jb.offsetWidth+"px"}}function Bb(){var a=P.inverted?
P.from:P.to,b=Sb(a.line,a.ch)+"px";a=(a.line-Ka)*$a()+"px";Zb.style.top=a;if(ka(P.from,P.to)){qb.style.top=a;qb.style.left=b;qb.style.display=""}else qb.style.display="none"}function nb(a,b){var d=Ta&&Ha(Ta);if(d)if(l(d,a))a=d;else if(l(b,d))b=d;sb(a,b)}function sb(a,b,d,e){if(!(ka(P.from,a)&&ka(P.to,b))){if(l(b,a)){var f=b;b=a;a=f}f=ka(P.to,b);var g=ka(P.from,a);if(ka(a,b))P.inverted=false;else if(f&&!g)P.inverted=true;else if(g&&!f)P.inverted=false;if(d==null){d=P.from.line;e=P.to.line}if(ka(a,
b))ka(P.from,P.to)||Oa.push({from:d,to:e+1});else if(ka(P.from,P.to))Oa.push({from:a.line,to:b.line+1});else{ka(a,P.from)||(a.line<d?Oa.push({from:a.line,to:Math.min(b.line,d)+1}):Oa.push({from:d,to:Math.min(e,a.line)+1}));ka(b,P.to)||(b.line<e?Oa.push({from:Math.max(d,a.line),to:e+1}):Oa.push({from:Math.max(a.line,e),to:b.line+1}))}P.from=a;P.to=b;mb=true}}function tb(a,b,d){a=Ha({line:a,ch:b||0});(d?nb:sb)(a,a)}function ub(a){return Math.max(0,Math.min(a,U.length-1))}function Ha(a){if(a.line<0)return{line:0,
ch:0};if(a.line>=U.length)return{line:U.length-1,ch:U[U.length-1].text.length};var b=a.ch,d=U[a.line].text.length;return b==null||b>d?{line:a.line,ch:d}:b<0?{line:a.line,ch:0}:a}function mc(a){nb({line:a,ch:0},{line:a,ch:U[a].text.length})}function ob(a,b){if(b=="smart")if(Ua.indent)var d=hc(a);else b="prev";var e=U[a],f=e.indentation(),g=e.text.match(/^\s*/)[0],k;if(b=="prev")k=a?U[a-1].indentation():0;else if(b=="smart")k=Ua.indent(d,e.text.slice(g.length));else if(b=="add")k=f+la.indentUnit;else if(b==
"subtract")k=f-la.indentUnit;k=Math.max(0,k);if(k-f){f="";d=0;if(la.indentWithTabs)for(e=Math.floor(k/fa);e;--e){d+=fa;f+="\t"}for(;d<k;){++d;f+=" "}}else{if(P.from.line!=a&&P.to.line!=a)return;f=g}Ja(f,{line:a,ch:0},{line:a,ch:g.length})}function ec(){Ua=i.getMode(la,la.mode);for(var a=0,b=U.length;a<b;++a)U[a].stateAfter=null;db=[0];Wb()}function Rb(a,b,d){function e(n,r,q,y){n=U[n];r=n.addMark(r,q,y);r.line=n;f.push(r)}a=Ha(a);b=Ha(b);var f=[];if(a.line==b.line)e(a.line,a.ch,b.ch,d);else{e(a.line,
a.ch,null,d);for(var g=a.line+1,k=b.line;g<k;++g)e(g,0,null,d);e(b.line,0,b.ch,d)}Oa.push({from:a.line,to:b.line+1});return function(){for(var n,r,q=0;q<f.length;++q){var y=f[q],W=w(U,y.line);y.line.removeMark(y);if(W>-1){if(n==null)n=W;r=W}}n!=null&&Oa.push({from:n,to:r+1})}}function Ib(a){cb.innerHTML="<pre><span>x</span></pre>";cb.firstChild.firstChild.firstChild.nodeValue=a;return cb.firstChild.firstChild.offsetWidth||10}function Sb(a,b){if(b==0)return 0;cb.innerHTML="<pre><span>"+U[a].getHTML(null,
null,false,b)+"</span></pre>";return cb.firstChild.firstChild.offsetWidth}function Tb(a,b){function d(y){cb.innerHTML="<pre><span>"+e.getHTML(null,null,false,y)+"</span></pre>";return cb.firstChild.firstChild.offsetWidth}if(b<=0)return 0;for(var e=U[a],f=0,g=0,k=e.text.length,n,r=Math.min(k,Math.ceil(b/Ib("x")));;){var q=d(r);if(q<=b&&r<k)r=Math.min(k,Math.ceil(r*1.2));else{n=q;k=r;break}}if(b>n)return k;r=Math.floor(k*0.8);q=d(r);if(q<b){f=r;g=q}for(;;){if(k-f<=1)return n-b>b-g?f:k;r=Math.ceil((f+
k)/2);q=d(r);if(q>b){k=r;n=q}else{f=r;g=q}}}function Ub(a,b){var d=$a(),e=a.line-(b?Ka:0);return{x:Sb(a.line,a.ch),y:e*d,yBot:(e+1)*d}}function fc(a){a=Ub(a,true);var b=oa(Xa);return{x:b.left+a.x,y:b.top+a.y,yBot:b.top+a.yBot}}function $a(){var a=Sa.childNodes.length;if(a)return Sa.offsetHeight/a||1;cb.innerHTML="<pre>x</pre>";return cb.firstChild.offsetHeight||1}function pb(a,b){var d=oa(va,true),e=a.e.clientX,f=a.e.clientY;if(!b&&(e-d.left>va.clientWidth||f-d.top>va.clientHeight))return null;d=
oa(Xa,true);f=Ka+Math.floor((f-d.top)/$a());return Ha({line:f,ch:Tb(ub(f),e-d.left)})}function gc(a){function b(){Da.value!=f&&Ba(F)(Da.value,"end");Da.style.cssText=e;hb=false;fb();ra()}var d=pb(a);if(!(!d||window.opera)){if(ka(P.from,P.to)||l(d,P.from)||!l(d,P.to))tb(d.line,d.ch);var e=Da.style.cssText;Da.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(a.pageY()-1)+"px; left: "+(a.pageX()-1)+"px; z-index: 1000; background: white; border-width: 0; outline: none; overflow: hidden;";
var f=Da.value=da();kb();S(Da,0,Da.value.length);hb=true;if(V){a.stop();var g=M(window,"mouseup",function(){g();setTimeout(b,20)},true)}else setTimeout(b,50)}}function dc(){clearInterval($b);var a=true;qb.style.visibility="";$b=setInterval(function(){qb.style.visibility=(a=!a)?"":"hidden"},650)}function Wa(a){function b(ya,Ga,Ra){if(ya.text){var m=ya.styles;ya=k?0:ya.text.length-1;for(var s,D=k?0:m.length-2,H=k?m.length:-2;D!=H;D+=2*n){var B=m[D];if(m[D+1]!=null&&m[D+1]!=W)ya+=n*B.length;else for(var I=
k?0:B.length-1,R=k?B.length:-1;I!=R;I+=n,ya+=n)if(ya>=Ga&&ya<Ra&&ma.test(s=B.charAt(I))){var aa=bc[s];if(aa.charAt(1)==">"==k)ia.push(s);else if(ia.pop()!=aa.charAt(0))return{pos:ya,match:false};else if(!ia.length)return{pos:ya,match:true}}}}}var d=P.inverted?P.from:P.to,e=U[d.line],f=d.ch-1,g=f>=0&&bc[e.text.charAt(f)]||bc[e.text.charAt(++f)];if(g){g.charAt(0);var k=g.charAt(1)==">",n=k?1:-1,r=e.styles,q=f+1;g=0;for(var y=r.length;g<y;g+=2)if((q-=r[g].length)<=0){var W=r[g+1];break}var ia=[e.text.charAt(f)],
ma=/[(){}[\]]/;g=d.line;for(y=k?Math.min(g+50,U.length):Math.max(-1,g-50);g!=y;g+=n){e=U[g];r=g==d.line;if(e=b(e,r&&k?f+1:0,r&&!k?f:e.text.length)){W=e.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";var pa=Rb({line:d.line,ch:f},{line:d.line,ch:f+1},W),Fa=Rb({line:g,ch:e.pos},{line:g,ch:e.pos+1},W);d=Ba(function(){pa();Fa()});if(a)setTimeout(d,800);else ib=d;break}}}}function Vb(a){for(var b,d,e=a;e>a-40;--e){if(e==0)return 0;var f=U[e-1];if(f.stateAfter)return e;f=f.indentation();
if(d==null||b>f){d=e;b=f}}return d}function hc(a){var b=Vb(a),d=b&&U[b-1].stateAfter;d=d?h(Ua,d):j(Ua);for(b=b;b<a;++b){var e=U[b];e.highlight(Ua,d);e.stateAfter=h(Ua,d)}U[a].stateAfter||db.push(a);return d}function nc(){for(var a=+new Date+la.workTime,b=false;db.length;){var d=U[Ka].stateAfter?db.pop():Ka;if(!(d>=U.length)){b=true;var e=Vb(d),f=e&&U[e-1].stateAfter;f=f?h(Ua,f):j(Ua);e=e;for(var g=U.length;e<g;++e){var k=U[e],n=k.stateAfter;if(+new Date>a){db.push(e);Wb(la.workDelay);Oa.push({from:d,
to:e});return}var r=k.highlight(Ua,f);k.stateAfter=h(Ua,f);if(n&&!r&&k.text)break}Oa.push({from:d,to:e})}}b&&la.onHighlightComplete&&la.onHighlightComplete(Qa)}function Wb(a){db.length&&oc.set(a,Ba(nc))}function Jb(){eb=null;Oa=[];Eb=mb=false}function Xb(){var a=false;if(mb)a=!zb();if(Oa.length)lb(Oa);else mb&&Bb();a&&zb();mb&&dc();if(!hb&&(eb===true||eb!==false&&mb))fb();mb&&la.matchBrackets&&setTimeout(Ba(function(){if(ib){ib();ib=null}Wa(false)}),20);a=Eb;mb&&la.onCursorActivity&&la.onCursorActivity(Qa);
a&&la.onChange&&Qa&&la.onChange(Qa,a)}function Ba(a){return function(){cc++||Jb();try{var b=a.apply(this,arguments)}finally{--cc||Xb()}return b}}function ic(a,b,d){this.atOccurrence=false;if(d==null)d=typeof a=="string"&&a==a.toLowerCase();b=b&&typeof b=="object"?Ha(b):{line:0,ch:0};this.pos={from:b,to:b};if(typeof a!="string")this.matches=function(g,k){if(g)for(var n=U[k.line].text.slice(0,k.ch),r=n.match(a),q=0;r;){var y=n.indexOf(r[0]);q+=y;n=n.slice(y+1);if(y=n.match(a))r=y;else break;q++}else{n=
U[k.line].text.slice(k.ch);q=(r=n.match(a))&&k.ch+n.indexOf(r[0])}if(r)return{from:{line:k.line,ch:q},to:{line:k.line,ch:q+r[0].length},match:r}};else{if(d)a=a.toLowerCase();var e=d?function(g){return g.toLowerCase()}:function(g){return g},f=a.split("\n");this.matches=f.length==1?function(g,k){var n=e(U[k.line].text),r=a.length,q;if(g?k.ch>=r&&(q=n.lastIndexOf(a,k.ch-r))!=-1:(q=n.indexOf(a,k.ch))!=-1)return{from:{line:k.line,ch:q},to:{line:k.line,ch:q+r}}}:function(g,k){var n=k.line,r=g?f.length-
1:0,q=f[r],y=e(U[n].text),W=g?y.indexOf(q)+q.length:y.lastIndexOf(q);if(!(g?W>=k.ch||W!=q.length:W<=k.ch||W!=y.length-q.length))for(;;){if(g?!n:n==U.length-1)return;y=e(U[n+=g?-1:1].text);q=f[g?--r:++r];if(r>0&&r<f.length-1)if(y!=q)return;else continue;r=g?y.lastIndexOf(q):y.indexOf(q)+q.length;if(g?r!=y.length-q.length:r!=q.length)return;q={line:k.line,ch:W};n={line:n,ch:r};return{from:g?n:q,to:g?q:n}}}}}var la={},Ob=i.defaults;for(var Gb in Ob)if(Ob.hasOwnProperty(Gb))la[Gb]=(A&&A.hasOwnProperty(Gb)?
A:Ob)[Gb];var ab=la.document,va=ab.createElement("div");va.className="CodeMirror";if(window.ActiveXObject&&/MSIE [1-7]\b/.test(navigator.userAgent))va.style.position="relative";va.innerHTML='<div style="position: relative"><div style="position: absolute; height: 0; width: 0; overflow: hidden;"></div><div style="position: relative"><div class="CodeMirror-gutter"><div class="CodeMirror-gutter-text"></div></div><div style="overflow: hidden; position: absolute; width: 1px; height: 0; left: 0"><textarea style="position: absolute; width: 100000px;" wrap="off"></textarea></div><div class="CodeMirror-lines"><div style="position: relative"><pre class="CodeMirror-cursor">&#160;</pre><div></div></div></div></div></div>';
c.appendChild?c.appendChild(va):c(va);var gb=va.firstChild,cb=gb.firstChild,Yb=cb.nextSibling,jb=Yb.firstChild,Cb=jb.firstChild,Zb=jb.nextSibling,Da=Zb.firstChild,Xa=Zb.nextSibling.firstChild,qb=Xa.firstChild,Sa=qb.nextSibling;if(la.tabindex!=null)Da.tabindex=la.tabindex;if(!la.gutter&&!la.lineNumbers)jb.style.display="none";var Kb=new T,oc=new T,$b,Ua,U=[new t("")],db,Ya=new x,bb;ec();var P={from:{line:0,ch:0},to:{line:0,ch:0},inverted:false},Ta,Za,jc,eb,Oa,Eb,mb,hb,Ka=0,Ma=0,rb=0,Nb=null,Pa,ib,
xb="";Ba(function(){J(la.value||"");eb=false})();setTimeout(fb,20);M(va,"mousedown",Ba(function(a){function b(q){var y=pb(q,true);if(y&&!ka(y,g)){bb||K();g=y;nb(f,y);eb=false;var W=Qb();if(y.line>=W.to||y.line<W.from)k=setTimeout(Ba(function(){b(q)}),150)}}var d=jc;jc=null;for(var e=a.target();e!=va;e=e.parentNode)if(e.parentNode==Cb){la.onGutterClick&&la.onGutterClick(Qa,w(Cb.childNodes,e)+Ka);return a.stop()}V&&a.button()==3&&gc(a);if(a.button()==1){var f=pb(a),g=f,k;if(f){bb||K();a.stop();if(d&&
+new Date-d<400)return mc(f.line);tb(f.line,f.ch,true);var n=M(ab,"mousemove",Ba(function(q){clearTimeout(k);q.stop();b(q)}),true),r=M(ab,"mouseup",Ba(function(q){clearTimeout(k);var y=pb(q);y&&nb(f,y);q.stop();kb();eb=true;n();r()}),true)}else a.target()==va&&a.stop()}}));V||M(va,"contextmenu",Ba(gc));M(gb,"dblclick",Ba(function(a){var b=pb(a);if(b){for(var d=U[b.line].text,e=b.ch,f=b.ch;e>0&&/\w/.test(d.charAt(e-1));)--e;for(;f<d.length&&/\w/.test(d.charAt(f));)++f;nb({line:b.line,ch:e},{line:b.line,
ch:f});a.stop();jc=+new Date}}));M(va,"scroll",function(){lb([]);la.onScroll&&la.onScroll(Qa)});M(window,"resize",function(){lb(true)});M(Da,"keyup",Ba(function(a){if(!(la.onKeyEvent&&la.onKeyEvent(Qa,C(a.e)))){if(Za){Za=null;eb=true}if(a.e.keyCode==16)Ta=null}}));M(Da,"keydown",Ba(function(a){bb||K();var b=a.e.keyCode,d=(Aa?a.e.metaKey:a.e.ctrlKey)&&!a.e.altKey,e=a.e.ctrlKey||a.e.altKey||a.e.metaKey;Ta=b==16||a.e.shiftKey?Ta||(P.inverted?P.to:P.from):null;if(!(la.onKeyEvent&&la.onKeyEvent(Qa,C(a.e)))){if(b==
33||b==34){b=b==34;d=Math.floor(va.clientHeight/$a());e=P.inverted?P.from:P.to;tb(e.line+Math.max(d-1,1)*(b?1:-1),e.ch,true);return a.stop()}if(d&&(b==36||b==35||Aa&&(b==38||b==40))){tb(b==36||b==38?0:U.length-1,true);return a.stop()}if(d&&b==65){b=U.length-1;sb({line:0,ch:0},{line:b,ch:U[b].text.length});return a.stop()}if(!la.readOnly){if(!e&&b==13)return;if(e=!e){if(e=b==9)a:{e=a.e.shiftKey;Ta=null;switch(la.tabMode){case "default":e=false;break a;case "indent":for(var f=P.from.line,g=P.to.line;f<=
g;++f)ob(f,"smart");break;case "classic":if(ka(P.from,P.to)){e?ob(P.from.line,"smart"):F("\t","end");break}case "shift":f=P.from.line;for(g=P.to.line;f<=g;++f)ob(f,e?"subtract":"add");break}e=true}e=e}if(e)return a.stop();if(d&&b==90){za();return a.stop()}if(d&&(a.e.shiftKey&&b==90||b==89)){Ea();return a.stop()}}Nb=(d?"c":"")+b;if(P.inverted&&La.hasOwnProperty(Nb))if(a=N(Da)){Za={anchor:a.start};S(Da,a.start,a.start)}sa(Nb)}}));M(Da,"keypress",Ba(function(a){if(!(la.onKeyEvent&&la.onKeyEvent(Qa,C(a.e)))){if(la.electricChars&&
Ua.electricChars){var b=String.fromCharCode(a.e.charCode==null?a.e.keyCode:a.e.charCode);Ua.electricChars.indexOf(b)>-1&&setTimeout(Ba(function(){ob(P.to.line,"smart")}),50)}b=a.e.keyCode;if(b==13){if(!la.readOnly){F("\n","end");if(la.enterMode!="flat")ob(P.from.line,la.enterMode=="keep"?"prev":"smart")}a.stop()}else!a.e.ctrlKey&&!a.e.altKey&&!a.e.metaKey&&b==9&&la.tabMode!="default"?a.stop():sa(Nb)}}));M(Da,"focus",K);M(Da,"blur",Q);M(va,"dragenter",function(a){a.stop()});M(va,"dragover",function(a){a.stop()});
M(va,"drop",Ba(function(a){var b=pb(a,true),d=a.e.dataTransfer.files;if(!(!b||la.readOnly))if(d&&d.length&&window.FileReader&&window.File){var e=d.length,f=Array(e),g=0;for(a=0;a<e;++a)k(d[a],a);var k=function(r,q){var y=new FileReader;y.onload=function(){f[q]=y.result;++g==e&&Ja(f.join(""),Ha(b),Ha(b))};y.readAsText(r)}}else try{(f=a.e.dataTransfer.getData("Text"))&&Ja(f,b,b)}catch(n){}}));M(va,"paste",function(){kb();sa()});M(Da,"paste",function(){sa()});M(Da,"cut",function(){sa()});ab.activeElement==
Da?K():Q();var Qa={getValue:function(){for(var a=[],b=0,d=U.length;b<d;++b)a.push(U[b].text);return a.join("\n")},setValue:Ba(J),getSelection:da,replaceSelection:Ba(F),focus:function(){kb();K();sa()},setOption:function(a,b){la[a]=b;if(a=="lineNumbers"||a=="gutter"){var d=la.gutter||la.lineNumbers;jb.style.display=d?"":"none";if(d)Ab();else Sa.parentNode.style.marginLeft=0}else if(a=="mode"||a=="indentUnit")ec();else a=="readOnly"&&b=="nocursor"&&Da.blur()},getOption:function(a){return la[a]},undo:Ba(za),
redo:Ba(Ea),indentLine:Ba(function(a){a>=0&&a<U.length&&ob(a,"smart")}),historySize:function(){return{undo:Ya.done.length,redo:Ya.undone.length}},matchBrackets:Ba(function(){Wa(true)}),getTokenAt:function(a){a=Ha(a);return U[a.line].getTokenAt(Ua,hc(a.line),a.ch)},cursorCoords:function(a){if(a==null)a=P.inverted;return fc(a?P.from:P.to)},charCoords:function(a){return fc(Ha(a))},coordsChar:function(a){var b=oa(Xa),d=ub(Math.min(U.length-1,Ka+Math.floor((a.y-b.top)/$a())));return Ha({line:d,ch:Tb(ub(d),
a.x-b.left)})},getSearchCursor:function(a,b,d){return new ic(a,b,d)},markText:Ba(function(a,b,d){return Ba(Rb(a,b,d))}),setMarker:function(a,b,d){if(typeof a=="number")a=U[ub(a)];a.gutterMarker={text:b,style:d};Ab();return a},clearMarker:function(a){if(typeof a=="number")a=U[ub(a)];a.gutterMarker=null;Ab()},setLineClass:Ba(function(a,b){if(typeof a=="number"){var d=a;a=U[ub(a)]}else{d=w(U,a);if(d==-1)return null}if(a.className!=b){a.className=b;Oa.push({from:d,to:d+1})}return a}),lineInfo:function(a){if(typeof a==
"number"){var b=a;a=U[a];if(!a)return null}else{b=w(U,a);if(b==-1)return null}var d=a.gutterMarker;return{line:b,text:a.text,markerText:d&&d.text,markerClass:d&&d.style}},addWidget:function(a,b,d){a=Ub(Ha(a),true);b.style.top=Ka*$a()+a.yBot+Xa.offsetTop+"px";b.style.left=a.x+Xa.offsetLeft+"px";gb.appendChild(b);d&&Pb(a.x,a.yBot,a.x+b.offsetWidth,a.yBot+b.offsetHeight)},lineCount:function(){return U.length},getCursor:function(a){if(a==null)a=P.inverted;return{line:(a?P.from:P.to).line,ch:(a?P.from:
P.to).ch}},somethingSelected:function(){return!ka(P.from,P.to)},setCursor:Ba(function(a,b){b==null&&typeof a.line=="number"?tb(a.line,a.ch):tb(a,b)}),setSelection:Ba(function(a,b){sb(Ha(a),Ha(b||a))}),getLine:function(a){if(a>=0&&a<U.length)return U[a].text},setLine:Ba(function(a,b){a>=0&&a<U.length&&Ja(b,{line:a,ch:0},{line:a,ch:U[a].text.length})}),removeLine:Ba(function(a){a>=0&&a<U.length&&Ja("",{line:a,ch:0},Ha({line:a+1,ch:0}))}),replaceRange:Ba(Ja),getRange:function(a,b){return Z(Ha(a),Ha(b))},
operation:function(a){return Ba(a)()},refresh:function(){lb(true)},getInputField:function(){return Da},getWrapperElement:function(){return va}},Fb=false,bc={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},cc=0;ic.prototype={findNext:function(){return this.find(false)},findPrevious:function(){return this.find(true)},find:function(a){function b(f){f={line:f,ch:0};d.pos={from:f,to:f};return d.atOccurrence=false}for(var d=this,e=Ha(a?this.pos.from:this.pos.to);;){if(this.pos=this.matches(a,e)){this.atOccurrence=
true;return this.pos.match||true}if(a){if(!e.line)return b(0);e={line:e.line-1,ch:U[e.line-1].text.length}}else{if(e.line==U.length-1)return b(U.length);e={line:e.line+1,ch:0}}}},from:function(){if(this.atOccurrence)return{line:this.pos.from.line,ch:this.pos.from.ch}},to:function(){if(this.atOccurrence)return{line:this.pos.to.line,ch:this.pos.to.ch}}};return Qa}function h(c,A){if(A===true)return A;if(c.copyState)return c.copyState(A);var J={};for(var K in A){var Q=A[K];if(Q instanceof Array)Q=Q.concat([]);
J[K]=Q}return J}function j(c,A,J){return c.startState?c.startState(A,J):true}function o(c){this.pos=this.start=0;this.string=c}function t(c,A){this.styles=A||[c,null];this.stateAfter=null;this.text=c;this.marked=this.gutterMarker=this.className=null}function u(c,A,J,K){for(var Q=0,ha=0,ga=0;ha<A;Q+=2){var za=J[Q],Ea=ha+za.length;if(ga==0){Ea>c&&K.push(za.slice(c-ha,Math.min(za.length,A-ha)),J[Q+1]);if(Ea>=c)ga=1}else if(ga==1)Ea>A?K.push(za.slice(0,A-ha),J[Q+1]):K.push(za,J[Q+1]);ha=Ea}}function x(){this.time=
0;this.done=[];this.undone=[]}function G(){if(this.preventDefault){this.preventDefault();this.stopPropagation()}else{this.returnValue=false;this.cancelBubble=true}}function C(c){if(!c.stop)c.stop=G;return c}function z(c){this.e=c}function M(c,A,J,K){function Q(ha){J(new z(ha||window.event))}if(typeof c.addEventListener=="function"){c.addEventListener(A,Q,false);if(K)return function(){c.removeEventListener(A,Q,false)}}else{c.attachEvent("on"+A,Q);if(K)return function(){c.detachEvent("on"+A,Q)}}}function T(){this.id=
null}function ja(c,A){if(A==null){A=c.search(/[^\s\u00a0]/);if(A==-1)A=c.length}for(var J=0,K=0;J<A;++J)if(c.charAt(J)=="\t")K+=fa-K%fa;else++K;return K}function oa(c,A){for(var J=c.ownerDocument.body,K=0,Q=0,ha=false,ga=c;ga;ga=ga.offsetParent){K+=ga.offsetLeft;Q+=ga.offsetTop;if(ga==J)ha=true}for(ga=c.parentNode;ga!=(A&&ha?null:J);ga=ga.parentNode)if(ga.scrollLeft!=null){K-=ga.scrollLeft;Q-=ga.scrollTop}return{left:K,top:Q}}function ka(c,A){return c.line==A.line&&c.ch==A.ch}function l(c,A){return c.line<
A.line||c.line==A.line&&c.ch<A.ch}function p(c){return c.replace(/[<>&]/g,function(A){return A=="&"?"&amp;":A=="<"?"&lt;":"&gt;"})}function w(c,A){if(c.indexOf)return c.indexOf(A);for(var J=0,K=c.length;J<K;++J)if(c[J]==A)return J;return-1}i.defaults={value:"",mode:null,indentUnit:2,indentWithTabs:false,tabMode:"classic",enterMode:"indent",electricChars:true,onKeyEvent:null,lineNumbers:false,gutter:false,firstLineNumber:1,readOnly:false,onChange:null,onCursorActivity:null,onGutterClick:null,onHighlightComplete:null,
onFocus:null,onBlur:null,onScroll:null,matchBrackets:false,workTime:100,workDelay:200,undoDepth:40,tabindex:null,document:window.document};var E={},ba={};i.defineMode=function(c,A){if(!i.defaults.mode&&c!="null")i.defaults.mode=c;E[c]=A};i.defineMIME=function(c,A){ba[c]=A};i.getMode=function(c,A){if(typeof A=="string"&&ba.hasOwnProperty(A))A=ba[A];if(typeof A=="string")var J=A,K={};else if(A!=null){J=A.name;K=A}var Q=E[J];if(!Q){window.console&&console.warn("No mode "+J+" found, falling back to plain text.");
return i.getMode(c,"text/plain")}return Q(c,K||{})};i.listModes=function(){var c=[];for(var A in E)E.propertyIsEnumerable(A)&&c.push(A);return c};i.listMIMEs=function(){var c=[];for(var A in ba)ba.propertyIsEnumerable(A)&&c.push(A);return c};i.fromTextArea=function(c,A){function J(){c.value=ga.getValue()}A||(A={});A.value=c.value;if(!A.tabindex&&c.tabindex)A.tabindex=c.tabindex;if(c.form){var K=M(c.form,"submit",J,true);if(typeof c.form.submit=="function"){var Q=c.form.submit,ha=function(){J();c.form.submit=
Q;c.form.submit();c.form.submit=ha};c.form.submit=ha}}c.style.display="none";var ga=i(function(za){c.parentNode.insertBefore(za,c.nextSibling)},A);ga.save=J;ga.toTextArea=function(){J();c.parentNode.removeChild(ga.getWrapperElement());c.style.display="";if(c.form){K();if(typeof c.form.submit=="function")c.form.submit=Q}};return ga};i.startState=j;i.copyState=h;o.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==0},peek:function(){return this.string.charAt(this.pos)},
next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eat:function(c){var A=this.string.charAt(this.pos);if(typeof c=="string"?A==c:A&&(c.test?c.test(A):c(A))){++this.pos;return A}},eatWhile:function(c){for(var A=this.start;this.eat(c););return this.pos>A},eatSpace:function(){for(var c=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>c},skipToEnd:function(){this.pos=this.string.length},skipTo:function(c){c=this.string.indexOf(c,this.pos);
if(c>-1){this.pos=c;return true}},backUp:function(c){this.pos-=c},column:function(){return ja(this.string,this.start)},indentation:function(){return ja(this.string)},match:function(c,A,J){if(typeof c=="string"){if((J?this.string.toLowerCase():this.string).indexOf(J?c.toLowerCase():c,this.pos)==this.pos){if(A!==false)this.pos+=c.length;return true}}else{if((c=this.string.slice(this.pos).match(c))&&A!==false)this.pos+=c[0].length;return c}},current:function(){return this.string.slice(this.start,this.pos)}};
t.prototype={replace:function(c,A,J){var K=[],Q=this.marked;u(0,c,this.styles,K);J&&K.push(J,null);u(A,this.text.length,this.styles,K);this.styles=K;this.text=this.text.slice(0,c)+J+this.text.slice(A);this.stateAfter=null;if(Q){c=J.length-(A-c);J=this.text.length;for(K=0;K<Q.length;++K){var ha=Q[K],ga=false;if(ha.from>=J)ga=true;else{ha.from=ha.from<=Math.min(A,A+c)?ha.from:ha.from+c;if(ha.to!=null)ha.to=ha.to<=Math.min(A,A+c)?ha.to:ha.to+c}if(ga||ha.from>=ha.to){Q.splice(K,1);K--}}}},split:function(c,
A){var J=[A,null];u(c,this.text.length,this.styles,J);return new t(A+this.text.slice(c),J)},addMark:function(c,A,J){c={from:c,to:A,style:J};if(this.marked==null)this.marked=[];this.marked.push(c);this.marked.sort(function(K,Q){return K.from-Q.from});return c},removeMark:function(c){var A=this.marked;if(A)for(var J=0;J<A.length;++J)if(A[J]==c){A.splice(J,1);break}},highlight:function(c,A){var J=new o(this.text),K=this.styles,Q=0,ha=false,ga=K[0],za;for(this.text==""&&c.blankLine&&c.blankLine(A);!J.eol();){var Ea=
c.token(J,A),ta=this.text.slice(J.start,J.pos);J.start=J.pos;if(Q&&K[Q-1]==Ea)K[Q-2]+=ta;else if(ta){if(!ha&&(K[Q+1]!=Ea||Q&&K[Q-2]!=za))ha=true;K[Q++]=ta;K[Q++]=Ea;za=ga;ga=K[Q]}if(J.pos>5E3){K[Q++]=this.text.slice(J.pos);K[Q++]=null;break}}if(K.length!=Q){K.length=Q;ha=true}if(Q&&K[Q-2]!=za)ha=true;return ha},getTokenAt:function(c,A,J){for(var K=new o(this.text);K.pos<J&&!K.eol();){K.start=K.pos;var Q=c.token(K,A)}return{start:K.start,end:K.pos,string:K.current(),className:Q||null,state:A}},indentation:function(){return ja(this.text)},
getHTML:function(c,A,J,K){function Q(kb,zb){if(kb)zb?ha.push('<span class="',zb,'">',p(kb),"</span>"):ha.push(p(kb))}var ha=[];if(J)ha.push(this.className?'<pre class="'+this.className+'">':"<pre>");var ga=this.styles,za=this.text,Ea=this.marked;if(c==A)c=null;var ta=za.length;if(K!=null)ta=Math.min(K,ta);if(!za&&K==null)Q(" ",c!=null&&A==null?"CodeMirror-selected":null);else if(!Ea&&c==null)for(c=K=0;c<ta;K+=2){A=ga[K];var Ja=A.length;if(c+Ja>ta)A=A.slice(0,ta-c);c+=Ja;Q(A,ga[K+1])}else{K=za=0;var F=
"",ca=-1,Z=null,da=function(){if(Ea){ca+=1;Z=ca<Ea.length?Ea[ca]:null}};for(da();za<ta;){var ra=ta,sa="";if(c!=null)if(c>za)ra=c;else if(A==null||A>za){sa=" CodeMirror-selected";if(A!=null)ra=Math.min(ra,A)}for(;Z&&Z.to!=null&&Z.to<=za;)da();if(Z)if(Z.from>za)ra=Math.min(ra,Z.from);else{sa+=" "+Z.style;if(Z.to!=null)ra=Math.min(ra,Z.to)}for(;;){var Ia=za+F.length,fb=Ja;if(sa)fb=Ja?Ja+sa:sa;Q(Ia>ra?F.slice(0,ra-za):F,fb);if(Ia>=ra){F=F.slice(ra-za);za=ra;break}za=Ia;F=ga[K++];Ja=ga[K++]}}c!=null&&
A==null&&Q(" ","CodeMirror-selected")}J&&ha.push("</pre>");return ha.join("")}};x.prototype={addChange:function(c,A,J){this.undone.length=0;var K=+new Date,Q=this.done[this.done.length-1];if(K-this.time>400||!Q||Q.start>c+A||Q.start+Q.added<c-Q.added+Q.old.length)this.done.push({start:c,added:A,old:J});else{var ha=0;if(c<Q.start){for(var ga=Q.start-c-1;ga>=0;--ga)Q.old.unshift(J[ga]);Q.added+=Q.start-c;Q.start=c}else if(Q.start<c){ha=c-Q.start;A+=ha}ga=Q.added-ha;for(c=J.length;ga<c;++ga)Q.old.push(J[ga]);
if(Q.added<A)Q.added=A}this.time=K}};z.prototype={stop:function(){G.call(this.e)},target:function(){return this.e.target||this.e.srcElement},button:function(){if(this.e.which)return this.e.which;else if(this.e.button&1)return 1;else if(this.e.button&2)return 3;else if(this.e.button&4)return 2},pageX:function(){if(this.e.pageX!=null)return this.e.pageX;var c=this.target().ownerDocument;return this.e.clientX+c.body.scrollLeft+c.documentElement.scrollLeft},pageY:function(){if(this.e.pageY!=null)return this.e.pageY;
var c=this.target().ownerDocument;return this.e.clientY+c.body.scrollTop+c.documentElement.scrollTop}};T.prototype={set:function(c,A){clearTimeout(this.id);this.id=setTimeout(A,c)}};var na=function(){var c=document.createElement("pre");c.innerHTML=" ";return!c.innerHTML}(),V=/gecko\/\d{7}/i.test(navigator.userAgent),ea="\n";(function(){var c=document.createElement("textarea");c.value="foo\nbar";if(c.value.indexOf("\r")>-1)ea="\r\n"})();for(var fa=8,Aa=/Mac/.test(navigator.platform),La={},Va=35;Va<=
40;++Va)La[Va]=La["c"+Va]=true;var X="\n\nb".split(/\n/).length!=3?function(c){for(var A=0,J,K=[];(J=c.indexOf("\n",A))>-1;){K.push(c.slice(A,c.charAt(J-1)=="\r"?J-1:J));A=J+1}K.push(c.slice(A));return K}:function(c){return c.split(/\r?\n/)};if(window.getSelection)var N=function(c){try{return{start:c.selectionStart,end:c.selectionEnd}}catch(A){return null}},S=function(c,A,J){try{c.setSelectionRange(A,J)}catch(K){}};else{N=function(c){try{var A=c.ownerDocument.selection.createRange()}catch(J){return null}if(!A||
A.parentElement()!=c)return null;var K=c.value,Q=K.length,ha=c.createTextRange();ha.moveToBookmark(A.getBookmark());var ga=c.createTextRange();ga.collapse(false);if(ha.compareEndPoints("StartToEnd",ga)>-1)return{start:Q,end:Q};c=-ha.moveStart("character",-Q);for(A=K.indexOf("\r");A>-1&&A<c;A=K.indexOf("\r",A+1),c++);if(ha.compareEndPoints("EndToEnd",ga)>-1)return{start:c,end:Q};Q=-ha.moveEnd("character",-Q);for(A=K.indexOf("\r");A>-1&&A<Q;A=K.indexOf("\r",A+1),Q++);return{start:c,end:Q}};S=function(c,
A,J){var K=c.createTextRange();K.collapse(true);var Q=K.duplicate(),ha=0;c=c.value;for(var ga=c.indexOf("\n");ga>-1&&ga<A;ga=c.indexOf("\n",ga+1))++ha;for(K.move("character",A-ha);ga>-1&&ga<J;ga=c.indexOf("\n",ga+1))++ha;Q.move("character",J-ha);K.setEndPoint("EndToEnd",Q);K.select()}}i.defineMode("null",function(){return{token:function(c){c.skipToEnd()}}});i.defineMIME("text/plain","null");return i}();
jQuery.cookie=function(i,h,j){if(typeof h!="undefined"){j=j||{};if(h===null){h="";j.expires=-1}var o="";if(j.expires&&(typeof j.expires=="number"||j.expires.toUTCString)){if(typeof j.expires=="number"){o=new Date;o.setTime(o.getTime()+j.expires*24*60*60*1E3)}else o=j.expires;o="; expires="+o.toUTCString()}var t=j.path?"; path="+j.path:"",u=j.domain?"; domain="+j.domain:"";j=j.secure?"; secure":"";document.cookie=[i,"=",encodeURIComponent(h),o,t,u,j].join("")}else{h=null;if(document.cookie&&document.cookie!=
""){j=document.cookie.split(";");for(o=0;o<j.length;o++){t=jQuery.trim(j[o]);if(t.substring(0,i.length+1)==i+"="){h=decodeURIComponent(t.substring(i.length+1));break}}}return h}};
CodeMirror.defineMode("javascript",function(i,h){function j(F,ca){for(var Z=false,da;(da=F.next())!=null;){if(da==ca&&!Z)return false;Z=!Z&&da=="\\"}return Z}function o(F,ca,Z){ga=F;za=Z;return ca}function t(F,ca){var Z=F.next();if(Z=='"'||Z=="'"){Z=u(Z);ca.tokenize=Z;return Z(F,ca)}else if(/[\[\]{}\(\),;\:\.]/.test(Z))return o(Z);else if(Z=="0"&&F.eat(/x/i)){F.eatWhile(/[\da-f]/i);return o("number","js-atom")}else if(/\d/.test(Z)){F.match(/^\d*(?:\.\d*)?(?:e[+\-]?\d+)?/);return o("number","js-atom")}else if(Z==
"/")if(F.eat("*")){Z=x;ca.tokenize=Z;return Z(F,ca)}else if(F.eat("/")){F.skipToEnd();return o("comment","js-comment")}else if(ca.reAllowed){j(F,"/");F.eatWhile(/[gimy]/);return o("regexp","js-string")}else{F.eatWhile(ha);return o("operator",null,F.current())}else if(ha.test(Z)){F.eatWhile(ha);return o("operator",null,F.current())}else{F.eatWhile(/[\w\$_]/);Z=F.current();var da=Q.propertyIsEnumerable(Z)&&Q[Z];return da?o(da.type,da.style,Z):o("variable","js-variable",Z)}}function u(F){return function(ca,
Z){if(!j(ca,F))Z.tokenize=t;return o("string","js-string")}}function x(F,ca){for(var Z=false,da;da=F.next();){if(da=="/"&&Z){ca.tokenize=t;break}Z=da=="*"}return o("comment","js-comment")}function G(F,ca,Z,da,ra,sa){this.indented=F;this.column=ca;this.type=Z;this.prev=ra;this.info=sa;if(da!=null)this.align=da}function C(){for(var F=arguments.length-1;F>=0;F--)ta.cc.push(arguments[F])}function z(){C.apply(null,arguments);return true}function M(F){var ca=ta.state;if(ca.context){ta.marked="js-variabledef";
for(var Z=ca.localVars;Z;Z=Z.next)if(Z.name==F)return;ca.localVars={name:F,next:ca.localVars}}}function T(){if(!ta.state.context)ta.state.localVars=Ja;ta.state.context={prev:ta.state.context,vars:ta.state.localVars}}function ja(){ta.state.localVars=ta.state.context.vars;ta.state.context=ta.state.context.prev}function oa(F,ca){var Z=function(){var da=ta.state;da.lexical=new G(da.indented,ta.stream.column(),F,null,da.lexical,ca)};Z.lex=true;return Z}function ka(){var F=ta.state;if(F.lexical.prev){if(F.lexical.type==
")")F.indented=F.lexical.indented;F.lexical=F.lexical.prev}}function l(F){return function(ca){return ca==F?z():F==";"?C():z(arguments.callee)}}function p(F){if(F=="var")return z(oa("vardef"),Aa,l(";"),ka);if(F=="keyword a")return z(oa("form"),w,p,ka);if(F=="keyword b")return z(oa("form"),p,ka);if(F=="{")return z(oa("}"),fa,ka);if(F==";")return z();if(F=="function")return z(c);if(F=="for")return z(oa("form"),l("("),oa(")"),Va,l(")"),ka,p,ka);if(F=="variable")return z(oa("stat"),ba);if(F=="switch")return z(oa("form"),
w,oa("}","switch"),l("{"),fa,ka,ka);if(F=="case")return z(w,l(":"));if(F=="default")return z(l(":"));if(F=="catch")return z(oa("form"),T,l("("),A,l(")"),p,ka,ja);return C(oa("stat"),w,l(";"),ka)}function w(F){if(Ea.hasOwnProperty(F))return z(E);if(F=="function")return z(c);if(F=="keyword c")return z(w);if(F=="(")return z(oa(")"),w,l(")"),ka,E);if(F=="operator")return z(w);if(F=="[")return z(oa("]"),ea(w,"]"),ka,E);if(F=="{")return z(oa("}"),ea(V,"}"),ka,E);return z()}function E(F,ca){if(F=="operator"&&
/\+\+|--/.test(ca))return z(E);if(F=="operator")return z(w);if(F!=";"){if(F=="(")return z(oa(")"),ea(w,")"),ka,E);if(F==".")return z(na,E);if(F=="[")return z(oa("]"),w,l("]"),ka,E)}}function ba(F){if(F==":")return z(ka,p);return C(E,l(";"),ka)}function na(F){if(F=="variable"){ta.marked="js-property";return z()}}function V(F){if(F=="variable")ta.marked="js-property";if(Ea.hasOwnProperty(F))return z(l(":"),w)}function ea(F,ca){function Z(da){if(da==",")return z(F,Z);if(da==ca)return z();return z(l(ca))}
return function(da){return da==ca?z():C(F,Z)}}function fa(F){if(F=="}")return z();return C(p,fa)}function Aa(F,ca){if(F=="variable"){M(ca);return z(La)}return z()}function La(F,ca){if(ca=="=")return z(w,La);if(F==",")return z(Aa)}function Va(F){if(F=="var")return z(Aa,N);if(F==";")return C(N);if(F=="variable")return z(X);return C(N)}function X(F,ca){if(ca=="in")return z(w);return z(E,N)}function N(F,ca){if(F==";")return z(S);if(ca=="in")return z(w);return z(w,l(";"),S)}function S(F){F!=")"&&z(w)}
function c(F,ca){if(F=="variable"){M(ca);return z(c)}if(F=="(")return z(oa(")"),T,ea(A,")"),ka,p,ja)}function A(F,ca){if(F=="variable"){M(ca);return z()}}var J=i.indentUnit,K=h.json,Q=function(){function F(Ia){return{type:Ia,style:"js-keyword"}}var ca=F("keyword a"),Z=F("keyword b"),da=F("keyword c"),ra=F("operator"),sa={type:"atom",style:"js-atom"};return{"if":ca,"while":ca,"with":ca,"else":Z,"do":Z,"try":Z,"finally":Z,"return":da,"break":da,"continue":da,"new":da,"delete":da,"throw":da,"var":F("var"),
"function":F("function"),"catch":F("catch"),"for":F("for"),"switch":F("switch"),"case":F("case"),"default":F("default"),"in":ra,"typeof":ra,"instanceof":ra,"true":sa,"false":sa,"null":sa,undefined:sa,NaN:sa,Infinity:sa}}(),ha=/[+\-*&%=<>!?|]/,ga,za,Ea={atom:true,number:true,variable:true,string:true,regexp:true},ta={state:null,column:null,marked:null,cc:null},Ja={name:"this",next:{name:"arguments"}};ka.lex=true;return{startState:function(F){return{tokenize:t,reAllowed:true,cc:[],lexical:new G((F||
0)-J,0,"block",false),localVars:null,context:null,indented:0}},token:function(F,ca){if(F.sol()){if(!ca.lexical.hasOwnProperty("align"))ca.lexical.align=false;ca.indented=F.indentation()}if(F.eatSpace())return null;var Z=ca.tokenize(F,ca);if(ga=="comment")return Z;ca.reAllowed=ga=="operator"||ga=="keyword c"||ga.match(/^[\[{}\(,;:]$/);var da;a:{var ra=ga,sa=za,Ia=ca.cc;ta.state=ca;ta.stream=F;ta.marked=null;ta.cc=Ia;if(!ca.lexical.hasOwnProperty("align"))ca.lexical.align=true;for(;;)if((Ia.length?
Ia.pop():K?w:p)(ra,sa)){for(;Ia.length&&Ia[Ia.length-1].lex;)Ia.pop()();if(ta.marked){da=ta.marked;break a}if(da=ra=="variable")b:{for(da=ca.localVars;da;da=da.next)if(da.name==sa){da=true;break b}da=void 0}if(da){da="js-localvariable";break a}da=Z;break a}}return da},indent:function(F,ca){if(F.tokenize!=t)return 0;var Z=ca&&ca.charAt(0),da=F.lexical,ra=da.type,sa=Z==ra;return ra=="vardef"?da.indented+4:ra=="form"&&Z=="{"?da.indented:ra=="stat"||ra=="form"?da.indented+J:da.info=="switch"&&!sa?da.indented+
(/^(?:case|default)\b/.test(ca)?J:2*J):da.align?da.column+(sa?0:1):da.indented+(sa?0:J)},electricChars:":{}"}});CodeMirror.defineMIME("text/javascript","javascript");CodeMirror.defineMIME("application/json",{name:"javascript",json:true});
CodeMirror.defineMode("xml",function(i,h){function j(V,ea){function fa(La){ea.tokenize=La;return La(V,ea)}var Aa=V.next();if(Aa=="<")if(V.eat("!"))if(V.eat("["))return V.match("CDATA[")?fa(u("xml-cdata","]]\>")):null;else if(V.match("--"))return fa(u("xml-comment","--\>"));else if(V.match("DOCTYPE")){V.eatWhile(/[\w\._\-]/);return fa(u("xml-doctype",">"))}else return null;else if(V.eat("?")){V.eatWhile(/[\w\._\-]/);ea.tokenize=u("xml-processing","?>");return"xml-processing"}else{E=V.eat("/")?"closeTag":
"openTag";V.eatSpace();for(w="";Aa=V.eat(/[^\s\u00a0=<>\"\'\/?]/);)w+=Aa;ea.tokenize=o;return"xml-tag"}else if(Aa=="&"){V.eatWhile(/[^;]/);V.eat(";");return"xml-entity"}else{V.eatWhile(/[^&<]/);return null}}function o(V,ea){var fa=V.next();if(fa==">"||fa=="/"&&V.eat(">")){ea.tokenize=j;E=fa==">"?"endTag":"selfcloseTag";return"xml-tag"}else if(fa=="="){E="equals";return null}else if(/[\'\"]/.test(fa)){ea.tokenize=t(fa);return ea.tokenize(V,ea)}else{V.eatWhile(/[^\s\u00a0=<>\"\'\/?]/);return"xml-word"}}
function t(V){return function(ea,fa){for(;!ea.eol();)if(ea.next()==V){fa.tokenize=o;break}return"xml-attribute"}}function u(V,ea){return function(fa,Aa){for(;!fa.eol();){if(fa.match(ea)){Aa.tokenize=j;break}fa.next()}return V}}function x(){for(var V=arguments.length-1;V>=0;V--)ba.cc.push(arguments[V])}function G(){x.apply(null,arguments);return true}function C(V,ea){var fa=l.doNotIndent.hasOwnProperty(V)||ba.context&&ba.context.noIndent;ba.context={prev:ba.context,tagName:V,indent:ba.indented,startOfLine:ea,
noIndent:fa}}function z(V){if(V=="openTag"){ba.tagName=w;return G(ja,M(ba.startOfLine))}else if(V=="closeTag"){if(ba.context)ba.context=ba.context.prev;return G(T)}else{if(V=="xml-cdata"){if(!ba.context||ba.context.name!="!cdata")C("!cdata");if(ba.tokenize==j)if(ba.context)ba.context=ba.context.prev}return G()}}function M(V){return function(ea){if(ea=="selfcloseTag"||ea=="endTag"&&l.autoSelfClosers.hasOwnProperty(ba.tagName.toLowerCase()))return G();if(ea=="endTag"){C(ba.tagName,V);return G()}return G()}}
function T(V){if(V=="endTag")return G();return x()}function ja(V){if(V=="xml-word"){na="xml-attname";return G(ja)}if(V=="equals")return G(oa,ja);return x()}function oa(V){if(V=="xml-word"&&l.allowUnquoted){na="xml-attribute";return G()}if(V=="xml-attribute")return G();return x()}var ka=i.indentUnit,l=h.htmlMode?{autoSelfClosers:{br:true,img:true,hr:true,link:true,input:true,meta:true,col:true,frame:true,base:true,area:true},doNotIndent:{pre:true,"!cdata":true},allowUnquoted:true}:{autoSelfClosers:{},
doNotIndent:{"!cdata":true},allowUnquoted:false},p=h.alignCDATA,w,E,ba,na;return{startState:function(){return{tokenize:j,cc:[],indented:0,startOfLine:true,tagName:null,context:null}},token:function(V,ea){if(V.sol()){ea.startOfLine=true;ea.indented=V.indentation()}if(V.eatSpace())return null;na=E=w=null;var fa=ea.tokenize(V,ea);if((fa||E)&&fa!="xml-comment")for(ba=ea;;)if((ea.cc.pop()||z)(E||fa))break;ea.startOfLine=false;return na||fa},indent:function(V,ea){var fa=V.context;if(fa&&fa.noIndent)return 0;
if(p&&/<!\[CDATA\[/.test(ea))return 0;if(fa&&/^<\//.test(ea))fa=fa.prev;for(;fa&&!fa.startOfLine;)fa=fa.prev;return fa?fa.indent+ka:0},electricChars:"/"}});CodeMirror.defineMIME("application/xml","xml");CodeMirror.defineMIME("text/html",{name:"xml",htmlMode:true});
CodeMirror.defineMode("css",function(i){function h(C,z){G=z;return C}function j(C,z){var M=C.next();if(M=="@"){C.eatWhile(/\w/);return h("css-at",C.current())}else if(M=="/"&&C.eat("*")){z.tokenize=o;return o(C,z)}else if(M=="<"&&C.eat("!")){z.tokenize=t;return t(C,z)}else if(M=="=")h(null,"compare");else if((M=="~"||M=="|")&&C.eat("="))return h(null,"compare");else if(M=='"'||M=="'"){z.tokenize=u(M);return z.tokenize(C,z)}else if(M=="#"){C.eatWhile(/\w/);return h("css-selector","hash")}else if(M==
"!"){C.match(/^\s*\w*/);return h("css-important","important")}else if(/\d/.test(M)){C.eatWhile(/[\w.%]/);return h("css-unit","unit")}else if(/[,.+>*\/]/.test(M))return h(null,"select-op");else if(/[;{}:\[\]]/.test(M))return h(null,M);else{C.eatWhile(/[\w\\\-_]/);return h("css-identifier","identifier")}}function o(C,z){for(var M=false,T;(T=C.next())!=null;){if(M&&T=="/"){z.tokenize=j;break}M=T=="*"}return h("css-comment","comment")}function t(C,z){for(var M=0,T;(T=C.next())!=null;){if(M>=2&&T==">"){z.tokenize=
j;break}M=T=="-"?M+1:0}return h("css-comment","comment")}function u(C){return function(z,M){for(var T=false,ja;(ja=z.next())!=null;){if(ja==C&&!T)break;T=!T&&ja=="\\"}if(!T)M.tokenize=j;return h("css-string","string")}}var x=i.indentUnit,G;return{startState:function(C){return{tokenize:j,baseIndent:C||0,stack:[]}},token:function(C,z){if(C.eatSpace())return null;var M=z.tokenize(C,z),T=z.stack[z.stack.length-1];if(G=="hash"&&T=="rule")M="css-colorcode";else if(M=="css-identifier")if(T=="rule")M="css-value";
else if(!T||T=="@media{")M="css-selector";T=="rule"&&/^[\{\};]$/.test(G)&&z.stack.pop();if(G=="{")if(T=="@media")z.stack[z.stack.length-1]="@media{";else z.stack.push("{");else if(G=="}")z.stack.pop();else if(G=="@media")z.stack.push("@media");else T!="rule"&&T!="@media"&&G!="comment"&&z.stack.push("rule");return M},indent:function(C,z){var M=C.stack.length;if(/^\}/.test(z))M-=C.stack[C.stack.length-1]=="rule"?2:1;return C.baseIndent+M*x},electricChars:"}"}});CodeMirror.defineMIME("text/css","css");
CodeMirror.defineMode("liquid",function(i){function h(C,z){var M=u.token(C,z.htmlState);if(M=="xml-tag"&&C.current()==">"&&z.htmlState.context)if(/^script$/i.test(z.htmlState.context.tagName)){z.token=o;z.localState=x.startState(u.indent(z.htmlState,""))}else if(/^style$/i.test(z.htmlState.context.tagName)){z.token=t;z.localState=G.startState(u.indent(z.htmlState,""))}return M}function j(C,z,M){var T=C.current();z=T.search(z);z>-1&&C.backUp(T.length-z);return M}function o(C,z){if(C.match(/^<\/\s*script\s*>/i,
false)){z.token=h;z.curState=null;return h(C,z)}return j(C,/<\/\s*script\s*>/,x.token(C,z.localState))}function t(C,z){if(C.match(/^<\/\s*style\s*>/i,false)){z.token=h;z.localState=null;return h(C,z)}return j(C,/<\/\s*style\s*>/,G.token(C,z.localState))}var u=CodeMirror.getMode(i,{name:"xml",htmlMode:true}),x=CodeMirror.getMode(i,"javascript"),G=CodeMirror.getMode(i,"css");return{startState:function(){var C=u.startState();return{token:h,localState:null,htmlState:C}},copyState:function(C){if(C.localState)var z=
CodeMirror.copyState(C.token==t?G:x,C.localState);return{token:C.token,localState:z,htmlState:CodeMirror.copyState(u,C.htmlState)}},token:function(C,z){return z.token(C,z)},indent:function(C,z){return C.token==h||/^\s*<\//.test(z)?u.indent(C.htmlState,z):C.token==o?x.indent(C.localState,z):G.indent(C.localState,z)},electricChars:"/{}:"}});CodeMirror.defineMIME("text/html","htmlmixed");
var Asset=Model("asset",function(){this.include({saveRemote:function(i){var h="/admin/assets/"+this.id()+".json",j=this;jQuery.ajax({type:"PUT",url:h,dataType:"json",data:{asset:j.changes},success:function(o){j.merge(o);i.success&&i.success.call(this)}})},deleteRemote:function(i){var h="/admin/assets/"+this.id()+".json",j=this;jQuery.ajax({type:"DELETE",url:h,dataType:"json",success:function(){Asset.remove(j);i.success&&i.success.call(this)}})},addToPage:function(i,h){var j="/admin/assets/"+this.id()+
".json",o=this,t=Page.find(i);jQuery.ajax({type:"PUT",url:j,data:{asset:{page_id:i}},dataType:"json",success:function(u){o.merge(u);t.load(function(){h&&h.call(this)})}})},removeFromPage:function(i,h){var j="/admin/assets/"+this.id()+".json",o=this,t=Page.find(i);jQuery.ajax({type:"PUT",url:j,data:{asset:{page_id:null}},dataType:"json",success:function(u){o.merge(u);t.load(function(){h&&h.call(this)})}})},toMustache:function(i){this.merge({query_path:i?"?"+decodeURIComponent(jQuery.param({query:i})):
"",query:i});return this.attr()},toMustacheWithNeighbors:function(i){var h=Asset.all(),j=h.indexOf(this),o=this.toMustache(i),t=h[j+1]?Asset.all()[j+1].toMustache(i):null;i=h[j-1]?Asset.all()[j-1].toMustache(i):null;jQuery("<img />")[0].src="/images/large/"+o.id+"/"+o.file_name;if(t)jQuery("<img />")[0].src="/images/large/"+t.id+"/"+t.file_name;if(i)jQuery("<img />")[0].src="/images/large/"+i.id+"/"+i.file_name;return{asset:o,next:t,previous:i}}});this.extend({toMustache:function(i){var h=i?"?"+decodeURIComponent(jQuery.param({query:i})):
"";return{assets:this.map(function(j){j.merge({query_path:h,query:i});return j.attr()}),query:i}},asJSON:function(){return Asset.map(function(i){return i.attr()})},tags:function(){tags=[];Asset.map(function(){tags=tags.concat(this.attr("tags"))});return tags},removeFromPage:function(i,h,j){i="/admin/assets/"+i+".json";var o=Page.find(h);jQuery.ajax({type:"PUT",url:i,data:{asset:{page_id:null}},dataType:"json",success:function(){o.load(function(){j&&j.call(this)})}})},searchRemote:function(i,h){var j=
i!=null?decodeURIComponent(jQuery.param({query:i})):"";Asset.each(function(){Asset.remove(this)});jQuery.ajax({type:"get",url:"/search.json",contentType:"application/json",dataType:"json",data:j,success:function(o){jQuery.each(o,function(t,u){var x=new Asset({id:u.id});x.merge(u);Asset.add(x)});h.call(this)}})},searchAdmin:function(i,h){var j=i!=null?decodeURIComponent(jQuery.param({query:i})):"";Asset.each(function(){Asset.remove(this)});jQuery.ajax({type:"get",url:"/admin/assets.json",contentType:"application/json",
dataType:"json",data:j,success:function(o){$.each(o,function(t,u){var x=new Asset({id:u.id});x.merge(u);Asset.add(x)});h.call(this)}})},create:function(i,h){Asset.callback=h;var j=new XMLHttpRequest;j.upload.addEventListener("loadstart",Asset.onloadstartHandler,false);j.upload.addEventListener("progress",Asset.onprogressHandler,false);j.upload.addEventListener("load",Asset.onloadHandler,false);j.addEventListener("readystatechange",Asset.onreadystatechangeHandler,false);j.open("POST","/admin/assets.json",
true);j.setRequestHeader("Content-Type","application/octet-stream");j.setRequestHeader("X-File-Name",i.name);j.send(i)},onloadstartHandler:function(){},onloadHandler:function(){},onprogressHandler:function(){},onreadystatechangeHandler:function(i){var h=null;try{h=i.target.status}catch(j){return}if(h=="200"&&i.target.readyState==4&&i.target.responseText){i=JSON.parse(i.target.responseText);h=new Asset({id:i.id});h.merge(i);Asset.add(h);Asset.callback&&Asset.callback.call(this)}}})}),Page=Model("page",
function(){this.include({children:function(){return Page.find_all_by_parent_id(this.id())},has_children:function(){if(this.children().all().length>0)return true},assets:function(){for(var i=this.attr("assets"),h=0,j=i.length;h<j;++h){var o=i[h],t=new Asset({id:o.id});t.merge(o);Asset.add(t)}return Asset},load:function(i){var h=this,j="/admin/pages/"+h.id()+".json";jQuery.ajax({type:"GET",url:j,dataType:"json",success:function(o){h.merge(o);i.call(this)}})},saveRemote:function(i,h){var j=this,o="/admin/pages/"+
this.id()+".json";jQuery.ajax({type:"PUT",url:o,data:i,dataType:"json",success:function(t){if(t.errors){alert(JSON.stringify(t.errors));h.error&&h.error.call(this)}else{j.merge(t);h.success&&h.success.call(this)}}})},deleteRemote:function(i){var h=this,j="/admin/pages/"+h.id()+".json";jQuery.ajax({type:"DELETE",url:j,dataType:"json",success:function(){Page.remove(h);i.call(this)}})}});this.extend({toMustache:function(){return{pages:this.map(function(i){return i.attr()})}},asJSON:function(){return Page.map(function(i){return i.attr()})},
root:function(){return this.detect(function(){return this.attr("parent_id")==null})},find_by_parent_id:function(i){return this.detect(function(){return this.attr("parent_id")==i})},find_all_by_parent_id:function(i){return this.select(function(){return this.attr("parent_id")==i})},create:function(i,h){jQuery.ajax({type:"post",url:"/admin/pages.json",dataType:"json",data:{page:i},success:function(j){var o=new Page({id:j.id});o.merge(j);Page.add(o);console.log(j);h.call(this,j)}})},load:function(i){Page.each(function(){Page.remove(this)});
jQuery.ajax({type:"get",url:"/admin/pages.json",contentType:"application/json",dataType:"json",success:function(h){jQuery.each(h,function(j,o){var t=new Page({id:o.id});t.merge(o);Page.add(t)});i&&i.call(this)}})}})}),Layout=Model("template",function(){this.persistence(Model.SinatraREST,"/admin/templates");this.include({saveRemote:function(i){var h=this,j="/admin/templates/"+h.id()+".json";h.save();jQuery.ajax({type:"PUT",url:j,dataType:"json",data:{template:h.attributes},success:function(o){if(o.errors){alert(JSON.stringify(o));
i.error&&i.error.call(this)}else{h.merge(o);i.success&&i.success.call(this)}}})},deleteRemote:function(i){var h=this,j="/admin/templates/"+h.id()+".json";jQuery.ajax({type:"DELETE",url:j,dataType:"json",success:function(){Layout.remove(h);i.call(this)}})}});this.extend({toMustache:function(){return{layouts:this.map(function(i){return i.attr()})}},asLayoutJSON:function(i){return Layout.find_all_by_class("Layout").map(function(h){i==h.id()?h.attr("selected",'selected="selected"'):h.attr("selected",
"");return h.attr()})},find_by_class:function(i){return this.detect(function(){return this.attr("klass")==i})},find_all_by_class:function(i){return this.select(function(){return this.attr("klass")==i})},asJSON_by_class:function(i){return this.find_all_by_class(function(){return i.map(function(h){return h.attributes})})},create:function(i,h){jQuery.ajax({type:"post",url:"/admin/templates.json",dataType:"json",data:{template:i},success:function(j){console.log(j);if(j.errors)h.error&&h.error.call(this);
else{var o=new Layout({id:j.id});o.merge(j);Layout.add(o);h.success&&h.success.call(this)}}})}})}),Part=Model("part",function(){this.include({deleteRemote:function(i,h){var j="/admin/pages/"+i.id()+"/parts/"+this.id()+".json";jQuery.ajax({type:"DELETE",url:j,dataType:"json",success:function(o){i.merge(o);h.call(this)}})}});this.extend({toMustache:function(){return{parts:this.map(function(i){return i.attr()})}},create:function(i,h){var j="/admin/templates/"+i.template_id+"/parts.json",o=Layout.find(i.template_id);
jQuery.ajax({type:"post",url:j,dataType:"json",data:{part:i},success:function(t){o.merge(t);h.call(this)}})}})}),Site=Model("site",function(){this.persistence(Model.SinatraREST,"/admin/sites");this.include({});this.extend({toMustache:function(){return{sites:this.map(function(i){return i.attr()})}}})}),Galerie={open:function(i,h){$("body").append('<div id="overlay"></div>').append('<div id="modal_wrapper"><div id="modal"></div></div>');var j=$("#modal");j.html(i);var o=$("#modal_wrapper"),t=$(window).height();
j=j.height()+42;j=(t-j)/2;$("#overlay").css({height:t}).hide().fadeIn("fast");o.hide().fadeIn("fast").css({top:j});h&&h.call(this)},close:function(){$("#modal_wrapper").fadeOut("fast",function(){$(this).remove();$("#overlay").fadeOut("fast",function(){$(this).remove()})})}},Utilities={keyboard_nav:function(){jQuery("body").keydown(function(i){switch(i.keyCode){case 37:$("a.previous").click();break;case 39:$("a.next").click();break}})},check_browser_version:function(){if(!Modernizr.history){jQuery("a").live("click",
function(h){h.preventDefault();document.location.hash=$(this).attr("href")});var i=jQuery("form#search-form");i.attr("action","#"+i.attr("action"))}},formObserver:function(i){jQuery(i).keyup(function(){delay(function(){jQuery(i).parents("form:first").submit()},800)})}},iFramer={initialize:function(i){i=jQuery(i);var h=this;i&&i.load(function(){var j=$(this).contents().find("a.verlag-editor");h.setEditFlags(j);j.click(function(){window.top.trigger=$(this);window.top.location.hash=$(this).attr("href");
return false})})},setEditFlags:function(i){i.css({position:"relative",display:"block",height:"0",width:"0","text-decoration":"none"}).find("span").css({display:"block",position:"absolute",top:"-24px",left:"12px",padding:"4px 8px",width:"100px",background:"rgba(255, 255, 0, 0.7)"})}},TabControl={initialize:function(i){if(i=jQuery(i)){i.each(function(h,j){$(j).hide()});i.first().show();this.tabControl(jQuery(".tab-control"))}},tabControl:function(i){i.click(function(){var h="tab-"+$(this).find("label").attr("for").split("-")[1];
console.log(h);jQuery(".tab").hide();jQuery("#"+h).show()})}},delay=function(){var i=0;return function(h,j){clearTimeout(i);i=setTimeout(h,j)}}();
Sites=Sammy(function(){var i=this;this.debug=false;this.disable_push_state=true;this.use(Sammy.JSON);this.use(Sammy.Mustache);this.use(Sammy.NestedParams);this.helpers({loadSites:function(h){if(Site.all().length==0)Site.load(function(){h&&h.call(this)});else h&&h.call(this)},renderSiteIndex:function(){this.render("/templates/admin/sites/index.mustache",Site.toMustache()).replace("#sidebar")}});this.bind("run",function(){i.modal=false;i.refresh_pages=true});this.get("#/preview",function(){window.open("/",
"preview")});this.get("#/sites",function(h){i.refresh_pages=true;Galerie.close();jQuery("#editor").html('<h1 class="section">Sites</div>');h.loadSites(function(){h.renderSiteIndex()})});this.get("#/sites/new",function(h){h.loadSites(function(){$("#modal").length==0&&Galerie.open();h.render("/templates/admin/sites/new.mustache").replace("#modal");h.renderSiteIndex(Site.all())})});this.post("#/sites",function(h){(new Site(h.params.site)).save(function(j,o){var t=JSON.parse(o.responseText);t.errors?
alert(JSON.stringify(t)):h.redirect("#/sites")})});this.get("#/sites/:id/edit",function(h){Galerie.close();h.loadSites(function(){site=Site.find(h.params.id);h.render("/templates/admin/sites/edit.mustache",{site:site.asJSON()}).replace("#editor");h.renderSiteIndex(Site.all())})});this.put("#/sites/:id",function(h){var j=Site.find(h.params.id);j.attr(h.params.site);j.save(function(o,t){var u=JSON.parse(t.responseText);u.errors?alert(JSON.stringify(u)):h.redirect("#/sites")})});this.get("#/sites/:id/remove",
function(h){Galerie.open();h.loadSites(function(){site=Site.find(h.params.id);h.render("/templates/admin/sites/remove.mustache",{site:site.asJSON()}).replace("#modal");h.renderSiteIndex(Site.all())})});this.del("#/sites/:id",function(h){site.destroy(function(j){j?h.redirect("#/sites"):alert("there were issues")})})});
Layouts=Sammy(function(){var i=this;this.debug=false;this.disable_push_state=true;this.use(Sammy.Title);this.use(Sammy.JSON);this.use(Sammy.Mustache);this.use(Sammy.NestedParams);this.helpers({loadLayouts:function(h){if(Layout.all().length==0)Layout.load(function(){h&&h.call(this)});else h&&h.call(this)},renderLayoutIndex:function(){this.render("/templates/admin/templates/index.mustache",{layouts:Layout.find_all_by_class("Layout").map(function(h){return h.attributes}),partials:Layout.find_all_by_class("Partial").map(function(h){return h.attributes}),
javascripts:Layout.find_all_by_class("Javascript").map(function(h){return h.attributes}),stylesheets:Layout.find_all_by_class("Stylesheet").map(function(h){return h.attributes})}).replace("#sidebar")},renderLayout:function(h){console.log(h.attr("filter")=="css"?"selected":"");this.render("/templates/admin/templates/edit.mustache",{layout:h.asJSON(),filters:[{name:"none",value:"none",selected:h.attr("filter")=="css"?'selected="selected"':""},{name:"Sass",value:"sass",selected:h.attr("filter")=="sass"?
'selected="selected"':""},{name:"Scss",value:"scss",selected:h.attr("filter")=="scss"?'selected="selected"':""}]}).replace("#editor").then(function(){var j=jQuery("#layout_content");j.attr("value",h.attr("content"));j=j.attr("class");jQuery("#layout_content").length>0&&CodeMirror.fromTextArea(document.getElementById("layout_content"),{mode:j,lineNumbers:true})})}});this.bind("run",function(){i.refresh_templates=true;i.refresh_pages=true;i.modal=false});this.get("#/templates",function(h){Galerie.close();
i.refresh_templates=false;i.refresh_pages=true;jQuery("#editor").html('<h1 class="section">Templates</div>');h.loadLayouts(function(){h.renderLayoutIndex(Layout.all())})});this.get("#/templates/new/:klass",function(h){this.loadLayouts(function(){var j=$("<div />").attr({id:"new-page-container","class":"small-modal"});$("#modal").length==0&&Galerie.open(j);h.render("/templates/admin/templates/new.mustache",{klass:h.params.klass}).replace("#new-page-container");h.renderLayoutIndex(Layout.all())})});
this.post("#/templates",function(h){Layout.create(h.params.template,{success:function(){h.redirect("#/templates");jQuery(".notice").text("Successfully saved template")},error:function(){jQuery(".notice").text("errors creating template");alert("hey")}})});this.get("#/templates/:id/edit",function(h){Galerie.close();i.refresh_pages=true;this.loadLayouts(function(){var j=Layout.find(h.params.id);h.renderLayout(j);h.renderLayoutIndex(Layout.all())})});this.put("#/templates/:id",function(h){var j=Layout.find(h.params.id);
j.attr(h.params.layout);j.save(function(o){if(o){h.renderLayoutIndex();var t=jQuery(".notice");t.text("Successfully saved template");t.slideDown("fast");setTimeout(function(){t.slideUp("fast")},"2000")}})});this.get("#/templates/:id/remove",function(h){this.loadLayouts(function(){var j=Layout.find(h.params.id);Galerie.open();h.render("/templates/admin/templates/remove.mustache",{layout:j.asJSON()}).replace("#modal");h.renderLayoutIndex(Layout.all())})});this.del("/templates/:id",function(h){Layout.find(h.params.id).deleteRemote(function(){h.redirect("#/templates")})});
this.post("/layouts/:id/parts",function(h){this.loadLayouts(function(){var j=h.params.id,o=h.params.part;alert(JSON.stringify(h.params.part));Part.create(o,function(){h.redirect("#/templates/"+j+"/edit")})})})});
Assets=Sammy(function(i){var h=this;this.debug=false;this.disable_push_state=true;this.use(Sammy.JSON);this.use(Sammy.Mustache);this.use(Sammy.NestedParams);this.swap=function(j){jQuery("#editor").html(j)};this.helpers({loadAssets:function(j,o){if(Asset.all().length==0)Asset.searchAdmin(j,function(){o&&o.call(this)});else o&&o.call(this)}});this.bind("run",function(){h.modal=false;h.first_run=true});this.get("#/assets",function(j){var o=j.params.query?j.params.query:null;Galerie.close();h.modal||
Asset.searchAdmin(o,function(){j.render("/templates/admin/assets/index.mustache",Asset.toMustache(o)).replace("#editor").then(function(){jQuery("#ajax_uploader").attr("multiple","multiple")})});h.modal=false;h.first_run=false});this.get("#/assets/new",function(j){j.render("/templates/admin/assets/new.mustache").replace("#editor").then(function(){jQuery("#ajax_uploader").attr("multiple","multiple")});h.first_run=false});this.post("/admin/assets",function(j){var o=document.getElementById("ajax_uploader").files,
t=j.params.query?j.params.query:null;jQuery("form#new_asset");for(var u=0;u<o.length;u++)Asset.create(o[u],function(){j.render("/templates/admin/assets/new.mustache",Asset.toMustache(t)).replace("#editor").then(function(){jQuery("#ajax_uploader").attr("multiple","multiple")})});return false});this.get("#/assets/:id/edit",function(j){var o=j.params.query?j.params.query:null;this.loadAssets(o,function(){var t=Asset.find(j.params.id);j.render("/templates/admin/assets/edit.mustache",t.toMustacheWithNeighbors(o)).replace("#editor").then(function(){setTimeout(function(){$("img.fade-in").fadeIn("slow")},
100);Utilities.formObserver(".image-info input[type=text], .image-info textarea")})});h.modal=false});this.put("#/assets/:id",function(j){var o=Asset.find(j.params.id);o.attr(j.params.asset);o.saveRemote({success:function(){var t=jQuery(".image-info .notice");t.html('<div class="message">Successfully updated!</div>');delay(function(){jQuery(".message",t).fadeOut("slow",function(){jQuery(this).remove()})},2E3)}})});this.get("#/assets/:id/remove",function(j){var o=j.params.query?j.params.query:null;
Galerie.close();Galerie.open(jQuery("<div />").attr({id:"remove-asset-container","class":"wide-modal"}));this.loadAssets(o,function(){var t=Asset.find(j.params.id);j.render("/templates/admin/assets/remove.mustache",{asset:t.toMustache(o)}).replace("#remove-asset-container");h.first_run&&j.render("/templates/admin/assets/index.mustache",Asset.toMustache(o)).replace("#editor")})});this.del("#/assets/:id",function(j){var o=j.params.query?j.params.query:null,t=o?"?"+decodeURIComponent(jQuery.param({query:o})):
"";Asset.find(j.params.id).deleteRemote({success:function(){Galerie.close();j.redirect("#/assets"+t)}})});i.get("/",function(){})});
Pages=Sammy(function(i){var h=this;this.debug=false;this.disable_push_state=true;this.use(Sammy.JSON);this.use(Sammy.Mustache);this.use(Sammy.NestedParams);i.helpers({loadPages:function(j){if(Page.all().length==0)Page.load(function(){Layout.load(function(){j&&j.call(this)})});else j&&j.call(this)},renderTree:function(j){var o=this;o.render("/templates/admin/pages/node.mustache",{pages:[j.asJSON()]}).replace("#sidebar").then(function(){o.renderNode(j)})},renderNode:function(j){var o=this;pageNode=
o.render("/templates/admin/pages/node.mustache",j.children().toMustache());pageNode.appendTo("#page-"+j.id()).then(function(){j.children().each(function(t){if(t.has_children()==true){jQuery("#page-"+t.id()).addClass("open");o.renderNode(t)}})})},renderPagePreview:function(j){h.modal||this.render("/templates/admin/pages/show.mustache",{page:j.asJSON(),page_id:j.id()}).replace("#editor").then(function(){iFramer.initialize("#preview iframe")})},renderPage:function(j){this.render("/templates/admin/pages/edit.mustache",
{page:j.asJSON(),layouts:Layout.asLayoutJSON(j.attr("layout_id"))}).replace("#editor").then(function(){TabControl.initialize(".tab")})}});this.bind("run",function(){h.application=this;h.refresh_pages=true;h.modal=false;jQuery(".add-asset").live("click",function(){h.application.trigger("add-asset");return false});jQuery("#sidebar .opener").live("click",function(){var j=(new Date).getTime(),o=$(this).parents("li:first"),t=this.id.split("-")[2],u=Page.find(t),x=jQuery.cookie("active_page_ids");x=x?x.split(","):
[];if(o.hasClass("open")){o.toggleClass("open");x=jQuery.grep(x,function(G){return G!=t});jQuery.cookie("active_page_ids",x.join(","),{path:"/admin"});u.children().each(function(G){Page.remove(G)});jQuery("#page-"+t+" ul").remove()}else{x.push(t);o.toggleClass("open");j=(new Date).getTime();jQuery.cookie("active_page_ids",x.join(","),{path:"/admin"});Page.load(function(){h.application.renderNode(u);var G=(new Date).getTime()-j;console.log(G)})}h.refresh_pages=false;return h.modal=false})});this.get("#/pages",
function(j){Galerie.close();h.refresh_pages&&j.loadPages(function(){j.renderTree(Page.root())});jQuery("#editor").html('<h1 class="section">Pages</div>');h.refresh_pages=true;h.do_not_refresh=false});this.get("#/pages/:id/new",function(j){this.loadPages(function(){var o=Page.find(j.params.id),t=$("<div />").attr({id:"new-page-container","class":"small-modal"});$("#modal").length==0&&Galerie.open(t);if(h.refresh_pages){j.renderTree(Page.root());h.refresh_pages=true}j.render("/templates/admin/pages/new.mustache",
{parent:o.asJSON()}).replace("#new-page-container")})});this.post("#/pages/:page_id",function(j){Page.find(j.params.page_id);Page.create(j.params.page,function(o){h.refresh_pages=true;j.redirect("#/pages/"+o.id+"/edit")})});this.get("#/pages/:id",function(j){Galerie.close();this.loadPages(function(){var o=j.params.id,t=Page.find(o);if(!h.do_not_refresh){if(t)j.renderPagePreview(t);else{t=new Page({id:o});t.load(function(){j.renderPagePreview(t)})}h.modal=false;h.do_not_refresh=false;if(h.refresh_pages){j.renderTree(Page.root());
h.refresh_pages=false}}});h.do_not_refresh=false});this.get("#/pages/:id/edit",function(j){Galerie.close();h.modal=true;this.loadPages(function(){var o=j.params.id,t=Page.find(o);if(t)j.renderPage(t);else{t=new Page({id:o});t.load(function(){j.renderPage(t)})}if(h.refresh_pages){j.renderTree(Page.root());h.refresh_pages=false}})});this.put("#/pages/:page_id",function(j){var o=j.params.page_id,t=Page.find(o),u=$("#edit-page");t.attr(j.params.page);t.saveRemote(u.serialize(),{success:function(){h.modal=
false;j.redirect("#/pages/"+o)}})});this.get("#/pages/:id/remove",function(j){this.loadPages(function(){var o=Page.find(j.params.id),t=$("<div />").attr({id:"remove-page-container","class":"small-modal"});$("#modal").length==0&&Galerie.open(t);h.refresh_pages&&j.renderTree(Page.root());j.render("/templates/admin/pages/remove.mustache",{page:o.asJSON()}).replace("#remove-page-container")})});this.del("/pages/:id",function(j){var o=j.params.id;Page.find(o).deleteRemote(function(){jQuery("#page-"+o).remove();
h.refresh_pages=false;j.redirect("#/pages")})});this.get("/pages/:id/results",function(j){this.loadPages(function(){var o=Page.find(j.params.id);Asset.searchAdmin(j.params.query,function(){Asset.each(function(t){t.attr("current_page_id",o.id());t.save()});j.render("/templates/admin/pages/search_results.mustache",Asset.toMustache()).replace("#search-results-container")})})});this.get("#/pages/:page_id/assets/:id/add",function(j){this.loadPages(function(){var o=j.params.page_id,t=Page.find(o),u=Asset.find(j.params.id),
x=jQuery("#page-asset-ids");x.attr("value");var G=x.attr("value")+","+u.id();x.attr("value",G);t.saveRemote({page:{assets_list:G}},{success:function(){var C=jQuery('<div class="asset" />').attr("id","page-asset-"+u.id()),z=jQuery('<a href="#/assets/'+u.id()+'/edit"></a>'),M=jQuery('<br /><a href="#/pages/'+t.id()+"/assets/"+u.id()+'/remove">Remove</a>');z.append('<img src="/images/icons/'+u.id()+"/"+u.attr("file_name")+'" alt="'+u.attr("title")+'" /></a>');C.html(z);C.append(M);jQuery("#page-assets").append(C);
C=jQuery("#preview iframe");C.attr("src",C.attr("src"));h.do_not_refresh=true;j.redirect("#/pages/"+o+"/edit")}})})});this.get("#/pages/:page_id/assets/:id/remove",function(j){this.loadPages(function(){var o=j.params.id,t=j.params.page_id,u=Page.find(t),x=jQuery("#page-asset-ids"),G=x.attr("value").split(","),C=G.indexOf(o);C!=-1&&G.splice(C,1);x.attr("value",G);u.saveRemote({page:{assets_list:G.join(",")}},{success:function(){jQuery("#page-asset-"+o).fadeOut("fast",function(){$(this).remove()});
var z=jQuery("#preview iframe");z.attr("src",z.attr("src"));h.do_not_refresh=true;j.redirect("#/pages/"+t+"/edit")}})})})});jQuery(document).ready(function(){jQuery("#login").length||Pages.run("#/pages");jQuery("#ajax_uploader").attr("multiple","multiple");jQuery(".js-only").show();Utilities.keyboard_nav();Utilities.check_browser_version();var i=jQuery("#tabs a");i.live("click",function(){i.removeClass("active");$(this).addClass("active")})});
