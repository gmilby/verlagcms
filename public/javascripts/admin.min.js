(function(e,c){function g(a){return d.isWindow(a)?a:a.nodeType===9?a.defaultView||a.parentWindow:false}function i(a){if(!Ka[a]){var b=d("<"+a+">").appendTo("body"),f=b.css("display");b.remove();if(f==="none"||f===""){Ma||(Ma=aa.createElement("iframe"),Ma.frameBorder=Ma.width=Ma.height=0);aa.body.appendChild(Ma);if(!rb||!Ma.createElement){rb=(Ma.contentWindow||Ma.contentDocument).document;rb.write("<!doctype><html><body></body></html>")}b=rb.createElement(a);rb.body.appendChild(b);f=d.css(b,"display");
aa.body.removeChild(Ma)}Ka[a]=f}return Ka[a]}function k(a,b){var f={};d.each(xb.concat.apply([],xb.slice(0,b)),function(){f[this]=a});return f}function l(){Qa=c}function n(){setTimeout(l,0);return Qa=d.now()}function u(){try{return new e.XMLHttpRequest}catch(a){}}function A(a,b,f,h){if(d.isArray(b))d.each(b,function(m,p){f||jb.test(a)?h(a,p):A(a+"["+(typeof p=="object"||d.isArray(p)?m:"")+"]",p,f,h)});else if(!f&&b!=null&&typeof b=="object")for(var j in b)A(a+"["+j+"]",b[j],f,h);else h(a,b)}function z(a,
b,f,h,j,m){j=j||b.dataTypes[0];m=m||{};m[j]=true;j=a[j];for(var p=0,t=j?j.length:0,x=a===bb,w;p<t&&(x||!w);p++){w=j[p](b,f,h);typeof w=="string"&&(!x||m[w]?(w=c):(b.dataTypes.unshift(w),w=z(a,b,f,h,w,m)))}(x||!w)&&!m["*"]&&(w=z(a,b,f,h,"*",m));return w}function G(a){return function(b,f){typeof b!="string"&&(f=b,b="*");if(d.isFunction(f))for(var h=b.toLowerCase().split(Ua),j=0,m=h.length,p,t;j<m;j++){p=h[j];(t=/^\+/.test(p))&&(p=p.substr(1)||"*");p=a[p]=a[p]||[];p[t?"unshift":"push"](f)}}}function v(a,
b,f){var h=b==="width"?a.offsetWidth:a.offsetHeight;if(f==="border")return h;d.each(b==="width"?Ob:Gb,function(){f||(h-=parseFloat(d.css(a,"padding"+this))||0);f==="margin"?(h+=parseFloat(d.css(a,"margin"+this))||0):(h-=parseFloat(d.css(a,"border"+this+"Width"))||0)});return h}function q(a,b){b.src?d.ajax({url:b.src,async:false,dataType:"script"}):d.globalEval((b.text||b.textContent||b.innerHTML||"").replace(dc,"/*$0*/"));b.parentNode&&b.parentNode.removeChild(b)}function y(a){d.nodeName(a,"input")?
E(a):a.getElementsByTagName&&d.grep(a.getElementsByTagName("input"),E)}function E(a){if(a.type==="checkbox"||a.type==="radio")a.defaultChecked=a.checked}function o(a){return"getElementsByTagName"in a?a.getElementsByTagName("*"):"querySelectorAll"in a?a.querySelectorAll("*"):[]}function r(a,b){var f;if(b.nodeType===1){b.clearAttributes&&b.clearAttributes();b.mergeAttributes&&b.mergeAttributes(a);f=b.nodeName.toLowerCase();if(f==="object")b.outerHTML=a.outerHTML;else if(f!=="input"||a.type!=="checkbox"&&
a.type!=="radio")if(f==="option")b.selected=a.defaultSelected;else{if(f==="input"||f==="textarea")b.defaultValue=a.defaultValue}else{a.checked&&(b.defaultChecked=b.checked=a.checked);b.value!==a.value&&(b.value=a.value)}b.removeAttribute(d.expando)}}function C(a,b){if(b.nodeType===1&&d.hasData(a)){var f=d.expando,h=d.data(a),j=d.data(b,h);if(h=h[f]){var m=h.events;j=j[f]=d.extend({},h);if(m){delete j.handle;j.events={};for(var p in m){f=0;for(h=m[p].length;f<h;f++)d.event.add(b,p+(m[p][f].namespace?
".":"")+m[p][f].namespace,m[p][f],m[p][f].data)}}}}}function I(a,b,f){b=b||0;if(d.isFunction(b))return d.grep(a,function(j,m){return!!b.call(j,m,j)===f});if(b.nodeType)return d.grep(a,function(j){return j===b===f});if(typeof b=="string"){var h=d.grep(a,function(j){return j.nodeType===1});if(Ha.test(b))return d.filter(b,h,!f);b=d.filter(b,h)}return d.grep(a,function(j){return d.inArray(j,b)>=0===f})}function da(a,b){return(a&&a!=="*"?a+".":"")+b.replace(Ia,"`").replace(fb,"&")}function ka(a){var b,
f,h,j,m,p,t,x,w,F,Z,ma=[];j=[];m=d._data(this,"events");if(!(a.liveFired===this||!m||!m.live||a.target.disabled||a.button&&a.type==="click")){a.namespace&&(Z=new RegExp("(^|\\.)"+a.namespace.split(".").join("\\.(?:.*\\.)?")+"(\\.|$)"));a.liveFired=this;var oa=m.live.slice(0);for(t=0;t<oa.length;t++){m=oa[t];m.origType.replace(ra,"")===a.type?j.push(m.selector):oa.splice(t--,1)}j=d(a.target).closest(j,a.currentTarget);x=0;for(w=j.length;x<w;x++){F=j[x];for(t=0;t<oa.length;t++){m=oa[t];if(F.selector===
m.selector&&(!Z||Z.test(m.namespace))&&!F.elem.disabled){p=F.elem;h=null;if(m.preType==="mouseenter"||m.preType==="mouseleave"){a.type=m.preType;(h=d(a.relatedTarget).closest(m.selector)[0])&&d.contains(p,h)&&(h=p)}(!h||h!==p)&&ma.push({elem:p,handleObj:m,level:F.level})}}}x=0;for(w=ma.length;x<w;x++){j=ma[x];if(f&&j.level>f)break;a.currentTarget=j.elem;a.data=j.handleObj.data;a.handleObj=j.handleObj;Z=j.handleObj.origHandler.apply(j.elem,arguments);if(Z===false||a.isPropagationStopped()){f=j.level;
Z===false&&(b=false);if(a.isImmediatePropagationStopped())break}}return b}}function R(a,b,f){var h=d.extend({},f[0]);h.type=a;h.originalEvent={};h.liveFired=c;d.event.handle.call(b,h);h.isDefaultPrevented()&&f[0].preventDefault()}function ga(){return true}function ia(){return false}function Aa(a,b,f){var h=b+"defer",j=b+"queue",m=b+"mark",p=d.data(a,h,c,true);p&&(f==="queue"||!d.data(a,j,c,true))&&(f==="mark"||!d.data(a,m,c,true))&&setTimeout(function(){!d.data(a,j,c,true)&&!d.data(a,m,c,true)&&(d.removeData(a,
h,true),p.resolve())},0)}function La(a){for(var b in a)if(b!=="toJSON")return false;return true}function Va(a,b,f){if(f===c&&a.nodeType===1){f="data-"+b.replace(V,"$1-$2").toLowerCase();f=a.getAttribute(f);if(typeof f=="string"){try{f=f==="true"?true:f==="false"?false:f==="null"?null:d.isNaN(f)?P.test(f)?d.parseJSON(f):f:parseFloat(f)}catch(h){}d.data(a,b,f)}else f=c}return f}var aa=e.document,S=e.navigator,X=e.location,d=function(){function a(){if(!b.isReady){try{aa.documentElement.doScroll("left")}catch(D){setTimeout(a,
1);return}b.ready()}}var b=function(D,T){return new b.fn.init(D,T,j)},f=e.jQuery,h=e.$,j,m=/^(?:[^<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,p=/\S/,t=/^\s+/,x=/\s+$/,w=/\d/,F=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,Z=/^[\],:{}\s]*$/,ma=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,oa=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,pa=/(?:^|:|,)(?:\s*\[)+/g,Fa=/(webkit)[ \/]([\w.]+)/,ya=/(opera)(?:.*version)?[ \/]([\w.]+)/,Ga=/(msie) ([\w.]+)/,Ra=/(mozilla)(?:.*? rv:([\w.]+))?/,s=S.userAgent,B,K,M=Object.prototype.toString,
J=Object.prototype.hasOwnProperty,N=Array.prototype.push,W=Array.prototype.slice,ea=String.prototype.trim,wa=Array.prototype.indexOf,Na={};b.fn=b.prototype={constructor:b,init:function(D,T,ba){var Q,xa;if(!D)return this;if(D.nodeType){this.context=this[0]=D;this.length=1;return this}if(D==="body"&&!T&&aa.body){this.context=aa;this[0]=aa.body;this.selector=D;this.length=1;return this}if(typeof D=="string"){D.charAt(0)!=="<"||D.charAt(D.length-1)!==">"||D.length<3?(Q=m.exec(D)):(Q=[null,D,null]);if(Q&&
(Q[1]||!T)){if(Q[1]){xa=(T=T instanceof b?T[0]:T)?T.ownerDocument||T:aa;(ba=F.exec(D))?b.isPlainObject(T)?(D=[aa.createElement(ba[1])],b.fn.attr.call(D,T,true)):(D=[xa.createElement(ba[1])]):(ba=b.buildFragment([Q[1]],[xa]),D=(ba.cacheable?b.clone(ba.fragment):ba.fragment).childNodes);return b.merge(this,D)}if((T=aa.getElementById(Q[2]))&&T.parentNode){if(T.id!==Q[2])return ba.find(D);this.length=1;this[0]=T}this.context=aa;this.selector=D;return this}return!T||T.jquery?(T||ba).find(D):this.constructor(T).find(D)}if(b.isFunction(D))return ba.ready(D);
D.selector!==c&&(this.selector=D.selector,this.context=D.context);return b.makeArray(D,this)},selector:"",jquery:"1.6.1",length:0,size:function(){return this.length},toArray:function(){return W.call(this,0)},get:function(D){return D==null?this.toArray():D<0?this[this.length+D]:this[D]},pushStack:function(D,T,ba){var Q=this.constructor();b.isArray(D)?N.apply(Q,D):b.merge(Q,D);Q.prevObject=this;Q.context=this.context;T==="find"?(Q.selector=this.selector+(this.selector?" ":"")+ba):T&&(Q.selector=this.selector+
"."+T+"("+ba+")");return Q},each:function(D,T){return b.each(this,D,T)},ready:function(D){b.bindReady();B.done(D);return this},eq:function(D){return D===-1?this.slice(D):this.slice(D,+D+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(W.apply(this,arguments),"slice",W.call(arguments).join(","))},map:function(D){return this.pushStack(b.map(this,function(T,ba){return D.call(T,ba,T)}))},end:function(){return this.prevObject||this.constructor(null)},
push:N,sort:[].sort,splice:[].splice};b.fn.init.prototype=b.fn;b.extend=b.fn.extend=function(){var D,T,ba,Q,xa,ua,qa=arguments[0]||{},Ca=1,Hb=arguments.length,yb=false;typeof qa=="boolean"&&(yb=qa,qa=arguments[1]||{},Ca=2);typeof qa!="object"&&!b.isFunction(qa)&&(qa={});for(Hb===Ca&&(qa=this,--Ca);Ca<Hb;Ca++)if((D=arguments[Ca])!=null)for(T in D){ba=qa[T];Q=D[T];if(qa!==Q)yb&&Q&&(b.isPlainObject(Q)||(xa=b.isArray(Q)))?(xa?(xa=false,ua=ba&&b.isArray(ba)?ba:[]):(ua=ba&&b.isPlainObject(ba)?ba:{}),qa[T]=
b.extend(yb,ua,Q)):Q!==c&&(qa[T]=Q)}return qa};b.extend({noConflict:function(D){e.$===b&&(e.$=h);D&&e.jQuery===b&&(e.jQuery=f);return b},isReady:false,readyWait:1,holdReady:function(D){D?b.readyWait++:b.ready(true)},ready:function(D){if(D===true&&!--b.readyWait||D!==true&&!b.isReady){if(!aa.body)return setTimeout(b.ready,1);b.isReady=true;if(!(D!==true&&--b.readyWait>0)){B.resolveWith(aa,[b]);b.fn.trigger&&b(aa).trigger("ready").unbind("ready")}}},bindReady:function(){if(!B){B=b._Deferred();if(aa.readyState===
"complete")return setTimeout(b.ready,1);if(aa.addEventListener){aa.addEventListener("DOMContentLoaded",K,false);e.addEventListener("load",b.ready,false)}else if(aa.attachEvent){aa.attachEvent("onreadystatechange",K);e.attachEvent("onload",b.ready);var D=false;try{D=e.frameElement==null}catch(T){}aa.documentElement.doScroll&&D&&a()}}},isFunction:function(D){return b.type(D)==="function"},isArray:Array.isArray||function(D){return b.type(D)==="array"},isWindow:function(D){return D&&typeof D=="object"&&
"setInterval"in D},isNaN:function(D){return D==null||!w.test(D)||isNaN(D)},type:function(D){return D==null?String(D):Na[M.call(D)]||"object"},isPlainObject:function(D){if(!D||b.type(D)!=="object"||D.nodeType||b.isWindow(D))return false;if(D.constructor&&!J.call(D,"constructor")&&!J.call(D.constructor.prototype,"isPrototypeOf"))return false;var T;for(T in D);return T===c||J.call(D,T)},isEmptyObject:function(D){for(var T in D)return false;return true},error:function(D){throw D;},parseJSON:function(D){if(typeof D!=
"string"||!D)return null;D=b.trim(D);if(e.JSON&&e.JSON.parse)return e.JSON.parse(D);if(Z.test(D.replace(ma,"@").replace(oa,"]").replace(pa,"")))return(new Function("return "+D))();b.error("Invalid JSON: "+D)},parseXML:function(D,T,ba){e.DOMParser?(ba=new DOMParser,T=ba.parseFromString(D,"text/xml")):(T=new ActiveXObject("Microsoft.XMLDOM"),T.async="false",T.loadXML(D));ba=T.documentElement;(!ba||!ba.nodeName||ba.nodeName==="parsererror")&&b.error("Invalid XML: "+D);return T},noop:function(){},globalEval:function(D){D&&
p.test(D)&&(e.execScript||function(T){e.eval.call(e,T)})(D)},nodeName:function(D,T){return D.nodeName&&D.nodeName.toUpperCase()===T.toUpperCase()},each:function(D,T,ba){var Q,xa=0,ua=D.length,qa=ua===c||b.isFunction(D);if(ba)if(qa)for(Q in D){if(T.apply(D[Q],ba)===false)break}else for(;xa<ua;){if(T.apply(D[xa++],ba)===false)break}else if(qa)for(Q in D){if(T.call(D[Q],Q,D[Q])===false)break}else for(;xa<ua;)if(T.call(D[xa],xa,D[xa++])===false)break;return D},trim:ea?function(D){return D==null?"":ea.call(D)}:
function(D){return D==null?"":(D+"").replace(t,"").replace(x,"")},makeArray:function(D,T){var ba=T||[];if(D!=null){var Q=b.type(D);D.length==null||Q==="string"||Q==="function"||Q==="regexp"||b.isWindow(D)?N.call(ba,D):b.merge(ba,D)}return ba},inArray:function(D,T){if(wa)return wa.call(T,D);for(var ba=0,Q=T.length;ba<Q;ba++)if(T[ba]===D)return ba;return-1},merge:function(D,T){var ba=D.length,Q=0;if(typeof T.length=="number")for(var xa=T.length;Q<xa;Q++)D[ba++]=T[Q];else for(;T[Q]!==c;)D[ba++]=T[Q++];
D.length=ba;return D},grep:function(D,T,ba){var Q=[],xa;ba=!!ba;for(var ua=0,qa=D.length;ua<qa;ua++){xa=!!T(D[ua],ua);ba!==xa&&Q.push(D[ua])}return Q},map:function(D,T,ba){var Q,xa,ua=[],qa=0,Ca=D.length;if(D instanceof b||Ca!==c&&typeof Ca=="number"&&(Ca>0&&D[0]&&D[Ca-1]||Ca===0||b.isArray(D)))for(;qa<Ca;qa++){Q=T(D[qa],qa,ba);Q!=null&&(ua[ua.length]=Q)}else for(xa in D){Q=T(D[xa],xa,ba);Q!=null&&(ua[ua.length]=Q)}return ua.concat.apply([],ua)},guid:1,proxy:function(D,T){if(typeof T=="string"){var ba=
D[T];T=D;D=ba}if(!b.isFunction(D))return c;var Q=W.call(arguments,2);ba=function(){return D.apply(T,Q.concat(W.call(arguments)))};ba.guid=D.guid=D.guid||ba.guid||b.guid++;return ba},access:function(D,T,ba,Q,xa,ua){var qa=D.length;if(typeof T=="object"){for(var Ca in T)b.access(D,Ca,T[Ca],Q,xa,ba);return D}if(ba!==c){Q=!ua&&Q&&b.isFunction(ba);for(Ca=0;Ca<qa;Ca++)xa(D[Ca],T,Q?ba.call(D[Ca],Ca,xa(D[Ca],T)):ba,ua);return D}return qa?xa(D[0],T):c},now:function(){return(new Date).getTime()},uaMatch:function(D){D=
D.toLowerCase();D=Fa.exec(D)||ya.exec(D)||Ga.exec(D)||D.indexOf("compatible")<0&&Ra.exec(D)||[];return{browser:D[1]||"",version:D[2]||"0"}},sub:function(){function D(ba,Q){return new D.fn.init(ba,Q)}b.extend(true,D,this);D.superclass=this;D.fn=D.prototype=this();D.fn.constructor=D;D.sub=this.sub;D.fn.init=function(ba,Q){Q&&Q instanceof b&&!(Q instanceof D)&&(Q=D(Q));return b.fn.init.call(this,ba,Q,T)};D.fn.init.prototype=D.fn;var T=D(aa);return D},browser:{}});b.each("Boolean Number String Function Array Date RegExp Object".split(" "),
function(D,T){Na["[object "+T+"]"]=T.toLowerCase()});s=b.uaMatch(s);s.browser&&(b.browser[s.browser]=true,b.browser.version=s.version);b.browser.webkit&&(b.browser.safari=true);p.test("\u00a0")&&(t=/^[\s\xA0]+/,x=/[\s\xA0]+$/);j=b(aa);aa.addEventListener?(K=function(){aa.removeEventListener("DOMContentLoaded",K,false);b.ready()}):aa.attachEvent&&(K=function(){aa.readyState==="complete"&&(aa.detachEvent("onreadystatechange",K),b.ready())});return b}(),H="done fail isResolved isRejected promise then always pipe".split(" "),
O=[].slice;d.extend({_Deferred:function(){var a=[],b,f,h,j={done:function(){if(!h){var m=arguments,p,t,x,w,F;b&&(F=b,b=0);p=0;for(t=m.length;p<t;p++){x=m[p];w=d.type(x);w==="array"?j.done.apply(j,x):w==="function"&&a.push(x)}F&&j.resolveWith(F[0],F[1])}return this},resolveWith:function(m,p){if(!h&&!b&&!f){p=p||[];f=1;try{for(;a[0];)a.shift().apply(m,p)}finally{b=[m,p];f=0}}return this},resolve:function(){j.resolveWith(this,arguments);return this},isResolved:function(){return!!f||!!b},cancel:function(){h=
1;a=[];return this}};return j},Deferred:function(a){var b=d._Deferred(),f=d._Deferred(),h;d.extend(b,{then:function(j,m){b.done(j).fail(m);return this},always:function(){return b.done.apply(b,arguments).fail.apply(this,arguments)},fail:f.done,rejectWith:f.resolveWith,reject:f.resolve,isRejected:f.isResolved,pipe:function(j,m){return d.Deferred(function(p){d.each({done:[j,"resolve"],fail:[m,"reject"]},function(t,x){var w=x[0],F=x[1],Z;d.isFunction(w)?b[t](function(){(Z=w.apply(this,arguments))&&d.isFunction(Z.promise)?
Z.promise().then(p.resolve,p.reject):p[F](Z)}):b[t](p[F])})}).promise()},promise:function(j){if(j==null){if(h)return h;h=j={}}for(var m=H.length;m--;)j[H[m]]=b[H[m]];return j}});b.done(f.cancel).fail(b.cancel);delete b.cancel;a&&a.call(b,b);return b},when:function(a){function b(t){return function(x){f[t]=arguments.length>1?O.call(arguments,0):x;--m||p.resolveWith(p,O.call(f,0))}}var f=arguments,h=0,j=f.length,m=j,p=j<=1&&a&&d.isFunction(a.promise)?a:d.Deferred();if(j>1){for(;h<j;h++)f[h]&&d.isFunction(f[h].promise)?
f[h].promise().then(b(h),p.reject):--m;m||p.resolveWith(p,f)}else p!==a&&p.resolveWith(p,j?[a]:[]);return p.promise()}});d.support=function(){var a=aa.createElement("div"),b=aa.documentElement,f,h,j,m,p,t,x;a.setAttribute("className","t");a.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>";f=a.getElementsByTagName("*");h=a.getElementsByTagName("a")[0];if(!f||!f.length||!h)return{};j=aa.createElement("select");m=j.appendChild(aa.createElement("option"));
f=a.getElementsByTagName("input")[0];t={leadingWhitespace:a.firstChild.nodeType===3,tbody:!a.getElementsByTagName("tbody").length,htmlSerialize:!!a.getElementsByTagName("link").length,style:/top/.test(h.getAttribute("style")),hrefNormalized:h.getAttribute("href")==="/a",opacity:/^0.55$/.test(h.style.opacity),cssFloat:!!h.style.cssFloat,checkOn:f.value==="on",optSelected:m.selected,getSetAttribute:a.className!=="t",submitBubbles:true,changeBubbles:true,focusinBubbles:false,deleteExpando:true,noCloneEvent:true,
inlineBlockNeedsLayout:false,shrinkWrapBlocks:false,reliableMarginRight:true};f.checked=true;t.noCloneChecked=f.cloneNode(true).checked;j.disabled=true;t.optDisabled=!m.disabled;try{delete a.test}catch(w){t.deleteExpando=false}!a.addEventListener&&a.attachEvent&&a.fireEvent&&(a.attachEvent("onclick",function F(){t.noCloneEvent=false;a.detachEvent("onclick",F)}),a.cloneNode(true).fireEvent("onclick"));f=aa.createElement("input");f.value="t";f.setAttribute("type","radio");t.radioValue=f.value==="t";
f.setAttribute("checked","checked");a.appendChild(f);h=aa.createDocumentFragment();h.appendChild(a.firstChild);t.checkClone=h.cloneNode(true).cloneNode(true).lastChild.checked;a.innerHTML="";a.style.width=a.style.paddingLeft="1px";h=aa.createElement("body");j={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};for(x in j)h.style[x]=j[x];h.appendChild(a);b.insertBefore(h,b.firstChild);t.appendChecked=f.checked;t.boxModel=a.offsetWidth===2;"zoom"in a.style&&(a.style.display="inline",
a.style.zoom=1,t.inlineBlockNeedsLayout=a.offsetWidth===2,a.style.display="",a.innerHTML="<div style='width:4px;'></div>",t.shrinkWrapBlocks=a.offsetWidth!==2);a.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>";j=a.getElementsByTagName("td");f=j[0].offsetHeight===0;j[0].style.display="";j[1].style.display="none";t.reliableHiddenOffsets=f&&j[0].offsetHeight===0;a.innerHTML="";aa.defaultView&&aa.defaultView.getComputedStyle&&(p=aa.createElement("div"),
p.style.width="0",p.style.marginRight="0",a.appendChild(p),t.reliableMarginRight=(parseInt((aa.defaultView.getComputedStyle(p,null)||{marginRight:0}).marginRight,10)||0)===0);h.innerHTML="";b.removeChild(h);if(a.attachEvent)for(x in{submit:1,change:1,focusin:1}){b="on"+x;(f=b in a)||(a.setAttribute(b,"return;"),f=typeof a[b]=="function");t[x+"Bubbles"]=f}return t}();d.boxModel=d.support.boxModel;var P=/^(?:\{.*\}|\[.*\])$/,V=/([a-z])([A-Z])/g;d.extend({cache:{},uuid:0,expando:"jQuery"+(d.fn.jquery+
Math.random()).replace(/\D/g,""),noData:{embed:true,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:true},hasData:function(a){a=a.nodeType?d.cache[a[d.expando]]:a[d.expando];return!!a&&!La(a)},data:function(a,b,f,h){if(d.acceptData(a)){var j=d.expando,m=typeof b=="string",p=a.nodeType,t=p?d.cache:a,x=p?a[d.expando]:a[d.expando]&&d.expando;if(!((!x||h&&x&&!t[x][j])&&m&&f===c)){x||(p?(a[d.expando]=x=++d.uuid):(x=d.expando));t[x]||(t[x]={},p||(t[x].toJSON=d.noop));if(typeof b=="object"||typeof b==
"function")h?(t[x][j]=d.extend(t[x][j],b)):(t[x]=d.extend(t[x],b));a=t[x];h&&(a[j]||(a[j]={}),a=a[j]);f!==c&&(a[d.camelCase(b)]=f);if(b==="events"&&!a[b])return a[j]&&a[j].events;return m?a[d.camelCase(b)]:a}}},removeData:function(a,b,f){if(d.acceptData(a)){var h=d.expando,j=a.nodeType,m=j?d.cache:a,p=j?a[d.expando]:d.expando;if(m[p]){if(b){var t=f?m[p][h]:m[p];if(t){delete t[b];if(!La(t))return}}if(f){delete m[p][h];if(!La(m[p]))return}b=m[p][h];d.support.deleteExpando||m!=e?delete m[p]:(m[p]=null);
b?(m[p]={},j||(m[p].toJSON=d.noop),m[p][h]=b):j&&(d.support.deleteExpando?delete a[d.expando]:a.removeAttribute?a.removeAttribute(d.expando):(a[d.expando]=null))}}},_data:function(a,b,f){return d.data(a,b,f,true)},acceptData:function(a){if(a.nodeName){var b=d.noData[a.nodeName.toLowerCase()];if(b)return b!==true&&a.getAttribute("classid")===b}return true}});d.fn.extend({data:function(a,b){var f=null;if(typeof a=="undefined"){if(this.length){f=d.data(this[0]);if(this[0].nodeType===1)for(var h=this[0].attributes,
j,m=0,p=h.length;m<p;m++){j=h[m].name;j.indexOf("data-")===0&&(j=d.camelCase(j.substring(5)),Va(this[0],j,f[j]))}}return f}if(typeof a=="object")return this.each(function(){d.data(this,a)});var t=a.split(".");t[1]=t[1]?"."+t[1]:"";if(b===c){f=this.triggerHandler("getData"+t[1]+"!",[t[0]]);f===c&&this.length&&(f=d.data(this[0],a),f=Va(this[0],a,f));return f===c&&t[1]?this.data(t[0]):f}return this.each(function(){var x=d(this),w=[t[0],b];x.triggerHandler("setData"+t[1]+"!",w);d.data(this,a,b);x.triggerHandler("changeData"+
t[1]+"!",w)})},removeData:function(a){return this.each(function(){d.removeData(this,a)})}});d.extend({_mark:function(a,b){a&&(b=(b||"fx")+"mark",d.data(a,b,(d.data(a,b,c,true)||0)+1,true))},_unmark:function(a,b,f){a!==true&&(f=b,b=a,a=false);if(b){f=f||"fx";var h=f+"mark";(a=a?0:(d.data(b,h,c,true)||1)-1)?d.data(b,h,a,true):(d.removeData(b,h,true),Aa(b,f,"mark"))}},queue:function(a,b,f){if(a){b=(b||"fx")+"queue";var h=d.data(a,b,c,true);f&&(!h||d.isArray(f)?(h=d.data(a,b,d.makeArray(f),true)):h.push(f));
return h||[]}},dequeue:function(a,b){b=b||"fx";var f=d.queue(a,b),h=f.shift();h==="inprogress"&&(h=f.shift());h&&(b==="fx"&&f.unshift("inprogress"),h.call(a,function(){d.dequeue(a,b)}));f.length||(d.removeData(a,b+"queue",true),Aa(a,b,"queue"))}});d.fn.extend({queue:function(a,b){typeof a!="string"&&(b=a,a="fx");if(b===c)return d.queue(this[0],a);return this.each(function(){var f=d.queue(this,a,b);a==="fx"&&f[0]!=="inprogress"&&d.dequeue(this,a)})},dequeue:function(a){return this.each(function(){d.dequeue(this,
a)})},delay:function(a,b){a=d.fx?d.fx.speeds[a]||a:a;b=b||"fx";return this.queue(b,function(){var f=this;setTimeout(function(){d.dequeue(f,b)},a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){function f(){--p||h.resolveWith(j,[j])}typeof a!="string"&&(b=a,a=c);a=a||"fx";for(var h=d.Deferred(),j=this,m=j.length,p=1,t=a+"defer",x=a+"queue",w=a+"mark",F;m--;)if(F=d.data(j[m],t,c,true)||(d.data(j[m],x,c,true)||d.data(j[m],w,c,true))&&d.data(j[m],t,d._Deferred(),true)){p++;
F.done(f)}f();return h.promise()}});var la=/[\n\t\r]/g,ja=/\s+/,za=/\r/g,Ea=/^(?:button|input)$/i,ta=/^(?:button|input|object|select|textarea)$/i,Ja=/^a(?:rea)?$/i,L=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,fa=/\:/,ca,ha;d.fn.extend({attr:function(a,b){return d.access(this,a,b,true,d.attr)},removeAttr:function(a){return this.each(function(){d.removeAttr(this,a)})},prop:function(a,b){return d.access(this,a,b,true,
d.prop)},removeProp:function(a){a=d.propFix[a]||a;return this.each(function(){try{this[a]=c;delete this[a]}catch(b){}})},addClass:function(a){if(d.isFunction(a))return this.each(function(w){var F=d(this);F.addClass(a.call(this,w,F.attr("class")||""))});if(a&&typeof a=="string")for(var b=(a||"").split(ja),f=0,h=this.length;f<h;f++){var j=this[f];if(j.nodeType===1)if(j.className){for(var m=" "+j.className+" ",p=j.className,t=0,x=b.length;t<x;t++)m.indexOf(" "+b[t]+" ")<0&&(p+=" "+b[t]);j.className=
d.trim(p)}else j.className=a}return this},removeClass:function(a){if(d.isFunction(a))return this.each(function(x){var w=d(this);w.removeClass(a.call(this,x,w.attr("class")))});if(a&&typeof a=="string"||a===c)for(var b=(a||"").split(ja),f=0,h=this.length;f<h;f++){var j=this[f];if(j.nodeType===1&&j.className)if(a){for(var m=(" "+j.className+" ").replace(la," "),p=0,t=b.length;p<t;p++)m=m.replace(" "+b[p]+" "," ");j.className=d.trim(m)}else j.className=""}return this},toggleClass:function(a,b){var f=
typeof a,h=typeof b=="boolean";if(d.isFunction(a))return this.each(function(j){var m=d(this);m.toggleClass(a.call(this,j,m.attr("class"),b),b)});return this.each(function(){if(f==="string")for(var j,m=0,p=d(this),t=b,x=a.split(ja);j=x[m++];){t=h?t:!p.hasClass(j);p[t?"addClass":"removeClass"](j)}else if(f==="undefined"||f==="boolean"){this.className&&d._data(this,"__className__",this.className);this.className=this.className||a===false?"":d._data(this,"__className__")||""}})},hasClass:function(a){for(var b=
0,f=this.length;b<f;b++)if((" "+this[b].className+" ").replace(la," ").indexOf(" "+a+" ")>-1)return true;return false},val:function(a){var b,f,h=this[0];if(!arguments.length){if(h){if((b=d.valHooks[h.nodeName.toLowerCase()]||d.valHooks[h.type])&&"get"in b&&(f=b.get(h,"value"))!==c)return f;return(h.value||"").replace(za,"")}return c}var j=d.isFunction(a);return this.each(function(m){var p=d(this),t;if(this.nodeType===1){j?(t=a.call(this,m,p.val())):(t=a);t==null?(t=""):typeof t=="number"?(t+=""):
d.isArray(t)&&(t=d.map(t,function(x){return x==null?"":x+""}));b=d.valHooks[this.nodeName.toLowerCase()]||d.valHooks[this.type];if(!b||!("set"in b)||b.set(this,t,"value")===c)this.value=t}})}});d.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){var b,f=a.selectedIndex,h=[],j=a.options;a=a.type==="select-one";if(f<0)return null;for(var m=a?f:0,p=a?f+1:j.length;m<p;m++){b=j[m];if(b.selected&&(d.support.optDisabled?!b.disabled:
b.getAttribute("disabled")===null)&&(!b.parentNode.disabled||!d.nodeName(b.parentNode,"optgroup"))){b=d(b).val();if(a)return b;h.push(b)}}if(a&&!h.length&&j.length)return d(j[f]).val();return h},set:function(a,b){var f=d.makeArray(b);d(a).find("option").each(function(){this.selected=d.inArray(d(this).val(),f)>=0});f.length||(a.selectedIndex=-1);return f}}},attrFn:{val:true,css:true,html:true,text:true,data:true,width:true,height:true,offset:true},attrFix:{tabindex:"tabIndex"},attr:function(a,b,f,
h){var j=a.nodeType;if(!a||j===3||j===8||j===2)return c;if(h&&b in d.attrFn)return d(a)[b](f);if(!("getAttribute"in a))return d.prop(a,b,f);var m;b=(j=j!==1||!d.isXMLDoc(a))&&d.attrFix[b]||b;(h=d.attrHooks[b])||(!L.test(b)||typeof f!="boolean"&&f!==c&&f.toLowerCase()!==b.toLowerCase()?ca&&(d.nodeName(a,"form")||fa.test(b))&&(h=ca):(h=ha));if(f!==c){if(f===null){d.removeAttr(a,b);return c}if(h&&"set"in h&&j&&(m=h.set(a,f,b))!==c)return m;a.setAttribute(b,""+f);return f}if(h&&"get"in h&&j)return h.get(a,
b);m=a.getAttribute(b);return m===null?c:m},removeAttr:function(a,b){var f;a.nodeType===1&&(b=d.attrFix[b]||b,d.support.getSetAttribute?a.removeAttribute(b):(d.attr(a,b,""),a.removeAttributeNode(a.getAttributeNode(b))),L.test(b)&&(f=d.propFix[b]||b)in a&&(a[f]=false))},attrHooks:{type:{set:function(a,b){if(Ea.test(a.nodeName)&&a.parentNode)d.error("type property can't be changed");else if(!d.support.radioValue&&b==="radio"&&d.nodeName(a,"input")){var f=a.value;a.setAttribute("type",b);f&&(a.value=
f);return b}}},tabIndex:{get:function(a){var b=a.getAttributeNode("tabIndex");return b&&b.specified?parseInt(b.value,10):ta.test(a.nodeName)||Ja.test(a.nodeName)&&a.href?0:c}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,b,f){var h=a.nodeType;if(!a||h===3||
h===8||h===2)return c;var j;b=(h!==1||!d.isXMLDoc(a))&&d.propFix[b]||b;h=d.propHooks[b];return f!==c?h&&"set"in h&&(j=h.set(a,f,b))!==c?j:(a[b]=f):h&&"get"in h&&(j=h.get(a,b))!==c?j:a[b]},propHooks:{}});ha={get:function(a,b){return a[d.propFix[b]||b]?b.toLowerCase():c},set:function(a,b,f){var h;b===false?d.removeAttr(a,f):(h=d.propFix[f]||f,h in a&&(a[h]=b),a.setAttribute(f,f.toLowerCase()));return f}};d.attrHooks.value={get:function(a,b){if(ca&&d.nodeName(a,"button"))return ca.get(a,b);return a.value},
set:function(a,b,f){if(ca&&d.nodeName(a,"button"))return ca.set(a,b,f);a.value=b}};d.support.getSetAttribute||(d.attrFix=d.propFix,ca=d.attrHooks.name=d.valHooks.button={get:function(a,b){var f;return(f=a.getAttributeNode(b))&&f.nodeValue!==""?f.nodeValue:c},set:function(a,b,f){if(a=a.getAttributeNode(f))return a.nodeValue=b}},d.each(["width","height"],function(a,b){d.attrHooks[b]=d.extend(d.attrHooks[b],{set:function(f,h){if(h===""){f.setAttribute(b,"auto");return h}}})}));d.support.hrefNormalized||
d.each(["href","src","width","height"],function(a,b){d.attrHooks[b]=d.extend(d.attrHooks[b],{get:function(f){f=f.getAttribute(b,2);return f===null?c:f}})});d.support.style||(d.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||c},set:function(a,b){return a.style.cssText=""+b}});d.support.optSelected||(d.propHooks.selected=d.extend(d.propHooks.selected,{get:function(){}}));d.support.checkOn||d.each(["radio","checkbox"],function(){d.valHooks[this]={get:function(a){return a.getAttribute("value")===
null?"on":a.value}}});d.each(["radio","checkbox"],function(){d.valHooks[this]=d.extend(d.valHooks[this],{set:function(a,b){if(d.isArray(b))return a.checked=d.inArray(d(a).val(),b)>=0}})});var ra=/\.(.*)$/,sa=/^(?:textarea|input|select)$/i,Ia=/\./g,fb=/ /g,kb=/[^\w\s.|`]/g,zb=function(a){return a.replace(kb,"\\$&")};d.event={add:function(a,b,f,h){if(a.nodeType!==3&&a.nodeType!==8){if(f===false)f=ia;else if(!f)return;var j,m;f.handler&&(j=f,f=j.handler);f.guid||(f.guid=d.guid++);if(m=d._data(a)){var p=
m.events,t=m.handle;p||(m.events=p={});t||(m.handle=t=function(oa){return typeof d!="undefined"&&(!oa||d.event.triggered!==oa.type)?d.event.handle.apply(t.elem,arguments):c});t.elem=a;b=b.split(" ");for(var x,w=0,F;x=b[w++];){m=j?d.extend({},j):{handler:f,data:h};x.indexOf(".")>-1?(F=x.split("."),x=F.shift(),m.namespace=F.slice(0).sort().join(".")):(F=[],m.namespace="");m.type=x;m.guid||(m.guid=f.guid);var Z=p[x],ma=d.event.special[x]||{};if(!Z){Z=p[x]=[];if(!ma.setup||ma.setup.call(a,h,F,t)===false)a.addEventListener?
a.addEventListener(x,t,false):a.attachEvent&&a.attachEvent("on"+x,t)}ma.add&&(ma.add.call(a,m),m.handler.guid||(m.handler.guid=f.guid));Z.push(m);d.event.global[x]=true}a=null}}},global:{},remove:function(a,b,f,h){if(a.nodeType!==3&&a.nodeType!==8){f===false&&(f=ia);var j,m,p=0,t,x,w,F,Z,ma,oa=d.hasData(a)&&d._data(a),pa=oa&&oa.events;if(oa&&pa){b&&b.type&&(f=b.handler,b=b.type);if(!b||typeof b=="string"&&b.charAt(0)===".")for(j in pa)d.event.remove(a,j+(b||""));else{for(b=b.split(" ");j=b[p++];){F=
j;t=j.indexOf(".")<0;x=[];t||(x=j.split("."),j=x.shift(),w=new RegExp("(^|\\.)"+d.map(x.slice(0).sort(),zb).join("\\.(?:.*\\.)?")+"(\\.|$)"));if(Z=pa[j])if(f){F=d.event.special[j]||{};for(m=h||0;m<Z.length;m++){ma=Z[m];if(f.guid===ma.guid){if(t||w.test(ma.namespace)){h==null&&Z.splice(m--,1);F.remove&&F.remove.call(a,ma)}if(h!=null)break}}if(Z.length===0||h!=null&&Z.length===1){(!F.teardown||F.teardown.call(a,x)===false)&&d.removeEvent(a,j,oa.handle);delete pa[j]}}else for(m=0;m<Z.length;m++){ma=
Z[m];if(t||w.test(ma.namespace)){d.event.remove(a,F,ma.handler,m);Z.splice(m--,1)}}}if(d.isEmptyObject(pa)){(b=oa.handle)&&(b.elem=null);delete oa.events;delete oa.handle;d.isEmptyObject(oa)&&d.removeData(a,c,true)}}}}},customEvent:{getData:true,setData:true,changeData:true},trigger:function(a,b,f,h){var j=a.type||a,m=[],p;j.indexOf("!")>=0&&(j=j.slice(0,-1),p=true);j.indexOf(".")>=0&&(m=j.split("."),j=m.shift(),m.sort());if(f&&!d.event.customEvent[j]||d.event.global[j]){a=typeof a=="object"?a[d.expando]?
a:new d.Event(j,a):new d.Event(j);a.type=j;a.exclusive=p;a.namespace=m.join(".");a.namespace_re=new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.)?")+"(\\.|$)");if(h||!f){a.preventDefault();a.stopPropagation()}if(f){if(!(f.nodeType===3||f.nodeType===8)){a.result=c;a.target=f;b=b?d.makeArray(b):[];b.unshift(a);m=f;h=j.indexOf(":")<0?"on"+j:"";do{p=d._data(m,"handle");a.currentTarget=m;p&&p.apply(m,b);h&&d.acceptData(m)&&m[h]&&m[h].apply(m,b)===false&&(a.result=false,a.preventDefault());m=m.parentNode||m.ownerDocument||
m===a.target.ownerDocument&&e}while(m&&!a.isPropagationStopped());if(!a.isDefaultPrevented()){var t;m=d.event.special[j]||{};if((!m._default||m._default.call(f.ownerDocument,a)===false)&&(j!=="click"||!d.nodeName(f,"a"))&&d.acceptData(f)){try{h&&f[j]&&(t=f[h],t&&(f[h]=null),d.event.triggered=j,f[j]())}catch(x){}t&&(f[h]=t);d.event.triggered=c}}return a.result}}else d.each(d.cache,function(){var w=this[d.expando];w&&w.events&&w.events[j]&&d.event.trigger(a,b,w.handle.elem)})}},handle:function(a){a=
d.event.fix(a||e.event);var b=((d._data(this,"events")||{})[a.type]||[]).slice(0),f=!a.exclusive&&!a.namespace,h=Array.prototype.slice.call(arguments,0);h[0]=a;a.currentTarget=this;for(var j=0,m=b.length;j<m;j++){var p=b[j];if(f||a.namespace_re.test(p.namespace)){a.handler=p.handler;a.data=p.data;a.handleObj=p;p=p.handler.apply(this,h);p!==c&&(a.result=p,p===false&&(a.preventDefault(),a.stopPropagation()));if(a.isImmediatePropagationStopped())break}}return a.result},props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),
fix:function(a){if(a[d.expando])return a;var b=a;a=d.Event(b);for(var f=this.props.length,h;f;){h=this.props[--f];a[h]=b[h]}a.target||(a.target=a.srcElement||aa);a.target.nodeType===3&&(a.target=a.target.parentNode);!a.relatedTarget&&a.fromElement&&(a.relatedTarget=a.fromElement===a.target?a.toElement:a.fromElement);if(a.pageX==null&&a.clientX!=null){f=a.target.ownerDocument||aa;b=f.documentElement;f=f.body;a.pageX=a.clientX+(b&&b.scrollLeft||f&&f.scrollLeft||0)-(b&&b.clientLeft||f&&f.clientLeft||
0);a.pageY=a.clientY+(b&&b.scrollTop||f&&f.scrollTop||0)-(b&&b.clientTop||f&&f.clientTop||0)}a.which==null&&(a.charCode!=null||a.keyCode!=null)&&(a.which=a.charCode!=null?a.charCode:a.keyCode);!a.metaKey&&a.ctrlKey&&(a.metaKey=a.ctrlKey);!a.which&&a.button!==c&&(a.which=a.button&1?1:a.button&2?3:a.button&4?2:0);return a},guid:1E8,proxy:d.proxy,special:{ready:{setup:d.bindReady,teardown:d.noop},live:{add:function(a){d.event.add(this,da(a.origType,a.selector),d.extend({},a,{handler:ka,guid:a.handler.guid}))},
remove:function(a){d.event.remove(this,da(a.origType,a.selector),a)}},beforeunload:{setup:function(a,b,f){d.isWindow(this)&&(this.onbeforeunload=f)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}}};d.removeEvent=aa.removeEventListener?function(a,b,f){a.removeEventListener&&a.removeEventListener(b,f,false)}:function(a,b,f){a.detachEvent&&a.detachEvent("on"+b,f)};d.Event=function(a,b){if(!this.preventDefault)return new d.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=
a.type,this.isDefaultPrevented=a.defaultPrevented||a.returnValue===false||a.getPreventDefault&&a.getPreventDefault()?ga:ia):(this.type=a);b&&d.extend(this,b);this.timeStamp=d.now();this[d.expando]=true};d.Event.prototype={preventDefault:function(){this.isDefaultPrevented=ga;var a=this.originalEvent;!a||(a.preventDefault?a.preventDefault():(a.returnValue=false))},stopPropagation:function(){this.isPropagationStopped=ga;var a=this.originalEvent;!a||(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=
true)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=ga;this.stopPropagation()},isDefaultPrevented:ia,isPropagationStopped:ia,isImmediatePropagationStopped:ia};var Pb=function(a){var b=a.relatedTarget;a.type=a.data;try{if(!(b&&b!==aa&&!b.parentNode)){for(;b&&b!==this;)b=b.parentNode;b!==this&&d.event.handle.apply(this,arguments)}}catch(f){}},Qb=function(a){a.type=a.data;d.event.handle.apply(this,arguments)};d.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,
b){d.event.special[a]={setup:function(f){d.event.add(this,b,f&&f.selector?Qb:Pb,a)},teardown:function(f){d.event.remove(this,b,f&&f.selector?Qb:Pb)}}});d.support.submitBubbles||(d.event.special.submit={setup:function(){if(d.nodeName(this,"form"))return false;else{d.event.add(this,"click.specialSubmit",function(a){var b=a.target,f=b.type;(f==="submit"||f==="image")&&d(b).closest("form").length&&R("submit",this,arguments)});d.event.add(this,"keypress.specialSubmit",function(a){var b=a.target,f=b.type;
(f==="text"||f==="password")&&d(b).closest("form").length&&a.keyCode===13&&R("submit",this,arguments)})}},teardown:function(){d.event.remove(this,".specialSubmit")}});if(!d.support.changeBubbles){var lb,Ab=function(a){var b=a.type,f=a.value;b==="radio"||b==="checkbox"?(f=a.checked):b==="select-multiple"?(f=a.selectedIndex>-1?d.map(a.options,function(h){return h.selected}).join("-"):""):d.nodeName(a,"select")&&(f=a.selectedIndex);return f},Bb=function(a,b){var f=a.target,h,j;if(sa.test(f.nodeName)&&
!f.readOnly){h=d._data(f,"_change_data");j=Ab(f);(a.type!=="focusout"||f.type!=="radio")&&d._data(f,"_change_data",j);if(!(h===c||j===h))if(h!=null||j){a.type="change";a.liveFired=c;d.event.trigger(a,b,f)}}};d.event.special.change={filters:{focusout:Bb,beforedeactivate:Bb,click:function(a){var b=a.target,f=d.nodeName(b,"input")?b.type:"";(f==="radio"||f==="checkbox"||d.nodeName(b,"select"))&&Bb.call(this,a)},keydown:function(a){var b=a.target,f=d.nodeName(b,"input")?b.type:"";(a.keyCode===13&&!d.nodeName(b,
"textarea")||a.keyCode===32&&(f==="checkbox"||f==="radio")||f==="select-multiple")&&Bb.call(this,a)},beforeactivate:function(a){a=a.target;d._data(a,"_change_data",Ab(a))}},setup:function(){if(this.type==="file")return false;for(var a in lb)d.event.add(this,a+".specialChange",lb[a]);return sa.test(this.nodeName)},teardown:function(){d.event.remove(this,".specialChange");return sa.test(this.nodeName)}};lb=d.event.special.change.filters;lb.focus=lb.beforeactivate}d.support.focusinBubbles||d.each({focus:"focusin",
blur:"focusout"},function(a,b){function f(j){var m=d.event.fix(j);m.type=b;m.originalEvent={};d.event.trigger(m,null,m.target);m.isDefaultPrevented()&&j.preventDefault()}var h=0;d.event.special[b]={setup:function(){h++===0&&aa.addEventListener(a,f,true)},teardown:function(){--h===0&&aa.removeEventListener(a,f,true)}}});d.each(["bind","one"],function(a,b){d.fn[b]=function(f,h,j){var m;if(typeof f=="object"){for(var p in f)this[b](p,h,f[p],j);return this}if(arguments.length===2||h===false){j=h;h=c}b===
"one"?(m=function(x){d(this).unbind(x,m);return j.apply(this,arguments)},m.guid=j.guid||d.guid++):(m=j);if(f==="unload"&&b!=="one")this.one(f,h,j);else{p=0;for(var t=this.length;p<t;p++)d.event.add(this[p],f,m,h)}return this}});d.fn.extend({unbind:function(a,b){if(typeof a=="object"&&!a.preventDefault)for(var f in a)this.unbind(f,a[f]);else{f=0;for(var h=this.length;f<h;f++)d.event.remove(this[f],a,b)}return this},delegate:function(a,b,f,h){return this.live(b,f,h,a)},undelegate:function(a,b,f){return arguments.length===
0?this.unbind("live"):this.die(b,null,f,a)},trigger:function(a,b){return this.each(function(){d.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0])return d.event.trigger(a,b,this[0],true)},toggle:function(a){var b=arguments,f=a.guid||d.guid++,h=0,j=function(m){var p=(d.data(this,"lastToggle"+a.guid)||0)%h;d.data(this,"lastToggle"+a.guid,p+1);m.preventDefault();return b[p].apply(this,arguments)||false};for(j.guid=f;h<b.length;)b[h++].guid=f;return this.click(j)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||
a)}});var nb={focus:"focusin",blur:"focusout",mouseenter:"mouseover",mouseleave:"mouseout"};d.each(["live","die"],function(a,b){d.fn[b]=function(f,h,j,m){var p=0,t,x,w=m||this.selector,F=m?this:d(this.context);if(typeof f=="object"&&!f.preventDefault){for(t in f)F[b](t,h,f[t],w);return this}if(b==="die"&&!f&&m&&m.charAt(0)==="."){F.unbind(m);return this}if(h===false||d.isFunction(h)){j=h||ia;h=c}for(f=(f||"").split(" ");(m=f[p++])!=null;){t=ra.exec(m);x="";t&&(x=t[0],m=m.replace(ra,""));if(m==="hover")f.push("mouseenter"+
x,"mouseleave"+x);else{t=m;nb[m]?(f.push(nb[m]+x),m+=x):(m=(nb[m]||m)+x);if(b==="live"){x=0;for(var Z=F.length;x<Z;x++)d.event.add(F[x],"live."+da(m,w),{data:h,selector:w,handler:j,origType:m,origHandler:j,preType:t})}else F.unbind("live."+da(m,w),j)}}return this}});d.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error".split(" "),function(a,b){d.fn[b]=function(f,
h){h==null&&(h=f,f=null);return arguments.length>0?this.bind(b,f,h):this.trigger(b)};d.attrFn&&(d.attrFn[b]=true)});(function(){function a(s,B,K,M,J,N){J=0;for(var W=M.length;J<W;J++){var ea=M[J];if(ea){var wa=false;for(ea=ea[s];ea;){if(ea.sizcache===K){wa=M[ea.sizset];break}if(ea.nodeType===1){N||(ea.sizcache=K,ea.sizset=J);if(typeof B!="string"){if(ea===B){wa=true;break}}else if(w.filter(B,[ea]).length>0){wa=ea;break}}ea=ea[s]}M[J]=wa}}}function b(s,B,K,M,J,N){J=0;for(var W=M.length;J<W;J++){var ea=
M[J];if(ea){var wa=false;for(ea=ea[s];ea;){if(ea.sizcache===K){wa=M[ea.sizset];break}ea.nodeType===1&&!N&&(ea.sizcache=K,ea.sizset=J);if(ea.nodeName.toLowerCase()===B){wa=ea;break}ea=ea[s]}M[J]=wa}}}var f=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,h=0,j=Object.prototype.toString,m=false,p=true,t=/\\/g,x=/\W/;[0,0].sort(function(){p=false;return 0});var w=function(s,B,K,M){K=K||[];var J=B=B||aa;if(B.nodeType!==
1&&B.nodeType!==9)return[];if(!s||typeof s!="string")return K;var N,W,ea,wa,Na,D,T=true,ba=w.isXML(B),Q=[],xa=s;do{f.exec("");if(N=f.exec(xa)){xa=N[3];Q.push(N[1]);if(N[2]){wa=N[3];break}}}while(N);if(Q.length>1&&Z.exec(s))if(Q.length===2&&F.relative[Q[0]])W=Ra(Q[0]+Q[1],B);else for(W=F.relative[Q[0]]?[B]:w(Q.shift(),B);Q.length;){s=Q.shift();F.relative[s]&&(s+=Q.shift());W=Ra(s,W)}else{!M&&Q.length>1&&B.nodeType===9&&!ba&&F.match.ID.test(Q[0])&&!F.match.ID.test(Q[Q.length-1])&&(Na=w.find(Q.shift(),
B,ba),B=Na.expr?w.filter(Na.expr,Na.set)[0]:Na.set[0]);if(B){Na=M?{expr:Q.pop(),set:pa(M)}:w.find(Q.pop(),Q.length===1&&(Q[0]==="~"||Q[0]==="+")&&B.parentNode?B.parentNode:B,ba);W=Na.expr?w.filter(Na.expr,Na.set):Na.set;for(Q.length>0?(ea=pa(W)):(T=false);Q.length;){N=D=Q.pop();F.relative[D]?(N=Q.pop()):(D="");N==null&&(N=B);F.relative[D](ea,N,ba)}}else ea=[]}ea||(ea=W);ea||w.error(D||s);if(j.call(ea)==="[object Array]")if(T)if(B&&B.nodeType===1)for(s=0;ea[s]!=null;s++)ea[s]&&(ea[s]===true||ea[s].nodeType===
1&&w.contains(B,ea[s]))&&K.push(W[s]);else for(s=0;ea[s]!=null;s++)ea[s]&&ea[s].nodeType===1&&K.push(W[s]);else K.push.apply(K,ea);else pa(ea,K);wa&&(w(wa,J,K,M),w.uniqueSort(K));return K};w.uniqueSort=function(s){if(ya){m=p;s.sort(ya);if(m)for(var B=1;B<s.length;B++)s[B]===s[B-1]&&s.splice(B--,1)}return s};w.matches=function(s,B){return w(s,null,null,B)};w.matchesSelector=function(s,B){return w(B,null,null,[s]).length>0};w.find=function(s,B,K){var M;if(!s)return[];for(var J=0,N=F.order.length;J<
N;J++){var W,ea=F.order[J];if(W=F.leftMatch[ea].exec(s)){var wa=W[1];W.splice(1,1);if(wa.substr(wa.length-1)!=="\\"){W[1]=(W[1]||"").replace(t,"");M=F.find[ea](W,B,K);if(M!=null){s=s.replace(F.match[ea],"");break}}}}M||(M=typeof B.getElementsByTagName!="undefined"?B.getElementsByTagName("*"):[]);return{set:M,expr:s}};w.filter=function(s,B,K,M){for(var J,N,W=s,ea=[],wa=B,Na=B&&B[0]&&w.isXML(B[0]);s&&B.length;){for(var D in F.filter)if((J=F.leftMatch[D].exec(s))!=null&&J[2]){var T,ba,Q=F.filter[D];
ba=J[1];N=false;J.splice(1,1);if(ba.substr(ba.length-1)!=="\\"){wa===ea&&(ea=[]);if(F.preFilter[D])if(J=F.preFilter[D](J,wa,K,ea,M,Na)){if(J===true)continue}else N=T=true;if(J)for(var xa=0;(ba=wa[xa])!=null;xa++)if(ba){T=Q(ba,J,xa,wa);var ua=M^!!T;K&&T!=null?ua?(N=true):(wa[xa]=false):ua&&(ea.push(ba),N=true)}if(T!==c){K||(wa=ea);s=s.replace(F.match[D],"");if(!N)return[];break}}}if(s===W)if(N==null)w.error(s);else break;W=s}return wa};w.error=function(s){throw"Syntax error, unrecognized expression: "+
s;};var F=w.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,
PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(s){return s.getAttribute("href")},type:function(s){return s.getAttribute("type")}},relative:{"+":function(s,B){var K=typeof B=="string",M=K&&!x.test(B);K=K&&!M;M&&(B=B.toLowerCase());M=0;for(var J=s.length,N;M<J;M++)if(N=s[M]){for(;(N=N.previousSibling)&&N.nodeType!==1;);s[M]=K||N&&N.nodeName.toLowerCase()===B?N||false:N===B}K&&
w.filter(B,s,true)},">":function(s,B){var K,M=typeof B=="string",J=0,N=s.length;if(M&&!x.test(B))for(B=B.toLowerCase();J<N;J++){if(K=s[J]){K=K.parentNode;s[J]=K.nodeName.toLowerCase()===B?K:false}}else{for(;J<N;J++)(K=s[J])&&(s[J]=M?K.parentNode:K.parentNode===B);M&&w.filter(B,s,true)}},"":function(s,B,K){var M,J=h++,N=a;typeof B=="string"&&!x.test(B)&&(B=B.toLowerCase(),M=B,N=b);N("parentNode",B,J,s,M,K)},"~":function(s,B,K){var M,J=h++,N=a;typeof B=="string"&&!x.test(B)&&(B=B.toLowerCase(),M=B,
N=b);N("previousSibling",B,J,s,M,K)}},find:{ID:function(s,B,K){if(typeof B.getElementById!="undefined"&&!K)return(s=B.getElementById(s[1]))&&s.parentNode?[s]:[]},NAME:function(s,B){if(typeof B.getElementsByName!="undefined"){for(var K=[],M=B.getElementsByName(s[1]),J=0,N=M.length;J<N;J++)M[J].getAttribute("name")===s[1]&&K.push(M[J]);return K.length===0?null:K}},TAG:function(s,B){if(typeof B.getElementsByTagName!="undefined")return B.getElementsByTagName(s[1])}},preFilter:{CLASS:function(s,B,K,M,
J,N){s=" "+s[1].replace(t,"")+" ";if(N)return s;N=0;for(var W;(W=B[N])!=null;N++)W&&(J^(W.className&&(" "+W.className+" ").replace(/[\t\n\r]/g," ").indexOf(s)>=0)?K||M.push(W):K&&(B[N]=false));return false},ID:function(s){return s[1].replace(t,"")},TAG:function(s){return s[1].replace(t,"").toLowerCase()},CHILD:function(s){if(s[1]==="nth"){s[2]||w.error(s[0]);s[2]=s[2].replace(/^\+|\s*/g,"");var B=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(s[2]==="even"&&"2n"||s[2]==="odd"&&"2n+1"||!/\D/.test(s[2])&&"0n+"+
s[2]||s[2]);s[2]=B[1]+(B[2]||1)-0;s[3]=B[3]-0}else s[2]&&w.error(s[0]);s[0]=h++;return s},ATTR:function(s,B,K,M,J,N){B=s[1]=s[1].replace(t,"");!N&&F.attrMap[B]&&(s[1]=F.attrMap[B]);s[4]=(s[4]||s[5]||"").replace(t,"");s[2]==="~="&&(s[4]=" "+s[4]+" ");return s},PSEUDO:function(s,B,K,M,J){if(s[1]==="not")if((f.exec(s[3])||"").length>1||/^\w/.test(s[3]))s[3]=w(s[3],null,null,B);else{s=w.filter(s[3],B,K,true^J);K||M.push.apply(M,s);return false}else if(F.match.POS.test(s[0])||F.match.CHILD.test(s[0]))return true;
return s},POS:function(s){s.unshift(true);return s}},filters:{enabled:function(s){return s.disabled===false&&s.type!=="hidden"},disabled:function(s){return s.disabled===true},checked:function(s){return s.checked===true},selected:function(s){return s.selected===true},parent:function(s){return!!s.firstChild},empty:function(s){return!s.firstChild},has:function(s,B,K){return!!w(K[3],s).length},header:function(s){return/h\d/i.test(s.nodeName)},text:function(s){var B=s.getAttribute("type"),K=s.type;return s.nodeName.toLowerCase()===
"input"&&"text"===K&&(B===K||B===null)},radio:function(s){return s.nodeName.toLowerCase()==="input"&&"radio"===s.type},checkbox:function(s){return s.nodeName.toLowerCase()==="input"&&"checkbox"===s.type},file:function(s){return s.nodeName.toLowerCase()==="input"&&"file"===s.type},password:function(s){return s.nodeName.toLowerCase()==="input"&&"password"===s.type},submit:function(s){var B=s.nodeName.toLowerCase();return(B==="input"||B==="button")&&"submit"===s.type},image:function(s){return s.nodeName.toLowerCase()===
"input"&&"image"===s.type},reset:function(s){var B=s.nodeName.toLowerCase();return(B==="input"||B==="button")&&"reset"===s.type},button:function(s){var B=s.nodeName.toLowerCase();return B==="input"&&"button"===s.type||B==="button"},input:function(s){return/input|select|textarea|button/i.test(s.nodeName)},focus:function(s){return s===s.ownerDocument.activeElement}},setFilters:{first:function(s,B){return B===0},last:function(s,B,K,M){return B===M.length-1},even:function(s,B){return B%2===0},odd:function(s,
B){return B%2===1},lt:function(s,B,K){return B<K[3]-0},gt:function(s,B,K){return B>K[3]-0},nth:function(s,B,K){return K[3]-0===B},eq:function(s,B,K){return K[3]-0===B}},filter:{PSEUDO:function(s,B,K,M){var J=B[1],N=F.filters[J];if(N)return N(s,K,B,M);if(J==="contains")return(s.textContent||s.innerText||w.getText([s])||"").indexOf(B[3])>=0;if(J==="not"){B=B[3];K=0;for(M=B.length;K<M;K++)if(B[K]===s)return false;return true}w.error(J)},CHILD:function(s,B){var K=B[1],M=s;switch(K){case "only":case "first":for(;M=
M.previousSibling;)if(M.nodeType===1)return false;if(K==="first")return true;M=s;case "last":for(;M=M.nextSibling;)if(M.nodeType===1)return false;return true;case "nth":K=B[2];var J=B[3];if(K===1&&J===0)return true;var N=B[0],W=s.parentNode;if(W&&(W.sizcache!==N||!s.nodeIndex)){var ea=0;for(M=W.firstChild;M;M=M.nextSibling)M.nodeType===1&&(M.nodeIndex=++ea);W.sizcache=N}M=s.nodeIndex-J;return K===0?M===0:M%K===0&&M/K>=0}},ID:function(s,B){return s.nodeType===1&&s.getAttribute("id")===B},TAG:function(s,
B){return B==="*"&&s.nodeType===1||s.nodeName.toLowerCase()===B},CLASS:function(s,B){return(" "+(s.className||s.getAttribute("class"))+" ").indexOf(B)>-1},ATTR:function(s,B){var K=B[1];K=F.attrHandle[K]?F.attrHandle[K](s):s[K]!=null?s[K]:s.getAttribute(K);var M=K+"",J=B[2],N=B[4];return K==null?J==="!=":J==="="?M===N:J==="*="?M.indexOf(N)>=0:J==="~="?(" "+M+" ").indexOf(N)>=0:N?J==="!="?M!==N:J==="^="?M.indexOf(N)===0:J==="$="?M.substr(M.length-N.length)===N:J==="|="?M===N||M.substr(0,N.length+1)===
N+"-":false:M&&K!==false},POS:function(s,B,K,M){var J=F.setFilters[B[2]];if(J)return J(s,K,B,M)}}},Z=F.match.POS,ma=function(s,B){return"\\"+(B-0+1)};for(var oa in F.match){F.match[oa]=new RegExp(F.match[oa].source+/(?![^\[]*\])(?![^\(]*\))/.source);F.leftMatch[oa]=new RegExp(/(^(?:.|\r|\n)*?)/.source+F.match[oa].source.replace(/\\(\d+)/g,ma))}var pa=function(s,B){s=Array.prototype.slice.call(s,0);if(B){B.push.apply(B,s);return B}return s};try{Array.prototype.slice.call(aa.documentElement.childNodes,
0)}catch(Fa){pa=function(s,B){var K=0,M=B||[];if(j.call(s)==="[object Array]")Array.prototype.push.apply(M,s);else if(typeof s.length=="number")for(var J=s.length;K<J;K++)M.push(s[K]);else for(;s[K];K++)M.push(s[K]);return M}}var ya,Ga;aa.documentElement.compareDocumentPosition?(ya=function(s,B){if(s===B){m=true;return 0}if(!s.compareDocumentPosition||!B.compareDocumentPosition)return s.compareDocumentPosition?-1:1;return s.compareDocumentPosition(B)&4?-1:1}):(ya=function(s,B){if(s===B){m=true;return 0}if(s.sourceIndex&&
B.sourceIndex)return s.sourceIndex-B.sourceIndex;var K,M,J=[],N=[];K=s.parentNode;M=B.parentNode;var W=K;if(K===M)return Ga(s,B);if(!K)return-1;if(!M)return 1;for(;W;){J.unshift(W);W=W.parentNode}for(W=M;W;){N.unshift(W);W=W.parentNode}K=J.length;M=N.length;for(W=0;W<K&&W<M;W++)if(J[W]!==N[W])return Ga(J[W],N[W]);return W===K?Ga(s,N[W],-1):Ga(J[W],B,1)},Ga=function(s,B,K){if(s===B)return K;for(s=s.nextSibling;s;){if(s===B)return-1;s=s.nextSibling}return 1});w.getText=function(s){for(var B="",K,M=
0;s[M];M++){K=s[M];K.nodeType===3||K.nodeType===4?(B+=K.nodeValue):K.nodeType!==8&&(B+=w.getText(K.childNodes))}return B};(function(){var s=aa.createElement("div"),B="script"+(new Date).getTime(),K=aa.documentElement;s.innerHTML="<a name='"+B+"'/>";K.insertBefore(s,K.firstChild);aa.getElementById(B)&&(F.find.ID=function(M,J,N){if(typeof J.getElementById!="undefined"&&!N)return(J=J.getElementById(M[1]))?J.id===M[1]||typeof J.getAttributeNode!="undefined"&&J.getAttributeNode("id").nodeValue===M[1]?
[J]:c:[]},F.filter.ID=function(M,J){var N=typeof M.getAttributeNode!="undefined"&&M.getAttributeNode("id");return M.nodeType===1&&N&&N.nodeValue===J});K.removeChild(s);K=s=null})();(function(){var s=aa.createElement("div");s.appendChild(aa.createComment(""));s.getElementsByTagName("*").length>0&&(F.find.TAG=function(B,K){var M=K.getElementsByTagName(B[1]);if(B[1]==="*"){for(var J=[],N=0;M[N];N++)M[N].nodeType===1&&J.push(M[N]);M=J}return M});s.innerHTML="<a href='#'></a>";s.firstChild&&typeof s.firstChild.getAttribute!=
"undefined"&&s.firstChild.getAttribute("href")!=="#"&&(F.attrHandle.href=function(B){return B.getAttribute("href",2)});s=null})();aa.querySelectorAll&&function(){var s=w,B=aa.createElement("div");B.innerHTML="<p class='TEST'></p>";if(!B.querySelectorAll||B.querySelectorAll(".TEST").length!==0){w=function(M,J,N,W){J=J||aa;if(!W&&!w.isXML(J)){var ea=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(M);if(ea&&(J.nodeType===1||J.nodeType===9)){if(ea[1])return pa(J.getElementsByTagName(M),N);if(ea[2]&&F.find.CLASS&&
J.getElementsByClassName)return pa(J.getElementsByClassName(ea[2]),N)}if(J.nodeType===9){if(M==="body"&&J.body)return pa([J.body],N);if(ea&&ea[3]){var wa=J.getElementById(ea[3]);if(!wa||!wa.parentNode)return pa([],N);if(wa.id===ea[3])return pa([wa],N)}try{return pa(J.querySelectorAll(M),N)}catch(Na){}}else if(J.nodeType===1&&J.nodeName.toLowerCase()!=="object"){ea=J;var D=(wa=J.getAttribute("id"))||"__sizzle__",T=J.parentNode,ba=/^\s*[+~]/.test(M);wa?(D=D.replace(/'/g,"\\$&")):J.setAttribute("id",
D);ba&&T&&(J=J.parentNode);try{if(!ba||T)return pa(J.querySelectorAll("[id='"+D+"'] "+M),N)}catch(Q){}finally{wa||ea.removeAttribute("id")}}}return s(M,J,N,W)};for(var K in s)w[K]=s[K];B=null}}();(function(){var s=aa.documentElement,B=s.matchesSelector||s.mozMatchesSelector||s.webkitMatchesSelector||s.msMatchesSelector;if(B){var K=!B.call(aa.createElement("div"),"div"),M=false;try{B.call(aa.documentElement,"[test!='']:sizzle")}catch(J){M=true}w.matchesSelector=function(N,W){W=W.replace(/\=\s*([^'"\]]*)\s*\]/g,
"='$1']");if(!w.isXML(N))try{if(M||!F.match.PSEUDO.test(W)&&!/!=/.test(W)){var ea=B.call(N,W);if(ea||!K||N.document&&N.document.nodeType!==11)return ea}}catch(wa){}return w(W,null,null,[N]).length>0}}})();(function(){var s=aa.createElement("div");s.innerHTML="<div class='test e'></div><div class='test'></div>";if(s.getElementsByClassName&&s.getElementsByClassName("e").length!==0){s.lastChild.className="e";if(s.getElementsByClassName("e").length!==1){F.order.splice(1,0,"CLASS");F.find.CLASS=function(B,
K,M){if(typeof K.getElementsByClassName!="undefined"&&!M)return K.getElementsByClassName(B[1])};s=null}}})();aa.documentElement.contains?(w.contains=function(s,B){return s!==B&&(s.contains?s.contains(B):true)}):aa.documentElement.compareDocumentPosition?(w.contains=function(s,B){return!!(s.compareDocumentPosition(B)&16)}):(w.contains=function(){return false});w.isXML=function(s){return(s=(s?s.ownerDocument||s:0).documentElement)?s.nodeName!=="HTML":false};var Ra=function(s,B){for(var K,M=[],J="",
N=B.nodeType?[B]:B;K=F.match.PSEUDO.exec(s);){J+=K[0];s=s.replace(F.match.PSEUDO,"")}s=F.relative[s]?s+"*":s;K=0;for(var W=N.length;K<W;K++)w(s,N[K],M);return w.filter(J,M)};d.find=w;d.expr=w.selectors;d.expr[":"]=d.expr.filters;d.unique=w.uniqueSort;d.text=w.getText;d.isXMLDoc=w.isXML;d.contains=w.contains})();var sb=/Until$/,tb=/^(?:parents|prevUntil|prevAll)/,ub=/,/,Ha=/^.[^:#\[\.,]*$/,mc=Array.prototype.slice,ob=d.expr.match.POS,ec={children:true,contents:true,next:true,prev:true};d.fn.extend({find:function(a){var b=
this,f,h;if(typeof a!="string")return d(a).filter(function(){f=0;for(h=b.length;f<h;f++)if(d.contains(b[f],this))return true});var j=this.pushStack("","find",a),m,p,t;f=0;for(h=this.length;f<h;f++){m=j.length;d.find(a,this[f],j);if(f>0)for(p=m;p<j.length;p++)for(t=0;t<m;t++)if(j[t]===j[p]){j.splice(p--,1);break}}return j},has:function(a){var b=d(a);return this.filter(function(){for(var f=0,h=b.length;f<h;f++)if(d.contains(this,b[f]))return true})},not:function(a){return this.pushStack(I(this,a,false),
"not",a)},filter:function(a){return this.pushStack(I(this,a,true),"filter",a)},is:function(a){return!!a&&(typeof a=="string"?d.filter(a,this).length>0:this.filter(a).length>0)},closest:function(a,b){var f=[],h,j,m=this[0];if(d.isArray(a)){var p,t={},x=1;if(m&&a.length){h=0;for(j=a.length;h<j;h++){p=a[h];t[p]||(t[p]=ob.test(p)?d(p,b||this.context):p)}for(;m&&m.ownerDocument&&m!==b;){for(p in t){h=t[p];(h.jquery?h.index(m)>-1:d(m).is(h))&&f.push({selector:p,elem:m,level:x})}m=m.parentNode;x++}}return f}p=
ob.test(a)||typeof a!="string"?d(a,b||this.context):0;h=0;for(j=this.length;h<j;h++)for(m=this[h];m;){if(p?p.index(m)>-1:d.find.matchesSelector(m,a)){f.push(m);break}m=m.parentNode;if(!m||!m.ownerDocument||m===b||m.nodeType===11)break}f=f.length>1?d.unique(f):f;return this.pushStack(f,"closest",a)},index:function(a){if(!a||typeof a=="string")return d.inArray(this[0],a?d(a):this.parent().children());return d.inArray(a.jquery?a[0]:a,this)},add:function(a,b){var f=typeof a=="string"?d(a,b):d.makeArray(a&&
a.nodeType?[a]:a),h=d.merge(this.get(),f);return this.pushStack(!f[0]||!f[0].parentNode||f[0].parentNode.nodeType===11||!h[0]||!h[0].parentNode||h[0].parentNode.nodeType===11?h:d.unique(h))},andSelf:function(){return this.add(this.prevObject)}});d.each({parent:function(a){return(a=a.parentNode)&&a.nodeType!==11?a:null},parents:function(a){return d.dir(a,"parentNode")},parentsUntil:function(a,b,f){return d.dir(a,"parentNode",f)},next:function(a){return d.nth(a,2,"nextSibling")},prev:function(a){return d.nth(a,
2,"previousSibling")},nextAll:function(a){return d.dir(a,"nextSibling")},prevAll:function(a){return d.dir(a,"previousSibling")},nextUntil:function(a,b,f){return d.dir(a,"nextSibling",f)},prevUntil:function(a,b,f){return d.dir(a,"previousSibling",f)},siblings:function(a){return d.sibling(a.parentNode.firstChild,a)},children:function(a){return d.sibling(a.firstChild)},contents:function(a){return d.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:d.makeArray(a.childNodes)}},function(a,
b){d.fn[a]=function(f,h){var j=d.map(this,b,f),m=mc.call(arguments);sb.test(a)||(h=f);h&&typeof h=="string"&&(j=d.filter(h,j));j=this.length>1&&!ec[a]?d.unique(j):j;(this.length>1||ub.test(h))&&tb.test(a)&&(j=j.reverse());return this.pushStack(j,a,m.join(","))}});d.extend({filter:function(a,b,f){f&&(a=":not("+a+")");return b.length===1?d.find.matchesSelector(b[0],a)?[b[0]]:[]:d.find.matches(a,b)},dir:function(a,b,f){var h=[];for(a=a[b];a&&a.nodeType!==9&&(f===c||a.nodeType!==1||!d(a).is(f));){a.nodeType===
1&&h.push(a);a=a[b]}return h},nth:function(a,b,f){for(var h=0;a;a=a[f])if(a.nodeType===1&&++h===(b||1))break;return a},sibling:function(a,b){for(var f=[];a;a=a.nextSibling)a.nodeType===1&&a!==b&&f.push(a);return f}});var Rb=/ jQuery\d+="(?:\d+|null)"/g,Ib=/^\s+/,Sb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,Tb=/<([\w:]+)/,Ub=/<tbody/i,fc=/<|&#?\w+;/,$a=/<(?:script|object|embed|option|style)/i,pb=/checked\s*(?:[^=]|=\s*.checked.)/i,gc=/\/(java|ecma)script/i,dc=/^\s*<!(?:\[CDATA\[|\-\-)/,
Wa={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};Wa.optgroup=Wa.option;Wa.tbody=Wa.tfoot=Wa.colgroup=Wa.caption=Wa.thead;Wa.th=Wa.td;d.support.htmlSerialize||(Wa._default=[1,"div<div>","</div>"]);d.fn.extend({text:function(a){if(d.isFunction(a))return this.each(function(b){var f=
d(this);f.text(a.call(this,b,f.text()))});if(typeof a!="object"&&a!==c)return this.empty().append((this[0]&&this[0].ownerDocument||aa).createTextNode(a));return d.text(this)},wrapAll:function(a){if(d.isFunction(a))return this.each(function(f){d(this).wrapAll(a.call(this,f))});if(this[0]){var b=d(a,this[0].ownerDocument).eq(0).clone(true);this[0].parentNode&&b.insertBefore(this[0]);b.map(function(){for(var f=this;f.firstChild&&f.firstChild.nodeType===1;)f=f.firstChild;return f}).append(this)}return this},
wrapInner:function(a){if(d.isFunction(a))return this.each(function(b){d(this).wrapInner(a.call(this,b))});return this.each(function(){var b=d(this),f=b.contents();f.length?f.wrapAll(a):b.append(a)})},wrap:function(a){return this.each(function(){d(this).wrapAll(a)})},unwrap:function(){return this.parent().each(function(){d.nodeName(this,"body")||d(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,true,function(a){this.nodeType===1&&this.appendChild(a)})},
prepend:function(){return this.domManip(arguments,true,function(a){this.nodeType===1&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,false,function(b){this.parentNode.insertBefore(b,this)});if(arguments.length){var a=d(arguments[0]);a.push.apply(a,this.toArray());return this.pushStack(a,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,false,function(b){this.parentNode.insertBefore(b,
this.nextSibling)});if(arguments.length){var a=this.pushStack(this,"after",arguments);a.push.apply(a,d(arguments[0]).toArray());return a}},remove:function(a,b){for(var f=0,h;(h=this[f])!=null;f++)if(!a||d.filter(a,[h]).length){!b&&h.nodeType===1&&(d.cleanData(h.getElementsByTagName("*")),d.cleanData([h]));h.parentNode&&h.parentNode.removeChild(h)}return this},empty:function(){for(var a=0,b;(b=this[a])!=null;a++)for(b.nodeType===1&&d.cleanData(b.getElementsByTagName("*"));b.firstChild;)b.removeChild(b.firstChild);
return this},clone:function(a,b){a=a==null?false:a;b=b==null?a:b;return this.map(function(){return d.clone(this,a,b)})},html:function(a){if(a===c)return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(Rb,""):null;if(typeof a=="string"&&!$a.test(a)&&(d.support.leadingWhitespace||!Ib.test(a))&&!Wa[(Tb.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Sb,"<$1></$2>");try{for(var b=0,f=this.length;b<f;b++)this[b].nodeType===1&&(d.cleanData(this[b].getElementsByTagName("*")),this[b].innerHTML=a)}catch(h){this.empty().append(a)}}else d.isFunction(a)?
this.each(function(j){var m=d(this);m.html(a.call(this,j,m.html()))}):this.empty().append(a);return this},replaceWith:function(a){if(this[0]&&this[0].parentNode){if(d.isFunction(a))return this.each(function(b){var f=d(this),h=f.html();f.replaceWith(a.call(this,b,h))});typeof a!="string"&&(a=d(a).detach());return this.each(function(){var b=this.nextSibling,f=this.parentNode;d(this).remove();b?d(b).before(a):d(f).append(a)})}return this.length?this.pushStack(d(d.isFunction(a)?a():a),"replaceWith",a):
this},detach:function(a){return this.remove(a,true)},domManip:function(a,b,f){var h,j,m,p=a[0],t=[];if(!d.support.checkClone&&arguments.length===3&&typeof p=="string"&&pb.test(p))return this.each(function(){d(this).domManip(a,b,f,true)});if(d.isFunction(p))return this.each(function(F){var Z=d(this);a[0]=p.call(this,F,b?Z.html():c);Z.domManip(a,b,f)});if(this[0]){m=p&&p.parentNode;d.support.parentNode&&m&&m.nodeType===11&&m.childNodes.length===this.length?(h={fragment:m}):(h=d.buildFragment(a,this,
t));m=h.fragment;m.childNodes.length===1?(j=m=m.firstChild):(j=m.firstChild);if(j){b=b&&d.nodeName(j,"tr");j=0;for(var x=this.length,w=x-1;j<x;j++)f.call(b?d.nodeName(this[j],"table")?this[j].getElementsByTagName("tbody")[0]||this[j].appendChild(this[j].ownerDocument.createElement("tbody")):this[j]:this[j],h.cacheable||x>1&&j<w?d.clone(m,true,true):m)}t.length&&d.each(t,q)}return this}});d.buildFragment=function(a,b,f){var h,j,m;b=b&&b[0]?b[0].ownerDocument||b[0]:aa;a.length===1&&typeof a[0]=="string"&&
a[0].length<512&&b===aa&&a[0].charAt(0)==="<"&&!$a.test(a[0])&&(d.support.checkClone||!pb.test(a[0]))&&(j=true,m=d.fragments[a[0]],m&&m!==1&&(h=m));h||(h=b.createDocumentFragment(),d.clean(a,b,h,f));j&&(d.fragments[a[0]]=m?h:1);return{fragment:h,cacheable:j}};d.fragments={};d.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){d.fn[a]=function(f){var h=[];f=d(f);var j=this.length===1&&this[0].parentNode;if(j&&j.nodeType===11&&
j.childNodes.length===1&&f.length===1){f[b](this[0]);return this}j=0;for(var m=f.length;j<m;j++){var p=(j>0?this.clone(true):this).get();d(f[j])[b](p);h=h.concat(p)}return this.pushStack(h,a,f.selector)}});d.extend({clone:function(a,b,f){var h=a.cloneNode(true),j,m,p;if((!d.support.noCloneEvent||!d.support.noCloneChecked)&&(a.nodeType===1||a.nodeType===11)&&!d.isXMLDoc(a)){r(a,h);j=o(a);m=o(h);for(p=0;j[p];++p)r(j[p],m[p])}if(b){C(a,h);if(f){j=o(a);m=o(h);for(p=0;j[p];++p)C(j[p],m[p])}}return h},
clean:function(a,b,f,h){b=b||aa;typeof b.createElement=="undefined"&&(b=b.ownerDocument||b[0]&&b[0].ownerDocument||aa);for(var j=[],m,p=0,t;(t=a[p])!=null;p++){typeof t=="number"&&(t+="");if(t){if(typeof t=="string")if(fc.test(t)){t=t.replace(Sb,"<$1></$2>");m=(Tb.exec(t)||["",""])[1].toLowerCase();var x=Wa[m]||Wa._default,w=x[0],F=b.createElement("div");for(F.innerHTML=x[1]+t+x[2];w--;)F=F.lastChild;if(!d.support.tbody){w=Ub.test(t);x=m==="table"&&!w?F.firstChild&&F.firstChild.childNodes:x[1]===
"<table>"&&!w?F.childNodes:[];for(m=x.length-1;m>=0;--m)d.nodeName(x[m],"tbody")&&!x[m].childNodes.length&&x[m].parentNode.removeChild(x[m])}!d.support.leadingWhitespace&&Ib.test(t)&&F.insertBefore(b.createTextNode(Ib.exec(t)[0]),F.firstChild);t=F.childNodes}else t=b.createTextNode(t);var Z;if(!d.support.appendChecked)if(t[0]&&typeof(Z=t.length)=="number")for(m=0;m<Z;m++)y(t[m]);else y(t);t.nodeType?j.push(t):(j=d.merge(j,t))}}if(f){a=function(ma){return!ma.type||gc.test(ma.type)};for(p=0;j[p];p++)if(h&&
d.nodeName(j[p],"script")&&(!j[p].type||j[p].type.toLowerCase()==="text/javascript"))h.push(j[p].parentNode?j[p].parentNode.removeChild(j[p]):j[p]);else{if(j[p].nodeType===1){b=d.grep(j[p].getElementsByTagName("script"),a);j.splice.apply(j,[p+1,0].concat(b))}f.appendChild(j[p])}}return j},cleanData:function(a){for(var b,f,h=d.cache,j=d.expando,m=d.event.special,p=d.support.deleteExpando,t=0,x;(x=a[t])!=null;t++)if(!(x.nodeName&&d.noData[x.nodeName.toLowerCase()]))if(f=x[d.expando]){if((b=h[f]&&h[f][j])&&
b.events){for(var w in b.events)m[w]?d.event.remove(x,w):d.removeEvent(x,w,b.handle);b.handle&&(b.handle.elem=null)}p?delete x[d.expando]:x.removeAttribute&&x.removeAttribute(d.expando);delete h[f]}}});var Vb=/alpha\([^)]*\)/i,hc=/opacity=([^)]*)/,nc=/-([a-z])/ig,Wb=/([A-Z]|^ms)/g,Jb=/^-?\d+(?:px)?$/i,Xb=/^-?\d/,Ba=/^[+\-]=/,ic=/[^+\-\.\de]+/g,na={position:"absolute",visibility:"hidden",display:"block"},Ob=["Left","Right"],Gb=["Top","Bottom"],ab,va,gb,cb=function(a,b){return b.toUpperCase()};d.fn.css=
function(a,b){if(arguments.length===2&&b===c)return this;return d.access(this,a,b,true,function(f,h,j){return j!==c?d.style(f,h,j):d.css(f,h)})};d.extend({cssHooks:{opacity:{get:function(a,b){if(b){var f=ab(a,"opacity","opacity");return f===""?"1":f}return a.style.opacity}}},cssNumber:{zIndex:true,fontWeight:true,opacity:true,zoom:true,lineHeight:true,widows:true,orphans:true},cssProps:{"float":d.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,f,h){if(a&&a.nodeType!==3&&a.nodeType!==
8&&a.style){var j,m=d.camelCase(b),p=a.style,t=d.cssHooks[m];b=d.cssProps[m]||m;if(f===c){if(t&&"get"in t&&(j=t.get(a,false,h))!==c)return j;return p[b]}h=typeof f;if(!(h==="number"&&isNaN(f)||f==null)){h==="string"&&Ba.test(f)&&(f=+f.replace(ic,"")+parseFloat(d.css(a,b)));h==="number"&&!d.cssNumber[m]&&(f+="px");if(!t||!("set"in t)||(f=t.set(a,f))!==c)try{p[b]=f}catch(x){}}}},css:function(a,b,f){var h,j;b=d.camelCase(b);j=d.cssHooks[b];b=d.cssProps[b]||b;b==="cssFloat"&&(b="float");if(j&&"get"in
j&&(h=j.get(a,true,f))!==c)return h;if(ab)return ab(a,b)},swap:function(a,b,f){var h={};for(var j in b){h[j]=a.style[j];a.style[j]=b[j]}f.call(a);for(j in b)a.style[j]=h[j]},camelCase:function(a){return a.replace(nc,cb)}});d.curCSS=d.css;d.each(["height","width"],function(a,b){d.cssHooks[b]={get:function(f,h,j){var m;if(h){f.offsetWidth!==0?(m=v(f,b,j)):d.swap(f,na,function(){m=v(f,b,j)});if(m<=0){m=ab(f,b,b);m==="0px"&&gb&&(m=gb(f,b,b));if(m!=null)return m===""||m==="auto"?"0px":m}if(m<0||m==null){m=
f.style[b];return m===""||m==="auto"?"0px":m}return typeof m=="string"?m:m+"px"}},set:function(f,h){if(!Jb.test(h))return h;h=parseFloat(h);if(h>=0)return h+"px"}}});d.support.opacity||(d.cssHooks.opacity={get:function(a,b){return hc.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":b?"1":""},set:function(a,b){var f=a.style,h=a.currentStyle;f.zoom=1;var j=d.isNaN(b)?"":"alpha(opacity="+b*100+")";h=h&&h.filter||f.filter||"";f.filter=Vb.test(h)?h.replace(Vb,
j):h+" "+j}});d(function(){d.support.reliableMarginRight||(d.cssHooks.marginRight={get:function(a,b){var f;d.swap(a,{display:"inline-block"},function(){b?(f=ab(a,"margin-right","marginRight")):(f=a.style.marginRight)});return f}})});aa.defaultView&&aa.defaultView.getComputedStyle&&(va=function(a,b){var f,h;b=b.replace(Wb,"-$1").toLowerCase();if(!(h=a.ownerDocument.defaultView))return c;if(h=h.getComputedStyle(a,null)){f=h.getPropertyValue(b);f===""&&!d.contains(a.ownerDocument.documentElement,a)&&
(f=d.style(a,b))}return f});aa.documentElement.currentStyle&&(gb=function(a,b){var f,h=a.currentStyle&&a.currentStyle[b],j=a.runtimeStyle&&a.runtimeStyle[b],m=a.style;!Jb.test(h)&&Xb.test(h)&&(f=m.left,j&&(a.runtimeStyle.left=a.currentStyle.left),m.left=b==="fontSize"?"1em":h||0,h=m.pixelLeft+"px",m.left=f,j&&(a.runtimeStyle.left=j));return h===""?"auto":h});ab=va||gb;d.expr&&d.expr.filters&&(d.expr.filters.hidden=function(a){var b=a.offsetHeight;return a.offsetWidth===0&&b===0||!d.support.reliableHiddenOffsets&&
(a.style.display||d.css(a,"display"))==="none"},d.expr.filters.visible=function(a){return!d.expr.filters.hidden(a)});var Yb=/%20/g,jb=/\[\]$/,Cb=/\r?\n/g,Zb=/#.*$/,Da=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,Xa=/^(?:color|date|datetime|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,qb=/^(?:GET|HEAD)$/,Sa=/^\/\//,Kb=/\?/,oc=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,$b=/^(?:select|textarea)/i,Ua=/\s+/,Y=/([?&])_=[^&]*/,db=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,
Ya=d.fn.load,bb={},U={},Ta,Za;try{Ta=X.href}catch(jc){Ta=aa.createElement("a");Ta.href="";Ta=Ta.href}Za=db.exec(Ta.toLowerCase())||[];d.fn.extend({load:function(a,b,f){if(typeof a!="string"&&Ya)return Ya.apply(this,arguments);if(!this.length)return this;var h=a.indexOf(" ");if(h>=0){var j=a.slice(h,a.length);a=a.slice(0,h)}h="GET";b&&(d.isFunction(b)?(f=b,b=c):typeof b=="object"&&(b=d.param(b,d.ajaxSettings.traditional),h="POST"));var m=this;d.ajax({url:a,type:h,dataType:"html",data:b,complete:function(p,
t,x){x=p.responseText;p.isResolved()&&(p.done(function(w){x=w}),m.html(j?d("<div>").append(x.replace(oc,"")).find(j):x));f&&m.each(f,[x,t,p])}});return this},serialize:function(){return d.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?d.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||$b.test(this.nodeName)||Xa.test(this.type))}).map(function(a,b){var f=d(this).val();return f==null?null:d.isArray(f)?
d.map(f,function(h){return{name:b.name,value:h.replace(Cb,"\r\n")}}):{name:b.name,value:f.replace(Cb,"\r\n")}}).get()}});d.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){d.fn[b]=function(f){return this.bind(b,f)}});d.each(["get","post"],function(a,b){d[b]=function(f,h,j,m){d.isFunction(h)&&(m=m||j,j=h,h=c);return d.ajax({type:b,url:f,data:h,success:j,dataType:m})}});d.extend({getScript:function(a,b){return d.get(a,c,b,"script")},getJSON:function(a,b,
f){return d.get(a,b,f,"json")},ajaxSetup:function(a,b){b?d.extend(true,a,d.ajaxSettings,b):(b=a,a=d.extend(true,d.ajaxSettings,b));for(var f in{context:1,url:1})f in b?(a[f]=b[f]):f in d.ajaxSettings&&(a[f]=d.ajaxSettings[f]);return a},ajaxSettings:{url:Ta,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|widget):$/.test(Za[1]),global:true,type:"GET",contentType:"application/x-www-form-urlencoded",processData:true,async:true,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",
json:"application/json, text/javascript","*":"*/*"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":true,"text json":d.parseJSON,"text xml":d.parseXML}},ajaxPrefilter:G(bb),ajaxTransport:G(U),ajax:function(a,b){function f(J,N,W,ea){if(Ga!==2){Ga=2;Fa&&clearTimeout(Fa);pa=c;ma=ea||"";B.readyState=J?4:0;var wa,Na,D;if(W){ea=h;var T=B,ba=ea.contents,Q=ea.dataTypes,xa=ea.responseFields,ua,qa,Ca,Hb;for(qa in xa)qa in
W&&(T[xa[qa]]=W[qa]);for(;Q[0]==="*";){Q.shift();ua===c&&(ua=ea.mimeType||T.getResponseHeader("content-type"))}if(ua)for(qa in ba)if(ba[qa]&&ba[qa].test(ua)){Q.unshift(qa);break}if(Q[0]in W)Ca=Q[0];else{for(qa in W){if(!Q[0]||ea.converters[qa+" "+Q[0]]){Ca=qa;break}Hb||(Hb=qa)}Ca=Ca||Hb}if(Ca){Ca!==Q[0]&&Q.unshift(Ca);W=W[Ca]}else W=void 0}else W=c;W=W;if(J>=200&&J<300||J===304){if(h.ifModified){if(ua=B.getResponseHeader("Last-Modified"))d.lastModified[w]=ua;if(ua=B.getResponseHeader("Etag"))d.etag[w]=
ua}if(J===304){N="notmodified";wa=true}else try{ua=h;W=W;ua.dataFilter&&(W=ua.dataFilter(W,ua.dataType));var yb=ua.dataTypes;qa={};var ac,kc,qc=yb.length,lc,vb=yb[0],Lb,pc,wb,Db,Mb;for(ac=1;ac<qc;ac++){if(ac===1)for(kc in ua.converters)typeof kc=="string"&&(qa[kc.toLowerCase()]=ua.converters[kc]);Lb=vb;vb=yb[ac];if(vb==="*")vb=Lb;else if(Lb!=="*"&&Lb!==vb){pc=Lb+" "+vb;wb=qa[pc]||qa["* "+vb];if(!wb){Mb=c;for(Db in qa){lc=Db.split(" ");if(lc[0]===Lb||lc[0]==="*")if(Mb=qa[lc[1]+" "+vb]){Db=qa[Db];Db===
true?(wb=Mb):Mb===true&&(wb=Db);break}}}!wb&&!Mb&&d.error("No conversion from "+pc.replace(" "," to "));wb!==true&&(W=wb?wb(W):Mb(Db(W)))}}Na=W;N="success";wa=true}catch(rc){N="parsererror";D=rc}}else{D=N;if(!N||J){N="error";J<0&&(J=0)}}B.status=J;B.statusText=N;wa?p.resolveWith(j,[Na,N,B]):p.rejectWith(j,[B,N,D]);B.statusCode(x);x=c;Ra&&m.trigger("ajax"+(wa?"Success":"Error"),[B,h,wa?Na:D]);t.resolveWith(j,[B,N]);Ra&&(m.trigger("ajaxComplete",[B,h]),--d.active||d.event.trigger("ajaxStop"))}}typeof a==
"object"&&(b=a,a=c);b=b||{};var h=d.ajaxSetup({},b),j=h.context||h,m=j!==h&&(j.nodeType||j instanceof d)?d(j):d.event,p=d.Deferred(),t=d._Deferred(),x=h.statusCode||{},w,F={},Z={},ma,oa,pa,Fa,ya,Ga=0,Ra,s,B={readyState:0,setRequestHeader:function(J,N){if(!Ga){var W=J.toLowerCase();J=Z[W]=Z[W]||J;F[J]=N}return this},getAllResponseHeaders:function(){return Ga===2?ma:null},getResponseHeader:function(J){var N;if(Ga===2){if(!oa)for(oa={};N=Da.exec(ma);)oa[N[1].toLowerCase()]=N[2];N=oa[J.toLowerCase()]}return N===
c?null:N},overrideMimeType:function(J){Ga||(h.mimeType=J);return this},abort:function(J){J=J||"abort";pa&&pa.abort(J);f(0,J);return this}};p.promise(B);B.success=B.done;B.error=B.fail;B.complete=t.done;B.statusCode=function(J){if(J){var N;if(Ga<2)for(N in J)x[N]=[x[N],J[N]];else{N=J[B.status];B.then(N,N)}}return this};h.url=((a||h.url)+"").replace(Zb,"").replace(Sa,Za[1]+"//");h.dataTypes=d.trim(h.dataType||"*").toLowerCase().split(Ua);h.crossDomain==null&&(ya=db.exec(h.url.toLowerCase()),h.crossDomain=
!(!ya||ya[1]==Za[1]&&ya[2]==Za[2]&&(ya[3]||(ya[1]==="http:"?80:443))==(Za[3]||(Za[1]==="http:"?80:443))));h.data&&h.processData&&typeof h.data!="string"&&(h.data=d.param(h.data,h.traditional));z(bb,h,b,B);if(Ga===2)return false;Ra=h.global;h.type=h.type.toUpperCase();h.hasContent=!qb.test(h.type);Ra&&d.active++===0&&d.event.trigger("ajaxStart");if(!h.hasContent){h.data&&(h.url+=(Kb.test(h.url)?"&":"?")+h.data);w=h.url;if(h.cache===false){ya=d.now();var K=h.url.replace(Y,"$1_="+ya);h.url=K+(K===h.url?
(Kb.test(h.url)?"&":"?")+"_="+ya:"")}}(h.data&&h.hasContent&&h.contentType!==false||b.contentType)&&B.setRequestHeader("Content-Type",h.contentType);h.ifModified&&(w=w||h.url,d.lastModified[w]&&B.setRequestHeader("If-Modified-Since",d.lastModified[w]),d.etag[w]&&B.setRequestHeader("If-None-Match",d.etag[w]));B.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+(h.dataTypes[0]!=="*"?", */*; q=0.01":""):h.accepts["*"]);for(s in h.headers)B.setRequestHeader(s,
h.headers[s]);if(h.beforeSend&&(h.beforeSend.call(j,B,h)===false||Ga===2)){B.abort();return false}for(s in{success:1,error:1,complete:1})B[s](h[s]);if(pa=z(U,h,b,B)){B.readyState=1;Ra&&m.trigger("ajaxSend",[B,h]);h.async&&h.timeout>0&&(Fa=setTimeout(function(){B.abort("timeout")},h.timeout));try{Ga=1;pa.send(F,f)}catch(M){status<2?f(-1,M):d.error(M)}}else f(-1,"No Transport");return B},param:function(a,b){var f=[],h=function(m,p){p=d.isFunction(p)?p():p;f[f.length]=encodeURIComponent(m)+"="+encodeURIComponent(p)};
b===c&&(b=d.ajaxSettings.traditional);if(d.isArray(a)||a.jquery&&!d.isPlainObject(a))d.each(a,function(){h(this.name,this.value)});else for(var j in a)A(j,a[j],b,h);return f.join("&").replace(Yb,"+")}});d.extend({active:0,lastModified:{},etag:{}});var eb=d.now(),Oa=/(\=)\?(&|$)|\?\?/i;d.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return d.expando+"_"+eb++}});d.ajaxPrefilter("json jsonp",function(a,b,f){b=a.contentType==="application/x-www-form-urlencoded"&&typeof a.data=="string";if(a.dataTypes[0]===
"jsonp"||a.jsonp!==false&&(Oa.test(a.url)||b&&Oa.test(a.data))){var h,j=a.jsonpCallback=d.isFunction(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback,m=e[j],p=a.url,t=a.data,x="$1"+j+"$2";a.jsonp!==false&&(p=p.replace(Oa,x),a.url===p&&(b&&(t=t.replace(Oa,x)),a.data===t&&(p+=(/\?/.test(p)?"&":"?")+a.jsonp+"="+j)));a.url=p;a.data=t;e[j]=function(w){h=[w]};f.always(function(){e[j]=m;h&&d.isFunction(m)&&e[j](h[0])});a.converters["script json"]=function(){h||d.error(j+" was not called");return h[0]};
a.dataTypes[0]="json";return"script"}});d.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){d.globalEval(a);return a}}});d.ajaxPrefilter("script",function(a){a.cache===c&&(a.cache=false);a.crossDomain&&(a.type="GET",a.global=false)});d.ajaxTransport("script",function(a){if(a.crossDomain){var b,f=aa.head||aa.getElementsByTagName("head")[0]||aa.documentElement;
return{send:function(h,j){b=aa.createElement("script");b.async="async";a.scriptCharset&&(b.charset=a.scriptCharset);b.src=a.url;b.onload=b.onreadystatechange=function(m,p){if(p||!b.readyState||/loaded|complete/.test(b.readyState)){b.onload=b.onreadystatechange=null;f&&b.parentNode&&f.removeChild(b);b=c;p||j(200,"success")}};f.insertBefore(b,f.firstChild)},abort:function(){b&&b.onload(0,1)}}}});var Eb=e.ActiveXObject?function(){for(var a in hb)hb[a](0,1)}:false,mb=0,hb;d.ajaxSettings.xhr=e.ActiveXObject?
function(){var a;if(!(a=!this.isLocal&&u()))a:{try{a=new e.ActiveXObject("Microsoft.XMLHTTP");break a}catch(b){}a=void 0}return a}:u;(function(a){d.extend(d.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})})(d.ajaxSettings.xhr());d.support.ajax&&d.ajaxTransport(function(a){if(!a.crossDomain||d.support.cors){var b;return{send:function(f,h){var j=a.xhr(),m,p;a.username?j.open(a.type,a.url,a.async,a.username,a.password):j.open(a.type,a.url,a.async);if(a.xhrFields)for(p in a.xhrFields)j[p]=a.xhrFields[p];
a.mimeType&&j.overrideMimeType&&j.overrideMimeType(a.mimeType);!a.crossDomain&&!f["X-Requested-With"]&&(f["X-Requested-With"]="XMLHttpRequest");try{for(p in f)j.setRequestHeader(p,f[p])}catch(t){}j.send(a.hasContent&&a.data||null);b=function(x,w){var F,Z,ma,oa,pa;try{if(b&&(w||j.readyState===4)){b=c;m&&(j.onreadystatechange=d.noop,Eb&&delete hb[m]);if(w)j.readyState!==4&&j.abort();else{F=j.status;ma=j.getAllResponseHeaders();oa={};(pa=j.responseXML)&&pa.documentElement&&(oa.xml=pa);oa.text=j.responseText;
try{Z=j.statusText}catch(Fa){Z=""}!F&&a.isLocal&&!a.crossDomain?(F=oa.text?200:404):F===1223&&(F=204)}}}catch(ya){w||h(-1,ya)}oa&&h(F,Z,oa,ma)};!a.async||j.readyState===4?b():(m=++mb,Eb&&(hb||(hb={},d(e).unload(Eb)),hb[m]=b),j.onreadystatechange=b)},abort:function(){b&&b(0,1)}}}});var Ka={},Ma,rb,Nb=/^(?:toggle|show|hide)$/,Pa=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,ib,xb=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],
["opacity"]],Qa,Fb=e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame;d.fn.extend({show:function(a,b,f){var h;if(a||a===0)return this.animate(k("show",3),a,b,f);b=0;for(f=this.length;b<f;b++){a=this[b];a.style&&(h=a.style.display,!d._data(a,"olddisplay")&&h==="none"&&(h=a.style.display=""),h===""&&d.css(a,"display")==="none"&&d._data(a,"olddisplay",i(a.nodeName)))}for(b=0;b<f;b++){a=this[b];if(a.style){h=a.style.display;if(h===""||h==="none")a.style.display=d._data(a,
"olddisplay")||""}}return this},hide:function(a,b,f){if(a||a===0)return this.animate(k("hide",3),a,b,f);a=0;for(b=this.length;a<b;a++)if(this[a].style){f=d.css(this[a],"display");f!=="none"&&!d._data(this[a],"olddisplay")&&d._data(this[a],"olddisplay",f)}for(a=0;a<b;a++)this[a].style&&(this[a].style.display="none");return this},_toggle:d.fn.toggle,toggle:function(a,b,f){var h=typeof a=="boolean";d.isFunction(a)&&d.isFunction(b)?this._toggle.apply(this,arguments):a==null||h?this.each(function(){var j=
h?a:d(this).is(":hidden");d(this)[j?"show":"hide"]()}):this.animate(k("toggle",3),a,b,f);return this},fadeTo:function(a,b,f,h){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:b},a,f,h)},animate:function(a,b,f,h){var j=d.speed(b,f,h);if(d.isEmptyObject(a))return this.each(j.complete,[false]);a=d.extend({},a);return this[j.queue===false?"each":"queue"](function(){j.queue===false&&d._mark(this);var m=d.extend({},j),p=this.nodeType===1,t=p&&d(this).is(":hidden"),x,w,F,Z,ma,
oa,pa,Fa;m.animatedProperties={};for(F in a){x=d.camelCase(F);F!==x&&(a[x]=a[F],delete a[F]);w=a[x];d.isArray(w)?(m.animatedProperties[x]=w[1],w=a[x]=w[0]):(m.animatedProperties[x]=m.specialEasing&&m.specialEasing[x]||m.easing||"swing");if(w==="hide"&&t||w==="show"&&!t)return m.complete.call(this);p&&(x==="height"||x==="width")&&(m.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],d.css(this,"display")==="inline"&&d.css(this,"float")==="none"&&(d.support.inlineBlockNeedsLayout?
(Z=i(this.nodeName),Z==="inline"?(this.style.display="inline-block"):(this.style.display="inline",this.style.zoom=1)):(this.style.display="inline-block")))}m.overflow!=null&&(this.style.overflow="hidden");for(F in a){p=new d.fx(this,m,F);w=a[F];Nb.test(w)?p[w==="toggle"?t?"show":"hide":w]():(ma=Pa.exec(w),oa=p.cur(),ma?(pa=parseFloat(ma[2]),Fa=ma[3]||(d.cssNumber[F]?"":"px"),Fa!=="px"&&(d.style(this,F,(pa||1)+Fa),oa=(pa||1)/p.cur()*oa,d.style(this,F,oa+Fa)),ma[1]&&(pa=(ma[1]==="-="?-1:1)*pa+oa),p.custom(oa,
pa,Fa)):p.custom(oa,w,""))}return true})},stop:function(a,b){a&&this.queue([]);this.each(function(){var f=d.timers,h=f.length;for(b||d._unmark(true,this);h--;)f[h].elem===this&&(b&&f[h](true),f.splice(h,1))});b||this.dequeue();return this}});d.each({slideDown:k("show",1),slideUp:k("hide",1),slideToggle:k("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){d.fn[a]=function(f,h,j){return this.animate(b,f,h,j)}});d.extend({speed:function(a,b,f){var h=
a&&typeof a=="object"?d.extend({},a):{complete:f||!f&&b||d.isFunction(a)&&a,duration:a,easing:f&&b||b&&!d.isFunction(b)&&b};h.duration=d.fx.off?0:typeof h.duration=="number"?h.duration:h.duration in d.fx.speeds?d.fx.speeds[h.duration]:d.fx.speeds._default;h.old=h.complete;h.complete=function(j){h.queue!==false?d.dequeue(this):j!==false&&d._unmark(this);d.isFunction(h.old)&&h.old.call(this)};return h},easing:{linear:function(a,b,f,h){return f+h*a},swing:function(a,b,f,h){return(-Math.cos(a*Math.PI)/
2+0.5)*h+f}},timers:[],fx:function(a,b,f){this.options=b;this.elem=a;this.prop=f;b.orig=b.orig||{}}});d.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this);(d.fx.step[this.prop]||d.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null))return this.elem[this.prop];var a,b=d.css(this.elem,this.prop);return isNaN(a=parseFloat(b))?!b||b==="auto"?0:b:a},custom:function(a,b,f){function h(t){return j.step(t)}
var j=this,m=d.fx,p;this.startTime=Qa||n();this.start=a;this.end=b;this.unit=f||this.unit||(d.cssNumber[this.prop]?"":"px");this.now=this.start;this.pos=this.state=0;h.elem=this.elem;h()&&d.timers.push(h)&&!ib&&(Fb?(ib=1,p=function(){ib&&(Fb(p),m.tick())},Fb(p)):(ib=setInterval(m.tick,m.interval)))},show:function(){this.options.orig[this.prop]=d.style(this.elem,this.prop);this.options.show=true;this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur());d(this.elem).show()},hide:function(){this.options.orig[this.prop]=
d.style(this.elem,this.prop);this.options.hide=true;this.custom(this.cur(),0)},step:function(a){var b=Qa||n(),f=true,h=this.elem,j=this.options,m,p;if(a||b>=j.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();j.animatedProperties[this.prop]=true;for(m in j.animatedProperties)j.animatedProperties[m]!==true&&(f=false);if(f){j.overflow!=null&&!d.support.shrinkWrapBlocks&&d.each(["","X","Y"],function(x,w){h.style["overflow"+w]=j.overflow[x]});j.hide&&d(h).hide();if(j.hide||
j.show)for(var t in j.animatedProperties)d.style(h,t,j.orig[t]);j.complete.call(h)}return false}j.duration==Infinity?(this.now=b):(p=b-this.startTime,this.state=p/j.duration,this.pos=d.easing[j.animatedProperties[this.prop]](this.state,p,0,1,j.duration),this.now=this.start+(this.end-this.start)*this.pos);this.update();return true}};d.extend(d.fx,{tick:function(){for(var a=d.timers,b=0;b<a.length;++b)a[b]()||a.splice(b--,1);a.length||d.fx.stop()},interval:13,stop:function(){clearInterval(ib);ib=null},
speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){d.style(a.elem,"opacity",a.now)},_default:function(a){a.elem.style&&a.elem.style[a.prop]!=null?(a.elem.style[a.prop]=(a.prop==="width"||a.prop==="height"?Math.max(0,a.now):a.now)+a.unit):(a.elem[a.prop]=a.now)}}});d.expr&&d.expr.filters&&(d.expr.filters.animated=function(a){return d.grep(d.timers,function(b){return a===b.elem}).length});var bc=/^t(?:able|d|h)$/i,cc=/^(?:body|html)$/i;"getBoundingClientRect"in aa.documentElement?(d.fn.offset=
function(a){var b=this[0],f;if(a)return this.each(function(p){d.offset.setOffset(this,a,p)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return d.offset.bodyOffset(b);try{f=b.getBoundingClientRect()}catch(h){}var j=b.ownerDocument,m=j.documentElement;if(!f||!d.contains(m,b))return f?{top:f.top,left:f.left}:{top:0,left:0};b=j.body;j=g(j);return{top:f.top+(j.pageYOffset||d.support.boxModel&&m.scrollTop||b.scrollTop)-(m.clientTop||b.clientTop||0),left:f.left+(j.pageXOffset||d.support.boxModel&&
m.scrollLeft||b.scrollLeft)-(m.clientLeft||b.clientLeft||0)}}):(d.fn.offset=function(a){var b=this[0];if(a)return this.each(function(F){d.offset.setOffset(this,a,F)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return d.offset.bodyOffset(b);d.offset.initialize();var f,h=b.offsetParent,j=b,m=b.ownerDocument,p=m.documentElement,t=m.body;f=(m=m.defaultView)?m.getComputedStyle(b,null):b.currentStyle;for(var x=b.offsetTop,w=b.offsetLeft;(b=b.parentNode)&&b!==t&&b!==p;){if(d.offset.supportsFixedPosition&&
f.position==="fixed")break;f=m?m.getComputedStyle(b,null):b.currentStyle;x-=b.scrollTop;w-=b.scrollLeft;b===h&&(x+=b.offsetTop,w+=b.offsetLeft,d.offset.doesNotAddBorder&&(!d.offset.doesAddBorderForTableAndCells||!bc.test(b.nodeName))&&(x+=parseFloat(f.borderTopWidth)||0,w+=parseFloat(f.borderLeftWidth)||0),j=h,h=b.offsetParent);d.offset.subtractsBorderForOverflowNotVisible&&f.overflow!=="visible"&&(x+=parseFloat(f.borderTopWidth)||0,w+=parseFloat(f.borderLeftWidth)||0);f=f}if(f.position==="relative"||
f.position==="static"){x+=t.offsetTop;w+=t.offsetLeft}d.offset.supportsFixedPosition&&f.position==="fixed"&&(x+=Math.max(p.scrollTop,t.scrollTop),w+=Math.max(p.scrollLeft,t.scrollLeft));return{top:x,left:w}});d.offset={initialize:function(){var a=aa.body,b=aa.createElement("div"),f,h,j,m=parseFloat(d.css(a,"marginTop"))||0;d.extend(b.style,{position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"});b.innerHTML="<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";
a.insertBefore(b,a.firstChild);f=b.firstChild;h=f.firstChild;j=f.nextSibling.firstChild.firstChild;this.doesNotAddBorder=h.offsetTop!==5;this.doesAddBorderForTableAndCells=j.offsetTop===5;h.style.position="fixed";h.style.top="20px";this.supportsFixedPosition=h.offsetTop===20||h.offsetTop===15;h.style.position=h.style.top="";f.style.overflow="hidden";f.style.position="relative";this.subtractsBorderForOverflowNotVisible=h.offsetTop===-5;this.doesNotIncludeMarginInBodyOffset=a.offsetTop!==m;a.removeChild(b);
d.offset.initialize=d.noop},bodyOffset:function(a){var b=a.offsetTop,f=a.offsetLeft;d.offset.initialize();d.offset.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(d.css(a,"marginTop"))||0,f+=parseFloat(d.css(a,"marginLeft"))||0);return{top:b,left:f}},setOffset:function(a,b,f){var h=d.css(a,"position");h==="static"&&(a.style.position="relative");var j=d(a),m=j.offset(),p=d.css(a,"top"),t=d.css(a,"left"),x={},w={},F,Z;(h==="absolute"||h==="fixed")&&d.inArray("auto",[p,t])>-1?(w=j.position(),F=w.top,
Z=w.left):(F=parseFloat(p)||0,Z=parseFloat(t)||0);d.isFunction(b)&&(b=b.call(a,f,m));b.top!=null&&(x.top=b.top-m.top+F);b.left!=null&&(x.left=b.left-m.left+Z);"using"in b?b.using.call(a,x):j.css(x)}};d.fn.extend({position:function(){if(!this[0])return null;var a=this[0],b=this.offsetParent(),f=this.offset(),h=cc.test(b[0].nodeName)?{top:0,left:0}:b.offset();f.top-=parseFloat(d.css(a,"marginTop"))||0;f.left-=parseFloat(d.css(a,"marginLeft"))||0;h.top+=parseFloat(d.css(b[0],"borderTopWidth"))||0;h.left+=
parseFloat(d.css(b[0],"borderLeftWidth"))||0;return{top:f.top-h.top,left:f.left-h.left}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||aa.body;a&&!cc.test(a.nodeName)&&d.css(a,"position")==="static";)a=a.offsetParent;return a})}});d.each(["Left","Top"],function(a,b){var f="scroll"+b;d.fn[f]=function(h){var j,m;if(h===c){j=this[0];if(!j)return null;return(m=g(j))?"pageXOffset"in m?m[a?"pageYOffset":"pageXOffset"]:d.support.boxModel&&m.document.documentElement[f]||
m.document.body[f]:j[f]}return this.each(function(){(m=g(this))?m.scrollTo(a?d(m).scrollLeft():h,a?h:d(m).scrollTop()):(this[f]=h)})}});d.each(["Height","Width"],function(a,b){var f=b.toLowerCase();d.fn["inner"+b]=function(){return this[0]?parseFloat(d.css(this[0],f,"padding")):null};d.fn["outer"+b]=function(h){return this[0]?parseFloat(d.css(this[0],f,h?"margin":"border")):null};d.fn[f]=function(h){var j=this[0];if(!j)return h==null?null:this;if(d.isFunction(h))return this.each(function(p){var t=
d(this);t[f](h.call(this,p,t[f]()))});if(d.isWindow(j)){var m=j.document.documentElement["client"+b];return j.document.compatMode==="CSS1Compat"&&m||j.document.body["client"+b]||m}if(j.nodeType===9)return Math.max(j.documentElement["client"+b],j.body["scroll"+b],j.documentElement["scroll"+b],j.body["offset"+b],j.documentElement["offset"+b]);if(h===c){j=d.css(j,f);m=parseFloat(j);return d.isNaN(m)?j:m}return this.css(f,typeof h=="string"?h:h+"px")}});e.jQuery=e.$=d})(window);
(function(e,c){function g(k,l){var n=k.nodeName.toLowerCase();if("area"===n){n=k.parentNode;var u=n.name;if(!k.href||!u||n.nodeName.toLowerCase()!=="map")return false;n=e("img[usemap=#"+u+"]")[0];return!!n&&i(n)}return(/input|select|textarea|button|object/.test(n)?!k.disabled:"a"==n?k.href||l:l)&&i(k)}function i(k){return!e(k).parents().andSelf().filter(function(){return e.curCSS(this,"visibility")==="hidden"||e.expr.filters.hidden(this)}).length}e.ui=e.ui||{};if(!e.ui.version){e.extend(e.ui,{version:"1.8.14",
keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}});e.fn.extend({_focus:e.fn.focus,focus:function(k,l){return typeof k==="number"?this.each(function(){var n=this;setTimeout(function(){e(n).focus();
l&&l.call(n)},k)}):this._focus.apply(this,arguments)},scrollParent:function(){var k;k=e.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.curCSS(this,"position",1))&&/(auto|scroll)/.test(e.curCSS(this,"overflow",1)+e.curCSS(this,"overflow-y",1)+e.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.curCSS(this,"overflow",1)+e.curCSS(this,
"overflow-y",1)+e.curCSS(this,"overflow-x",1))}).eq(0);return/fixed/.test(this.css("position"))||!k.length?e(document):k},zIndex:function(k){if(k!==c)return this.css("zIndex",k);if(this.length){k=e(this[0]);for(var l;k.length&&k[0]!==document;){l=k.css("position");if(l==="absolute"||l==="relative"||l==="fixed"){l=parseInt(k.css("zIndex"),10);if(!isNaN(l)&&l!==0)return l}k=k.parent()}}return 0},disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",
function(k){k.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});e.each(["Width","Height"],function(k,l){function n(G,v,q,y){e.each(u,function(){v-=parseFloat(e.curCSS(G,"padding"+this,true))||0;if(q)v-=parseFloat(e.curCSS(G,"border"+this+"Width",true))||0;if(y)v-=parseFloat(e.curCSS(G,"margin"+this,true))||0});return v}var u=l==="Width"?["Left","Right"]:["Top","Bottom"],A=l.toLowerCase(),z={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,
outerHeight:e.fn.outerHeight};e.fn["inner"+l]=function(G){if(G===c)return z["inner"+l].call(this);return this.each(function(){e(this).css(A,n(this,G)+"px")})};e.fn["outer"+l]=function(G,v){if(typeof G!=="number")return z["outer"+l].call(this,G);return this.each(function(){e(this).css(A,n(this,G,true,v)+"px")})}});e.extend(e.expr[":"],{data:function(k,l,n){return!!e.data(k,n[3])},focusable:function(k){return g(k,!isNaN(e.attr(k,"tabindex")))},tabbable:function(k){var l=e.attr(k,"tabindex"),n=isNaN(l);
return(n||l>=0)&&g(k,!n)}});e(function(){var k=document.body,l=k.appendChild(l=document.createElement("div"));e.extend(l.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});e.support.minHeight=l.offsetHeight===100;e.support.selectstart="onselectstart"in l;k.removeChild(l).style.display="none"});e.extend(e.ui,{plugin:{add:function(k,l,n){k=e.ui[k].prototype;for(var u in n){k.plugins[u]=k.plugins[u]||[];k.plugins[u].push([l,n[u]])}},call:function(k,l,n){if((l=k.plugins[l])&&k.element[0].parentNode)for(var u=
0;u<l.length;u++)k.options[l[u][0]]&&l[u][1].apply(k.element,n)}},contains:function(k,l){return document.compareDocumentPosition?k.compareDocumentPosition(l)&16:k!==l&&k.contains(l)},hasScroll:function(k,l){if(e(k).css("overflow")==="hidden")return false;var n=l&&l==="left"?"scrollLeft":"scrollTop",u=false;if(k[n]>0)return true;k[n]=1;u=k[n]>0;k[n]=0;return u},isOverAxis:function(k,l,n){return k>l&&k<l+n},isOver:function(k,l,n,u,A,z){return e.ui.isOverAxis(k,n,A)&&e.ui.isOverAxis(l,u,z)}})}})(jQuery);
(function(e,c){if(e.cleanData){var g=e.cleanData;e.cleanData=function(k){for(var l=0,n;(n=k[l])!=null;l++)e(n).triggerHandler("remove");g(k)}}else{var i=e.fn.remove;e.fn.remove=function(k,l){return this.each(function(){if(!l)if(!k||e.filter(k,[this]).length)e("*",this).add([this]).each(function(){e(this).triggerHandler("remove")});return i.call(e(this),k,l)})}}e.widget=function(k,l,n){var u=k.split(".")[0],A;k=k.split(".")[1];A=u+"-"+k;if(!n){n=l;l=e.Widget}e.expr[":"][A]=function(z){return!!e.data(z,
k)};e[u]=e[u]||{};e[u][k]=function(z,G){arguments.length&&this._createWidget(z,G)};l=new l;l.options=e.extend(true,{},l.options);e[u][k].prototype=e.extend(true,l,{namespace:u,widgetName:k,widgetEventPrefix:e[u][k].prototype.widgetEventPrefix||k,widgetBaseClass:A},n);e.widget.bridge(k,e[u][k])};e.widget.bridge=function(k,l){e.fn[k]=function(n){var u=typeof n==="string",A=Array.prototype.slice.call(arguments,1),z=this;n=!u&&A.length?e.extend.apply(null,[true,n].concat(A)):n;if(u&&n.charAt(0)==="_")return z;
u?this.each(function(){var G=e.data(this,k),v=G&&e.isFunction(G[n])?G[n].apply(G,A):G;if(v!==G&&v!==c){z=v;return false}}):this.each(function(){var G=e.data(this,k);G?G.option(n||{})._init():e.data(this,k,new l(n,this))});return z}};e.Widget=function(k,l){arguments.length&&this._createWidget(k,l)};e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:false},_createWidget:function(k,l){e.data(l,this.widgetName,this);this.element=e(l);this.options=e.extend(true,{},this.options,
this._getCreateOptions(),k);var n=this;this.element.bind("remove."+this.widgetName,function(){n.destroy()});this._create();this._trigger("create");this._init()},_getCreateOptions:function(){return e.metadata&&e.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},
widget:function(){return this.element},option:function(k,l){var n=k;if(arguments.length===0)return e.extend({},this.options);if(typeof k==="string"){if(l===c)return this.options[k];n={};n[k]=l}this._setOptions(n);return this},_setOptions:function(k){var l=this;e.each(k,function(n,u){l._setOption(n,u)});return this},_setOption:function(k,l){this.options[k]=l;if(k==="disabled")this.widget()[l?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",l);return this},
enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_trigger:function(k,l,n){var u=this.options[k];l=e.Event(l);l.type=(k===this.widgetEventPrefix?k:this.widgetEventPrefix+k).toLowerCase();n=n||{};if(l.originalEvent){k=e.event.props.length;for(var A;k;){A=e.event.props[--k];l[A]=l.originalEvent[A]}}this.element.trigger(l,n);return!(e.isFunction(u)&&u.call(this.element[0],l,n)===false||l.isDefaultPrevented())}}})(jQuery);
(function(e){var c=false;e(document).mousedown(function(){c=false});e.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var g=this;this.element.bind("mousedown."+this.widgetName,function(i){return g._mouseDown(i)}).bind("click."+this.widgetName,function(i){if(true===e.data(i.target,g.widgetName+".preventClickEvent")){e.removeData(i.target,g.widgetName+".preventClickEvent");i.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.unbind("."+
this.widgetName)},_mouseDown:function(g){if(!c){this._mouseStarted&&this._mouseUp(g);this._mouseDownEvent=g;var i=this,k=g.which==1,l=typeof this.options.cancel=="string"?e(g.target).closest(this.options.cancel).length:false;if(!k||l||!this._mouseCapture(g))return true;this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet)this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=true},this.options.delay);if(this._mouseDistanceMet(g)&&this._mouseDelayMet(g)){this._mouseStarted=this._mouseStart(g)!==
false;if(!this._mouseStarted){g.preventDefault();return true}}true===e.data(g.target,this.widgetName+".preventClickEvent")&&e.removeData(g.target,this.widgetName+".preventClickEvent");this._mouseMoveDelegate=function(n){return i._mouseMove(n)};this._mouseUpDelegate=function(n){return i._mouseUp(n)};e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);g.preventDefault();return c=true}},_mouseMove:function(g){if(e.browser.msie&&
!(document.documentMode>=9)&&!g.button)return this._mouseUp(g);if(this._mouseStarted){this._mouseDrag(g);return g.preventDefault()}if(this._mouseDistanceMet(g)&&this._mouseDelayMet(g))(this._mouseStarted=this._mouseStart(this._mouseDownEvent,g)!==false)?this._mouseDrag(g):this._mouseUp(g);return!this._mouseStarted},_mouseUp:function(g){e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=
false;g.target==this._mouseDownEvent.target&&e.data(g.target,this.widgetName+".preventClickEvent",true);this._mouseStop(g)}return false},_mouseDistanceMet:function(g){return Math.max(Math.abs(this._mouseDownEvent.pageX-g.pageX),Math.abs(this._mouseDownEvent.pageY-g.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true}})})(jQuery);
(function(e){e.ui=e.ui||{};var c=/left|center|right/,g=/top|center|bottom/,i=e.fn.position,k=e.fn.offset;e.fn.position=function(l){if(!l||!l.of)return i.apply(this,arguments);l=e.extend({},l);var n=e(l.of),u=n[0],A=(l.collision||"flip").split(" "),z=l.offset?l.offset.split(" "):[0,0],G,v,q;if(u.nodeType===9){G=n.width();v=n.height();q={top:0,left:0}}else if(u.setTimeout){G=n.width();v=n.height();q={top:n.scrollTop(),left:n.scrollLeft()}}else if(u.preventDefault){l.at="left top";G=v=0;q={top:l.of.pageY,
left:l.of.pageX}}else{G=n.outerWidth();v=n.outerHeight();q=n.offset()}e.each(["my","at"],function(){var y=(l[this]||"").split(" ");if(y.length===1)y=c.test(y[0])?y.concat(["center"]):g.test(y[0])?["center"].concat(y):["center","center"];y[0]=c.test(y[0])?y[0]:"center";y[1]=g.test(y[1])?y[1]:"center";l[this]=y});if(A.length===1)A[1]=A[0];z[0]=parseInt(z[0],10)||0;if(z.length===1)z[1]=z[0];z[1]=parseInt(z[1],10)||0;if(l.at[0]==="right")q.left+=G;else if(l.at[0]==="center")q.left+=G/2;if(l.at[1]==="bottom")q.top+=
v;else if(l.at[1]==="center")q.top+=v/2;q.left+=z[0];q.top+=z[1];return this.each(function(){var y=e(this),E=y.outerWidth(),o=y.outerHeight(),r=parseInt(e.curCSS(this,"marginLeft",true))||0,C=parseInt(e.curCSS(this,"marginTop",true))||0,I=E+r+(parseInt(e.curCSS(this,"marginRight",true))||0),da=o+C+(parseInt(e.curCSS(this,"marginBottom",true))||0),ka=e.extend({},q),R;if(l.my[0]==="right")ka.left-=E;else if(l.my[0]==="center")ka.left-=E/2;if(l.my[1]==="bottom")ka.top-=o;else if(l.my[1]==="center")ka.top-=
o/2;ka.left=Math.round(ka.left);ka.top=Math.round(ka.top);R={left:ka.left-r,top:ka.top-C};e.each(["left","top"],function(ga,ia){e.ui.position[A[ga]]&&e.ui.position[A[ga]][ia](ka,{targetWidth:G,targetHeight:v,elemWidth:E,elemHeight:o,collisionPosition:R,collisionWidth:I,collisionHeight:da,offset:z,my:l.my,at:l.at})});e.fn.bgiframe&&y.bgiframe();y.offset(e.extend(ka,{using:l.using}))})};e.ui.position={fit:{left:function(l,n){var u=e(window);u=n.collisionPosition.left+n.collisionWidth-u.width()-u.scrollLeft();
l.left=u>0?l.left-u:Math.max(l.left-n.collisionPosition.left,l.left)},top:function(l,n){var u=e(window);u=n.collisionPosition.top+n.collisionHeight-u.height()-u.scrollTop();l.top=u>0?l.top-u:Math.max(l.top-n.collisionPosition.top,l.top)}},flip:{left:function(l,n){if(n.at[0]!=="center"){var u=e(window);u=n.collisionPosition.left+n.collisionWidth-u.width()-u.scrollLeft();var A=n.my[0]==="left"?-n.elemWidth:n.my[0]==="right"?n.elemWidth:0,z=n.at[0]==="left"?n.targetWidth:-n.targetWidth,G=-2*n.offset[0];
l.left+=n.collisionPosition.left<0?A+z+G:u>0?A+z+G:0}},top:function(l,n){if(n.at[1]!=="center"){var u=e(window);u=n.collisionPosition.top+n.collisionHeight-u.height()-u.scrollTop();var A=n.my[1]==="top"?-n.elemHeight:n.my[1]==="bottom"?n.elemHeight:0,z=n.at[1]==="top"?n.targetHeight:-n.targetHeight,G=-2*n.offset[1];l.top+=n.collisionPosition.top<0?A+z+G:u>0?A+z+G:0}}}};if(!e.offset.setOffset){e.offset.setOffset=function(l,n){if(/static/.test(e.curCSS(l,"position")))l.style.position="relative";var u=
e(l),A=u.offset(),z=parseInt(e.curCSS(l,"top",true),10)||0,G=parseInt(e.curCSS(l,"left",true),10)||0;A={top:n.top-A.top+z,left:n.left-A.left+G};"using"in n?n.using.call(l,A):u.css(A)};e.fn.offset=function(l){var n=this[0];if(!n||!n.ownerDocument)return null;if(l)return this.each(function(){e.offset.setOffset(this,l)});return k.call(this)}}})(jQuery);
(function(e){e.widget("ui.draggable",e.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false},_create:function(){if(this.options.helper==
"original"&&!/^(?:r|a|f)/.test(this.element.css("position")))this.element[0].style.position="relative";this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._mouseInit()},destroy:function(){if(this.element.data("draggable")){this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy();return this}},_mouseCapture:function(c){var g=
this.options;if(this.helper||g.disabled||e(c.target).is(".ui-resizable-handle"))return false;this.handle=this._getHandle(c);if(!this.handle)return false;e(g.iframeFix===true?"iframe":g.iframeFix).each(function(){e('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1E3}).css(e(this).offset()).appendTo("body")});return true},_mouseStart:function(c){var g=this.options;this.helper=
this._createHelper(c);this._cacheHelperProportions();if(e.ui.ddmanager)e.ui.ddmanager.current=this;this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};e.extend(this.offset,{click:{left:c.pageX-this.offset.left,top:c.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});
this.originalPosition=this.position=this._generatePosition(c);this.originalPageX=c.pageX;this.originalPageY=c.pageY;g.cursorAt&&this._adjustOffsetFromHelper(g.cursorAt);g.containment&&this._setContainment();if(this._trigger("start",c)===false){this._clear();return false}this._cacheHelperProportions();e.ui.ddmanager&&!g.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,c);this.helper.addClass("ui-draggable-dragging");this._mouseDrag(c,true);e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,c);return true},
_mouseDrag:function(c,g){this.position=this._generatePosition(c);this.positionAbs=this._convertPositionTo("absolute");if(!g){var i=this._uiHash();if(this._trigger("drag",c,i)===false){this._mouseUp({});return false}this.position=i.position}if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";e.ui.ddmanager&&e.ui.ddmanager.drag(this,c);return false},_mouseStop:function(c){var g=
false;if(e.ui.ddmanager&&!this.options.dropBehaviour)g=e.ui.ddmanager.drop(this,c);if(this.dropped){g=this.dropped;this.dropped=false}if((!this.element[0]||!this.element[0].parentNode)&&this.options.helper=="original")return false;if(this.options.revert=="invalid"&&!g||this.options.revert=="valid"&&g||this.options.revert===true||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,g)){var i=this;e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,
10),function(){i._trigger("stop",c)!==false&&i._clear()})}else this._trigger("stop",c)!==false&&this._clear();return false},_mouseUp:function(c){this.options.iframeFix===true&&e("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)});e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,c);return e.ui.mouse.prototype._mouseUp.call(this,c)},cancel:function(){this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear();return this},_getHandle:function(c){var g=!this.options.handle||
!e(this.options.handle,this.element).length?true:false;e(this.options.handle,this.element).find("*").andSelf().each(function(){if(this==c.target)g=true});return g},_createHelper:function(c){var g=this.options;c=e.isFunction(g.helper)?e(g.helper.apply(this.element[0],[c])):g.helper=="clone"?this.element.clone().removeAttr("id"):this.element;c.parents("body").length||c.appendTo(g.appendTo=="parent"?this.element[0].parentNode:g.appendTo);c[0]!=this.element[0]&&!/(fixed|absolute)/.test(c.css("position"))&&
c.css("position","absolute");return c},_adjustOffsetFromHelper:function(c){if(typeof c=="string")c=c.split(" ");if(e.isArray(c))c={left:+c[0],top:+c[1]||0};if("left"in c)this.offset.click.left=c.left+this.margins.left;if("right"in c)this.offset.click.left=this.helperProportions.width-c.right+this.margins.left;if("top"in c)this.offset.click.top=c.top+this.margins.top;if("bottom"in c)this.offset.click.top=this.helperProportions.height-c.bottom+this.margins.top},_getParentOffset:function(){this.offsetParent=
this.helper.offsetParent();var c=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&e.ui.contains(this.scrollParent[0],this.offsetParent[0])){c.left+=this.scrollParent.scrollLeft();c.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&e.browser.msie)c={top:0,left:0};return{top:c.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:c.left+(parseInt(this.offsetParent.css("borderLeftWidth"),
10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var c=this.element.position();return{top:c.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:c.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),
10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var c=this.options;if(c.containment=="parent")c.containment=this.helper[0].parentNode;if(c.containment=="document"||c.containment=="window")this.containment=[c.containment=="document"?0:e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,c.containment=="document"?0:e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,
(c.containment=="document"?0:e(window).scrollLeft())+e(c.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(c.containment=="document"?0:e(window).scrollTop())+(e(c.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(c.containment)&&c.containment.constructor!=Array){c=e(c.containment);var g=c[0];if(g){c.offset();var i=e(g).css("overflow")!=
"hidden";this.containment=[(parseInt(e(g).css("borderLeftWidth"),10)||0)+(parseInt(e(g).css("paddingLeft"),10)||0),(parseInt(e(g).css("borderTopWidth"),10)||0)+(parseInt(e(g).css("paddingTop"),10)||0),(i?Math.max(g.scrollWidth,g.offsetWidth):g.offsetWidth)-(parseInt(e(g).css("borderLeftWidth"),10)||0)-(parseInt(e(g).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(i?Math.max(g.scrollHeight,g.offsetHeight):g.offsetHeight)-(parseInt(e(g).css("borderTopWidth"),
10)||0)-(parseInt(e(g).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom];this.relative_container=c}}else if(c.containment.constructor==Array)this.containment=c.containment},_convertPositionTo:function(c,g){if(!g)g=this.position;var i=c=="absolute"?1:-1,k=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&e.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,l=/(html|body)/i.test(k[0].tagName);return{top:g.top+
this.offset.relative.top*i+this.offset.parent.top*i-(e.browser.safari&&e.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():l?0:k.scrollTop())*i),left:g.left+this.offset.relative.left*i+this.offset.parent.left*i-(e.browser.safari&&e.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():l?0:k.scrollLeft())*i)}},_generatePosition:function(c){var g=this.options,i=this.cssPosition=="absolute"&&
!(this.scrollParent[0]!=document&&e.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,k=/(html|body)/i.test(i[0].tagName),l=c.pageX,n=c.pageY;if(this.originalPosition){var u;if(this.containment){if(this.relative_container){u=this.relative_container.offset();u=[this.containment[0]+u.left,this.containment[1]+u.top,this.containment[2]+u.left,this.containment[3]+u.top]}else u=this.containment;if(c.pageX-this.offset.click.left<u[0])l=u[0]+this.offset.click.left;
if(c.pageY-this.offset.click.top<u[1])n=u[1]+this.offset.click.top;if(c.pageX-this.offset.click.left>u[2])l=u[2]+this.offset.click.left;if(c.pageY-this.offset.click.top>u[3])n=u[3]+this.offset.click.top}if(g.grid){n=g.grid[1]?this.originalPageY+Math.round((n-this.originalPageY)/g.grid[1])*g.grid[1]:this.originalPageY;n=u?!(n-this.offset.click.top<u[1]||n-this.offset.click.top>u[3])?n:!(n-this.offset.click.top<u[1])?n-g.grid[1]:n+g.grid[1]:n;l=g.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/
g.grid[0])*g.grid[0]:this.originalPageX;l=u?!(l-this.offset.click.left<u[0]||l-this.offset.click.left>u[2])?l:!(l-this.offset.click.left<u[0])?l-g.grid[0]:l+g.grid[0]:l}}return{top:n-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(e.browser.safari&&e.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():k?0:i.scrollTop()),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(e.browser.safari&&e.browser.version<
526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():k?0:i.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove();this.helper=null;this.cancelHelperRemoval=false},_trigger:function(c,g,i){i=i||this._uiHash();e.ui.plugin.call(this,c,[g,i]);if(c=="drag")this.positionAbs=this._convertPositionTo("absolute");return e.Widget.prototype._trigger.call(this,c,g,
i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});e.extend(e.ui.draggable,{version:"1.8.14"});e.ui.plugin.add("draggable","connectToSortable",{start:function(c,g){var i=e(this).data("draggable"),k=i.options,l=e.extend({},g,{item:i.element});i.sortables=[];e(k.connectToSortable).each(function(){var n=e.data(this,"sortable");if(n&&!n.options.disabled){i.sortables.push({instance:n,shouldRevert:n.options.revert});
n.refreshPositions();n._trigger("activate",c,l)}})},stop:function(c,g){var i=e(this).data("draggable"),k=e.extend({},g,{item:i.element});e.each(i.sortables,function(){if(this.instance.isOver){this.instance.isOver=0;i.cancelHelperRemoval=true;this.instance.cancelHelperRemoval=false;if(this.shouldRevert)this.instance.options.revert=true;this.instance._mouseStop(c);this.instance.options.helper=this.instance.options._helper;i.options.helper=="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})}else{this.instance.cancelHelperRemoval=
false;this.instance._trigger("deactivate",c,k)}})},drag:function(c,g){var i=e(this).data("draggable"),k=this;e.each(i.sortables,function(){this.instance.positionAbs=i.positionAbs;this.instance.helperProportions=i.helperProportions;this.instance.offset.click=i.offset.click;if(this.instance._intersectsWith(this.instance.containerCache)){if(!this.instance.isOver){this.instance.isOver=1;this.instance.currentItem=e(k).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",true);
this.instance.options._helper=this.instance.options.helper;this.instance.options.helper=function(){return g.helper[0]};c.target=this.instance.currentItem[0];this.instance._mouseCapture(c,true);this.instance._mouseStart(c,true,true);this.instance.offset.click.top=i.offset.click.top;this.instance.offset.click.left=i.offset.click.left;this.instance.offset.parent.left-=i.offset.parent.left-this.instance.offset.parent.left;this.instance.offset.parent.top-=i.offset.parent.top-this.instance.offset.parent.top;
i._trigger("toSortable",c);i.dropped=this.instance.element;i.currentItem=i.element;this.instance.fromOutside=i}this.instance.currentItem&&this.instance._mouseDrag(c)}else if(this.instance.isOver){this.instance.isOver=0;this.instance.cancelHelperRemoval=true;this.instance.options.revert=false;this.instance._trigger("out",c,this.instance._uiHash(this.instance));this.instance._mouseStop(c,true);this.instance.options.helper=this.instance.options._helper;this.instance.currentItem.remove();this.instance.placeholder&&
this.instance.placeholder.remove();i._trigger("fromSortable",c);i.dropped=false}})}});e.ui.plugin.add("draggable","cursor",{start:function(){var c=e("body"),g=e(this).data("draggable").options;if(c.css("cursor"))g._cursor=c.css("cursor");c.css("cursor",g.cursor)},stop:function(){var c=e(this).data("draggable").options;c._cursor&&e("body").css("cursor",c._cursor)}});e.ui.plugin.add("draggable","opacity",{start:function(c,g){var i=e(g.helper),k=e(this).data("draggable").options;if(i.css("opacity"))k._opacity=
i.css("opacity");i.css("opacity",k.opacity)},stop:function(c,g){var i=e(this).data("draggable").options;i._opacity&&e(g.helper).css("opacity",i._opacity)}});e.ui.plugin.add("draggable","scroll",{start:function(){var c=e(this).data("draggable");if(c.scrollParent[0]!=document&&c.scrollParent[0].tagName!="HTML")c.overflowOffset=c.scrollParent.offset()},drag:function(c){var g=e(this).data("draggable"),i=g.options,k=false;if(g.scrollParent[0]!=document&&g.scrollParent[0].tagName!="HTML"){if(!i.axis||i.axis!=
"x")if(g.overflowOffset.top+g.scrollParent[0].offsetHeight-c.pageY<i.scrollSensitivity)g.scrollParent[0].scrollTop=k=g.scrollParent[0].scrollTop+i.scrollSpeed;else if(c.pageY-g.overflowOffset.top<i.scrollSensitivity)g.scrollParent[0].scrollTop=k=g.scrollParent[0].scrollTop-i.scrollSpeed;if(!i.axis||i.axis!="y")if(g.overflowOffset.left+g.scrollParent[0].offsetWidth-c.pageX<i.scrollSensitivity)g.scrollParent[0].scrollLeft=k=g.scrollParent[0].scrollLeft+i.scrollSpeed;else if(c.pageX-g.overflowOffset.left<
i.scrollSensitivity)g.scrollParent[0].scrollLeft=k=g.scrollParent[0].scrollLeft-i.scrollSpeed}else{if(!i.axis||i.axis!="x")if(c.pageY-e(document).scrollTop()<i.scrollSensitivity)k=e(document).scrollTop(e(document).scrollTop()-i.scrollSpeed);else if(e(window).height()-(c.pageY-e(document).scrollTop())<i.scrollSensitivity)k=e(document).scrollTop(e(document).scrollTop()+i.scrollSpeed);if(!i.axis||i.axis!="y")if(c.pageX-e(document).scrollLeft()<i.scrollSensitivity)k=e(document).scrollLeft(e(document).scrollLeft()-
i.scrollSpeed);else if(e(window).width()-(c.pageX-e(document).scrollLeft())<i.scrollSensitivity)k=e(document).scrollLeft(e(document).scrollLeft()+i.scrollSpeed)}k!==false&&e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(g,c)}});e.ui.plugin.add("draggable","snap",{start:function(){var c=e(this).data("draggable"),g=c.options;c.snapElements=[];e(g.snap.constructor!=String?g.snap.items||":data(draggable)":g.snap).each(function(){var i=e(this),k=i.offset();this!=c.element[0]&&c.snapElements.push({item:this,
width:i.outerWidth(),height:i.outerHeight(),top:k.top,left:k.left})})},drag:function(c,g){for(var i=e(this).data("draggable"),k=i.options,l=k.snapTolerance,n=g.offset.left,u=n+i.helperProportions.width,A=g.offset.top,z=A+i.helperProportions.height,G=i.snapElements.length-1;G>=0;G--){var v=i.snapElements[G].left,q=v+i.snapElements[G].width,y=i.snapElements[G].top,E=y+i.snapElements[G].height;if(v-l<n&&n<q+l&&y-l<A&&A<E+l||v-l<n&&n<q+l&&y-l<z&&z<E+l||v-l<u&&u<q+l&&y-l<A&&A<E+l||v-l<u&&u<q+l&&y-l<z&&
z<E+l){if(k.snapMode!="inner"){var o=Math.abs(y-z)<=l,r=Math.abs(E-A)<=l,C=Math.abs(v-u)<=l,I=Math.abs(q-n)<=l;if(o)g.position.top=i._convertPositionTo("relative",{top:y-i.helperProportions.height,left:0}).top-i.margins.top;if(r)g.position.top=i._convertPositionTo("relative",{top:E,left:0}).top-i.margins.top;if(C)g.position.left=i._convertPositionTo("relative",{top:0,left:v-i.helperProportions.width}).left-i.margins.left;if(I)g.position.left=i._convertPositionTo("relative",{top:0,left:q}).left-i.margins.left}var da=
o||r||C||I;if(k.snapMode!="outer"){o=Math.abs(y-A)<=l;r=Math.abs(E-z)<=l;C=Math.abs(v-n)<=l;I=Math.abs(q-u)<=l;if(o)g.position.top=i._convertPositionTo("relative",{top:y,left:0}).top-i.margins.top;if(r)g.position.top=i._convertPositionTo("relative",{top:E-i.helperProportions.height,left:0}).top-i.margins.top;if(C)g.position.left=i._convertPositionTo("relative",{top:0,left:v}).left-i.margins.left;if(I)g.position.left=i._convertPositionTo("relative",{top:0,left:q-i.helperProportions.width}).left-i.margins.left}if(!i.snapElements[G].snapping&&
(o||r||C||I||da))i.options.snap.snap&&i.options.snap.snap.call(i.element,c,e.extend(i._uiHash(),{snapItem:i.snapElements[G].item}));i.snapElements[G].snapping=o||r||C||I||da}else{i.snapElements[G].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,c,e.extend(i._uiHash(),{snapItem:i.snapElements[G].item}));i.snapElements[G].snapping=false}}}});e.ui.plugin.add("draggable","stack",{start:function(){var c=e(this).data("draggable").options;c=e.makeArray(e(c.stack)).sort(function(i,
k){return(parseInt(e(i).css("zIndex"),10)||0)-(parseInt(e(k).css("zIndex"),10)||0)});if(c.length){var g=parseInt(c[0].style.zIndex)||0;e(c).each(function(i){this.style.zIndex=g+i});this[0].style.zIndex=g+c.length}}});e.ui.plugin.add("draggable","zIndex",{start:function(c,g){var i=e(g.helper),k=e(this).data("draggable").options;if(i.css("zIndex"))k._zIndex=i.css("zIndex");i.css("zIndex",k.zIndex)},stop:function(c,g){var i=e(this).data("draggable").options;i._zIndex&&e(g.helper).css("zIndex",i._zIndex)}})})(jQuery);
(function(e){e.widget("ui.droppable",{widgetEventPrefix:"drop",options:{accept:"*",activeClass:false,addClasses:true,greedy:false,hoverClass:false,scope:"default",tolerance:"intersect"},_create:function(){var c=this.options,g=c.accept;this.isover=0;this.isout=1;this.accept=e.isFunction(g)?g:function(i){return i.is(g)};this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};e.ui.ddmanager.droppables[c.scope]=e.ui.ddmanager.droppables[c.scope]||[];e.ui.ddmanager.droppables[c.scope].push(this);
c.addClasses&&this.element.addClass("ui-droppable")},destroy:function(){for(var c=e.ui.ddmanager.droppables[this.options.scope],g=0;g<c.length;g++)c[g]==this&&c.splice(g,1);this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable");return this},_setOption:function(c,g){if(c=="accept")this.accept=e.isFunction(g)?g:function(i){return i.is(g)};e.Widget.prototype._setOption.apply(this,arguments)},_activate:function(c){var g=e.ui.ddmanager.current;this.options.activeClass&&
this.element.addClass(this.options.activeClass);g&&this._trigger("activate",c,this.ui(g))},_deactivate:function(c){var g=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass);g&&this._trigger("deactivate",c,this.ui(g))},_over:function(c){var g=e.ui.ddmanager.current;if(!(!g||(g.currentItem||g.element)[0]==this.element[0]))if(this.accept.call(this.element[0],g.currentItem||g.element)){this.options.hoverClass&&this.element.addClass(this.options.hoverClass);
this._trigger("over",c,this.ui(g))}},_out:function(c){var g=e.ui.ddmanager.current;if(!(!g||(g.currentItem||g.element)[0]==this.element[0]))if(this.accept.call(this.element[0],g.currentItem||g.element)){this.options.hoverClass&&this.element.removeClass(this.options.hoverClass);this._trigger("out",c,this.ui(g))}},_drop:function(c,g){var i=g||e.ui.ddmanager.current;if(!i||(i.currentItem||i.element)[0]==this.element[0])return false;var k=false;this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var l=
e.data(this,"droppable");if(l.options.greedy&&!l.options.disabled&&l.options.scope==i.options.scope&&l.accept.call(l.element[0],i.currentItem||i.element)&&e.ui.intersect(i,e.extend(l,{offset:l.element.offset()}),l.options.tolerance)){k=true;return false}});if(k)return false;if(this.accept.call(this.element[0],i.currentItem||i.element)){this.options.activeClass&&this.element.removeClass(this.options.activeClass);this.options.hoverClass&&this.element.removeClass(this.options.hoverClass);this._trigger("drop",
c,this.ui(i));return this.element}return false},ui:function(c){return{draggable:c.currentItem||c.element,helper:c.helper,position:c.position,offset:c.positionAbs}}});e.extend(e.ui.droppable,{version:"1.8.14"});e.ui.intersect=function(c,g,i){if(!g.offset)return false;var k=(c.positionAbs||c.position.absolute).left,l=k+c.helperProportions.width,n=(c.positionAbs||c.position.absolute).top,u=n+c.helperProportions.height,A=g.offset.left,z=A+g.proportions.width,G=g.offset.top,v=G+g.proportions.height;switch(i){case "fit":return A<=
k&&l<=z&&G<=n&&u<=v;case "intersect":return A<k+c.helperProportions.width/2&&l-c.helperProportions.width/2<z&&G<n+c.helperProportions.height/2&&u-c.helperProportions.height/2<v;case "pointer":return e.ui.isOver((c.positionAbs||c.position.absolute).top+(c.clickOffset||c.offset.click).top,(c.positionAbs||c.position.absolute).left+(c.clickOffset||c.offset.click).left,G,A,g.proportions.height,g.proportions.width);case "touch":return(n>=G&&n<=v||u>=G&&u<=v||n<G&&u>v)&&(k>=A&&k<=z||l>=A&&l<=z||k<A&&l>z);
default:return false}};e.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(c,g){var i=e.ui.ddmanager.droppables[c.options.scope]||[],k=g?g.type:null,l=(c.currentItem||c.element).find(":data(droppable)").andSelf(),n=0;a:for(;n<i.length;n++)if(!(i[n].options.disabled||c&&!i[n].accept.call(i[n].element[0],c.currentItem||c.element))){for(var u=0;u<l.length;u++)if(l[u]==i[n].element[0]){i[n].proportions.height=0;continue a}i[n].visible=i[n].element.css("display")!="none";if(i[n].visible){k==
"mousedown"&&i[n]._activate.call(i[n],g);i[n].offset=i[n].element.offset();i[n].proportions={width:i[n].element[0].offsetWidth,height:i[n].element[0].offsetHeight}}}},drop:function(c,g){var i=false;e.each(e.ui.ddmanager.droppables[c.options.scope]||[],function(){if(this.options){if(!this.options.disabled&&this.visible&&e.ui.intersect(c,this,this.options.tolerance))i=i||this._drop.call(this,g);if(!this.options.disabled&&this.visible&&this.accept.call(this.element[0],c.currentItem||c.element)){this.isout=
1;this.isover=0;this._deactivate.call(this,g)}}});return i},dragStart:function(c,g){c.element.parentsUntil("body").bind("scroll.droppable",function(){c.options.refreshPositions||e.ui.ddmanager.prepareOffsets(c,g)})},drag:function(c,g){c.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(c,g);e.each(e.ui.ddmanager.droppables[c.options.scope]||[],function(){if(!(this.options.disabled||this.greedyChild||!this.visible)){var i=e.ui.intersect(c,this,this.options.tolerance);if(i=!i&&this.isover==1?
"isout":i&&this.isover==0?"isover":null){var k;if(this.options.greedy){var l=this.element.parents(":data(droppable):eq(0)");if(l.length){k=e.data(l[0],"droppable");k.greedyChild=i=="isover"?1:0}}if(k&&i=="isover"){k.isover=0;k.isout=1;k._out.call(k,g)}this[i]=1;this[i=="isout"?"isover":"isout"]=0;this[i=="isover"?"_over":"_out"].call(this,g);if(k&&i=="isout"){k.isout=0;k.isover=1;k._over.call(k,g)}}}})},dragStop:function(c,g){c.element.parentsUntil("body").unbind("scroll.droppable");c.options.refreshPositions||
e.ui.ddmanager.prepareOffsets(c,g)}}})(jQuery);
(function(e){e.widget("ui.sortable",e.ui.mouse,{widgetEventPrefix:"sort",options:{appendTo:"parent",axis:false,connectWith:false,containment:false,cursor:"auto",cursorAt:false,dropOnEmpty:true,forcePlaceholderSize:false,forceHelperSize:false,grid:false,handle:false,helper:"original",items:"> *",opacity:false,placeholder:false,revert:false,scroll:true,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1E3},_create:function(){var c=this.options;this.containerCache={};this.element.addClass("ui-sortable");
this.refresh();this.floating=this.items.length?c.axis==="x"||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):false;this.offset=this.element.offset();this._mouseInit()},destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").removeData("sortable").unbind(".sortable");this._mouseDestroy();for(var c=this.items.length-1;c>=0;c--)this.items[c].item.removeData("sortable-item");return this},_setOption:function(c,g){if(c===
"disabled"){this.options[c]=g;this.widget()[g?"addClass":"removeClass"]("ui-sortable-disabled")}else e.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(c,g){if(this.reverting)return false;if(this.options.disabled||this.options.type=="static")return false;this._refreshItems(c);var i=null,k=this;e(c.target).parents().each(function(){if(e.data(this,"sortable-item")==k){i=e(this);return false}});if(e.data(c.target,"sortable-item")==k)i=e(c.target);if(!i)return false;if(this.options.handle&&
!g){var l=false;e(this.options.handle,i).find("*").andSelf().each(function(){if(this==c.target)l=true});if(!l)return false}this.currentItem=i;this._removeCurrentsFromItems();return true},_mouseStart:function(c,g,i){g=this.options;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(c);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-
this.margins.left};this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");e.extend(this.offset,{click:{left:c.pageX-this.offset.left,top:c.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this._generatePosition(c);this.originalPageX=c.pageX;this.originalPageY=c.pageY;g.cursorAt&&this._adjustOffsetFromHelper(g.cursorAt);this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};
this.helper[0]!=this.currentItem[0]&&this.currentItem.hide();this._createPlaceholder();g.containment&&this._setContainment();if(g.cursor){if(e("body").css("cursor"))this._storedCursor=e("body").css("cursor");e("body").css("cursor",g.cursor)}if(g.opacity){if(this.helper.css("opacity"))this._storedOpacity=this.helper.css("opacity");this.helper.css("opacity",g.opacity)}if(g.zIndex){if(this.helper.css("zIndex"))this._storedZIndex=this.helper.css("zIndex");this.helper.css("zIndex",g.zIndex)}if(this.scrollParent[0]!=
document&&this.scrollParent[0].tagName!="HTML")this.overflowOffset=this.scrollParent.offset();this._trigger("start",c,this._uiHash());this._preserveHelperProportions||this._cacheHelperProportions();if(!i)for(i=this.containers.length-1;i>=0;i--)this.containers[i]._trigger("activate",c,this._uiHash(this));if(e.ui.ddmanager)e.ui.ddmanager.current=this;e.ui.ddmanager&&!g.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,c);this.dragging=true;this.helper.addClass("ui-sortable-helper");this._mouseDrag(c);
return true},_mouseDrag:function(c){this.position=this._generatePosition(c);this.positionAbs=this._convertPositionTo("absolute");if(!this.lastPositionAbs)this.lastPositionAbs=this.positionAbs;if(this.options.scroll){var g=this.options,i=false;if(this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"){if(this.overflowOffset.top+this.scrollParent[0].offsetHeight-c.pageY<g.scrollSensitivity)this.scrollParent[0].scrollTop=i=this.scrollParent[0].scrollTop+g.scrollSpeed;else if(c.pageY-this.overflowOffset.top<
g.scrollSensitivity)this.scrollParent[0].scrollTop=i=this.scrollParent[0].scrollTop-g.scrollSpeed;if(this.overflowOffset.left+this.scrollParent[0].offsetWidth-c.pageX<g.scrollSensitivity)this.scrollParent[0].scrollLeft=i=this.scrollParent[0].scrollLeft+g.scrollSpeed;else if(c.pageX-this.overflowOffset.left<g.scrollSensitivity)this.scrollParent[0].scrollLeft=i=this.scrollParent[0].scrollLeft-g.scrollSpeed}else{if(c.pageY-e(document).scrollTop()<g.scrollSensitivity)i=e(document).scrollTop(e(document).scrollTop()-
g.scrollSpeed);else if(e(window).height()-(c.pageY-e(document).scrollTop())<g.scrollSensitivity)i=e(document).scrollTop(e(document).scrollTop()+g.scrollSpeed);if(c.pageX-e(document).scrollLeft()<g.scrollSensitivity)i=e(document).scrollLeft(e(document).scrollLeft()-g.scrollSpeed);else if(e(window).width()-(c.pageX-e(document).scrollLeft())<g.scrollSensitivity)i=e(document).scrollLeft(e(document).scrollLeft()+g.scrollSpeed)}i!==false&&e.ui.ddmanager&&!g.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,
c)}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";for(g=this.items.length-1;g>=0;g--){i=this.items[g];var k=i.item[0],l=this._intersectsWithPointer(i);if(l)if(k!=this.currentItem[0]&&this.placeholder[l==1?"next":"prev"]()[0]!=k&&!e.ui.contains(this.placeholder[0],k)&&(this.options.type=="semi-dynamic"?!e.ui.contains(this.element[0],
k):true)){this.direction=l==1?"down":"up";if(this.options.tolerance=="pointer"||this._intersectsWithSides(i))this._rearrange(c,i);else break;this._trigger("change",c,this._uiHash());break}}this._contactContainers(c);e.ui.ddmanager&&e.ui.ddmanager.drag(this,c);this._trigger("sort",c,this._uiHash());this.lastPositionAbs=this.positionAbs;return false},_mouseStop:function(c,g){if(c){e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,c);if(this.options.revert){var i=this,k=i.placeholder.offset();
i.reverting=true;e(this.helper).animate({left:k.left-this.offset.parent.left-i.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:k.top-this.offset.parent.top-i.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){i._clear(c)})}else this._clear(c,g);return false}},cancel:function(){if(this.dragging){this._mouseUp({target:null});this.options.helper=="original"?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):
this.currentItem.show();for(var c=this.containers.length-1;c>=0;c--){this.containers[c]._trigger("deactivate",null,this._uiHash(this));if(this.containers[c].containerCache.over){this.containers[c]._trigger("out",null,this._uiHash(this));this.containers[c].containerCache.over=0}}}if(this.placeholder){this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]);this.options.helper!="original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove();e.extend(this,
{helper:null,dragging:false,reverting:false,_noFinalSort:null});this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)}return this},serialize:function(c){var g=this._getItemsAsjQuery(c&&c.connected),i=[];c=c||{};e(g).each(function(){var k=(e(c.item||this).attr(c.attribute||"id")||"").match(c.expression||/(.+)[-=_](.+)/);if(k)i.push((c.key||k[1]+"[]")+"="+(c.key&&c.expression?k[1]:k[2]))});!i.length&&c.key&&i.push(c.key+"=");return i.join("&")},
toArray:function(c){var g=this._getItemsAsjQuery(c&&c.connected),i=[];c=c||{};g.each(function(){i.push(e(c.item||this).attr(c.attribute||"id")||"")});return i},_intersectsWith:function(c){var g=this.positionAbs.left,i=g+this.helperProportions.width,k=this.positionAbs.top,l=k+this.helperProportions.height,n=c.left,u=n+c.width,A=c.top,z=A+c.height,G=this.offset.click.top,v=this.offset.click.left;return this.options.tolerance=="pointer"||this.options.forcePointerForContainers||this.options.tolerance!=
"pointer"&&this.helperProportions[this.floating?"width":"height"]>c[this.floating?"width":"height"]?k+G>A&&k+G<z&&g+v>n&&g+v<u:n<g+this.helperProportions.width/2&&i-this.helperProportions.width/2<u&&A<k+this.helperProportions.height/2&&l-this.helperProportions.height/2<z},_intersectsWithPointer:function(c){var g=e.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,c.top,c.height);c=e.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,c.left,c.width);g=g&&c;c=this._getDragVerticalDirection();
var i=this._getDragHorizontalDirection();if(!g)return false;return this.floating?i&&i=="right"||c=="down"?2:1:c&&(c=="down"?2:1)},_intersectsWithSides:function(c){var g=e.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,c.top+c.height/2,c.height);c=e.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,c.left+c.width/2,c.width);var i=this._getDragVerticalDirection(),k=this._getDragHorizontalDirection();return this.floating&&k?k=="right"&&c||k=="left"&&!c:i&&(i=="down"&&g||i=="up"&&!g)},
_getDragVerticalDirection:function(){var c=this.positionAbs.top-this.lastPositionAbs.top;return c!=0&&(c>0?"down":"up")},_getDragHorizontalDirection:function(){var c=this.positionAbs.left-this.lastPositionAbs.left;return c!=0&&(c>0?"right":"left")},refresh:function(c){this._refreshItems(c);this.refreshPositions();return this},_connectWith:function(){var c=this.options;return c.connectWith.constructor==String?[c.connectWith]:c.connectWith},_getItemsAsjQuery:function(c){var g=[],i=[],k=this._connectWith();
if(k&&c)for(c=k.length-1;c>=0;c--)for(var l=e(k[c]),n=l.length-1;n>=0;n--){var u=e.data(l[n],"sortable");if(u&&u!=this&&!u.options.disabled)i.push([e.isFunction(u.options.items)?u.options.items.call(u.element):e(u.options.items,u.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),u])}i.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),
this]);for(c=i.length-1;c>=0;c--)i[c][0].each(function(){g.push(this)});return e(g)},_removeCurrentsFromItems:function(){for(var c=this.currentItem.find(":data(sortable-item)"),g=0;g<this.items.length;g++)for(var i=0;i<c.length;i++)c[i]==this.items[g].item[0]&&this.items.splice(g,1)},_refreshItems:function(c){this.items=[];this.containers=[this];var g=this.items,i=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],c,{item:this.currentItem}):e(this.options.items,this.element),
this]],k=this._connectWith();if(k)for(var l=k.length-1;l>=0;l--)for(var n=e(k[l]),u=n.length-1;u>=0;u--){var A=e.data(n[u],"sortable");if(A&&A!=this&&!A.options.disabled){i.push([e.isFunction(A.options.items)?A.options.items.call(A.element[0],c,{item:this.currentItem}):e(A.options.items,A.element),A]);this.containers.push(A)}}for(l=i.length-1;l>=0;l--){c=i[l][1];k=i[l][0];u=0;for(n=k.length;u<n;u++){A=e(k[u]);A.data("sortable-item",c);g.push({item:A,instance:c,width:0,height:0,left:0,top:0})}}},refreshPositions:function(c){if(this.offsetParent&&
this.helper)this.offset.parent=this._getParentOffset();for(var g=this.items.length-1;g>=0;g--){var i=this.items[g];if(!(i.instance!=this.currentContainer&&this.currentContainer&&i.item[0]!=this.currentItem[0])){var k=this.options.toleranceElement?e(this.options.toleranceElement,i.item):i.item;if(!c){i.width=k.outerWidth();i.height=k.outerHeight()}k=k.offset();i.left=k.left;i.top=k.top}}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(g=
this.containers.length-1;g>=0;g--){k=this.containers[g].element.offset();this.containers[g].containerCache.left=k.left;this.containers[g].containerCache.top=k.top;this.containers[g].containerCache.width=this.containers[g].element.outerWidth();this.containers[g].containerCache.height=this.containers[g].element.outerHeight()}return this},_createPlaceholder:function(c){var g=c||this,i=g.options;if(!i.placeholder||i.placeholder.constructor==String){var k=i.placeholder;i.placeholder={element:function(){var l=
e(document.createElement(g.currentItem[0].nodeName)).addClass(k||g.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];if(!k)l.style.visibility="hidden";return l},update:function(l,n){if(!(k&&!i.forcePlaceholderSize)){n.height()||n.height(g.currentItem.innerHeight()-parseInt(g.currentItem.css("paddingTop")||0,10)-parseInt(g.currentItem.css("paddingBottom")||0,10));n.width()||n.width(g.currentItem.innerWidth()-parseInt(g.currentItem.css("paddingLeft")||0,10)-parseInt(g.currentItem.css("paddingRight")||
0,10))}}}}g.placeholder=e(i.placeholder.element.call(g.element,g.currentItem));g.currentItem.after(g.placeholder);i.placeholder.update(g,g.placeholder)},_contactContainers:function(c){for(var g=null,i=null,k=this.containers.length-1;k>=0;k--)if(!e.ui.contains(this.currentItem[0],this.containers[k].element[0]))if(this._intersectsWith(this.containers[k].containerCache)){if(!(g&&e.ui.contains(this.containers[k].element[0],g.element[0]))){g=this.containers[k];i=k}}else if(this.containers[k].containerCache.over){this.containers[k]._trigger("out",
c,this._uiHash(this));this.containers[k].containerCache.over=0}if(g)if(this.containers.length===1){this.containers[i]._trigger("over",c,this._uiHash(this));this.containers[i].containerCache.over=1}else if(this.currentContainer!=this.containers[i]){g=1E4;k=null;for(var l=this.positionAbs[this.containers[i].floating?"left":"top"],n=this.items.length-1;n>=0;n--)if(e.ui.contains(this.containers[i].element[0],this.items[n].item[0])){var u=this.items[n][this.containers[i].floating?"left":"top"];if(Math.abs(u-
l)<g){g=Math.abs(u-l);k=this.items[n]}}if(k||this.options.dropOnEmpty){this.currentContainer=this.containers[i];k?this._rearrange(c,k,null,true):this._rearrange(c,null,this.containers[i].element,true);this._trigger("change",c,this._uiHash());this.containers[i]._trigger("change",c,this._uiHash(this));this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[i]._trigger("over",c,this._uiHash(this));this.containers[i].containerCache.over=1}}},_createHelper:function(c){var g=
this.options;c=e.isFunction(g.helper)?e(g.helper.apply(this.element[0],[c,this.currentItem])):g.helper=="clone"?this.currentItem.clone():this.currentItem;c.parents("body").length||e(g.appendTo!="parent"?g.appendTo:this.currentItem[0].parentNode)[0].appendChild(c[0]);if(c[0]==this.currentItem[0])this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")};if(c[0].style.width==
""||g.forceHelperSize)c.width(this.currentItem.width());if(c[0].style.height==""||g.forceHelperSize)c.height(this.currentItem.height());return c},_adjustOffsetFromHelper:function(c){if(typeof c=="string")c=c.split(" ");if(e.isArray(c))c={left:+c[0],top:+c[1]||0};if("left"in c)this.offset.click.left=c.left+this.margins.left;if("right"in c)this.offset.click.left=this.helperProportions.width-c.right+this.margins.left;if("top"in c)this.offset.click.top=c.top+this.margins.top;if("bottom"in c)this.offset.click.top=
this.helperProportions.height-c.bottom+this.margins.top},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var c=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&e.ui.contains(this.scrollParent[0],this.offsetParent[0])){c.left+=this.scrollParent.scrollLeft();c.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&e.browser.msie)c=
{top:0,left:0};return{top:c.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:c.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var c=this.currentItem.position();return{top:c.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:c.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),
10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var c=this.options;if(c.containment=="parent")c.containment=this.helper[0].parentNode;if(c.containment=="document"||c.containment=="window")this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,e(c.containment=="document"?
document:window).width()-this.helperProportions.width-this.margins.left,(e(c.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(c.containment)){var g=e(c.containment)[0];c=e(c.containment).offset();var i=e(g).css("overflow")!="hidden";this.containment=[c.left+(parseInt(e(g).css("borderLeftWidth"),10)||0)+(parseInt(e(g).css("paddingLeft"),10)||0)-this.margins.left,c.top+(parseInt(e(g).css("borderTopWidth"),
10)||0)+(parseInt(e(g).css("paddingTop"),10)||0)-this.margins.top,c.left+(i?Math.max(g.scrollWidth,g.offsetWidth):g.offsetWidth)-(parseInt(e(g).css("borderLeftWidth"),10)||0)-(parseInt(e(g).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,c.top+(i?Math.max(g.scrollHeight,g.offsetHeight):g.offsetHeight)-(parseInt(e(g).css("borderTopWidth"),10)||0)-(parseInt(e(g).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(c,g){if(!g)g=
this.position;var i=c=="absolute"?1:-1,k=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&e.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,l=/(html|body)/i.test(k[0].tagName);return{top:g.top+this.offset.relative.top*i+this.offset.parent.top*i-(e.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():l?0:k.scrollTop())*i),left:g.left+this.offset.relative.left*i+this.offset.parent.left*i-(e.browser.safari&&
this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():l?0:k.scrollLeft())*i)}},_generatePosition:function(c){var g=this.options,i=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&e.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,k=/(html|body)/i.test(i[0].tagName);if(this.cssPosition=="relative"&&!(this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0]))this.offset.relative=this._getRelativeOffset();
var l=c.pageX,n=c.pageY;if(this.originalPosition){if(this.containment){if(c.pageX-this.offset.click.left<this.containment[0])l=this.containment[0]+this.offset.click.left;if(c.pageY-this.offset.click.top<this.containment[1])n=this.containment[1]+this.offset.click.top;if(c.pageX-this.offset.click.left>this.containment[2])l=this.containment[2]+this.offset.click.left;if(c.pageY-this.offset.click.top>this.containment[3])n=this.containment[3]+this.offset.click.top}if(g.grid){n=this.originalPageY+Math.round((n-
this.originalPageY)/g.grid[1])*g.grid[1];n=this.containment?!(n-this.offset.click.top<this.containment[1]||n-this.offset.click.top>this.containment[3])?n:!(n-this.offset.click.top<this.containment[1])?n-g.grid[1]:n+g.grid[1]:n;l=this.originalPageX+Math.round((l-this.originalPageX)/g.grid[0])*g.grid[0];l=this.containment?!(l-this.offset.click.left<this.containment[0]||l-this.offset.click.left>this.containment[2])?l:!(l-this.offset.click.left<this.containment[0])?l-g.grid[0]:l+g.grid[0]:l}}return{top:n-
this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(e.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():k?0:i.scrollTop()),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(e.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():k?0:i.scrollLeft())}},_rearrange:function(c,g,i,k){i?i[0].appendChild(this.placeholder[0]):g.item[0].parentNode.insertBefore(this.placeholder[0],
this.direction=="down"?g.item[0]:g.item[0].nextSibling);this.counter=this.counter?++this.counter:1;var l=this,n=this.counter;window.setTimeout(function(){n==l.counter&&l.refreshPositions(!k)},0)},_clear:function(c,g){this.reverting=false;var i=[];!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem);this._noFinalSort=null;if(this.helper[0]==this.currentItem[0]){for(var k in this._storedCSS)if(this._storedCSS[k]=="auto"||this._storedCSS[k]=="static")this._storedCSS[k]=
"";this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!g&&i.push(function(l){this._trigger("receive",l,this._uiHash(this.fromOutside))});if((this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!g)i.push(function(l){this._trigger("update",l,this._uiHash())});if(!e.ui.contains(this.element[0],this.currentItem[0])){g||i.push(function(l){this._trigger("remove",
l,this._uiHash())});for(k=this.containers.length-1;k>=0;k--)if(e.ui.contains(this.containers[k].element[0],this.currentItem[0])&&!g){i.push(function(l){return function(n){l._trigger("receive",n,this._uiHash(this))}}.call(this,this.containers[k]));i.push(function(l){return function(n){l._trigger("update",n,this._uiHash(this))}}.call(this,this.containers[k]))}}for(k=this.containers.length-1;k>=0;k--){g||i.push(function(l){return function(n){l._trigger("deactivate",n,this._uiHash(this))}}.call(this,
this.containers[k]));if(this.containers[k].containerCache.over){i.push(function(l){return function(n){l._trigger("out",n,this._uiHash(this))}}.call(this,this.containers[k]));this.containers[k].containerCache.over=0}}this._storedCursor&&e("body").css("cursor",this._storedCursor);this._storedOpacity&&this.helper.css("opacity",this._storedOpacity);if(this._storedZIndex)this.helper.css("zIndex",this._storedZIndex=="auto"?"":this._storedZIndex);this.dragging=false;if(this.cancelHelperRemoval){if(!g){this._trigger("beforeStop",
c,this._uiHash());for(k=0;k<i.length;k++)i[k].call(this,c);this._trigger("stop",c,this._uiHash())}return false}g||this._trigger("beforeStop",c,this._uiHash());this.placeholder[0].parentNode.removeChild(this.placeholder[0]);this.helper[0]!=this.currentItem[0]&&this.helper.remove();this.helper=null;if(!g){for(k=0;k<i.length;k++)i[k].call(this,c);this._trigger("stop",c,this._uiHash())}this.fromOutside=false;return true},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===false&&this.cancel()},
_uiHash:function(c){var g=c||this;return{helper:g.helper,placeholder:g.placeholder||e([]),position:g.position,originalPosition:g.originalPosition,offset:g.positionAbs,item:g.currentItem,sender:c?c.element:null}}});e.extend(e.ui.sortable,{version:"1.8.14"})})(jQuery);
jQuery.effects||function(e,c){function g(v){var q;if(v&&v.constructor==Array&&v.length==3)return v;if(q=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(v))return[parseInt(q[1],10),parseInt(q[2],10),parseInt(q[3],10)];if(q=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(v))return[parseFloat(q[1])*2.55,parseFloat(q[2])*2.55,parseFloat(q[3])*2.55];if(q=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(v))return[parseInt(q[1],
16),parseInt(q[2],16),parseInt(q[3],16)];if(q=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(v))return[parseInt(q[1]+q[1],16),parseInt(q[2]+q[2],16),parseInt(q[3]+q[3],16)];if(/rgba\(0, 0, 0, 0\)/.exec(v))return A.transparent;return A[e.trim(v).toLowerCase()]}function i(){var v=document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle,q={},y,E;if(v&&v.length&&v[0]&&v[v[0]])for(var o=v.length;o--;){y=v[o];if(typeof v[y]=="string"){E=y.replace(/\-(\w)/g,function(r,C){return C.toUpperCase()});
q[E]=v[y]}}else for(y in v)if(typeof v[y]==="string")q[y]=v[y];return q}function k(v){var q,y;for(q in v){y=v[q];if(y==null||e.isFunction(y)||q in G||/scrollbar/.test(q)||!/color/i.test(q)&&isNaN(parseFloat(y)))delete v[q]}return v}function l(v,q){var y={_:0},E;for(E in q)if(v[E]!=q[E])y[E]=q[E];return y}function n(v,q,y,E){if(typeof v=="object"){E=q;y=null;q=v;v=q.effect}if(e.isFunction(q)){E=q;y=null;q={}}if(typeof q=="number"||e.fx.speeds[q]){E=y;y=q;q={}}if(e.isFunction(y)){E=y;y=null}q=q||{};
y=y||q.duration;y=e.fx.off?0:typeof y=="number"?y:y in e.fx.speeds?e.fx.speeds[y]:e.fx.speeds._default;E=E||q.complete;return[v,q,y,E]}function u(v){if(!v||typeof v==="number"||e.fx.speeds[v])return true;if(typeof v==="string"&&!e.effects[v])return true;return false}e.effects={};e.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","borderColor","color","outlineColor"],function(v,q){e.fx.step[q]=function(y){if(!y.colorInit){var E;E=y.elem;var o=q,r;do{r=
e.curCSS(E,o);if(r!=""&&r!="transparent"||e.nodeName(E,"body"))break;o="backgroundColor"}while(E=E.parentNode);E=g(r);y.start=E;y.end=g(y.end);y.colorInit=true}y.elem.style[q]="rgb("+Math.max(Math.min(parseInt(y.pos*(y.end[0]-y.start[0])+y.start[0],10),255),0)+","+Math.max(Math.min(parseInt(y.pos*(y.end[1]-y.start[1])+y.start[1],10),255),0)+","+Math.max(Math.min(parseInt(y.pos*(y.end[2]-y.start[2])+y.start[2],10),255),0)+")"}});var A={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,
0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,
211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]},z=["add","remove","toggle"],G={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.effects.animateClass=function(v,q,y,
E){if(e.isFunction(y)){E=y;y=null}return this.queue(function(){var o=e(this),r=o.attr("style")||" ",C=k(i.call(this)),I,da=o.attr("class");e.each(z,function(ka,R){v[R]&&o[R+"Class"](v[R])});I=k(i.call(this));o.attr("class",da);o.animate(l(C,I),{queue:false,duration:q,easing:y,complete:function(){e.each(z,function(ka,R){v[R]&&o[R+"Class"](v[R])});if(typeof o.attr("style")=="object"){o.attr("style").cssText="";o.attr("style").cssText=r}else o.attr("style",r);E&&E.apply(this,arguments);e.dequeue(this)}})})};
e.fn.extend({_addClass:e.fn.addClass,addClass:function(v,q,y,E){return q?e.effects.animateClass.apply(this,[{add:v},q,y,E]):this._addClass(v)},_removeClass:e.fn.removeClass,removeClass:function(v,q,y,E){return q?e.effects.animateClass.apply(this,[{remove:v},q,y,E]):this._removeClass(v)},_toggleClass:e.fn.toggleClass,toggleClass:function(v,q,y,E,o){return typeof q=="boolean"||q===c?y?e.effects.animateClass.apply(this,[q?{add:v}:{remove:v},y,E,o]):this._toggleClass(v,q):e.effects.animateClass.apply(this,
[{toggle:v},q,y,E])},switchClass:function(v,q,y,E,o){return e.effects.animateClass.apply(this,[{add:q,remove:v},y,E,o])}});e.extend(e.effects,{version:"1.8.14",save:function(v,q){for(var y=0;y<q.length;y++)q[y]!==null&&v.data("ec.storage."+q[y],v[0].style[q[y]])},restore:function(v,q){for(var y=0;y<q.length;y++)q[y]!==null&&v.css(q[y],v.data("ec.storage."+q[y]))},setMode:function(v,q){if(q=="toggle")q=v.is(":hidden")?"show":"hide";return q},getBaseline:function(v,q){var y,E;switch(v[0]){case "top":y=
0;break;case "middle":y=0.5;break;case "bottom":y=1;break;default:y=v[0]/q.height}switch(v[1]){case "left":E=0;break;case "center":E=0.5;break;case "right":E=1;break;default:E=v[1]/q.width}return{x:E,y:y}},createWrapper:function(v){if(v.parent().is(".ui-effects-wrapper"))return v.parent();var q={width:v.outerWidth(true),height:v.outerHeight(true),"float":v.css("float")},y=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0});
v.wrap(y);y=v.parent();if(v.css("position")=="static"){y.css({position:"relative"});v.css({position:"relative"})}else{e.extend(q,{position:v.css("position"),zIndex:v.css("z-index")});e.each(["top","left","bottom","right"],function(E,o){q[o]=v.css(o);if(isNaN(parseInt(q[o],10)))q[o]="auto"});v.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})}return y.css(q).show()},removeWrapper:function(v){if(v.parent().is(".ui-effects-wrapper"))return v.parent().replaceWith(v);return v},setTransition:function(v,
q,y,E){E=E||{};e.each(q,function(o,r){unit=v.cssUnit(r);if(unit[0]>0)E[r]=unit[0]*y+unit[1]});return E}});e.fn.extend({effect:function(v){var q=n.apply(this,arguments),y={options:q[1],duration:q[2],callback:q[3]};q=y.options.mode;var E=e.effects[v];if(e.fx.off||!E)return q?this[q](y.duration,y.callback):this.each(function(){y.callback&&y.callback.call(this)});return E.call(this,y)},_show:e.fn.show,show:function(v){if(u(v))return this._show.apply(this,arguments);else{var q=n.apply(this,arguments);
q[1].mode="show";return this.effect.apply(this,q)}},_hide:e.fn.hide,hide:function(v){if(u(v))return this._hide.apply(this,arguments);else{var q=n.apply(this,arguments);q[1].mode="hide";return this.effect.apply(this,q)}},__toggle:e.fn.toggle,toggle:function(v){if(u(v)||typeof v==="boolean"||e.isFunction(v))return this.__toggle.apply(this,arguments);else{var q=n.apply(this,arguments);q[1].mode="toggle";return this.effect.apply(this,q)}},cssUnit:function(v){var q=this.css(v),y=[];e.each(["em","px","%",
"pt"],function(E,o){if(q.indexOf(o)>0)y=[parseFloat(q),o]});return y}});e.easing.jswing=e.easing.swing;e.extend(e.easing,{def:"easeOutQuad",swing:function(v,q,y,E,o){return e.easing[e.easing.def](v,q,y,E,o)},easeInQuad:function(v,q,y,E,o){return E*(q/=o)*q+y},easeOutQuad:function(v,q,y,E,o){return-E*(q/=o)*(q-2)+y},easeInOutQuad:function(v,q,y,E,o){if((q/=o/2)<1)return E/2*q*q+y;return-E/2*(--q*(q-2)-1)+y},easeInCubic:function(v,q,y,E,o){return E*(q/=o)*q*q+y},easeOutCubic:function(v,q,y,E,o){return E*
((q=q/o-1)*q*q+1)+y},easeInOutCubic:function(v,q,y,E,o){if((q/=o/2)<1)return E/2*q*q*q+y;return E/2*((q-=2)*q*q+2)+y},easeInQuart:function(v,q,y,E,o){return E*(q/=o)*q*q*q+y},easeOutQuart:function(v,q,y,E,o){return-E*((q=q/o-1)*q*q*q-1)+y},easeInOutQuart:function(v,q,y,E,o){if((q/=o/2)<1)return E/2*q*q*q*q+y;return-E/2*((q-=2)*q*q*q-2)+y},easeInQuint:function(v,q,y,E,o){return E*(q/=o)*q*q*q*q+y},easeOutQuint:function(v,q,y,E,o){return E*((q=q/o-1)*q*q*q*q+1)+y},easeInOutQuint:function(v,q,y,E,o){if((q/=
o/2)<1)return E/2*q*q*q*q*q+y;return E/2*((q-=2)*q*q*q*q+2)+y},easeInSine:function(v,q,y,E,o){return-E*Math.cos(q/o*(Math.PI/2))+E+y},easeOutSine:function(v,q,y,E,o){return E*Math.sin(q/o*(Math.PI/2))+y},easeInOutSine:function(v,q,y,E,o){return-E/2*(Math.cos(Math.PI*q/o)-1)+y},easeInExpo:function(v,q,y,E,o){return q==0?y:E*Math.pow(2,10*(q/o-1))+y},easeOutExpo:function(v,q,y,E,o){return q==o?y+E:E*(-Math.pow(2,-10*q/o)+1)+y},easeInOutExpo:function(v,q,y,E,o){if(q==0)return y;if(q==o)return y+E;if((q/=
o/2)<1)return E/2*Math.pow(2,10*(q-1))+y;return E/2*(-Math.pow(2,-10*--q)+2)+y},easeInCirc:function(v,q,y,E,o){return-E*(Math.sqrt(1-(q/=o)*q)-1)+y},easeOutCirc:function(v,q,y,E,o){return E*Math.sqrt(1-(q=q/o-1)*q)+y},easeInOutCirc:function(v,q,y,E,o){if((q/=o/2)<1)return-E/2*(Math.sqrt(1-q*q)-1)+y;return E/2*(Math.sqrt(1-(q-=2)*q)+1)+y},easeInElastic:function(v,q,y,E,o){v=1.70158;var r=0,C=E;if(q==0)return y;if((q/=o)==1)return y+E;r||(r=o*0.3);if(C<Math.abs(E)){C=E;v=r/4}else v=r/(2*Math.PI)*Math.asin(E/
C);return-(C*Math.pow(2,10*(q-=1))*Math.sin((q*o-v)*2*Math.PI/r))+y},easeOutElastic:function(v,q,y,E,o){v=1.70158;var r=0,C=E;if(q==0)return y;if((q/=o)==1)return y+E;r||(r=o*0.3);if(C<Math.abs(E)){C=E;v=r/4}else v=r/(2*Math.PI)*Math.asin(E/C);return C*Math.pow(2,-10*q)*Math.sin((q*o-v)*2*Math.PI/r)+E+y},easeInOutElastic:function(v,q,y,E,o){v=1.70158;var r=0,C=E;if(q==0)return y;if((q/=o/2)==2)return y+E;r||(r=o*0.3*1.5);if(C<Math.abs(E)){C=E;v=r/4}else v=r/(2*Math.PI)*Math.asin(E/C);if(q<1)return-0.5*
C*Math.pow(2,10*(q-=1))*Math.sin((q*o-v)*2*Math.PI/r)+y;return C*Math.pow(2,-10*(q-=1))*Math.sin((q*o-v)*2*Math.PI/r)*0.5+E+y},easeInBack:function(v,q,y,E,o,r){if(r==c)r=1.70158;return E*(q/=o)*q*((r+1)*q-r)+y},easeOutBack:function(v,q,y,E,o,r){if(r==c)r=1.70158;return E*((q=q/o-1)*q*((r+1)*q+r)+1)+y},easeInOutBack:function(v,q,y,E,o,r){if(r==c)r=1.70158;if((q/=o/2)<1)return E/2*q*q*(((r*=1.525)+1)*q-r)+y;return E/2*((q-=2)*q*(((r*=1.525)+1)*q+r)+2)+y},easeInBounce:function(v,q,y,E,o){return E-e.easing.easeOutBounce(v,
o-q,0,E,o)+y},easeOutBounce:function(v,q,y,E,o){return(q/=o)<1/2.75?E*7.5625*q*q+y:q<2/2.75?E*(7.5625*(q-=1.5/2.75)*q+0.75)+y:q<2.5/2.75?E*(7.5625*(q-=2.25/2.75)*q+0.9375)+y:E*(7.5625*(q-=2.625/2.75)*q+0.984375)+y},easeInOutBounce:function(v,q,y,E,o){if(q<o/2)return e.easing.easeInBounce(v,q*2,0,E,o)*0.5+y;return e.easing.easeOutBounce(v,q*2-o,0,E,o)*0.5+E*0.5+y}})}(jQuery);
(function(e){e.effects.blind=function(c){return this.queue(function(){var g=e(this),i=["position","top","bottom","left","right"],k=e.effects.setMode(g,c.options.mode||"hide"),l=c.options.direction||"vertical";e.effects.save(g,i);g.show();var n=e.effects.createWrapper(g).css({overflow:"hidden"}),u=l=="vertical"?"height":"width";l=l=="vertical"?n.height():n.width();k=="show"&&n.css(u,0);var A={};A[u]=k=="show"?l:0;n.animate(A,c.duration,c.options.easing,function(){k=="hide"&&g.hide();e.effects.restore(g,
i);e.effects.removeWrapper(g);c.callback&&c.callback.apply(g[0],arguments);g.dequeue()})})}})(jQuery);
(function(e){e.effects.bounce=function(c){return this.queue(function(){var g=e(this),i=["position","top","bottom","left","right"],k=e.effects.setMode(g,c.options.mode||"effect"),l=c.options.direction||"up",n=c.options.distance||20,u=c.options.times||5,A=c.duration||250;/show|hide/.test(k)&&i.push("opacity");e.effects.save(g,i);g.show();e.effects.createWrapper(g);var z=l=="up"||l=="down"?"top":"left";l=l=="up"||l=="left"?"pos":"neg";n=c.options.distance||(z=="top"?g.outerHeight({margin:true})/3:g.outerWidth({margin:true})/
3);if(k=="show")g.css("opacity",0).css(z,l=="pos"?-n:n);if(k=="hide")n/=u*2;k!="hide"&&u--;if(k=="show"){var G={opacity:1};G[z]=(l=="pos"?"+=":"-=")+n;g.animate(G,A/2,c.options.easing);n/=2;u--}for(G=0;G<u;G++){var v={},q={};v[z]=(l=="pos"?"-=":"+=")+n;q[z]=(l=="pos"?"+=":"-=")+n;g.animate(v,A/2,c.options.easing).animate(q,A/2,c.options.easing);n=k=="hide"?n*2:n/2}if(k=="hide"){G={opacity:0};G[z]=(l=="pos"?"-=":"+=")+n;g.animate(G,A/2,c.options.easing,function(){g.hide();e.effects.restore(g,i);e.effects.removeWrapper(g);
c.callback&&c.callback.apply(this,arguments)})}else{v={};q={};v[z]=(l=="pos"?"-=":"+=")+n;q[z]=(l=="pos"?"+=":"-=")+n;g.animate(v,A/2,c.options.easing).animate(q,A/2,c.options.easing,function(){e.effects.restore(g,i);e.effects.removeWrapper(g);c.callback&&c.callback.apply(this,arguments)})}g.queue("fx",function(){g.dequeue()});g.dequeue()})}})(jQuery);
(function(e){e.effects.clip=function(c){return this.queue(function(){var g=e(this),i=["position","top","bottom","left","right","height","width"],k=e.effects.setMode(g,c.options.mode||"hide"),l=c.options.direction||"vertical";e.effects.save(g,i);g.show();var n=e.effects.createWrapper(g).css({overflow:"hidden"});n=g[0].tagName=="IMG"?n:g;var u={size:l=="vertical"?"height":"width",position:l=="vertical"?"top":"left"};l=l=="vertical"?n.height():n.width();if(k=="show"){n.css(u.size,0);n.css(u.position,
l/2)}var A={};A[u.size]=k=="show"?l:0;A[u.position]=k=="show"?0:l/2;n.animate(A,{queue:false,duration:c.duration,easing:c.options.easing,complete:function(){k=="hide"&&g.hide();e.effects.restore(g,i);e.effects.removeWrapper(g);c.callback&&c.callback.apply(g[0],arguments);g.dequeue()}})})}})(jQuery);
(function(e){e.effects.drop=function(c){return this.queue(function(){var g=e(this),i=["position","top","bottom","left","right","opacity"],k=e.effects.setMode(g,c.options.mode||"hide"),l=c.options.direction||"left";e.effects.save(g,i);g.show();e.effects.createWrapper(g);var n=l=="up"||l=="down"?"top":"left";l=l=="up"||l=="left"?"pos":"neg";var u=c.options.distance||(n=="top"?g.outerHeight({margin:true})/2:g.outerWidth({margin:true})/2);if(k=="show")g.css("opacity",0).css(n,l=="pos"?-u:u);var A={opacity:k==
"show"?1:0};A[n]=(k=="show"?l=="pos"?"+=":"-=":l=="pos"?"-=":"+=")+u;g.animate(A,{queue:false,duration:c.duration,easing:c.options.easing,complete:function(){k=="hide"&&g.hide();e.effects.restore(g,i);e.effects.removeWrapper(g);c.callback&&c.callback.apply(this,arguments);g.dequeue()}})})}})(jQuery);
(function(e){e.effects.fade=function(c){return this.queue(function(){var g=e(this),i=e.effects.setMode(g,c.options.mode||"hide");g.animate({opacity:i},{queue:false,duration:c.duration,easing:c.options.easing,complete:function(){c.callback&&c.callback.apply(this,arguments);g.dequeue()}})})}})(jQuery);
(function(e){e.effects.fold=function(c){return this.queue(function(){var g=e(this),i=["position","top","bottom","left","right"],k=e.effects.setMode(g,c.options.mode||"hide"),l=c.options.size||15,n=!!c.options.horizFirst,u=c.duration?c.duration/2:e.fx.speeds._default/2;e.effects.save(g,i);g.show();var A=e.effects.createWrapper(g).css({overflow:"hidden"}),z=k=="show"!=n,G=z?["width","height"]:["height","width"];z=z?[A.width(),A.height()]:[A.height(),A.width()];var v=/([0-9]+)%/.exec(l);if(v)l=parseInt(v[1],
10)/100*z[k=="hide"?0:1];if(k=="show")A.css(n?{height:0,width:l}:{height:l,width:0});n={};v={};n[G[0]]=k=="show"?z[0]:l;v[G[1]]=k=="show"?z[1]:0;A.animate(n,u,c.options.easing).animate(v,u,c.options.easing,function(){k=="hide"&&g.hide();e.effects.restore(g,i);e.effects.removeWrapper(g);c.callback&&c.callback.apply(g[0],arguments);g.dequeue()})})}})(jQuery);
(function(e){e.effects.highlight=function(c){return this.queue(function(){var g=e(this),i=["backgroundImage","backgroundColor","opacity"],k=e.effects.setMode(g,c.options.mode||"show"),l={backgroundColor:g.css("backgroundColor")};if(k=="hide")l.opacity=0;e.effects.save(g,i);g.show().css({backgroundImage:"none",backgroundColor:c.options.color||"#ffff99"}).animate(l,{queue:false,duration:c.duration,easing:c.options.easing,complete:function(){k=="hide"&&g.hide();e.effects.restore(g,i);k=="show"&&!e.support.opacity&&
this.style.removeAttribute("filter");c.callback&&c.callback.apply(this,arguments);g.dequeue()}})})}})(jQuery);
(function(e){e.effects.slide=function(c){return this.queue(function(){var g=e(this),i=["position","top","bottom","left","right"],k=e.effects.setMode(g,c.options.mode||"show"),l=c.options.direction||"left";e.effects.save(g,i);g.show();e.effects.createWrapper(g).css({overflow:"hidden"});var n=l=="up"||l=="down"?"top":"left";l=l=="up"||l=="left"?"pos":"neg";var u=c.options.distance||(n=="top"?g.outerHeight({margin:true}):g.outerWidth({margin:true}));if(k=="show")g.css(n,l=="pos"?isNaN(u)?"-"+u:-u:u);
var A={};A[n]=(k=="show"?l=="pos"?"+=":"-=":l=="pos"?"-=":"+=")+u;g.animate(A,{queue:false,duration:c.duration,easing:c.options.easing,complete:function(){k=="hide"&&g.hide();e.effects.restore(g,i);e.effects.removeWrapper(g);c.callback&&c.callback.apply(this,arguments);g.dequeue()}})})}})(jQuery);
(function(e){e.effects.transfer=function(c){return this.queue(function(){var g=e(this),i=e(c.options.to),k=i.offset();i={top:k.top,left:k.left,height:i.innerHeight(),width:i.innerWidth()};k=g.offset();var l=e('<div class="ui-effects-transfer"></div>').appendTo(document.body).addClass(c.options.className).css({top:k.top,left:k.left,height:g.innerHeight(),width:g.innerWidth(),position:"absolute"}).animate(i,c.duration,c.options.easing,function(){l.remove();c.callback&&c.callback.apply(g[0],arguments);
g.dequeue()})})}})(jQuery);
(function(e,c){var g,i=/:([\w\d]+)/g,k=/\?([^#]*)$/,l=function(o){return Array.prototype.slice.call(o)},n=function(o){return Object.prototype.toString.call(o)==="[object Function]"},u=function(o){return Object.prototype.toString.call(o)==="[object Array]"},A=function(o){return decodeURIComponent((o||"").replace(/\+/g," "))},z=encodeURIComponent,G=function(o){return String(o).replace(/&(?!\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},v=function(o){return function(r,
C){return this.route.apply(this,[o,r,C])}},q={},y=!!(c.history&&history.pushState),E=[];g=function(){var o=l(arguments),r,C;g.apps=g.apps||{};if(o.length===0||o[0]&&n(o[0]))return g.apply(g,["body"].concat(o));else if(typeof(C=o.shift())=="string"){r=g.apps[C]||new g.Application;r.element_selector=C;o.length>0&&e.each(o,function(I,da){r.use(da)});r.element_selector!=C&&delete g.apps[C];return g.apps[r.element_selector]=r}};g.VERSION="0.7.0pre";g.addLogger=function(o){E.push(o)};g.log=function(){var o=
l(arguments);o.unshift("["+Date()+"]");e.each(E,function(r,C){C.apply(g,o)})};if(typeof c.console!="undefined")n(c.console.log.apply)?g.addLogger(function(){c.console.log.apply(c.console,arguments)}):g.addLogger(function(){c.console.log(arguments)});else typeof console!="undefined"&&g.addLogger(function(){console.log.apply(console,arguments)});e.extend(g,{makeArray:l,isFunction:n,isArray:u});g.Object=function(o){return e.extend(this,o||{})};e.extend(g.Object.prototype,{escapeHTML:G,h:G,toHash:function(){var o=
{};e.each(this,function(r,C){n(C)||(o[r]=C)});return o},toHTML:function(){var o="";e.each(this,function(r,C){n(C)||(o+="<strong>"+r+"</strong> "+C+"<br />")});return o},keys:function(o){var r=[];for(var C in this)if(!n(this[C])||!o)r.push(C);return r},has:function(o){return this[o]&&e.trim(this[o].toString())!==""},join:function(){var o=l(arguments),r=o.shift();return o.join(r)},log:function(){g.log.apply(g,arguments)},toString:function(o){var r=[];e.each(this,function(C,I){if(!n(I)||o)r.push('"'+
C+'": '+I.toString())});return"Sammy.Object: {"+r.join(",")+"}"}});g.DefaultLocationProxy=function(o,r){this.app=o;this.is_native=false;this.has_history=y;this._startPolling(r)};g.DefaultLocationProxy.fullPath=function(o){var r=o.toString().match(/^[^#]*(#.+)$/);return[o.pathname,o.search,r?r[1]:""].join("")};g.DefaultLocationProxy.prototype={bind:function(){var o=this,r=this.app,C=g.DefaultLocationProxy;e(c).bind("hashchange."+this.app.eventNamespace(),function(I,da){if(o.is_native===false&&!da){g.log("native hash change exists, using");
o.is_native=true;c.clearInterval(C._interval)}r.trigger("location-changed")});if(y){e(c).bind("popstate."+this.app.eventNamespace(),function(){r.trigger("location-changed")});e("a").live("click.history-"+this.app.eventNamespace(),function(I){var da=C.fullPath(this);if(this.hostname==c.location.hostname&&r.lookupRoute("get",da)){I.preventDefault();o.setLocation(da);return false}})}if(!C._bindings)C._bindings=0;C._bindings++},unbind:function(){e(c).unbind("hashchange."+this.app.eventNamespace());e(c).unbind("popstate."+
this.app.eventNamespace());e("a").die("click.history-"+this.app.eventNamespace());g.DefaultLocationProxy._bindings--;g.DefaultLocationProxy._bindings<=0&&c.clearInterval(g.DefaultLocationProxy._interval)},getLocation:function(){return g.DefaultLocationProxy.fullPath(c.location)},setLocation:function(o){if(/^([^#\/]|$)/.test(o))o=y?"/"+o:"#!/"+o;if(o!=this.getLocation())if(y&&/^\//.test(o)){history.pushState({path:o},c.title,o);this.app.trigger("location-changed")}else return c.location=o},_startPolling:function(o){var r=
this;if(!g.DefaultLocationProxy._interval){o||(o=10);var C=function(){var I=r.getLocation();if(typeof g.DefaultLocationProxy._last_location=="undefined"||I!=g.DefaultLocationProxy._last_location)c.setTimeout(function(){e(c).trigger("hashchange",[true])},0);g.DefaultLocationProxy._last_location=I};C();g.DefaultLocationProxy._interval=c.setInterval(C,o)}}};g.Application=function(o){var r=this;this.routes={};this.listeners=new g.Object({});this.arounds=[];this.befores=[];this.namespace=(new Date).getTime()+
"-"+parseInt(Math.random()*1E3,10);this.context_prototype=function(){g.EventContext.apply(this,arguments)};this.context_prototype.prototype=new g.EventContext;n(o)&&o.apply(this,[this]);this._location_proxy||this.setLocationProxy(new g.DefaultLocationProxy(this,this.run_interval_every));this.debug&&this.bindToAllEvents(function(C,I){r.log(r.toString(),C.cleaned_type,I||{})})};g.Application.prototype=e.extend({},g.Object.prototype,{ROUTE_VERBS:["get","post","put","delete"],APP_EVENTS:["run","unload",
"lookup-route","run-route","route-found","event-context-before","event-context-after","changed","error","check-form-submission","redirect","location-changed"],_last_route:null,_location_proxy:null,_running:false,element_selector:"body",debug:false,raise_errors:false,run_interval_every:50,template_engine:null,toString:function(){return"Sammy.Application:"+this.element_selector},$element:function(o){return o?e(this.element_selector).find(o):e(this.element_selector)},use:function(){var o=l(arguments),
r=o.shift(),C=r||"";try{o.unshift(this);if(typeof r=="string"){C="Sammy."+r;r=g[r]}r.apply(this,o)}catch(I){if(typeof r==="undefined")this.error("Plugin Error: called use() but plugin ("+C.toString()+") is not defined",I);else n(r)?this.error("Plugin Error",I):this.error("Plugin Error: called use() but '"+C.toString()+"' is not a function",I)}return this},setLocationProxy:function(o){var r=this._location_proxy;this._location_proxy=o;if(this.isRunning()){r&&r.unbind();this._location_proxy.bind()}},
route:function(o,r,C){var I=this,da=[],ka,R;if(!C&&n(r)){C=r=o;o="any"}o=o.toLowerCase();if(r.constructor==String){for(i.lastIndex=0;(R=i.exec(r))!==null;)da.push(R[1]);r=new RegExp(r.replace(i,"([^/]+)")+"$")}if(typeof C=="string")C=I[C];ka=function(ga){var ia={verb:ga,path:r,callback:C,param_names:da};I.routes[ga]=I.routes[ga]||[];I.routes[ga].push(ia)};o==="any"?e.each(this.ROUTE_VERBS,function(ga,ia){ka(ia)}):ka(o);return this},get:v("get"),post:v("post"),put:v("put"),del:v("delete"),any:v("any"),
mapRoutes:function(o){var r=this;e.each(o,function(C,I){r.route.apply(r,I)});return this},eventNamespace:function(){return["sammy-app",this.namespace].join("-")},bind:function(o,r,C){var I=this;if(typeof C=="undefined")C=r;r=function(da,ka){var R;if(ka&&ka.context){R=ka.context;delete ka.context}else R=new I.context_prototype(I,"bind",da.type,ka,da.target);da.cleaned_type=da.type.replace(I.eventNamespace(),"");C.apply(R,[da,ka])};this.listeners[o]||(this.listeners[o]=[]);this.listeners[o].push(r);
this.isRunning()&&this._listen(o,r);return this},trigger:function(o,r){this.$element().trigger([o,this.eventNamespace()].join("."),[r]);return this},refresh:function(){this.last_location=null;this.trigger("location-changed");return this},before:function(o,r){if(n(o)){r=o;o={}}this.befores.push([o,r]);return this},after:function(o){return this.bind("event-context-after",o)},around:function(o){this.arounds.push(o);return this},isRunning:function(){return this._running},helpers:function(o){e.extend(this.context_prototype.prototype,
o);return this},helper:function(o,r){this.context_prototype.prototype[o]=r;return this},run:function(o){if(this.isRunning())return false;var r=this;e.each(this.listeners.toHash(),function(C,I){e.each(I,function(da,ka){r._listen(C,ka)})});this.trigger("run",{start_url:o});this._running=true;this.last_location=null;!/\#(.+)/.test(this.getLocation())&&typeof o!="undefined"&&this.setLocation(o);this._checkLocation();this._location_proxy.bind();this.bind("location-changed",function(){r._checkLocation()});
this.bind("submit",function(C){return r._checkFormSubmission(e(C.target).closest("form"))===false?C.preventDefault():false});e(c).bind("beforeunload",function(){r.unload()});return this.trigger("changed")},unload:function(){if(!this.isRunning())return false;var o=this;this.trigger("unload");this._location_proxy.unbind();this.$element().unbind("submit").removeClass(o.eventNamespace());e.each(this.listeners.toHash(),function(r,C){e.each(C,function(I,da){o._unlisten(r,da)})});this._running=false;return this},
bindToAllEvents:function(o){var r=this;e.each(this.APP_EVENTS,function(C,I){r.bind(I,o)});e.each(this.listeners.keys(true),function(C,I){e.inArray(I,r.APP_EVENTS)==-1&&r.bind(I,o)});return this},routablePath:function(o){return o.replace(k,"")},lookupRoute:function(o,r){var C=false,I=0,da,ka;if(typeof this.routes[o]!="undefined")for(da=this.routes[o].length;I<da;I++){ka=this.routes[o][I];if(this.routablePath(r).match(ka.path)){C=ka;break}}return C},runRoute:function(o,r,C,I){var da=this,ka=this.lookupRoute(o,
r),R,ga,ia,Aa,La,Va,aa;this.log("runRoute",[o,r].join(" "));this.trigger("run-route",{verb:o,path:r,params:C});if(typeof C=="undefined")C={};e.extend(C,this._parseQueryString(r));if(ka){this.trigger("route-found",{route:ka});if((Va=ka.path.exec(this.routablePath(r)))!==null){Va.shift();e.each(Va,function(X,d){if(ka.param_names[X])C[ka.param_names[X]]=A(d);else{if(!C.splat)C.splat=[];C.splat.push(A(d))}})}R=new this.context_prototype(this,o,r,C,I);I=this.arounds.slice(0);ia=this.befores.slice(0);La=
[R].concat(C.splat);ga=function(){for(var X;ia.length>0;){Aa=ia.shift();if(da.contextMatchesOptions(R,Aa[0])){X=Aa[1].apply(R,[R]);if(X===false)return false}}da.last_route=ka;R.trigger("event-context-before",{context:R});X=ka.callback.apply(R,La);R.trigger("event-context-after",{context:R});return X};e.each(I.reverse(),function(X,d){var H=ga;ga=function(){return d.apply(R,[H])}});try{aa=ga()}catch(S){this.error(["500 Error",o,r].join(" "),S)}return aa}else return this.notFound(o,r)},contextMatchesOptions:function(o,
r,C){r=r;if(typeof r==="undefined"||r=={})return true;if(typeof C==="undefined")C=true;if(typeof r==="string"||n(r.test))r={path:r};if(r.only)return this.contextMatchesOptions(o,r.only,true);else if(r.except)return this.contextMatchesOptions(o,r.except,false);var I=true,da=true;if(r.path){if(!n(r.path.test))r.path=new RegExp(r.path.toString()+"$");I=r.path.test(o.path)}if(r.verb)da=r.verb===o.verb;return C?da&&I:!(da&&I)},getLocation:function(){return this._location_proxy.getLocation()},setLocation:function(o){return this._location_proxy.setLocation(o)},
swap:function(o){return this.$element().html(o)},templateCache:function(o,r){return typeof r!="undefined"?(q[o]=r):q[o]},clearTemplateCache:function(){return q={}},notFound:function(o,r){var C=this.error(["404 Not Found",o,r].join(" "));return o==="get"?C:true},error:function(o,r){r||(r=new Error);r.message=[o,r.message].join(" ");this.trigger("error",{message:r.message,error:r});if(this.raise_errors)throw r;else this.log(r.message,r)},_checkLocation:function(){var o,r;o=this.getLocation();if(!this.last_location||
this.last_location[0]!="get"||this.last_location[1]!=o){this.last_location=["get",o];r=this.runRoute("get",o)}return r},_getFormVerb:function(o){o=e(o);var r,C;C=o.find('input[name="_method"]');if(C.length>0)r=C.val();r||(r=o[0].getAttribute("method"));if(!r||r=="")r="get";return e.trim(r.toString().toLowerCase())},_checkFormSubmission:function(o){var r,C,I;this.trigger("check-form-submission",{form:o});r=e(o);C=r.attr("action")||"";I=this._getFormVerb(r);this.log("_checkFormSubmission",r,C,I);if(I===
"get"){this.setLocation(C+"?"+this._serializeFormParams(r));o=false}else{r=e.extend({},this._parseFormParams(r));o=this.runRoute(I,C,r,o.get(0))}return typeof o=="undefined"?false:o},_serializeFormParams:function(o){var r="";o=o.serializeArray();var C;if(o.length>0){r=this._encodeFormPair(o[0].name,o[0].value);for(C=1;C<o.length;C++)r=r+"&"+this._encodeFormPair(o[C].name,o[C].value)}return r},_encodeFormPair:function(o,r){return z(o)+"="+z(r)},_parseFormParams:function(o){var r={};o=o.serializeArray();
var C;for(C=0;C<o.length;C++)r=this._parseParamPair(r,o[C].name,o[C].value);return r},_parseQueryString:function(o){var r={},C,I;if(o=o.match(k)){o=o[1].split("&");for(I=0;I<o.length;I++){C=o[I].split("=");r=this._parseParamPair(r,A(C[0]),A(C[1]||""))}}return r},_parseParamPair:function(o,r,C){if(o[r])if(u(o[r]))o[r].push(C);else o[r]=[o[r],C];else o[r]=C;return o},_listen:function(o,r){return this.$element().bind([o,this.eventNamespace()].join("."),r)},_unlisten:function(o,r){return this.$element().unbind([o,
this.eventNamespace()].join("."),r)}});g.RenderContext=function(o){this.event_context=o;this.callbacks=[];this.content=this.previous_content=null;this.waiting=this.next_engine=false};g.RenderContext.prototype=e.extend({},g.Object.prototype,{then:function(o){if(!n(o))if(typeof o==="string"&&o in this.event_context){var r=this.event_context[o];o=function(I){return r.apply(this.event_context,[I])}}else return this;var C=this;if(this.waiting)this.callbacks.push(o);else{this.wait();c.setTimeout(function(){var I=
o.apply(C,[C.content,C.previous_content]);I!==false&&C.next(I)},0)}return this},wait:function(){this.waiting=true},next:function(o){this.waiting=false;if(typeof o!=="undefined"){this.previous_content=this.content;this.content=o}this.callbacks.length>0&&this.then(this.callbacks.shift())},load:function(o,r,C){var I=this;return this.then(function(){var da,ka,R;if(n(r)){C=r;r={}}else r=e.extend({},r);C&&this.then(C);if(typeof o==="string"){da=(R=o.match(/\.json$/)||r.json)&&r.cache===true||r.cache!==
false;I.next_engine=I.event_context.engineFor(o);delete r.cache;delete r.json;if(r.engine){I.next_engine=r.engine;delete r.engine}if(da&&(ka=this.event_context.app.templateCache(o)))return ka;this.wait();e.ajax(e.extend({url:o,data:{},dataType:R?"json":null,type:"get",success:function(ga){da&&I.event_context.app.templateCache(o,ga);I.next(ga)}},r));return false}else{if(o.nodeType)return o.innerHTML;if(o.selector){I.next_engine=o.attr("data-engine");return r.clone===false?o.remove()[0].innerHTML.toString():
o[0].innerHTML.toString()}}})},render:function(o,r,C){return n(o)&&!r?this.then(o):this.load(o).interpolate(r,o).then(C)},partial:function(o,r){return this.render(o,r).swap()},send:function(){var o=this,r=l(arguments),C=r.shift();if(u(r[0]))r=r[0];return this.then(function(){r.push(function(I){o.next(I)});o.wait();C.apply(C,r);return false})},collect:function(o,r,C){var I=this,da=function(){if(n(o)){r=o;o=this.content}var ka=[],R=false;e.each(o,function(ga,ia){var Aa=r.apply(I,[ga,ia]);if(Aa.jquery&&
Aa.length==1){Aa=Aa[0];R=true}ka.push(Aa);return Aa});return R?ka:ka.join("")};return C?da():this.then(da)},renderEach:function(o,r,C,I){if(u(r)){I=C;C=r;r=null}return this.load(o).then(function(da){var ka=this;C||(C=u(this.previous_content)?this.previous_content:[]);if(I)e.each(C,function(R,ga){var ia={},Aa=this.next_engine||o;r?(ia[r]=ga):(ia=ga);I(ga,ka.event_context.interpolate(da,ia,Aa))});else return this.collect(C,function(R,ga){var ia={},Aa=this.next_engine||o;r?(ia[r]=ga):(ia=ga);return this.event_context.interpolate(da,
ia,Aa)},true)})},interpolate:function(o,r,C){var I=this;return this.then(function(da,ka){if(!o&&ka)o=ka;if(this.next_engine){r=this.next_engine;this.next_engine=false}var R=I.event_context.interpolate(da,o,r);return C?ka+R:R})},swap:function(){return this.then(function(o){this.event_context.swap(o)}).trigger("changed",{})},appendTo:function(o){return this.then(function(r){e(o).append(r)}).trigger("changed",{})},prependTo:function(o){return this.then(function(r){e(o).prepend(r)}).trigger("changed",
{})},replace:function(o){return this.then(function(r){e(o).html(r)}).trigger("changed",{})},trigger:function(o,r){return this.then(function(C){if(typeof r=="undefined")r={content:C};this.event_context.trigger(o,r)})}});g.EventContext=function(o,r,C,I,da){this.app=o;this.verb=r;this.path=C;this.params=new g.Object(I);this.target=da};g.EventContext.prototype=e.extend({},g.Object.prototype,{$element:function(){return this.app.$element(l(arguments).shift())},engineFor:function(o){var r;if(n(o))return o;
o=(o||this.app.template_engine).toString();if(r=o.match(/\.([^\.\?\#]+)/))o=r[1];if(o&&n(this[o]))return this[o];if(this.app.template_engine)return this.engineFor(this.app.template_engine);return function(C){return C}},interpolate:function(o,r,C){return this.engineFor(C).apply(this,[o,r])},render:function(o,r,C){return(new g.RenderContext(this)).render(o,r,C)},renderEach:function(o,r,C,I){return(new g.RenderContext(this)).renderEach(o,r,C,I)},load:function(o,r,C){return(new g.RenderContext(this)).load(o,
r,C)},partial:function(o,r){return(new g.RenderContext(this)).partial(o,r)},send:function(){var o=new g.RenderContext(this);return o.send.apply(o,arguments)},redirect:function(){var o;o=l(arguments);var r=this.app.getLocation();if(o.length>1){o.unshift("/");o=this.join.apply(this,o)}else o=o[0];this.trigger("redirect",{to:o});this.app.last_location=[this.verb,this.path];this.app.setLocation(o);(new RegExp(o)).test(r)&&this.app.trigger("location-changed")},trigger:function(o,r){if(typeof r=="undefined")r=
{};if(!r.context)r.context=this;return this.app.trigger(o,r)},eventNamespace:function(){return this.app.eventNamespace()},swap:function(o){return this.app.swap(o)},notFound:function(){return this.app.notFound(this.verb,this.path)},json:function(o){return e.parseJSON(o)},toString:function(){return"Sammy.EventContext: "+[this.verb,this.path,this.params].join(" ")}});e.sammy=c.Sammy=g})(jQuery,window);
(function(e){Sammy=Sammy||{};Sammy.Title=function(){this.setTitle=function(c){this.title_function=e.isFunction(c)?c:function(g){return[c,g].join(" ")}};this.helper("title",function(){var c=e.makeArray(arguments).join(" ");if(this.app.title_function)c=this.app.title_function(c);document.title=c})}})(jQuery);
(function(e){function c(i){i=unescape(i);return i==="true"?true:i==="false"?false:i}function g(i,k,l){var n;if(k.match(/^[^\[]+$/))i[k]=c(l);else if(n=k.match(/^([^\[]+)\[\](.*)$/)){k=n[1];n=n[2];if(i[k]&&!e.isArray(i[k]))throw"400 Bad Request";if(n){n=n.match(/^\[([^\]]+)\](.*)$/);if(!n)throw"400 Bad Request";if(i[k])i[k][i[k].length-1][n[1]]?i[k].push(g({},n[1]+n[2],l)):e.extend(true,i[k][i[k].length-1],g({},n[1]+n[2],l));else i[k]=[g({},n[1]+n[2],l)]}else if(i[k])i[k].push(c(l));else i[k]=[c(l)]}else if(n=
k.match(/^([^\[]+)\[([^\[]+)\](.*)$/)){k=n[1];n=n[2]+n[3];if(i[k]&&e.isArray(i[k]))throw"400 Bad Request";if(i[k])e.extend(true,i[k],g(i[k],n,l));else i[k]=g({},n,l)}return i}Sammy=Sammy||{};Sammy.NestedParams=function(i){i._parseParamPair=g}})(jQuery);
(function(){if(!window.JSON)window.JSON={};(function(){function e(z){return z<10?"0"+z:z}function c(z){k.lastIndex=0;return k.test(z)?'"'+z.replace(k,function(G){var v=u[G];return typeof v==="string"?v:"\\u"+("0000"+G.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+z+'"'}function g(z,G){var v,q,y,E,o=l,r,C=G[z];if(C&&typeof C==="object"&&typeof C.toJSON==="function")C=C.toJSON(z);if(typeof A==="function")C=A.call(G,z,C);switch(typeof C){case "string":return c(C);case "number":return isFinite(C)?String(C):
"null";case "boolean":case "null":return String(C);case "object":if(!C)return"null";l+=n;r=[];if(Object.prototype.toString.apply(C)==="[object Array]"){E=C.length;for(v=0;v<E;v+=1)r[v]=g(v,C)||"null";y=r.length===0?"[]":l?"[\n"+l+r.join(",\n"+l)+"\n"+o+"]":"["+r.join(",")+"]";l=o;return y}if(A&&typeof A==="object"){E=A.length;for(v=0;v<E;v+=1){q=A[v];if(typeof q==="string")if(y=g(q,C))r.push(c(q)+(l?": ":":")+y)}}else for(q in C)if(Object.hasOwnProperty.call(C,q))if(y=g(q,C))r.push(c(q)+(l?": ":":")+
y);y=r.length===0?"{}":l?"{\n"+l+r.join(",\n"+l)+"\n"+o+"}":"{"+r.join(",")+"}";l=o;return y}}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return this.getUTCFullYear()+"-"+e(this.getUTCMonth()+1)+"-"+e(this.getUTCDate())+"T"+e(this.getUTCHours())+":"+e(this.getUTCMinutes())+":"+e(this.getUTCSeconds())+"Z"};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var i=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
k=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,l,n,u={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},A;if(typeof JSON.stringify!=="function")JSON.stringify=function(z,G,v){var q;n=l="";if(typeof v==="number")for(q=0;q<v;q+=1)n+=" ";else if(typeof v==="string")n=v;if((A=G)&&typeof G!=="function"&&(typeof G!=="object"||typeof G.length!=="number"))throw new Error("JSON.stringify");return g("",
{"":z})};if(typeof JSON.parse!=="function")JSON.parse=function(z,G){function v(y,E){var o,r,C=y[E];if(C&&typeof C==="object")for(o in C)if(Object.hasOwnProperty.call(C,o)){r=v(C,o);if(r!==undefined)C[o]=r;else delete C[o]}return G.call(y,E,C)}var q;i.lastIndex=0;if(i.test(z))z=z.replace(i,function(y){return"\\u"+("0000"+y.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(z.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){q=eval("("+z+")");return typeof G==="function"?v({"":q},""):q}throw new SyntaxError("JSON.parse");}})();Sammy=Sammy||{};Sammy.JSON=function(e){e.helpers({json:function(c){return typeof c=="string"?JSON.parse(c):JSON.stringify(c)}})}})(jQuery);
(function(e){if(!window.Mustache)var c=function(){var g=function(){};g.prototype={otag:"{{",ctag:"}}",pragmas:{},buffer:[],pragmas_implemented:{"IMPLICIT-ITERATOR":true},context:{},render:function(i,k,l,n){if(!n){this.context=k;this.buffer=[]}if(!this.includes("",i))if(n)return i;else{this.send(i);return}i=this.render_pragmas(i);i=this.render_section(i,k,l);if(n)return this.render_tags(i,k,l,n);this.render_tags(i,k,l,n)},send:function(i){i!=""&&this.buffer.push(i)},render_pragmas:function(i){if(!this.includes("%",
i))return i;var k=this;return i.replace(new RegExp(this.otag+"%([\\w-]+) ?([\\w]+=[\\w]+)?"+this.ctag),function(l,n,u){if(!k.pragmas_implemented[n])throw{message:"This implementation of mustache doesn't understand the '"+n+"' pragma"};k.pragmas[n]={};if(u){l=u.split("=");k.pragmas[n][l[0]]=l[1]}return""})},render_partial:function(i,k,l){i=this.trim(i);if(!l||l[i]===undefined)throw{message:"unknown_partial '"+i+"'"};if(typeof k[i]!="object")return this.render(l[i],k,l,true);return this.render(l[i],
k[i],l,true)},render_section:function(i,k,l){if(!this.includes("#",i)&&!this.includes("^",i))return i;var n=this;return i.replace(new RegExp(this.otag+"(\\^|\\#)\\s*(.+)\\s*"+this.ctag+"\n*([\\s\\S]+?)"+this.otag+"\\/\\s*\\2\\s*"+this.ctag+"\\s*","mg"),function(u,A,z,G){u=n.find(z,k);if(A=="^")return!u||n.is_array(u)&&u.length===0?n.render(G,k,l,true):"";else if(A=="#")return n.is_array(u)?n.map(u,function(v){return n.render(G,n.create_context(v),l,true)}).join(""):n.is_object(u)?n.render(G,n.create_context(u),
l,true):typeof u==="function"?u.call(k,G,function(v){return n.render(v,k,l,true)}):u?n.render(G,k,l,true):""})},render_tags:function(i,k,l,n){var u=this,A=function(){return new RegExp(u.otag+"(=|!|>|\\{|%)?([^\\/#\\^]+?)\\1?"+u.ctag+"+","g")},z=A(),G=function(q,y,E){switch(y){case "!":return"";case "=":u.set_delimiters(E);z=A();return"";case ">":return u.render_partial(E,k,l);case "{":return u.find(E,k);default:return u.escape(u.find(E,k))}};i=i.split("\n");for(var v=0;v<i.length;v++){i[v]=i[v].replace(z,
G,this);n||this.send(i[v])}if(n)return i.join("\n")},set_delimiters:function(i){i=i.split(" ");this.otag=this.escape_regex(i[0]);this.ctag=this.escape_regex(i[1])},escape_regex:function(i){if(!arguments.callee.sRE)arguments.callee.sRE=new RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\)","g");return i.replace(arguments.callee.sRE,"\\$1")},find:function(i,k){i=this.trim(i);var l;if(k[i]===false||k[i]===0||k[i])l=k[i];else if(this.context[i]===false||this.context[i]===0||this.context[i])l=
this.context[i];if(typeof l==="function")return l.apply(k);if(l!==undefined)return l;return""},includes:function(i,k){return k.indexOf(this.otag+i)!=-1},escape:function(i){return String(i===null?"":i).replace(/&(?!\w+;)|["<>\\]/g,function(k){switch(k){case "&":return"&amp;";case "\\":return"\\\\";case '"':return'"';case "<":return"&lt;";case ">":return"&gt;";default:return k}})},create_context:function(i){if(this.is_object(i))return i;else{var k=".";if(this.pragmas["IMPLICIT-ITERATOR"])k=this.pragmas["IMPLICIT-ITERATOR"].iterator;
var l={};l[k]=i;return l}},is_object:function(i){return i&&typeof i=="object"},is_array:function(i){return Object.prototype.toString.call(i)==="[object Array]"},trim:function(i){return i.replace(/^\s*|\s*$/g,"")},map:function(i,k){if(typeof i.map=="function")return i.map(k);else{for(var l=[],n=i.length,u=0;u<n;u++)l.push(k(i[u]));return l}}};return{name:"mustache.js",version:"0.3.1-dev",to_html:function(i,k,l,n){var u=new g;if(n)u.send=n;u.render(i,k,l);if(!n)return u.buffer.join("\n")}}}();Sammy=
Sammy||{};Sammy.Mustache=function(g,i){i||(i="mustache");g.helper(i,function(k,l,n){l=e.extend({},this,l);n=e.extend({},l.partials,n);return c.to_html(k,l,n)})}})(jQuery);
window.Modernizr=function(e,c,g){function i(){u.input=function(S){for(var X=0,d=S.length;X<d;X++)ka[S[X]]=!!(S[X]in q);return ka}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" "));u.inputtypes=function(S){for(var X=0,d,H,O,P=S.length;X<P;X++){q.setAttribute("type",H=S[X]);(d=q.type!=="text")&&(q.value=y,q.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(H)&&q.style.WebkitAppearance!==g?(A.appendChild(q),O=c.defaultView,d=O.getComputedStyle&&
O.getComputedStyle(q,null).WebkitAppearance!=="textfield"&&q.offsetHeight!==0,A.removeChild(q)):/^(search|tel)$/.test(H)||(/^(url|email)$/.test(H)?(d=q.checkValidity&&q.checkValidity()===false):/^color$/.test(H)?(A.appendChild(q),d=q.value!=y,A.removeChild(q)):(d=q.value!=y)));da[S[X]]=!!d}return da}("search tel url email datetime date month week time datetime-local number range color".split(" "))}function k(S,X){var d=S.charAt(0).toUpperCase()+S.substr(1);d=(S+" "+r.join(d+" ")+d).split(" ");return!!l(d,
X)}function l(S,X){for(var d in S)if(v[S[d]]!==g&&(!X||X(S[d],G)))return true}function n(S,X){return typeof S===X}var u={},A=c.documentElement,z=c.head||c.getElementsByTagName("head")[0],G=c.createElement("modernizr"),v=G.style,q=c.createElement("input"),y=":)",E=Object.prototype.toString,o=" -webkit- -moz- -o- -ms- -khtml- ".split(" "),r="Webkit Moz O ms Khtml".split(" "),C={svg:"http://www.w3.org/2000/svg"},I={},da={},ka={},R=[],ga,ia=function(S){var X=c.createElement("style"),d=c.createElement("div");
X.textContent=S+"{#modernizr{height:3px}}";z.appendChild(X);d.id="modernizr";A.appendChild(d);S=d.offsetHeight===3;X.parentNode.removeChild(X);d.parentNode.removeChild(d);return!!S},Aa=function(){var S={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return function(X,d){d=d||c.createElement(S[X]||"div");var H=(X="on"+X)in d;H||(d.setAttribute||(d=c.createElement("div")),d.setAttribute&&d.removeAttribute&&(d.setAttribute(X,""),H=n(d[X],"function"),n(d[X],
g)||(d[X]=g),d.removeAttribute(X)));return H}}(),La={}.hasOwnProperty,Va;n(La,g)||n(La.call,g)?(Va=function(S,X){return X in S&&n(S.constructor.prototype[X],g)}):(Va=function(S,X){return La.call(S,X)});I.flexbox=function(){var S=c.createElement("div"),X=c.createElement("div");(function(H,O,P,V){O+=":";H.style.cssText=(O+o.join(P+";"+O)).slice(0,-O.length)+(V||"")})(S,"display","box","width:42px;padding:0;");X.style.cssText=o.join("box-flex:1;")+"width:10px;";S.appendChild(X);A.appendChild(S);var d=
X.offsetWidth===42;S.removeChild(X);A.removeChild(S);return d};I.canvas=function(){var S=c.createElement("canvas");return S.getContext&&S.getContext("2d")};I.canvastext=function(){return u.canvas&&n(c.createElement("canvas").getContext("2d").fillText,"function")};I.webgl=function(){return!!e.WebGLRenderingContext};I.touch=function(){return"ontouchstart"in e||ia("@media ("+o.join("touch-enabled),(")+"modernizr)")};I.geolocation=function(){return!!navigator.geolocation};I.postmessage=function(){return!!e.postMessage};
I.websqldatabase=function(){return!!e.openDatabase};I.indexedDB=function(){for(var S=-1,X=r.length;++S<X;){var d=r[S].toLowerCase();if(e[d+"_indexedDB"]||e[d+"IndexedDB"])return true}return false};I.hashchange=function(){return Aa("hashchange",e)&&(c.documentMode===g||c.documentMode>7)};I.history=function(){return!!(e.history&&history.pushState)};I.draganddrop=function(){return Aa("dragstart")&&Aa("drop")};I.websockets=function(){return"WebSocket"in e};I.rgba=function(){v.cssText="background-color:rgba(150,255,150,.5)";
return(""+v.backgroundColor).indexOf("rgba")!==-1};I.hsla=function(){v.cssText="background-color:hsla(120,40%,100%,.5)";return(""+v.backgroundColor).indexOf("rgba")!==-1||(""+v.backgroundColor).indexOf("hsla")!==-1};I.multiplebgs=function(){v.cssText="background:url(//:),url(//:),red url(//:)";return/(url\s*\(.*?){3}/.test(v.background)};I.backgroundsize=function(){return k("backgroundSize")};I.borderimage=function(){return k("borderImage")};I.borderradius=function(){return k("borderRadius","",function(S){return(""+
S).indexOf("orderRadius")!==-1})};I.boxshadow=function(){return k("boxShadow")};I.textshadow=function(){return c.createElement("div").style.textShadow===""};I.opacity=function(){var S=o.join("opacity:.55;")+"";v.cssText=S;return/^0.55$/.test(v.opacity)};I.cssanimations=function(){return k("animationName")};I.csscolumns=function(){return k("columnCount")};I.cssgradients=function(){var S=("background-image:"+o.join("gradient(linear,left top,right bottom,from(#9f9),to(white));background-image:")+o.join("linear-gradient(left top,#9f9, white);background-image:")).slice(0,
-17);v.cssText=S;return(""+v.backgroundImage).indexOf("gradient")!==-1};I.cssreflections=function(){return k("boxReflect")};I.csstransforms=function(){return!!l(["transformProperty","WebkitTransform","MozTransform","OTransform","msTransform"])};I.csstransforms3d=function(){var S=!!l(["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"]);S&&"webkitPerspective"in A.style&&(S=ia("@media ("+o.join("transform-3d),(")+"modernizr)"));return S};I.csstransitions=function(){return k("transitionProperty")};
I.fontface=function(){var S,X,d=z||A,H=c.createElement("style");X=c.implementation||{hasFeature:function(){return false}};H.type="text/css";d.insertBefore(H,d.firstChild);S=H.sheet||H.styleSheet;X=(X.hasFeature("CSS2","")?function(O){if(!S||!O)return false;var P=false;try{S.insertRule(O,0);P=/src/i.test(S.cssRules[0].cssText);S.deleteRule(S.cssRules.length-1)}catch(V){}return P}:function(O){if(!S||!O)return false;S.cssText=O;return S.cssText.length!==0&&/src/i.test(S.cssText)&&S.cssText.replace(/\r+|\n+/g,
"").indexOf(O.split(" ")[0])===0})('@font-face { font-family: "font"; src: url(data:,); }');d.removeChild(H);return X};I.video=function(){var S=c.createElement("video"),X=!!S.canPlayType;if(X){X=new Boolean(X);X.ogg=S.canPlayType('video/ogg; codecs="theora"');X.h264=S.canPlayType('video/mp4; codecs="avc1.42E01E"')||S.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"');X.webm=S.canPlayType('video/webm; codecs="vp8, vorbis"')}return X};I.audio=function(){var S=c.createElement("audio"),X=!!S.canPlayType;
X&&(X=new Boolean(X),X.ogg=S.canPlayType('audio/ogg; codecs="vorbis"'),X.mp3=S.canPlayType("audio/mpeg;"),X.wav=S.canPlayType('audio/wav; codecs="1"'),X.m4a=S.canPlayType("audio/x-m4a;")||S.canPlayType("audio/aac;"));return X};I.localstorage=function(){try{return!!localStorage.getItem}catch(S){return false}};I.sessionstorage=function(){try{return!!sessionStorage.getItem}catch(S){return false}};I.webWorkers=function(){return!!e.Worker};I.applicationcache=function(){return!!e.applicationCache};I.svg=
function(){return!!c.createElementNS&&!!c.createElementNS(C.svg,"svg").createSVGRect};I.inlinesvg=function(){var S=c.createElement("div");S.innerHTML="<svg/>";return(S.firstChild&&S.firstChild.namespaceURI)==C.svg};I.smil=function(){return!!c.createElementNS&&/SVG/.test(E.call(c.createElementNS(C.svg,"animate")))};I.svgclippaths=function(){return!!c.createElementNS&&/SVG/.test(E.call(c.createElementNS(C.svg,"clipPath")))};for(var aa in I)Va(I,aa)&&(ga=aa.toLowerCase(),u[ga]=I[aa](),R.push((u[ga]?
"":"no-")+ga));u.input||i();u.crosswindowmessaging=u.postmessage;u.historymanagement=u.history;u.addTest=function(S,X){S=S.toLowerCase();if(!u[S]){X=!!X();A.className+=" "+(X?"":"no-")+S;u[S]=X;return u}};v.cssText="";G=q=null;e.attachEvent&&function(){var S=c.createElement("div");S.innerHTML="<elem></elem>";return S.childNodes.length!==1}()&&function(S,X){function d(ca,ha){for(var ra=-1,sa=ca.length,Ia,fb=[];++ra<sa;){Ia=ca[ra];(ha=Ia.media||ha)!="screen"&&fb.push(d(Ia.imports,ha),Ia.cssText)}return fb.join("")}
function H(ca){for(var ha=-1;++ha<P;)ca.createElement(O[ha])}var O="abbr|article|aside|audio|canvas|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video".split("|"),P=O.length,V=new RegExp("(^|\\s)(abbr|article|aside|audio|canvas|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video)","gi"),la=new RegExp("<(/*)(abbr|article|aside|audio|canvas|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video)",
"gi"),ja=new RegExp("(^|[^\\n]*?\\s)(abbr|article|aside|audio|canvas|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video)([^\\n]*)({[\\n\\w\\W]*?})","gi"),za=X.createDocumentFragment(),Ea=X.documentElement,ta=Ea.firstChild,Ja=X.createElement("body"),L=X.createElement("style"),fa;H(X);H(za);ta.insertBefore(L,ta.firstChild);L.media="print";S.attachEvent("onbeforeprint",function(){var ca=-1,ha=d(X.styleSheets,"all"),ra=[],sa;for(fa=fa||X.body;(sa=
ja.exec(ha))!=null;)ra.push((sa[1]+sa[2]+sa[3]).replace(V,"$1.iepp_$2")+sa[4]);for(L.styleSheet.cssText=ra.join("\n");++ca<P;){ha=X.getElementsByTagName(O[ca]);ra=ha.length;for(sa=-1;++sa<ra;)ha[sa].className.indexOf("iepp_")<0&&(ha[sa].className+=" iepp_"+O[ca])}za.appendChild(fa);Ea.appendChild(Ja);Ja.className=fa.className;Ja.innerHTML=fa.innerHTML.replace(la,"<$1font")});S.attachEvent("onafterprint",function(){Ja.innerHTML="";Ea.removeChild(Ja);Ea.appendChild(fa);L.styleSheet.cssText=""})}(e,
c);u._enableHTML5=true;u._version="1.7";A.className=A.className.replace(/\bno-js\b/,"")+" js "+R.join(" ");return u}(this,this.document);
var Model=function(e,c){var g=function(i){this.attributes=jQuery.extend({},i);this.changes={};this.errors=new Model.Errors(this);this.uid=[e,Model.UID.generate()].join("-");jQuery.isFunction(this.initialize)&&this.initialize()};Model.Module.extend.call(g,Model.Module);g._name=e;g.collection=[];g.unique_key="id";g.extend(Model.Callbacks).extend(Model.ClassMethods);g.prototype=new Model.Base;g.prototype.constructor=g;jQuery.isFunction(c)&&c.call(g,g,g.prototype);return g};
Model.Callbacks={bind:function(e,c){this.callbacks=this.callbacks||{};this.callbacks[e]=this.callbacks[e]||[];this.callbacks[e].push(c);return this},trigger:function(e,c){this.callbacks=this.callbacks||{};var g=this.callbacks[e];if(g)for(var i=0;i<g.length;i++)g[i].apply(this,c||[]);return this},unbind:function(e,c){this.callbacks=this.callbacks||{};if(c)for(var g=this.callbacks[e]||[],i=0;i<g.length;i++)g[i]===c&&this.callbacks[e].splice(i,1);else delete this.callbacks[e];return this}};
Model.ClassMethods={add:function(e){var c=e.id();if(jQuery.inArray(e,this.collection)===-1&&!(c&&this.find(c))){this.collection.push(e);this.trigger("add",[e])}return this},all:function(){return this.collection.slice()},chain:function(e){return jQuery.extend({},this,{collection:e})},count:function(){return this.all().length},detect:function(e){for(var c=this.all(),g,i=0,k=c.length;i<k;i++){g=c[i];if(e.call(g,g,i))return g}},each:function(e,c){for(var g=this.all(),i=0,k=g.length;i<k;i++)e.call(c||
g[i],g[i],i,g);return this},find:function(e){return this.detect(function(){return this.id()==e})},first:function(){return this.all()[0]},load:function(e){if(this._persistence){var c=this;this._persistence.read(function(g){for(var i=0,k=g.length;i<k;i++)c.add(g[i]);e&&e.call(c,g)})}return this},last:function(){var e=this.all();return e[e.length-1]},map:function(e,c){for(var g=this.all(),i=[],k=0,l=g.length;k<l;k++)i.push(e.call(c||g[k],g[k],k,g));return i},persistence:function(e){if(arguments.length==
0)return this._persistence;else{var c=Array.prototype.slice.call(arguments,1);c.unshift(this);this._persistence=e.apply(e,c);return this}},pluck:function(e){for(var c=this.all(),g=[],i=0,k=c.length;i<k;i++)g.push(c[i].attr(e));return g},remove:function(e){for(var c,g=0,i=this.collection.length;g<i;g++)if(this.collection[g]===e){c=g;break}if(c!=undefined){this.collection.splice(c,1);this.trigger("remove",[e]);return true}else return false},reverse:function(){return this.chain(this.all().reverse())},
select:function(e,c){for(var g=this.all(),i=[],k,l=0,n=g.length;l<n;l++){k=g[l];if(e.call(c||k,k,l,g))i.push(k)}return this.chain(i)},sort:function(e){return this.chain(this.all().sort(e))},sortBy:function(e){var c=jQuery.isFunction(e);return this.sort(function(g,i){var k=c?e.call(g):g.attr(e),l=c?e.call(i):i.attr(e);return k<l?-1:k>l?1:0})},use:function(e){var c=Array.prototype.slice.call(arguments,1);c.unshift(this);e.apply(this,c);return this}};
Model.Errors=function(e){this.errors={};this.model=e};Model.Errors.prototype={add:function(e,c){this.errors[e]||(this.errors[e]=[]);this.errors[e].push(c);return this},all:function(){return this.errors},clear:function(){this.errors={};return this},each:function(e){for(var c in this.errors)for(var g=0;g<this.errors[c].length;g++)e.call(this,c,this.errors[c][g]);return this},on:function(e){return this.errors[e]||[]},size:function(){var e=0;this.each(function(){e++});return e}};
Model.InstanceMethods={asJSON:function(){return this.attr()},attr:function(e,c){if(arguments.length===0)return jQuery.extend({},this.attributes,this.changes);else if(arguments.length===2){if(this.attributes[e]===c)delete this.changes[e];else this.changes[e]=c;return this}else if(typeof e==="object"){for(var g in e)this.attr(g,e[g]);return this}else return e in this.changes?this.changes[e]:this.attributes[e]},callPersistMethod:function(e,c){var g=this,i=function(k){if(k){g.merge(g.changes).reset();
e==="destroy"?g.constructor.remove(g):g.constructor.add(g);g.trigger(e)}var l;if(c)l=c.apply(g,arguments);return l};this.constructor._persistence?this.constructor._persistence[e](this,i):i.call(this,true)},destroy:function(e){this.callPersistMethod("destroy",e);return this},id:function(){return this.attributes[this.constructor.unique_key]},merge:function(e){jQuery.extend(this.attributes,e);return this},newRecord:function(){return this.id()===undefined},reset:function(){this.errors.clear();this.changes=
{};return this},save:function(e){if(this.valid())this.callPersistMethod(this.newRecord()?"create":"update",e);else e&&e(false);return this},valid:function(){this.errors.clear();this.validate();return this.errors.size()===0},validate:function(){return this}};
Model.localStorage=function(e){if(!window.localStorage)return{create:function(k,l){l(true)},destroy:function(k,l){l(true)},read:function(k){k([])},update:function(k,l){l(true)}};var c=[e._name,"collection"].join("-"),g=function(){var k=localStorage[c];return k?JSON.parse(k):[]},i=function(k){localStorage.setItem(k.uid,JSON.stringify(k.asJSON()));k=k.uid;var l=g();if(jQuery.inArray(k,l)===-1){l.push(k);localStorage.setItem(c,JSON.stringify(l))}};return{create:function(k,l){i(k);l(true)},destroy:function(k,
l){localStorage.removeItem(k.uid);var n=k.uid,u=g();n=jQuery.inArray(n,u);if(n>-1){u.splice(n,1);localStorage.setItem(c,JSON.stringify(u))}l(true)},read:function(k){if(!k)return false;for(var l=e.map(function(){return this.uid}),n=g(),u=[],A,z,G=0,v=n.length;G<v;G++){z=n[G];if(jQuery.inArray(z,l)==-1){A=JSON.parse(localStorage[z]);A=new e(A);A.uid=z;u.push(A)}}k(u)},update:function(k,l){i(k);l(true)}}};Model.Log=function(){window.console&&window.console.log.apply(window.console,arguments)};
Model.Module={extend:function(e){jQuery.extend(this,e);return this},include:function(e){jQuery.extend(this.prototype,e);return this}};
Model.REST=function(e,c,g){var i=/:([\w\d]+)/g,k=function(){for(var l=[],n;(n=i.exec(c))!==null;)l.push(n[1]);return l}();return jQuery.extend({path:function(l){var n=c;jQuery.each(k,function(u,A){n=n.replace(":"+A,l.attributes[A])});return n},create:function(l,n){return this.xhr("POST",this.create_path(l),l,n)},create_path:function(l){return this.path(l)},destroy:function(l,n){return this.xhr("DELETE",this.destroy_path(l),l,n)},destroy_path:function(l){return this.update_path(l)},params:function(l){var n;
if(l){var u=l.asJSON();delete u[l.constructor.unique_key];n={};n[l.constructor._name.toLowerCase()]=u}else n=null;if(jQuery.ajaxSettings.data)n=jQuery.extend({},jQuery.ajaxSettings.data,n);return n},read:function(l){return this.xhr("GET",this.read_path(),null,function(n,u,A){A=jQuery.makeArray(A);n=[];u=0;for(var z=A.length;u<z;u++)n.push(new e(A[u]));l(n)})},read_path:function(){return c},update:function(l,n){return this.xhr("PUT",this.update_path(l),l,n)},update_path:function(l){return[this.path(l),
l.id()].join("/")},xhr:function(l,n,u,A){var z=this,G=l=="GET"?undefined:this.params(u);console.log(G);console.log(l);return jQuery.ajax({type:l,url:n+".json",dataType:"json",data:G,dataFilter:function(v){return/\S/.test(v)?v:undefined},complete:function(v,q){z.xhrComplete(v,q,u,A)}})},xhrComplete:function(l,n,u,A){var z=Model.REST["handle"+l.status];z&&z.call(this,l,n,u);n=n==="success";z=Model.REST.parseResponseData(l);n&&u&&z&&u.attr(z);A&&A.call(u,n,l,z)}},g)};Model.RestPersistence=Model.REST;
Model.REST.handle422=function(e,c,g){if(e=Model.REST.parseResponseData(e)){g.errors.clear();for(var i in e)for(c=0;c<e[i].length;c++)g.errors.add(i,e[i][c])}};Model.REST.parseResponseData=function(e){try{return/\S/.test(e.responseText)?jQuery.parseJSON(e.responseText):undefined}catch(c){Model.Log(c)}};Model.UID={counter:0,generate:function(){return[(new Date).valueOf(),this.counter++].join("-")},reset:function(){this.counter=0;return this}};Model.VERSION="0.10.1";
Model.Base=function(){function e(){}e.prototype=jQuery.extend({},Model.Callbacks,Model.InstanceMethods);return e}();
Model.SinatraREST=function(e,c,g){var i=/:([\w\d]+)/g,k=function(){for(var l=[],n;(n=i.exec(c))!==null;)l.push(n[1]);return l}();return jQuery.extend({path:function(l){var n=c;jQuery.each(k,function(u,A){n=n.replace(":"+A,l.attributes[A])});return n},create:function(l,n){return this.xhr("POST",this.create_path(l),l,n)},create_path:function(l){return this.path(l)},destroy:function(l,n){return this.xhr("DELETE",this.destroy_path(l),l,n)},destroy_path:function(l){return this.update_path(l)},params:function(l){var n;
if(l){var u=l.asJSON();delete u[l.constructor.unique_key];n={};n[l.constructor._name.toLowerCase()]=u}else n=null;if(jQuery.ajaxSettings.data)n=jQuery.extend({},jQuery.ajaxSettings.data,n);return n},read:function(l){return this.xhr("GET",this.read_path(),null,function(n,u,A){A=jQuery.makeArray(A);n=[];u=0;for(var z=A.length;u<z;u++)n.push(new e(A[u]));l(n)})},read_path:function(){return c},update:function(l,n){return this.xhr("PUT",this.update_path(l),l,n)},update_path:function(l){return[this.path(l),
l.id()].join("/")},xhr:function(l,n,u,A){var z=this,G=l=="GET"?undefined:this.params(u);return jQuery.ajax({type:l,url:n+".json",dataType:"json",data:G,complete:function(v,q){z.xhrComplete(v,q,u,A)}})},xhrComplete:function(l,n,u,A){var z=Model.REST["handle"+l.status];z&&z.call(this,l,n,u);n=n==="success";z=Model.REST.parseResponseData(l);n&&u&&z&&u.attr(z);A&&A.call(u,n,l,z)}},g)};
var CodeMirror=function(){function e(d,H){function O(a){Ya=null;var b={line:0,ch:0};la(b,{line:Y.length-1,ch:Y[Y.length-1].text.length},aa(a),b,b);Ya=new n}function P(){if(na.readOnly!="nocursor"){!bb&&na.onFocus&&na.onFocus(Qa);bb=true;ra();if(va.className.search(/\bCodeMirror-focused\b/)==-1)va.className+=" CodeMirror-focused";dc()}}function V(){bb&&na.onBlur&&na.onBlur(Qa);clearInterval($b);Ta=null;bb=false;va.className=va.className.replace(" CodeMirror-focused","")}function la(a,b,f,h,j){if(Ya){for(var m=
[],p=a.line,t=b.line+1;p<t;++p)m.push(Y[p].text);for(Ya.addChange(a.line,f.length,m);Ya.done.length>na.undoDepth;)Ya.done.shift()}ta(a,b,f,h,j)}function ja(a,b){var f=a.pop();if(f){for(var h=[],j=f.start+f.added,m=f.start;m<j;++m)h.push(Y[m].text);b.push({start:f.start,added:f.old.length,old:h});m=f.start+f.old.length-1;h=h[h.length-1];var p=f.old[f.old.length-1];if(p)if(h){for(var t=h.length,x=p.length;t>=0&&x>=0;--t,--x)if(h.charAt(t)!=p.charAt(x))break;h=x+1}else h=p.length;else h=h?h.length:0;
m=Ha({line:m,ch:h});ta({line:f.start,ch:0},{line:j-1,ch:Y[j-1].text.length},f.old,m,m)}}function za(){ja(Ya.done,Ya.undone)}function Ea(){ja(Ya.undone,Ya.done)}function ta(a,b,f,h,j){for(var m=false,p=xb.length,t=a.line;t<b.line;++t)if(Y[t].text.length==p){m=true;break}var x=b.line-a.line;t=Y[a.line];var w=Y[b.line];if(t==w)if(f.length==1)t.replace(a.ch,b.ch,f[0]);else{w=t.split(b.ch,f[f.length-1]);var F=[a.line+1,x];t.replace(a.ch,t.text.length,f[0]);t=1;for(var Z=f.length-1;t<Z;++t)F.push(new k(f[t]));
F.push(w);Y.splice.apply(Y,F)}else if(f.length==1){t.replace(a.ch,t.text.length,f[0]+w.text.slice(b.ch));Y.splice(a.line+1,x)}else{F=[a.line+1,x-1];t.replace(a.ch,t.text.length,f[0]);w.replace(0,b.ch,f[f.length-1]);t=1;for(Z=f.length-1;t<Z;++t)F.push(new k(f[t]));Y.splice.apply(Y,F)}t=a.line;for(Z=t+f.length;t<Z;++t){w=Y[t].text;if(w.length>p){xb=w;p=w.length;m=false}}if(m){t=p=0;for(Z=Y.length;t<Z;++t){w=Y[t].text;if(w.length>p){p=w.length;xb=w}}}m=[];x=f.length-x-1;t=0;for(w=db.length;t<w;++t){p=
db[t];if(p<a.line)m.push(p);else p>b.line&&m.push(p+x)}f.length&&m.push(a.line);db=m;Wb(100);Oa.push({from:a.line,to:b.line+1,diff:x});Eb={from:a,to:b,text:f};sb(h,j,U.from.line<=Math.min(b.line,b.line+x)?U.from.line:U.from.line+x,U.to.line<=Math.min(b.line,b.line+x)?U.to.line:U.to.line+x);gb.style.height=Y.length*$a()+2*Xa.offsetTop+"px"}function Ja(a,b,f){function h(m){if(o(m,b))return m;if(!o(f,m))return j;var p=m.line+a.length-(f.line-b.line)-1,t=m.ch;if(m.line==f.line)t+=a[a.length-1].length-
(f.ch-(f.line==b.line?b.ch:0));return{line:p,ch:t}}b=Ha(b);f=f?Ha(f):b;a=aa(a);var j;fa(a,b,f,function(m){j=m;return{from:h(U.from),to:h(U.to)}});return j}function L(a,b){fa(aa(a),U.from,U.to,function(f){return b=="end"?{from:f,to:f}:b=="start"?{from:U.from,to:U.from}:{from:U.from,to:f}})}function fa(a,b,f,h){h=h({line:b.line+a.length-1,ch:a.length==1?a[0].length+b.ch:a[a.length-1].length});la(b,f,a,h.from,h.to)}function ca(a,b){var f=a.line,h=b.line;if(f==h)return Y[f].text.slice(a.ch,b.ch);var j=
[Y[f].text.slice(a.ch)];for(f=f+1;f<h;++f)j.push(Y[f].text);j.push(Y[h].text.slice(0,b.ch));return j.join("\n")}function ha(){return ca(U.from,U.to)}function ra(){Fb||Kb.set(2E3,function(){Jb();Ia();bb&&ra();Xb()})}function sa(a){function b(){Jb();var h=Ia();if(h=="moved"&&a)La[a]=true;if(!h&&!f){f=true;Kb.set(80,b)}else{Fb=false;ra()}Xb()}var f=false;Fb=true;Kb.set(20,b)}function Ia(){function a(Fa,ya){for(var Ga=0;;){var Ra=f.indexOf("\n",Ga);if(Ra==-1||(f.charAt(Ra-1)=="\r"?Ra-1:Ra)>=Fa)return{line:ya,
ch:Fa-Ga};++ya;Ga=Ra+1}}if(!hb){var b=false,f=Da.value,h=S(Da);if(!h)return false;b=Pa.text!=f;var j=Za,m=b||h.start!=Pa.start||h.end!=(j?Pa.start:Pa.end);if(!m&&!j)return false;if(b){Ta=Za=null;if(na.readOnly){eb=true;return"changed"}}var p=a(h.start,Pa.from),t=a(h.end,Pa.from);if(j){p=h.start==j.anchor?t:p;t=Ta?U.to:h.start==j.anchor?p:t;if(!o(p,t)){Za=null;U.inverted=false;j=p;p=t;t=j}}if(p.line==t.line&&p.line==U.from.line&&p.line==U.to.line&&!Ta)eb=false;if(b){j=0;for(var x=f.length,w=Math.min(x,
Pa.text.length),F,Z=Pa.from,ma=-1;j<w&&(F=f.charAt(j))==Pa.text.charAt(j);){++j;if(F=="\n"){Z++;ma=j}}w=ma>-1?j-ma:j;for(var oa=Pa.to-1,pa=Pa.text.length;;){F=Pa.text.charAt(pa);F=="\n"&&oa--;if(f.charAt(x)!=F){++x;++pa;break}if(pa<=j||x<=j)break;--x;--pa}ma=Pa.text.lastIndexOf("\n",pa-1);la({line:Z,ch:w},{line:oa,ch:ma==-1?pa:pa-ma-1},aa(f.slice(j,x)),p,t);if(Z!=oa||p.line!=Z)eb=true}else sb(p,t);Pa.text=f;Pa.start=h.start;Pa.end=h.end;return b?"changed":m?"moved":false}}function fb(){for(var a=
[],b=Math.max(0,U.from.line-1),f=Math.min(Y.length,U.to.line+2),h=b;h<f;++h)a.push(Y[h].text);a=Da.value=a.join(ga);var j=U.from.ch,m=U.to.ch;for(h=b;h<U.from.line;++h)j+=ga.length+Y[h].text.length;for(h=b;h<U.to.line;++h)m+=ga.length+Y[h].text.length;Pa={text:a,from:b,to:f,start:j,end:m};X(Da,j,Za?j:m)}function kb(){na.readOnly!="nocursor"&&Da.focus()}function zb(){var a=Ub(U.inverted?U.from:U.to);return Pb(a.x,a.y,a.x,a.yBot)}function Pb(a,b,f,h){var j=Xa.offsetLeft,m=Xa.offsetTop,p=$a();b+=m;h+=
m;a+=j;f+=j;var t=va.clientHeight,x=va.scrollTop;j=false;m=true;if(b<x){va.scrollTop=Math.max(0,b-2*p);j=true}else if(h>x+t){va.scrollTop=h+p-t;j=true}b=va.clientWidth;h=va.scrollLeft;if(a<h){va.scrollLeft=Math.max(0,a-10);j=true}else if(f>b+h){va.scrollLeft=f+10-b;j=true;if(f>gb.clientWidth)m=false}j&&na.onScroll&&na.onScroll(Qa);return m}function Qb(){var a=$a(),b=va.scrollTop-Xa.offsetTop;return{from:Math.min(Y.length,Math.max(0,Math.floor(b/a))),to:Math.min(Y.length,Math.ceil((b+va.clientHeight)/
a))}}function lb(a){if(va.clientWidth){for(var b=a===true?[]:[{from:Ka,to:Ma,domStart:0}],f=0,h=a.length||0;f<h;++f){for(var j=a[f],m=[],p=j.diff||0,t=0,x=b.length;t<x;++t){var w=b[t];if(j.to<=w.from)m.push({from:w.from+p,to:w.to+p,domStart:w.domStart});else if(w.to<=j.from)m.push(w);else{j.from>w.from&&m.push({from:w.from,to:j.from,domStart:w.domStart});j.to<w.to&&m.push({from:j.to+p,to:w.to+p,domStart:w.domStart+(j.to-w.from)})}}b=m}p=Qb();j=Math.min(Ka,Math.max(p.from-3,0));m=Math.min(Y.length,
Math.max(Ma,p.to+3));a=[];t=0;x=Ma-Ka;var F=j,Z=0;f=0;for(h=b.length;f<h;++f){w=b[f];if(!(w.to<=j)){if(w.from>=m)break;if(w.domStart>t||w.from>F){a.push({from:F,to:w.from,domSize:w.domStart-t,domStart:t});Z+=w.from-F}F=w.to;t=w.domStart+(w.to-w.from)}}if(t!=x||F!=m){Z+=Math.abs(m-F);a.push({from:F,to:m,domSize:x-t,domStart:t})}if(a.length){Sa.style.display="none";if(Z>(p.to-p.from)*0.3){w=j=Math.max(p.from-10,0);b=m=Math.min(p.to+7,Y.length);f=[];h={line:w,ch:0};h=o(U.from,h)&&!o(U.to,h);for(w=w;w<
b;++w){t=p=null;if(h){p=0;if(U.to.line==w){h=false;t=U.to.ch}}else if(U.from.line==w)if(U.to.line==w){p=U.from.ch;t=U.to.ch}else{h=true;p=U.from.ch}f.push(Y[w].getHTML(p,t,true))}Sa.innerHTML=f.join("")}else{b=U.from.line;f=U.to.line;h=0;w=ka&&ab.createElement("div");p=0;for(t=a.length;p<t;++p){x=a[p];F=x.to-x.from-x.domSize;Z=Sa.childNodes[x.domStart+x.domSize+h]||null;if(ka)for(var ma=Math.max(-F,x.domSize);ma>0;--ma)Sa.removeChild(Z?Z.previousSibling:Sa.lastChild);else if(F){for(ma=Math.max(0,
F);ma>0;--ma)Sa.insertBefore(ab.createElement("pre"),Z);for(ma=Math.max(0,-F);ma>0;--ma)Sa.removeChild(Z?Z.previousSibling:Sa.lastChild)}var oa=Sa.childNodes[x.domStart+h],pa=b<x.from&&f>=x.from;for(ma=x.from;ma<x.to;++ma){var Fa=null,ya=null;if(pa){Fa=0;if(f==ma){pa=false;ya=U.to.ch}}else if(b==ma)if(f==ma){Fa=U.from.ch;ya=U.to.ch}else{pa=true;Fa=U.from.ch}if(ka){w.innerHTML=Y[ma].getHTML(Fa,ya,true);Sa.insertBefore(w.firstChild,Z)}else{oa.innerHTML=Y[ma].getHTML(Fa,ya,false);oa.className=Y[ma].className||
"";oa=oa.nextSibling}}h+=F}}Sa.style.display="";b=j!=Ka||m!=Ma||rb!=va.clientHeight;Ka=j;Ma=m;Yb.style.top=j*$a()+"px";if(b){rb=va.clientHeight;gb.style.height=Y.length*$a()+2*Xa.offsetTop+"px";Ab()}j=Ib(xb);Xa.style.width=j>va.clientWidth?j+"px":"";if(Sa.childNodes.length!=Ma-Ka)throw new Error("BAD PATCH! "+JSON.stringify(a)+" size="+(Ma-Ka)+" nodes="+Sa.childNodes.length);Bb()}}else Ka=Ma=0}function Ab(){if(na.gutter||na.lineNumbers){var a=Yb.offsetHeight,b=va.clientHeight;jb.style.height=(a-b<
2?b:a)+"px";a=[];for(b=Ka;b<Ma;++b){var f=Y[b].gutterMarker,h=na.lineNumbers?b+na.firstLineNumber:null;if(f&&f.text)h=f.text.replace("%N%",h!=null?h:"");else if(h==null)h="\u00a0";a.push(f&&f.style?'<pre class="'+f.style+'">':"<pre>",h,"</pre>")}jb.style.display="none";Cb.innerHTML=a.join("");a=String(Y.length).length;b=Cb.firstChild;f=b.textContent||b.innerText||b.nodeValue||"";for(h="";f.length+h.length<a;)h+="\u00a0";h&&b.insertBefore(ab.createTextNode(h),b.firstChild);jb.style.display="";Xa.style.marginLeft=
jb.offsetWidth+"px"}}function Bb(){var a=U.inverted?U.from:U.to,b=Sb(a.line,a.ch)+"px";a=(a.line-Ka)*$a()+"px";Zb.style.top=a;if(E(U.from,U.to)){qb.style.top=a;qb.style.left=b;qb.style.display=""}else qb.style.display="none"}function nb(a,b){var f=Ta&&Ha(Ta);if(f)if(o(f,a))a=f;else if(o(b,f))b=f;sb(a,b)}function sb(a,b,f,h){if(!(E(U.from,a)&&E(U.to,b))){if(o(b,a)){var j=b;b=a;a=j}j=E(U.to,b);var m=E(U.from,a);if(E(a,b))U.inverted=false;else if(j&&!m)U.inverted=true;else if(m&&!j)U.inverted=false;
if(f==null){f=U.from.line;h=U.to.line}if(E(a,b))E(U.from,U.to)||Oa.push({from:f,to:h+1});else if(E(U.from,U.to))Oa.push({from:a.line,to:b.line+1});else{E(a,U.from)||(a.line<f?Oa.push({from:a.line,to:Math.min(b.line,f)+1}):Oa.push({from:f,to:Math.min(h,a.line)+1}));E(b,U.to)||(b.line<h?Oa.push({from:Math.max(f,a.line),to:h+1}):Oa.push({from:Math.max(a.line,h),to:b.line+1}))}U.from=a;U.to=b;mb=true}}function tb(a,b,f){a=Ha({line:a,ch:b||0});(f?nb:sb)(a,a)}function ub(a){return Math.max(0,Math.min(a,
Y.length-1))}function Ha(a){if(a.line<0)return{line:0,ch:0};if(a.line>=Y.length)return{line:Y.length-1,ch:Y[Y.length-1].text.length};var b=a.ch,f=Y[a.line].text.length;return b==null||b>f?{line:a.line,ch:f}:b<0?{line:a.line,ch:0}:a}function mc(a){nb({line:a,ch:0},{line:a,ch:Y[a].text.length})}function ob(a,b){if(b=="smart")if(Ua.indent)var f=hc(a);else b="prev";var h=Y[a],j=h.indentation(),m=h.text.match(/^\s*/)[0],p;if(b=="prev")p=a?Y[a-1].indentation():0;else if(b=="smart")p=Ua.indent(f,h.text.slice(m.length));
else if(b=="add")p=j+na.indentUnit;else if(b=="subtract")p=j-na.indentUnit;p=Math.max(0,p);if(p-j){j="";f=0;if(na.indentWithTabs)for(h=Math.floor(p/ia);h;--h){f+=ia;j+="\t"}for(;f<p;){++f;j+=" "}}else{if(U.from.line!=a&&U.to.line!=a)return;j=m}Ja(j,{line:a,ch:0},{line:a,ch:m.length})}function ec(){Ua=e.getMode(na,na.mode);for(var a=0,b=Y.length;a<b;++a)Y[a].stateAfter=null;db=[0];Wb()}function Rb(a,b,f){function h(t,x,w,F){t=Y[t];x=t.addMark(x,w,F);x.line=t;j.push(x)}a=Ha(a);b=Ha(b);var j=[];if(a.line==
b.line)h(a.line,a.ch,b.ch,f);else{h(a.line,a.ch,null,f);for(var m=a.line+1,p=b.line;m<p;++m)h(m,0,null,f);h(b.line,0,b.ch,f)}Oa.push({from:a.line,to:b.line+1});return function(){for(var t,x,w=0;w<j.length;++w){var F=j[w],Z=C(Y,F.line);F.line.removeMark(F);if(Z>-1){if(t==null)t=Z;x=Z}}t!=null&&Oa.push({from:t,to:x+1})}}function Ib(a){cb.innerHTML="<pre><span>x</span></pre>";cb.firstChild.firstChild.firstChild.nodeValue=a;return cb.firstChild.firstChild.offsetWidth||10}function Sb(a,b){if(b==0)return 0;
cb.innerHTML="<pre><span>"+Y[a].getHTML(null,null,false,b)+"</span></pre>";return cb.firstChild.firstChild.offsetWidth}function Tb(a,b){function f(F){cb.innerHTML="<pre><span>"+h.getHTML(null,null,false,F)+"</span></pre>";return cb.firstChild.firstChild.offsetWidth}if(b<=0)return 0;for(var h=Y[a],j=0,m=0,p=h.text.length,t,x=Math.min(p,Math.ceil(b/Ib("x")));;){var w=f(x);if(w<=b&&x<p)x=Math.min(p,Math.ceil(x*1.2));else{t=w;p=x;break}}if(b>t)return p;x=Math.floor(p*0.8);w=f(x);if(w<b){j=x;m=w}for(;;){if(p-
j<=1)return t-b>b-m?j:p;x=Math.ceil((j+p)/2);w=f(x);if(w>b){p=x;t=w}else{j=x;m=w}}}function Ub(a,b){var f=$a(),h=a.line-(b?Ka:0);return{x:Sb(a.line,a.ch),y:h*f,yBot:(h+1)*f}}function fc(a){a=Ub(a,true);var b=y(Xa);return{x:b.left+a.x,y:b.top+a.y,yBot:b.top+a.yBot}}function $a(){var a=Sa.childNodes.length;if(a)return Sa.offsetHeight/a||1;cb.innerHTML="<pre>x</pre>";return cb.firstChild.offsetHeight||1}function pb(a,b){var f=y(va,true),h=a.e.clientX,j=a.e.clientY;if(!b&&(h-f.left>va.clientWidth||j-
f.top>va.clientHeight))return null;f=y(Xa,true);j=Ka+Math.floor((j-f.top)/$a());return Ha({line:j,ch:Tb(ub(j),h-f.left)})}function gc(a){function b(){Da.value!=j&&Ba(L)(Da.value,"end");Da.style.cssText=h;hb=false;fb();ra()}var f=pb(a);if(!(!f||window.opera)){if(E(U.from,U.to)||o(f,U.from)||!o(f,U.to))tb(f.line,f.ch);var h=Da.style.cssText;Da.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(a.pageY()-1)+"px; left: "+(a.pageX()-1)+"px; z-index: 1000; background: white; border-width: 0; outline: none; overflow: hidden;";
var j=Da.value=ha();kb();X(Da,0,Da.value.length);hb=true;if(R){a.stop();var m=G(window,"mouseup",function(){m();setTimeout(b,20)},true)}else setTimeout(b,50)}}function dc(){clearInterval($b);var a=true;qb.style.visibility="";$b=setInterval(function(){qb.style.visibility=(a=!a)?"":"hidden"},650)}function Wa(a){function b(ya,Ga,Ra){if(ya.text){var s=ya.styles;ya=p?0:ya.text.length-1;for(var B,K=p?0:s.length-2,M=p?s.length:-2;K!=M;K+=2*t){var J=s[K];if(s[K+1]!=null&&s[K+1]!=Z)ya+=t*J.length;else for(var N=
p?0:J.length-1,W=p?J.length:-1;N!=W;N+=t,ya+=t)if(ya>=Ga&&ya<Ra&&oa.test(B=J.charAt(N))){var ea=bc[B];if(ea.charAt(1)==">"==p)ma.push(B);else if(ma.pop()!=ea.charAt(0))return{pos:ya,match:false};else if(!ma.length)return{pos:ya,match:true}}}}}var f=U.inverted?U.from:U.to,h=Y[f.line],j=f.ch-1,m=j>=0&&bc[h.text.charAt(j)]||bc[h.text.charAt(++j)];if(m){m.charAt(0);var p=m.charAt(1)==">",t=p?1:-1,x=h.styles,w=j+1;m=0;for(var F=x.length;m<F;m+=2)if((w-=x[m].length)<=0){var Z=x[m+1];break}var ma=[h.text.charAt(j)],
oa=/[(){}[\]]/;m=f.line;for(F=p?Math.min(m+50,Y.length):Math.max(-1,m-50);m!=F;m+=t){h=Y[m];x=m==f.line;if(h=b(h,x&&p?j+1:0,x&&!p?j:h.text.length)){Z=h.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";var pa=Rb({line:f.line,ch:j},{line:f.line,ch:j+1},Z),Fa=Rb({line:m,ch:h.pos},{line:m,ch:h.pos+1},Z);f=Ba(function(){pa();Fa()});if(a)setTimeout(f,800);else ib=f;break}}}}function Vb(a){for(var b,f,h=a;h>a-40;--h){if(h==0)return 0;var j=Y[h-1];if(j.stateAfter)return h;j=j.indentation();
if(f==null||b>j){f=h;b=j}}return f}function hc(a){var b=Vb(a),f=b&&Y[b-1].stateAfter;f=f?c(Ua,f):g(Ua);for(b=b;b<a;++b){var h=Y[b];h.highlight(Ua,f);h.stateAfter=c(Ua,f)}Y[a].stateAfter||db.push(a);return f}function nc(){for(var a=+new Date+na.workTime,b=false;db.length;){var f=Y[Ka].stateAfter?db.pop():Ka;if(!(f>=Y.length)){b=true;var h=Vb(f),j=h&&Y[h-1].stateAfter;j=j?c(Ua,j):g(Ua);h=h;for(var m=Y.length;h<m;++h){var p=Y[h],t=p.stateAfter;if(+new Date>a){db.push(h);Wb(na.workDelay);Oa.push({from:f,
to:h});return}var x=p.highlight(Ua,j);p.stateAfter=c(Ua,j);if(t&&!x&&p.text)break}Oa.push({from:f,to:h})}}b&&na.onHighlightComplete&&na.onHighlightComplete(Qa)}function Wb(a){db.length&&oc.set(a,Ba(nc))}function Jb(){eb=null;Oa=[];Eb=mb=false}function Xb(){var a=false;if(mb)a=!zb();if(Oa.length)lb(Oa);else mb&&Bb();a&&zb();mb&&dc();if(!hb&&(eb===true||eb!==false&&mb))fb();mb&&na.matchBrackets&&setTimeout(Ba(function(){if(ib){ib();ib=null}Wa(false)}),20);a=Eb;mb&&na.onCursorActivity&&na.onCursorActivity(Qa);
a&&na.onChange&&Qa&&na.onChange(Qa,a)}function Ba(a){return function(){cc++||Jb();try{var b=a.apply(this,arguments)}finally{--cc||Xb()}return b}}function ic(a,b,f){this.atOccurrence=false;if(f==null)f=typeof a=="string"&&a==a.toLowerCase();b=b&&typeof b=="object"?Ha(b):{line:0,ch:0};this.pos={from:b,to:b};if(typeof a!="string")this.matches=function(m,p){if(m)for(var t=Y[p.line].text.slice(0,p.ch),x=t.match(a),w=0;x;){var F=t.indexOf(x[0]);w+=F;t=t.slice(F+1);if(F=t.match(a))x=F;else break;w++}else{t=
Y[p.line].text.slice(p.ch);w=(x=t.match(a))&&p.ch+t.indexOf(x[0])}if(x)return{from:{line:p.line,ch:w},to:{line:p.line,ch:w+x[0].length},match:x}};else{if(f)a=a.toLowerCase();var h=f?function(m){return m.toLowerCase()}:function(m){return m},j=a.split("\n");this.matches=j.length==1?function(m,p){var t=h(Y[p.line].text),x=a.length,w;if(m?p.ch>=x&&(w=t.lastIndexOf(a,p.ch-x))!=-1:(w=t.indexOf(a,p.ch))!=-1)return{from:{line:p.line,ch:w},to:{line:p.line,ch:w+x}}}:function(m,p){var t=p.line,x=m?j.length-
1:0,w=j[x],F=h(Y[t].text),Z=m?F.indexOf(w)+w.length:F.lastIndexOf(w);if(!(m?Z>=p.ch||Z!=w.length:Z<=p.ch||Z!=F.length-w.length))for(;;){if(m?!t:t==Y.length-1)return;F=h(Y[t+=m?-1:1].text);w=j[m?--x:++x];if(x>0&&x<j.length-1)if(F!=w)return;else continue;x=m?F.lastIndexOf(w):F.indexOf(w)+w.length;if(m?x!=F.length-w.length:x!=w.length)return;w={line:p.line,ch:Z};t={line:t,ch:x};return{from:m?t:w,to:m?w:t}}}}}var na={},Ob=e.defaults;for(var Gb in Ob)if(Ob.hasOwnProperty(Gb))na[Gb]=(H&&H.hasOwnProperty(Gb)?
H:Ob)[Gb];var ab=na.document,va=ab.createElement("div");va.className="CodeMirror";if(window.ActiveXObject&&/MSIE [1-7]\b/.test(navigator.userAgent))va.style.position="relative";va.innerHTML='<div style="position: relative"><div style="position: absolute; height: 0; width: 0; overflow: hidden;"></div><div style="position: relative"><div class="CodeMirror-gutter"><div class="CodeMirror-gutter-text"></div></div><div style="overflow: hidden; position: absolute; width: 1px; height: 0; left: 0"><textarea style="position: absolute; width: 100000px;" wrap="off"></textarea></div><div class="CodeMirror-lines"><div style="position: relative"><pre class="CodeMirror-cursor">&#160;</pre><div></div></div></div></div></div>';
d.appendChild?d.appendChild(va):d(va);var gb=va.firstChild,cb=gb.firstChild,Yb=cb.nextSibling,jb=Yb.firstChild,Cb=jb.firstChild,Zb=jb.nextSibling,Da=Zb.firstChild,Xa=Zb.nextSibling.firstChild,qb=Xa.firstChild,Sa=qb.nextSibling;if(na.tabindex!=null)Da.tabindex=na.tabindex;if(!na.gutter&&!na.lineNumbers)jb.style.display="none";var Kb=new v,oc=new v,$b,Ua,Y=[new k("")],db,Ya=new n,bb;ec();var U={from:{line:0,ch:0},to:{line:0,ch:0},inverted:false},Ta,Za,jc,eb,Oa,Eb,mb,hb,Ka=0,Ma=0,rb=0,Nb=null,Pa,ib,
xb="";Ba(function(){O(na.value||"");eb=false})();setTimeout(fb,20);G(va,"mousedown",Ba(function(a){function b(w){var F=pb(w,true);if(F&&!E(F,m)){bb||P();m=F;nb(j,F);eb=false;var Z=Qb();if(F.line>=Z.to||F.line<Z.from)p=setTimeout(Ba(function(){b(w)}),150)}}var f=jc;jc=null;for(var h=a.target();h!=va;h=h.parentNode)if(h.parentNode==Cb){na.onGutterClick&&na.onGutterClick(Qa,C(Cb.childNodes,h)+Ka);return a.stop()}R&&a.button()==3&&gc(a);if(a.button()==1){var j=pb(a),m=j,p;if(j){bb||P();a.stop();if(f&&
+new Date-f<400)return mc(j.line);tb(j.line,j.ch,true);var t=G(ab,"mousemove",Ba(function(w){clearTimeout(p);w.stop();b(w)}),true),x=G(ab,"mouseup",Ba(function(w){clearTimeout(p);var F=pb(w);F&&nb(j,F);w.stop();kb();eb=true;t();x()}),true)}else a.target()==va&&a.stop()}}));R||G(va,"contextmenu",Ba(gc));G(gb,"dblclick",Ba(function(a){var b=pb(a);if(b){for(var f=Y[b.line].text,h=b.ch,j=b.ch;h>0&&/\w/.test(f.charAt(h-1));)--h;for(;j<f.length&&/\w/.test(f.charAt(j));)++j;nb({line:b.line,ch:h},{line:b.line,
ch:j});a.stop();jc=+new Date}}));G(va,"scroll",function(){lb([]);na.onScroll&&na.onScroll(Qa)});G(window,"resize",function(){lb(true)});G(Da,"keyup",Ba(function(a){if(!(na.onKeyEvent&&na.onKeyEvent(Qa,A(a.e)))){if(Za){Za=null;eb=true}if(a.e.keyCode==16)Ta=null}}));G(Da,"keydown",Ba(function(a){bb||P();var b=a.e.keyCode,f=(Aa?a.e.metaKey:a.e.ctrlKey)&&!a.e.altKey,h=a.e.ctrlKey||a.e.altKey||a.e.metaKey;Ta=b==16||a.e.shiftKey?Ta||(U.inverted?U.to:U.from):null;if(!(na.onKeyEvent&&na.onKeyEvent(Qa,A(a.e)))){if(b==
33||b==34){b=b==34;f=Math.floor(va.clientHeight/$a());h=U.inverted?U.from:U.to;tb(h.line+Math.max(f-1,1)*(b?1:-1),h.ch,true);return a.stop()}if(f&&(b==36||b==35||Aa&&(b==38||b==40))){tb(b==36||b==38?0:Y.length-1,true);return a.stop()}if(f&&b==65){b=Y.length-1;sb({line:0,ch:0},{line:b,ch:Y[b].text.length});return a.stop()}if(!na.readOnly){if(!h&&b==13)return;if(h=!h){if(h=b==9)a:{h=a.e.shiftKey;Ta=null;switch(na.tabMode){case "default":h=false;break a;case "indent":for(var j=U.from.line,m=U.to.line;j<=
m;++j)ob(j,"smart");break;case "classic":if(E(U.from,U.to)){h?ob(U.from.line,"smart"):L("\t","end");break}case "shift":j=U.from.line;for(m=U.to.line;j<=m;++j)ob(j,h?"subtract":"add");break}h=true}h=h}if(h)return a.stop();if(f&&b==90){za();return a.stop()}if(f&&(a.e.shiftKey&&b==90||b==89)){Ea();return a.stop()}}Nb=(f?"c":"")+b;if(U.inverted&&La.hasOwnProperty(Nb))if(a=S(Da)){Za={anchor:a.start};X(Da,a.start,a.start)}sa(Nb)}}));G(Da,"keypress",Ba(function(a){if(!(na.onKeyEvent&&na.onKeyEvent(Qa,A(a.e)))){if(na.electricChars&&
Ua.electricChars){var b=String.fromCharCode(a.e.charCode==null?a.e.keyCode:a.e.charCode);Ua.electricChars.indexOf(b)>-1&&setTimeout(Ba(function(){ob(U.to.line,"smart")}),50)}b=a.e.keyCode;if(b==13){if(!na.readOnly){L("\n","end");if(na.enterMode!="flat")ob(U.from.line,na.enterMode=="keep"?"prev":"smart")}a.stop()}else!a.e.ctrlKey&&!a.e.altKey&&!a.e.metaKey&&b==9&&na.tabMode!="default"?a.stop():sa(Nb)}}));G(Da,"focus",P);G(Da,"blur",V);G(va,"dragenter",function(a){a.stop()});G(va,"dragover",function(a){a.stop()});
G(va,"drop",Ba(function(a){var b=pb(a,true),f=a.e.dataTransfer.files;if(!(!b||na.readOnly))if(f&&f.length&&window.FileReader&&window.File){var h=f.length,j=Array(h),m=0;for(a=0;a<h;++a)p(f[a],a);var p=function(x,w){var F=new FileReader;F.onload=function(){j[w]=F.result;++m==h&&Ja(j.join(""),Ha(b),Ha(b))};F.readAsText(x)}}else try{(j=a.e.dataTransfer.getData("Text"))&&Ja(j,b,b)}catch(t){}}));G(va,"paste",function(){kb();sa()});G(Da,"paste",function(){sa()});G(Da,"cut",function(){sa()});ab.activeElement==
Da?P():V();var Qa={getValue:function(){for(var a=[],b=0,f=Y.length;b<f;++b)a.push(Y[b].text);return a.join("\n")},setValue:Ba(O),getSelection:ha,replaceSelection:Ba(L),focus:function(){kb();P();sa()},setOption:function(a,b){na[a]=b;if(a=="lineNumbers"||a=="gutter"){var f=na.gutter||na.lineNumbers;jb.style.display=f?"":"none";if(f)Ab();else Sa.parentNode.style.marginLeft=0}else if(a=="mode"||a=="indentUnit")ec();else a=="readOnly"&&b=="nocursor"&&Da.blur()},getOption:function(a){return na[a]},undo:Ba(za),
redo:Ba(Ea),indentLine:Ba(function(a){a>=0&&a<Y.length&&ob(a,"smart")}),historySize:function(){return{undo:Ya.done.length,redo:Ya.undone.length}},matchBrackets:Ba(function(){Wa(true)}),getTokenAt:function(a){a=Ha(a);return Y[a.line].getTokenAt(Ua,hc(a.line),a.ch)},cursorCoords:function(a){if(a==null)a=U.inverted;return fc(a?U.from:U.to)},charCoords:function(a){return fc(Ha(a))},coordsChar:function(a){var b=y(Xa),f=ub(Math.min(Y.length-1,Ka+Math.floor((a.y-b.top)/$a())));return Ha({line:f,ch:Tb(ub(f),
a.x-b.left)})},getSearchCursor:function(a,b,f){return new ic(a,b,f)},markText:Ba(function(a,b,f){return Ba(Rb(a,b,f))}),setMarker:function(a,b,f){if(typeof a=="number")a=Y[ub(a)];a.gutterMarker={text:b,style:f};Ab();return a},clearMarker:function(a){if(typeof a=="number")a=Y[ub(a)];a.gutterMarker=null;Ab()},setLineClass:Ba(function(a,b){if(typeof a=="number"){var f=a;a=Y[ub(a)]}else{f=C(Y,a);if(f==-1)return null}if(a.className!=b){a.className=b;Oa.push({from:f,to:f+1})}return a}),lineInfo:function(a){if(typeof a==
"number"){var b=a;a=Y[a];if(!a)return null}else{b=C(Y,a);if(b==-1)return null}var f=a.gutterMarker;return{line:b,text:a.text,markerText:f&&f.text,markerClass:f&&f.style}},addWidget:function(a,b,f){a=Ub(Ha(a),true);b.style.top=Ka*$a()+a.yBot+Xa.offsetTop+"px";b.style.left=a.x+Xa.offsetLeft+"px";gb.appendChild(b);f&&Pb(a.x,a.yBot,a.x+b.offsetWidth,a.yBot+b.offsetHeight)},lineCount:function(){return Y.length},getCursor:function(a){if(a==null)a=U.inverted;return{line:(a?U.from:U.to).line,ch:(a?U.from:
U.to).ch}},somethingSelected:function(){return!E(U.from,U.to)},setCursor:Ba(function(a,b){b==null&&typeof a.line=="number"?tb(a.line,a.ch):tb(a,b)}),setSelection:Ba(function(a,b){sb(Ha(a),Ha(b||a))}),getLine:function(a){if(a>=0&&a<Y.length)return Y[a].text},setLine:Ba(function(a,b){a>=0&&a<Y.length&&Ja(b,{line:a,ch:0},{line:a,ch:Y[a].text.length})}),removeLine:Ba(function(a){a>=0&&a<Y.length&&Ja("",{line:a,ch:0},Ha({line:a+1,ch:0}))}),replaceRange:Ba(Ja),getRange:function(a,b){return ca(Ha(a),Ha(b))},
operation:function(a){return Ba(a)()},refresh:function(){lb(true)},getInputField:function(){return Da},getWrapperElement:function(){return va}},Fb=false,bc={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},cc=0;ic.prototype={findNext:function(){return this.find(false)},findPrevious:function(){return this.find(true)},find:function(a){function b(j){j={line:j,ch:0};f.pos={from:j,to:j};return f.atOccurrence=false}for(var f=this,h=Ha(a?this.pos.from:this.pos.to);;){if(this.pos=this.matches(a,h)){this.atOccurrence=
true;return this.pos.match||true}if(a){if(!h.line)return b(0);h={line:h.line-1,ch:Y[h.line-1].text.length}}else{if(h.line==Y.length-1)return b(Y.length);h={line:h.line+1,ch:0}}}},from:function(){if(this.atOccurrence)return{line:this.pos.from.line,ch:this.pos.from.ch}},to:function(){if(this.atOccurrence)return{line:this.pos.to.line,ch:this.pos.to.ch}}};return Qa}function c(d,H){if(H===true)return H;if(d.copyState)return d.copyState(H);var O={};for(var P in H){var V=H[P];if(V instanceof Array)V=V.concat([]);
O[P]=V}return O}function g(d,H,O){return d.startState?d.startState(H,O):true}function i(d){this.pos=this.start=0;this.string=d}function k(d,H){this.styles=H||[d,null];this.stateAfter=null;this.text=d;this.marked=this.gutterMarker=this.className=null}function l(d,H,O,P){for(var V=0,la=0,ja=0;la<H;V+=2){var za=O[V],Ea=la+za.length;if(ja==0){Ea>d&&P.push(za.slice(d-la,Math.min(za.length,H-la)),O[V+1]);if(Ea>=d)ja=1}else if(ja==1)Ea>H?P.push(za.slice(0,H-la),O[V+1]):P.push(za,O[V+1]);la=Ea}}function n(){this.time=
0;this.done=[];this.undone=[]}function u(){if(this.preventDefault){this.preventDefault();this.stopPropagation()}else{this.returnValue=false;this.cancelBubble=true}}function A(d){if(!d.stop)d.stop=u;return d}function z(d){this.e=d}function G(d,H,O,P){function V(la){O(new z(la||window.event))}if(typeof d.addEventListener=="function"){d.addEventListener(H,V,false);if(P)return function(){d.removeEventListener(H,V,false)}}else{d.attachEvent("on"+H,V);if(P)return function(){d.detachEvent("on"+H,V)}}}function v(){this.id=
null}function q(d,H){if(H==null){H=d.search(/[^\s\u00a0]/);if(H==-1)H=d.length}for(var O=0,P=0;O<H;++O)if(d.charAt(O)=="\t")P+=ia-P%ia;else++P;return P}function y(d,H){for(var O=d.ownerDocument.body,P=0,V=0,la=false,ja=d;ja;ja=ja.offsetParent){P+=ja.offsetLeft;V+=ja.offsetTop;if(ja==O)la=true}for(ja=d.parentNode;ja!=(H&&la?null:O);ja=ja.parentNode)if(ja.scrollLeft!=null){P-=ja.scrollLeft;V-=ja.scrollTop}return{left:P,top:V}}function E(d,H){return d.line==H.line&&d.ch==H.ch}function o(d,H){return d.line<
H.line||d.line==H.line&&d.ch<H.ch}function r(d){return d.replace(/[<>&]/g,function(H){return H=="&"?"&amp;":H=="<"?"&lt;":"&gt;"})}function C(d,H){if(d.indexOf)return d.indexOf(H);for(var O=0,P=d.length;O<P;++O)if(d[O]==H)return O;return-1}e.defaults={value:"",mode:null,indentUnit:2,indentWithTabs:false,tabMode:"classic",enterMode:"indent",electricChars:true,onKeyEvent:null,lineNumbers:false,gutter:false,firstLineNumber:1,readOnly:false,onChange:null,onCursorActivity:null,onGutterClick:null,onHighlightComplete:null,
onFocus:null,onBlur:null,onScroll:null,matchBrackets:false,workTime:100,workDelay:200,undoDepth:40,tabindex:null,document:window.document};var I={},da={};e.defineMode=function(d,H){if(!e.defaults.mode&&d!="null")e.defaults.mode=d;I[d]=H};e.defineMIME=function(d,H){da[d]=H};e.getMode=function(d,H){if(typeof H=="string"&&da.hasOwnProperty(H))H=da[H];if(typeof H=="string")var O=H,P={};else if(H!=null){O=H.name;P=H}var V=I[O];if(!V){window.console&&console.warn("No mode "+O+" found, falling back to plain text.");
return e.getMode(d,"text/plain")}return V(d,P||{})};e.listModes=function(){var d=[];for(var H in I)I.propertyIsEnumerable(H)&&d.push(H);return d};e.listMIMEs=function(){var d=[];for(var H in da)da.propertyIsEnumerable(H)&&d.push(H);return d};e.fromTextArea=function(d,H){function O(){d.value=ja.getValue()}H||(H={});H.value=d.value;if(!H.tabindex&&d.tabindex)H.tabindex=d.tabindex;if(d.form){var P=G(d.form,"submit",O,true);if(typeof d.form.submit=="function"){var V=d.form.submit,la=function(){O();d.form.submit=
V;d.form.submit();d.form.submit=la};d.form.submit=la}}d.style.display="none";var ja=e(function(za){d.parentNode.insertBefore(za,d.nextSibling)},H);ja.save=O;ja.toTextArea=function(){O();d.parentNode.removeChild(ja.getWrapperElement());d.style.display="";if(d.form){P();if(typeof d.form.submit=="function")d.form.submit=V}};return ja};e.startState=g;e.copyState=c;i.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==0},peek:function(){return this.string.charAt(this.pos)},
next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eat:function(d){var H=this.string.charAt(this.pos);if(typeof d=="string"?H==d:H&&(d.test?d.test(H):d(H))){++this.pos;return H}},eatWhile:function(d){for(var H=this.start;this.eat(d););return this.pos>H},eatSpace:function(){for(var d=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>d},skipToEnd:function(){this.pos=this.string.length},skipTo:function(d){d=this.string.indexOf(d,this.pos);
if(d>-1){this.pos=d;return true}},backUp:function(d){this.pos-=d},column:function(){return q(this.string,this.start)},indentation:function(){return q(this.string)},match:function(d,H,O){if(typeof d=="string"){if((O?this.string.toLowerCase():this.string).indexOf(O?d.toLowerCase():d,this.pos)==this.pos){if(H!==false)this.pos+=d.length;return true}}else{if((d=this.string.slice(this.pos).match(d))&&H!==false)this.pos+=d[0].length;return d}},current:function(){return this.string.slice(this.start,this.pos)}};
k.prototype={replace:function(d,H,O){var P=[],V=this.marked;l(0,d,this.styles,P);O&&P.push(O,null);l(H,this.text.length,this.styles,P);this.styles=P;this.text=this.text.slice(0,d)+O+this.text.slice(H);this.stateAfter=null;if(V){d=O.length-(H-d);O=this.text.length;for(P=0;P<V.length;++P){var la=V[P],ja=false;if(la.from>=O)ja=true;else{la.from=la.from<=Math.min(H,H+d)?la.from:la.from+d;if(la.to!=null)la.to=la.to<=Math.min(H,H+d)?la.to:la.to+d}if(ja||la.from>=la.to){V.splice(P,1);P--}}}},split:function(d,
H){var O=[H,null];l(d,this.text.length,this.styles,O);return new k(H+this.text.slice(d),O)},addMark:function(d,H,O){d={from:d,to:H,style:O};if(this.marked==null)this.marked=[];this.marked.push(d);this.marked.sort(function(P,V){return P.from-V.from});return d},removeMark:function(d){var H=this.marked;if(H)for(var O=0;O<H.length;++O)if(H[O]==d){H.splice(O,1);break}},highlight:function(d,H){var O=new i(this.text),P=this.styles,V=0,la=false,ja=P[0],za;for(this.text==""&&d.blankLine&&d.blankLine(H);!O.eol();){var Ea=
d.token(O,H),ta=this.text.slice(O.start,O.pos);O.start=O.pos;if(V&&P[V-1]==Ea)P[V-2]+=ta;else if(ta){if(!la&&(P[V+1]!=Ea||V&&P[V-2]!=za))la=true;P[V++]=ta;P[V++]=Ea;za=ja;ja=P[V]}if(O.pos>5E3){P[V++]=this.text.slice(O.pos);P[V++]=null;break}}if(P.length!=V){P.length=V;la=true}if(V&&P[V-2]!=za)la=true;return la},getTokenAt:function(d,H,O){for(var P=new i(this.text);P.pos<O&&!P.eol();){P.start=P.pos;var V=d.token(P,H)}return{start:P.start,end:P.pos,string:P.current(),className:V||null,state:H}},indentation:function(){return q(this.text)},
getHTML:function(d,H,O,P){function V(kb,zb){if(kb)zb?la.push('<span class="',zb,'">',r(kb),"</span>"):la.push(r(kb))}var la=[];if(O)la.push(this.className?'<pre class="'+this.className+'">':"<pre>");var ja=this.styles,za=this.text,Ea=this.marked;if(d==H)d=null;var ta=za.length;if(P!=null)ta=Math.min(P,ta);if(!za&&P==null)V(" ",d!=null&&H==null?"CodeMirror-selected":null);else if(!Ea&&d==null)for(d=P=0;d<ta;P+=2){H=ja[P];var Ja=H.length;if(d+Ja>ta)H=H.slice(0,ta-d);d+=Ja;V(H,ja[P+1])}else{P=za=0;var L=
"",fa=-1,ca=null,ha=function(){if(Ea){fa+=1;ca=fa<Ea.length?Ea[fa]:null}};for(ha();za<ta;){var ra=ta,sa="";if(d!=null)if(d>za)ra=d;else if(H==null||H>za){sa=" CodeMirror-selected";if(H!=null)ra=Math.min(ra,H)}for(;ca&&ca.to!=null&&ca.to<=za;)ha();if(ca)if(ca.from>za)ra=Math.min(ra,ca.from);else{sa+=" "+ca.style;if(ca.to!=null)ra=Math.min(ra,ca.to)}for(;;){var Ia=za+L.length,fb=Ja;if(sa)fb=Ja?Ja+sa:sa;V(Ia>ra?L.slice(0,ra-za):L,fb);if(Ia>=ra){L=L.slice(ra-za);za=ra;break}za=Ia;L=ja[P++];Ja=ja[P++]}}d!=
null&&H==null&&V(" ","CodeMirror-selected")}O&&la.push("</pre>");return la.join("")}};n.prototype={addChange:function(d,H,O){this.undone.length=0;var P=+new Date,V=this.done[this.done.length-1];if(P-this.time>400||!V||V.start>d+H||V.start+V.added<d-V.added+V.old.length)this.done.push({start:d,added:H,old:O});else{var la=0;if(d<V.start){for(var ja=V.start-d-1;ja>=0;--ja)V.old.unshift(O[ja]);V.added+=V.start-d;V.start=d}else if(V.start<d){la=d-V.start;H+=la}ja=V.added-la;for(d=O.length;ja<d;++ja)V.old.push(O[ja]);
if(V.added<H)V.added=H}this.time=P}};z.prototype={stop:function(){u.call(this.e)},target:function(){return this.e.target||this.e.srcElement},button:function(){if(this.e.which)return this.e.which;else if(this.e.button&1)return 1;else if(this.e.button&2)return 3;else if(this.e.button&4)return 2},pageX:function(){if(this.e.pageX!=null)return this.e.pageX;var d=this.target().ownerDocument;return this.e.clientX+d.body.scrollLeft+d.documentElement.scrollLeft},pageY:function(){if(this.e.pageY!=null)return this.e.pageY;
var d=this.target().ownerDocument;return this.e.clientY+d.body.scrollTop+d.documentElement.scrollTop}};v.prototype={set:function(d,H){clearTimeout(this.id);this.id=setTimeout(H,d)}};var ka=function(){var d=document.createElement("pre");d.innerHTML=" ";return!d.innerHTML}(),R=/gecko\/\d{7}/i.test(navigator.userAgent),ga="\n";(function(){var d=document.createElement("textarea");d.value="foo\nbar";if(d.value.indexOf("\r")>-1)ga="\r\n"})();for(var ia=8,Aa=/Mac/.test(navigator.platform),La={},Va=35;Va<=
40;++Va)La[Va]=La["c"+Va]=true;var aa="\n\nb".split(/\n/).length!=3?function(d){for(var H=0,O,P=[];(O=d.indexOf("\n",H))>-1;){P.push(d.slice(H,d.charAt(O-1)=="\r"?O-1:O));H=O+1}P.push(d.slice(H));return P}:function(d){return d.split(/\r?\n/)};if(window.getSelection)var S=function(d){try{return{start:d.selectionStart,end:d.selectionEnd}}catch(H){return null}},X=function(d,H,O){try{d.setSelectionRange(H,O)}catch(P){}};else{S=function(d){try{var H=d.ownerDocument.selection.createRange()}catch(O){return null}if(!H||
H.parentElement()!=d)return null;var P=d.value,V=P.length,la=d.createTextRange();la.moveToBookmark(H.getBookmark());var ja=d.createTextRange();ja.collapse(false);if(la.compareEndPoints("StartToEnd",ja)>-1)return{start:V,end:V};d=-la.moveStart("character",-V);for(H=P.indexOf("\r");H>-1&&H<d;H=P.indexOf("\r",H+1),d++);if(la.compareEndPoints("EndToEnd",ja)>-1)return{start:d,end:V};V=-la.moveEnd("character",-V);for(H=P.indexOf("\r");H>-1&&H<V;H=P.indexOf("\r",H+1),V++);return{start:d,end:V}};X=function(d,
H,O){var P=d.createTextRange();P.collapse(true);var V=P.duplicate(),la=0;d=d.value;for(var ja=d.indexOf("\n");ja>-1&&ja<H;ja=d.indexOf("\n",ja+1))++la;for(P.move("character",H-la);ja>-1&&ja<O;ja=d.indexOf("\n",ja+1))++la;V.move("character",O-la);P.setEndPoint("EndToEnd",V);P.select()}}e.defineMode("null",function(){return{token:function(d){d.skipToEnd()}}});e.defineMIME("text/plain","null");return e}();
jQuery.cookie=function(e,c,g){if(typeof c!="undefined"){g=g||{};if(c===null){c="";g.expires=-1}var i="";if(g.expires&&(typeof g.expires=="number"||g.expires.toUTCString)){if(typeof g.expires=="number"){i=new Date;i.setTime(i.getTime()+g.expires*24*60*60*1E3)}else i=g.expires;i="; expires="+i.toUTCString()}var k=g.path?"; path="+g.path:"",l=g.domain?"; domain="+g.domain:"";g=g.secure?"; secure":"";document.cookie=[e,"=",encodeURIComponent(c),i,k,l,g].join("")}else{c=null;if(document.cookie&&document.cookie!=
""){g=document.cookie.split(";");for(i=0;i<g.length;i++){k=jQuery.trim(g[i]);if(k.substring(0,e.length+1)==e+"="){c=decodeURIComponent(k.substring(e.length+1));break}}}return c}};
CodeMirror.defineMode("javascript",function(e,c){function g(L,fa){for(var ca=false,ha;(ha=L.next())!=null;){if(ha==fa&&!ca)return false;ca=!ca&&ha=="\\"}return ca}function i(L,fa,ca){ja=L;za=ca;return fa}function k(L,fa){var ca=L.next();if(ca=='"'||ca=="'"){ca=l(ca);fa.tokenize=ca;return ca(L,fa)}else if(/[\[\]{}\(\),;\:\.]/.test(ca))return i(ca);else if(ca=="0"&&L.eat(/x/i)){L.eatWhile(/[\da-f]/i);return i("number","js-atom")}else if(/\d/.test(ca)){L.match(/^\d*(?:\.\d*)?(?:e[+\-]?\d+)?/);return i("number",
"js-atom")}else if(ca=="/")if(L.eat("*")){ca=n;fa.tokenize=ca;return ca(L,fa)}else if(L.eat("/")){L.skipToEnd();return i("comment","js-comment")}else if(fa.reAllowed){g(L,"/");L.eatWhile(/[gimy]/);return i("regexp","js-string")}else{L.eatWhile(la);return i("operator",null,L.current())}else if(la.test(ca)){L.eatWhile(la);return i("operator",null,L.current())}else{L.eatWhile(/[\w\$_]/);ca=L.current();var ha=V.propertyIsEnumerable(ca)&&V[ca];return ha?i(ha.type,ha.style,ca):i("variable","js-variable",
ca)}}function l(L){return function(fa,ca){if(!g(fa,L))ca.tokenize=k;return i("string","js-string")}}function n(L,fa){for(var ca=false,ha;ha=L.next();){if(ha=="/"&&ca){fa.tokenize=k;break}ca=ha=="*"}return i("comment","js-comment")}function u(L,fa,ca,ha,ra,sa){this.indented=L;this.column=fa;this.type=ca;this.prev=ra;this.info=sa;if(ha!=null)this.align=ha}function A(){for(var L=arguments.length-1;L>=0;L--)ta.cc.push(arguments[L])}function z(){A.apply(null,arguments);return true}function G(L){var fa=
ta.state;if(fa.context){ta.marked="js-variabledef";for(var ca=fa.localVars;ca;ca=ca.next)if(ca.name==L)return;fa.localVars={name:L,next:fa.localVars}}}function v(){if(!ta.state.context)ta.state.localVars=Ja;ta.state.context={prev:ta.state.context,vars:ta.state.localVars}}function q(){ta.state.localVars=ta.state.context.vars;ta.state.context=ta.state.context.prev}function y(L,fa){var ca=function(){var ha=ta.state;ha.lexical=new u(ha.indented,ta.stream.column(),L,null,ha.lexical,fa)};ca.lex=true;return ca}
function E(){var L=ta.state;if(L.lexical.prev){if(L.lexical.type==")")L.indented=L.lexical.indented;L.lexical=L.lexical.prev}}function o(L){return function(fa){return fa==L?z():L==";"?A():z(arguments.callee)}}function r(L){if(L=="var")return z(y("vardef"),Aa,o(";"),E);if(L=="keyword a")return z(y("form"),C,r,E);if(L=="keyword b")return z(y("form"),r,E);if(L=="{")return z(y("}"),ia,E);if(L==";")return z();if(L=="function")return z(d);if(L=="for")return z(y("form"),o("("),y(")"),Va,o(")"),E,r,E);if(L==
"variable")return z(y("stat"),da);if(L=="switch")return z(y("form"),C,y("}","switch"),o("{"),ia,E,E);if(L=="case")return z(C,o(":"));if(L=="default")return z(o(":"));if(L=="catch")return z(y("form"),v,o("("),H,o(")"),r,E,q);return A(y("stat"),C,o(";"),E)}function C(L){if(Ea.hasOwnProperty(L))return z(I);if(L=="function")return z(d);if(L=="keyword c")return z(C);if(L=="(")return z(y(")"),C,o(")"),E,I);if(L=="operator")return z(C);if(L=="[")return z(y("]"),ga(C,"]"),E,I);if(L=="{")return z(y("}"),ga(R,
"}"),E,I);return z()}function I(L,fa){if(L=="operator"&&/\+\+|--/.test(fa))return z(I);if(L=="operator")return z(C);if(L!=";"){if(L=="(")return z(y(")"),ga(C,")"),E,I);if(L==".")return z(ka,I);if(L=="[")return z(y("]"),C,o("]"),E,I)}}function da(L){if(L==":")return z(E,r);return A(I,o(";"),E)}function ka(L){if(L=="variable"){ta.marked="js-property";return z()}}function R(L){if(L=="variable")ta.marked="js-property";if(Ea.hasOwnProperty(L))return z(o(":"),C)}function ga(L,fa){function ca(ha){if(ha==
",")return z(L,ca);if(ha==fa)return z();return z(o(fa))}return function(ha){return ha==fa?z():A(L,ca)}}function ia(L){if(L=="}")return z();return A(r,ia)}function Aa(L,fa){if(L=="variable"){G(fa);return z(La)}return z()}function La(L,fa){if(fa=="=")return z(C,La);if(L==",")return z(Aa)}function Va(L){if(L=="var")return z(Aa,S);if(L==";")return A(S);if(L=="variable")return z(aa);return A(S)}function aa(L,fa){if(fa=="in")return z(C);return z(I,S)}function S(L,fa){if(L==";")return z(X);if(fa=="in")return z(C);
return z(C,o(";"),X)}function X(L){L!=")"&&z(C)}function d(L,fa){if(L=="variable"){G(fa);return z(d)}if(L=="(")return z(y(")"),v,ga(H,")"),E,r,q)}function H(L,fa){if(L=="variable"){G(fa);return z()}}var O=e.indentUnit,P=c.json,V=function(){function L(Ia){return{type:Ia,style:"js-keyword"}}var fa=L("keyword a"),ca=L("keyword b"),ha=L("keyword c"),ra=L("operator"),sa={type:"atom",style:"js-atom"};return{"if":fa,"while":fa,"with":fa,"else":ca,"do":ca,"try":ca,"finally":ca,"return":ha,"break":ha,"continue":ha,
"new":ha,"delete":ha,"throw":ha,"var":L("var"),"function":L("function"),"catch":L("catch"),"for":L("for"),"switch":L("switch"),"case":L("case"),"default":L("default"),"in":ra,"typeof":ra,"instanceof":ra,"true":sa,"false":sa,"null":sa,undefined:sa,NaN:sa,Infinity:sa}}(),la=/[+\-*&%=<>!?|]/,ja,za,Ea={atom:true,number:true,variable:true,string:true,regexp:true},ta={state:null,column:null,marked:null,cc:null},Ja={name:"this",next:{name:"arguments"}};E.lex=true;return{startState:function(L){return{tokenize:k,
reAllowed:true,cc:[],lexical:new u((L||0)-O,0,"block",false),localVars:null,context:null,indented:0}},token:function(L,fa){if(L.sol()){if(!fa.lexical.hasOwnProperty("align"))fa.lexical.align=false;fa.indented=L.indentation()}if(L.eatSpace())return null;var ca=fa.tokenize(L,fa);if(ja=="comment")return ca;fa.reAllowed=ja=="operator"||ja=="keyword c"||ja.match(/^[\[{}\(,;:]$/);var ha;a:{var ra=ja,sa=za,Ia=fa.cc;ta.state=fa;ta.stream=L;ta.marked=null;ta.cc=Ia;if(!fa.lexical.hasOwnProperty("align"))fa.lexical.align=
true;for(;;)if((Ia.length?Ia.pop():P?C:r)(ra,sa)){for(;Ia.length&&Ia[Ia.length-1].lex;)Ia.pop()();if(ta.marked){ha=ta.marked;break a}if(ha=ra=="variable")b:{for(ha=fa.localVars;ha;ha=ha.next)if(ha.name==sa){ha=true;break b}ha=void 0}if(ha){ha="js-localvariable";break a}ha=ca;break a}}return ha},indent:function(L,fa){if(L.tokenize!=k)return 0;var ca=fa&&fa.charAt(0),ha=L.lexical,ra=ha.type,sa=ca==ra;return ra=="vardef"?ha.indented+4:ra=="form"&&ca=="{"?ha.indented:ra=="stat"||ra=="form"?ha.indented+
O:ha.info=="switch"&&!sa?ha.indented+(/^(?:case|default)\b/.test(fa)?O:2*O):ha.align?ha.column+(sa?0:1):ha.indented+(sa?0:O)},electricChars:":{}"}});CodeMirror.defineMIME("text/javascript","javascript");CodeMirror.defineMIME("application/json",{name:"javascript",json:true});
CodeMirror.defineMode("xml",function(e,c){function g(R,ga){function ia(La){ga.tokenize=La;return La(R,ga)}var Aa=R.next();if(Aa=="<")if(R.eat("!"))if(R.eat("["))return R.match("CDATA[")?ia(l("xml-cdata","]]\>")):null;else if(R.match("--"))return ia(l("xml-comment","--\>"));else if(R.match("DOCTYPE")){R.eatWhile(/[\w\._\-]/);return ia(l("xml-doctype",">"))}else return null;else if(R.eat("?")){R.eatWhile(/[\w\._\-]/);ga.tokenize=l("xml-processing","?>");return"xml-processing"}else{I=R.eat("/")?"closeTag":
"openTag";R.eatSpace();for(C="";Aa=R.eat(/[^\s\u00a0=<>\"\'\/?]/);)C+=Aa;ga.tokenize=i;return"xml-tag"}else if(Aa=="&"){R.eatWhile(/[^;]/);R.eat(";");return"xml-entity"}else{R.eatWhile(/[^&<]/);return null}}function i(R,ga){var ia=R.next();if(ia==">"||ia=="/"&&R.eat(">")){ga.tokenize=g;I=ia==">"?"endTag":"selfcloseTag";return"xml-tag"}else if(ia=="="){I="equals";return null}else if(/[\'\"]/.test(ia)){ga.tokenize=k(ia);return ga.tokenize(R,ga)}else{R.eatWhile(/[^\s\u00a0=<>\"\'\/?]/);return"xml-word"}}
function k(R){return function(ga,ia){for(;!ga.eol();)if(ga.next()==R){ia.tokenize=i;break}return"xml-attribute"}}function l(R,ga){return function(ia,Aa){for(;!ia.eol();){if(ia.match(ga)){Aa.tokenize=g;break}ia.next()}return R}}function n(){for(var R=arguments.length-1;R>=0;R--)da.cc.push(arguments[R])}function u(){n.apply(null,arguments);return true}function A(R,ga){var ia=o.doNotIndent.hasOwnProperty(R)||da.context&&da.context.noIndent;da.context={prev:da.context,tagName:R,indent:da.indented,startOfLine:ga,
noIndent:ia}}function z(R){if(R=="openTag"){da.tagName=C;return u(q,G(da.startOfLine))}else if(R=="closeTag"){if(da.context)da.context=da.context.prev;return u(v)}else{if(R=="xml-cdata"){if(!da.context||da.context.name!="!cdata")A("!cdata");if(da.tokenize==g)if(da.context)da.context=da.context.prev}return u()}}function G(R){return function(ga){if(ga=="selfcloseTag"||ga=="endTag"&&o.autoSelfClosers.hasOwnProperty(da.tagName.toLowerCase()))return u();if(ga=="endTag"){A(da.tagName,R);return u()}return u()}}
function v(R){if(R=="endTag")return u();return n()}function q(R){if(R=="xml-word"){ka="xml-attname";return u(q)}if(R=="equals")return u(y,q);return n()}function y(R){if(R=="xml-word"&&o.allowUnquoted){ka="xml-attribute";return u()}if(R=="xml-attribute")return u();return n()}var E=e.indentUnit,o=c.htmlMode?{autoSelfClosers:{br:true,img:true,hr:true,link:true,input:true,meta:true,col:true,frame:true,base:true,area:true},doNotIndent:{pre:true,"!cdata":true},allowUnquoted:true}:{autoSelfClosers:{},doNotIndent:{"!cdata":true},
allowUnquoted:false},r=c.alignCDATA,C,I,da,ka;return{startState:function(){return{tokenize:g,cc:[],indented:0,startOfLine:true,tagName:null,context:null}},token:function(R,ga){if(R.sol()){ga.startOfLine=true;ga.indented=R.indentation()}if(R.eatSpace())return null;ka=I=C=null;var ia=ga.tokenize(R,ga);if((ia||I)&&ia!="xml-comment")for(da=ga;;)if((ga.cc.pop()||z)(I||ia))break;ga.startOfLine=false;return ka||ia},indent:function(R,ga){var ia=R.context;if(ia&&ia.noIndent)return 0;if(r&&/<!\[CDATA\[/.test(ga))return 0;
if(ia&&/^<\//.test(ga))ia=ia.prev;for(;ia&&!ia.startOfLine;)ia=ia.prev;return ia?ia.indent+E:0},electricChars:"/"}});CodeMirror.defineMIME("application/xml","xml");CodeMirror.defineMIME("text/html",{name:"xml",htmlMode:true});
CodeMirror.defineMode("css",function(e){function c(A,z){u=z;return A}function g(A,z){var G=A.next();if(G=="@"){A.eatWhile(/\w/);return c("css-at",A.current())}else if(G=="/"&&A.eat("*")){z.tokenize=i;return i(A,z)}else if(G=="<"&&A.eat("!")){z.tokenize=k;return k(A,z)}else if(G=="=")c(null,"compare");else if((G=="~"||G=="|")&&A.eat("="))return c(null,"compare");else if(G=='"'||G=="'"){z.tokenize=l(G);return z.tokenize(A,z)}else if(G=="#"){A.eatWhile(/\w/);return c("css-selector","hash")}else if(G==
"!"){A.match(/^\s*\w*/);return c("css-important","important")}else if(/\d/.test(G)){A.eatWhile(/[\w.%]/);return c("css-unit","unit")}else if(/[,.+>*\/]/.test(G))return c(null,"select-op");else if(/[;{}:\[\]]/.test(G))return c(null,G);else{A.eatWhile(/[\w\\\-_]/);return c("css-identifier","identifier")}}function i(A,z){for(var G=false,v;(v=A.next())!=null;){if(G&&v=="/"){z.tokenize=g;break}G=v=="*"}return c("css-comment","comment")}function k(A,z){for(var G=0,v;(v=A.next())!=null;){if(G>=2&&v==">"){z.tokenize=
g;break}G=v=="-"?G+1:0}return c("css-comment","comment")}function l(A){return function(z,G){for(var v=false,q;(q=z.next())!=null;){if(q==A&&!v)break;v=!v&&q=="\\"}if(!v)G.tokenize=g;return c("css-string","string")}}var n=e.indentUnit,u;return{startState:function(A){return{tokenize:g,baseIndent:A||0,stack:[]}},token:function(A,z){if(A.eatSpace())return null;var G=z.tokenize(A,z),v=z.stack[z.stack.length-1];if(u=="hash"&&v=="rule")G="css-colorcode";else if(G=="css-identifier")if(v=="rule")G="css-value";
else if(!v||v=="@media{")G="css-selector";v=="rule"&&/^[\{\};]$/.test(u)&&z.stack.pop();if(u=="{")if(v=="@media")z.stack[z.stack.length-1]="@media{";else z.stack.push("{");else if(u=="}")z.stack.pop();else if(u=="@media")z.stack.push("@media");else v!="rule"&&v!="@media"&&u!="comment"&&z.stack.push("rule");return G},indent:function(A,z){var G=A.stack.length;if(/^\}/.test(z))G-=A.stack[A.stack.length-1]=="rule"?2:1;return A.baseIndent+G*n},electricChars:"}"}});CodeMirror.defineMIME("text/css","css");
CodeMirror.defineMode("liquid",function(e){function c(A,z){var G=l.token(A,z.htmlState);if(G=="xml-tag"&&A.current()==">"&&z.htmlState.context)if(/^script$/i.test(z.htmlState.context.tagName)){z.token=i;z.localState=n.startState(l.indent(z.htmlState,""))}else if(/^style$/i.test(z.htmlState.context.tagName)){z.token=k;z.localState=u.startState(l.indent(z.htmlState,""))}return G}function g(A,z,G){var v=A.current();z=v.search(z);z>-1&&A.backUp(v.length-z);return G}function i(A,z){if(A.match(/^<\/\s*script\s*>/i,
false)){z.token=c;z.curState=null;return c(A,z)}return g(A,/<\/\s*script\s*>/,n.token(A,z.localState))}function k(A,z){if(A.match(/^<\/\s*style\s*>/i,false)){z.token=c;z.localState=null;return c(A,z)}return g(A,/<\/\s*style\s*>/,u.token(A,z.localState))}var l=CodeMirror.getMode(e,{name:"xml",htmlMode:true}),n=CodeMirror.getMode(e,"javascript"),u=CodeMirror.getMode(e,"css");return{startState:function(){var A=l.startState();return{token:c,localState:null,htmlState:A}},copyState:function(A){if(A.localState)var z=
CodeMirror.copyState(A.token==k?u:n,A.localState);return{token:A.token,localState:z,htmlState:CodeMirror.copyState(l,A.htmlState)}},token:function(A,z){return z.token(A,z)},indent:function(A,z){return A.token==c||/^\s*<\//.test(z)?l.indent(A.htmlState,z):A.token==i?n.indent(A.localState,z):u.indent(A.localState,z)},electricChars:"/{}:"}});CodeMirror.defineMIME("text/html","htmlmixed");
var Asset=Model("asset",function(){this.persistence(Model.REST,"/admin/assets");this.include({toMustache:function(e){this.merge({query_path:e?"?"+decodeURIComponent(jQuery.param({query:e})):"",query:e});return this.attr()},toMustacheWithNeighbors:function(e){var c=Asset.all(),g=c.indexOf(this),i=this.toMustache(e),k=c[g+1]?Asset.all()[g+1].toMustache(e):null;e=c[g-1]?Asset.all()[g-1].toMustache(e):null;jQuery("<img />")[0].src="/images/large/"+i.id+"/"+i.file_name;if(k)jQuery("<img />")[0].src="/images/large/"+
k.id+"/"+k.file_name;if(e)jQuery("<img />")[0].src="/images/large/"+e.id+"/"+e.file_name;return{asset:i,next:k,previous:e}}});this.extend({toMustache:function(e){var c=e?"?"+decodeURIComponent(jQuery.param({query:e})):"";return{assets:this.map(function(g){g.merge({query_path:c,query:e});return g.attr()}),query:e}},asJSON:function(){return Asset.map(function(e){return e.attr()})},tags:function(){tags=[];Asset.map(function(){tags=tags.concat(this.attr("tags"))});return tags},searchRemote:function(e,
c){var g=e!=null?decodeURIComponent(jQuery.param({query:e})):"";Asset.each(function(){Asset.remove(this)});jQuery.ajax({type:"get",url:"/search.json",contentType:"application/json",dataType:"json",data:g,success:function(i){jQuery.each(i,function(k,l){var n=new Asset({id:l.id});n.merge(l);Asset.add(n)});c.call(this)}})},searchAdmin:function(e,c){var g=e!=null?decodeURIComponent(jQuery.param({query:e})):"";Asset.each(function(){Asset.remove(this)});jQuery.ajax({type:"get",url:"/admin/assets.json",
contentType:"application/json",dataType:"json",data:g,success:function(i){$.each(i,function(k,l){var n=new Asset({id:l.id});n.merge(l);Asset.add(n)});c.call(this)}})},create:function(e,c){Asset.callback=c;var g=new XMLHttpRequest;g.upload.addEventListener("loadstart",Asset.onloadstartHandler,false);g.upload.addEventListener("progress",Asset.onprogressHandler,false);g.upload.addEventListener("load",Asset.onloadHandler,false);g.addEventListener("readystatechange",Asset.onreadystatechangeHandler,false);
g.open("POST","/admin/assets.json",true);g.setRequestHeader("Content-Type","application/octet-stream");g.setRequestHeader("X-File-Name",e.name);g.send(e)},onloadstartHandler:function(){},onloadHandler:function(){},onprogressHandler:function(){},onreadystatechangeHandler:function(e){var c=null;try{c=e.target.status}catch(g){return}if(c=="200"&&e.target.readyState==4&&e.target.responseText){e=JSON.parse(e.target.responseText);c=new Asset({id:e.id});c.merge(e);Asset.add(c);Asset.callback&&Asset.callback.call(this)}}})}),
Page=Model("page",function(){this.persistence(Model.SinatraREST,"/admin/pages");this.include({children:function(){return Page.find_all_by_parent_id(this.id())},has_children:function(){if(this.children().all().length>0)return true},assets:function(){for(var e=this.attr("assets"),c=0,g=e.length;c<g;++c){var i=e[c],k=new Asset({id:i.id});k.merge(i);Asset.add(k)}return Asset},load:function(e){var c=this,g="/admin/pages/"+c.id()+".json";jQuery.ajax({type:"GET",url:g,dataType:"json",success:function(i){c.merge(i);
e.call(this)}})},saveRemote:function(e,c){var g=this,i="/admin/pages/"+this.id()+".json";jQuery.ajax({type:"PUT",url:i,data:e,dataType:"json",success:function(k){if(k.errors){alert(JSON.stringify(k.errors));c.error&&c.error.call(this)}else{g.merge(k);c.success&&c.success.call(this)}}})}});this.extend({toMustache:function(){return{pages:this.map(function(e){return e.attr()})}},asJSON:function(){return Page.map(function(e){return e.attr()})},root:function(){return this.detect(function(){return this.attr("parent_id")==
null})},find_by_parent_id:function(e){return this.detect(function(){return this.attr("parent_id")==e})},find_all_by_parent_id:function(e){return this.select(function(){return this.attr("parent_id")==e})},create:function(e,c){jQuery.ajax({type:"post",url:"/admin/pages.json",dataType:"json",data:{page:e},success:function(g){var i=new Page({id:g.id});i.merge(g);Page.add(i);c.call(this,g)}})}})}),Layout=Model("template",function(){this.persistence(Model.SinatraREST,"/admin/templates");this.include({});
this.extend({toMustache:function(){return{layouts:this.map(function(e){return e.attr()})}},asLayoutJSON:function(e){return Layout.find_all_by_class("Layout").map(function(c){e==c.id()?c.attr("selected",'selected="selected"'):c.attr("selected","");return c.attr()})},find_by_class:function(e){return this.detect(function(){return this.attr("klass")==e})},find_all_by_class:function(e){return this.select(function(){return this.attr("klass")==e})},asJSON_by_class:function(e){return this.find_all_by_class(function(){return e.map(function(c){return c.attributes})})}})}),
Part=Model("part",function(){this.include({deleteRemote:function(e,c){var g="/admin/pages/"+e.id()+"/parts/"+this.id()+".json";jQuery.ajax({type:"DELETE",url:g,dataType:"json",success:function(i){e.merge(i);c.call(this)}})}});this.extend({toMustache:function(){return{parts:this.map(function(e){return e.attr()})}},create:function(e,c){var g="/admin/templates/"+e.template_id+"/parts.json",i=Layout.find(e.template_id);jQuery.ajax({type:"post",url:g,dataType:"json",data:{part:e},success:function(k){i.merge(k);
c.call(this)}})}})}),Site=Model("site",function(){this.persistence(Model.SinatraREST,"/admin/sites");this.include({});this.extend({toMustache:function(){return{sites:this.map(function(e){return e.attr()})}}})}),Galerie={open:function(e,c){$("body").append('<div id="overlay"></div>').append('<div id="modal_wrapper"><div id="modal"></div></div>');var g=$("#modal");g.html(e);var i=$("#modal_wrapper"),k=$(window).height();g=g.height()+42;g=(k-g)/2;$("#overlay").css({height:k}).hide().fadeIn("fast");i.hide().fadeIn("fast").css({top:g});
c&&c.call(this)},close:function(){$("#modal_wrapper").fadeOut("fast",function(){$(this).remove();$("#overlay").fadeOut("fast",function(){$(this).remove()})})}},logger={info:function(e){window.console&&console.log(e)}},Utilities={notice:function(e){var c=jQuery(".notice");c.text(e);c.slideDown("fast");setTimeout(function(){c.slideUp("fast")},"1000")},keyboard_nav:function(){jQuery("body").keydown(function(e){switch(e.keyCode){case 83:e=jQuery("form.command-save");e.submit();return false;case 83:e=
jQuery("form.command-save");e.submit();return false;case 37:$("a.previous").click();break;case 39:$("a.next").click();break}})},check_browser_version:function(){if(!Modernizr.history){jQuery("a").live("click",function(c){c.preventDefault();document.location.hash=$(this).attr("href")});var e=jQuery("form#search-form");e.attr("action","#"+e.attr("action"))}},formObserver:function(e){jQuery(e).keyup(function(){delay(function(){jQuery(e).parents("form:first").submit()},800)})}},iFramer={initialize:function(e){e=
jQuery(e);var c=this;e&&e.load(function(){var g=$(this).contents().find("a.verlag-editor");c.setEditFlags(g);g.click(function(){window.top.trigger=$(this);window.top.location.hash=$(this).attr("href");return false})})},setEditFlags:function(e){e.css({position:"relative",display:"block",height:"0",width:"0","text-decoration":"none"}).find("span").css({display:"block",position:"absolute",top:"-24px",left:"12px",padding:"4px 8px",width:"100px",background:"rgba(255, 255, 0, 0.7)"})}},TabControl={initialize:function(e){if(e=
jQuery(e)){e.each(function(c,g){$(g).hide()});e.first().show();this.tabControl(jQuery(".tab-control"))}},tabControl:function(e){e.click(function(){var c="tab-"+$(this).find("label").attr("for").split("-")[1];console.log(c);jQuery(".tab").hide();jQuery("#"+c).show()})}},delay=function(){var e=0;return function(c,g){clearTimeout(e);e=setTimeout(c,g)}}();
Sites=Sammy(function(){var e=this;this.debug=false;this.disable_push_state=true;this.use(Sammy.JSON);this.use(Sammy.Mustache);this.use(Sammy.NestedParams);this.helpers({loadSites:function(c){if(Site.all().length==0)Site.load(function(){c&&c.call(this)});else c&&c.call(this)},renderSiteIndex:function(){this.render("/templates/admin/sites/index.mustache",Site.toMustache()).replace("#sidebar")}});this.bind("run",function(){e.modal=false;e.refresh_pages=true});this.get("#/preview",function(c){window.open("/",
"preview");c.redirect("admin/#/")});this.get("#/sites",function(c){e.refresh_pages=true;Galerie.close();jQuery("#editor").html('<h1 class="section">Sites</div>');c.loadSites(function(){c.renderSiteIndex()})});this.get("#/sites/new",function(c){c.loadSites(function(){$("#modal").length==0&&Galerie.open();c.render("/templates/admin/sites/new.mustache").replace("#modal");c.renderSiteIndex(Site.all())})});this.post("#/sites",function(c){(new Site(c.params.site)).save(function(g,i){var k=JSON.parse(i.responseText);
k.errors?alert(JSON.stringify(k)):c.redirect("#/sites")})});this.get("#/sites/:id/edit",function(c){Galerie.close();c.loadSites(function(){site=Site.find(c.params.id);c.render("/templates/admin/sites/edit.mustache",{site:site.asJSON()}).replace("#editor");c.renderSiteIndex(Site.all())})});this.put("#/sites/:id",function(c){var g=Site.find(c.params.id);g.attr(c.params.site);g.save(function(i,k){var l=JSON.parse(k.responseText);l.errors?alert(JSON.stringify(l)):c.redirect("#/sites")})});this.get("#/sites/:id/remove",
function(c){Galerie.open();c.loadSites(function(){site=Site.find(c.params.id);c.render("/templates/admin/sites/remove.mustache",{site:site.asJSON()}).replace("#modal");c.renderSiteIndex(Site.all())})});this.del("#/sites/:id",function(c){site.destroy(function(g){g?c.redirect("#/sites"):alert("there were issues")})})});
Layouts=Sammy(function(){var e=this;this.debug=false;this.disable_push_state=true;this.use(Sammy.Title);this.use(Sammy.JSON);this.use(Sammy.Mustache);this.use(Sammy.NestedParams);this.helpers({loadLayouts:function(c){if(Layout.all().length==0)Layout.load(function(){c&&c.call(this)});else c&&c.call(this)},renderLayoutIndex:function(){this.render("/templates/admin/templates/index.mustache",{layouts:Layout.find_all_by_class("Layout").map(function(c){return c.attributes}),partials:Layout.find_all_by_class("Partial").map(function(c){return c.attributes}),
javascripts:Layout.find_all_by_class("Javascript").map(function(c){return c.attributes}),stylesheets:Layout.find_all_by_class("Stylesheet").map(function(c){return c.attributes})}).replace("#sidebar")},renderLayout:function(c){console.log(c.attr("filter")=="css"?"selected":"");this.render("/templates/admin/templates/edit.mustache",{layout:c.asJSON(),filters:[{name:"none",value:"none",selected:c.attr("filter")=="css"?'selected="selected"':""},{name:"Sass",value:"sass",selected:c.attr("filter")=="sass"?
'selected="selected"':""},{name:"Scss",value:"scss",selected:c.attr("filter")=="scss"?'selected="selected"':""}]}).replace("#editor").then(function(){var g=jQuery("#layout_content");g.attr("value",c.attr("content"));g=g.attr("class");jQuery("#layout_content").length>0&&CodeMirror.fromTextArea(document.getElementById("layout_content"),{mode:g,lineNumbers:true})})}});this.bind("run",function(){e.refresh_templates=true;e.refresh_pages=true;e.modal=false});this.get("#/templates",function(c){Galerie.close();
e.refresh_templates=false;e.refresh_pages=true;jQuery("#editor").html('<h1 class="section">Templates</div>');c.loadLayouts(function(){c.renderLayoutIndex(Layout.all())})});this.get("#/templates/new/:klass",function(c){this.loadLayouts(function(){var g=$("<div />").attr({id:"new-page-container","class":"small-modal"});$("#modal").length==0&&Galerie.open(g);c.render("/templates/admin/templates/new.mustache",{klass:c.params.klass}).replace("#new-page-container");c.renderLayoutIndex(Layout.all())})});
this.post("#/templates",function(c){(new Layout(c.params.template)).save(function(g,i){var k=JSON.parse(i.responseText);if(k.errors)Utilities.notice(JSON.stringify(k));else{c.redirect("#/templates");Utilities.notice("Successfully saved template")}})});this.get("#/templates/:id/edit",function(c){Galerie.close();e.refresh_pages=true;this.loadLayouts(function(){var g=Layout.find(c.params.id);c.renderLayout(g);c.renderLayoutIndex(Layout.all())})});this.put("#/templates/:id",function(c){var g=Layout.find(c.params.id);
g.attr(c.params.layout);g.save(function(i){if(i){c.renderLayoutIndex();Utilities.notice("Successfully saved template")}})});this.get("#/templates/:id/remove",function(c){this.loadLayouts(function(){var g=Layout.find(c.params.id);Galerie.open();c.render("/templates/admin/templates/remove.mustache",{layout:g.asJSON()}).replace("#modal");c.renderLayoutIndex(Layout.all())})});this.del("/templates/:id",function(c){Layout.find(c.params.id).destroy(function(g){if(g){c.renderLayoutIndex();Utilities.notice("Successfully deleted template");
c.redirect("#/templates")}})});this.post("/layouts/:id/parts",function(c){this.loadLayouts(function(){var g=c.params.id,i=c.params.part;alert(JSON.stringify(c.params.part));Part.create(i,function(){c.redirect("#/templates/"+g+"/edit")})})})});
Assets=Sammy(function(e){var c=this;this.debug=false;this.disable_push_state=true;this.use(Sammy.JSON);this.use(Sammy.Mustache);this.use(Sammy.NestedParams);this.swap=function(g){jQuery("#editor").html(g)};this.helpers({loadAssets:function(g,i){if(Asset.all().length==0)Asset.searchAdmin(g,function(){i&&i.call(this)});else i&&i.call(this)}});this.bind("run",function(){c.modal=false;c.first_run=true});this.get("#/assets",function(g){var i=g.params.query?g.params.query:null;Galerie.close();c.modal||
Asset.searchAdmin(i,function(){g.render("/templates/admin/assets/index.mustache",Asset.toMustache(i)).replace("#editor").then(function(){jQuery("#ajax_uploader").attr("multiple","multiple")})});c.modal=false;c.first_run=false});this.get("#/assets/new",function(g){g.render("/templates/admin/assets/new.mustache").replace("#editor").then(function(){jQuery("#ajax_uploader").attr("multiple","multiple")});c.first_run=false});this.post("/admin/assets",function(g){var i=document.getElementById("ajax_uploader").files,
k=g.params.query?g.params.query:null;jQuery("form#new_asset");for(var l=0;l<i.length;l++)Asset.create(i[l],function(){g.render("/templates/admin/assets/new.mustache",Asset.toMustache(k)).replace("#editor").then(function(){jQuery("#ajax_uploader").attr("multiple","multiple")})});return false});this.get("#/assets/:id/edit",function(g){var i=g.params.query?g.params.query:null;this.loadAssets(i,function(){var k=Asset.find(g.params.id);g.render("/templates/admin/assets/edit.mustache",k.toMustacheWithNeighbors(i)).replace("#editor").then(function(){setTimeout(function(){$("img.fade-in").fadeIn("slow")},
100);Utilities.formObserver(".image-info input[type=text], .image-info textarea")})});c.modal=false});this.put("#/assets/:id",function(g){var i=Asset.find(g.params.id);i.attr(g.params.asset);i.save(function(k){k&&Utilities.notice("Successfully saved asset")})});this.get("#/assets/:id/remove",function(g){var i=g.params.query?g.params.query:null;Galerie.close();Galerie.open(jQuery("<div />").attr({id:"remove-asset-container","class":"wide-modal"}));this.loadAssets(i,function(){var k=Asset.find(g.params.id);
g.render("/templates/admin/assets/remove.mustache",{asset:k.toMustache(i)}).replace("#remove-asset-container");c.first_run&&g.render("/templates/admin/assets/index.mustache",Asset.toMustache(i)).replace("#editor")})});this.del("#/assets/:id",function(g){var i=g.params.query?g.params.query:null,k=i?"?"+decodeURIComponent(jQuery.param({query:i})):"";Asset.find(g.params.id).destroy(function(l){if(l){Galerie.close();Utilities.notice("Successfully saved asset");g.redirect("#/assets"+k)}})});e.get("/",
function(){})});
Pages=Sammy(function(e){var c=this;this.debug=false;this.disable_push_state=true;this.use(Sammy.JSON);this.use(Sammy.Mustache);this.use(Sammy.NestedParams);e.helpers({loadPages:function(g){if(Page.all().length==0)Page.load(function(){Layout.load(function(){g&&g.call(this)})});else g&&g.call(this)},renderTree:function(g){var i=this;i.render("/templates/admin/pages/node.mustache",{pages:[g.asJSON()]}).replace("#sidebar").then(function(){i.renderNode(g)})},renderNode:function(g){var i=this;pageNode=
i.render("/templates/admin/pages/node.mustache",g.children().toMustache());pageNode.appendTo("#page-"+g.id()).then(function(){g.children().each(function(k){if(k.has_children()==true){jQuery("#page-"+k.id()).addClass("open");i.renderNode(k)}})})},renderPagePreview:function(g){c.modal||this.render("/templates/admin/pages/show.mustache",{page:g.asJSON(),page_id:g.id()}).replace("#editor").then(function(){iFramer.initialize("#preview iframe")})},renderPage:function(g){this.render("/templates/admin/pages/edit.mustache",
{page:g.asJSON(),layouts:Layout.asLayoutJSON(g.attr("layout_id"))}).replace("#editor").then(function(){logger.info("hey")})}});this.bind("run",function(){c.application=this;c.refresh_pages=true;c.modal=false;jQuery(".add-asset").live("click",function(){c.application.trigger("add-asset");return false});jQuery("#sidebar .opener").live("click",function(){var g=(new Date).getTime(),i=$(this).parents("li:first"),k=this.id.split("-")[2],l=Page.find(k),n=jQuery.cookie("active_page_ids");n=n?n.split(","):
[];if(i.hasClass("open")){i.toggleClass("open");n=jQuery.grep(n,function(u){return u!=k});jQuery.cookie("active_page_ids",n.join(","),{path:"/admin"});l.children().each(function(u){Page.remove(u)});jQuery("#page-"+k+" ul").remove()}else{n.push(k);i.toggleClass("open");g=(new Date).getTime();jQuery.cookie("active_page_ids",n.join(","),{path:"/admin"});Page.load(function(){c.application.renderNode(l);var u=(new Date).getTime()-g;console.log(u)})}c.refresh_pages=false;return c.modal=false})});this.get("#/pages",
function(g){Galerie.close();c.refresh_pages&&g.loadPages(function(){g.renderTree(Page.root())});jQuery("#editor").html('<h1 class="section">Pages</div>');c.refresh_pages=true;c.do_not_refresh=false});this.get("#/pages/:id/new",function(g){this.loadPages(function(){var i=Page.find(g.params.id),k=$("<div />").attr({id:"new-page-container","class":"small-modal"});$("#modal").length==0&&Galerie.open(k);if(c.refresh_pages){g.renderTree(Page.root());c.refresh_pages=true}g.render("/templates/admin/pages/new.mustache",
{parent:i.asJSON()}).replace("#new-page-container")})});this.post("#/pages/:page_id",function(g){Page.find(g.params.page_id);Page.create(g.params.page,function(i){c.refresh_pages=true;Utilities.notice("Successfully saved page");g.redirect("#/pages/"+i.id+"/edit")})});this.get("#/pages/:id",function(g){Galerie.close();this.loadPages(function(){var i=g.params.id,k=Page.find(i);if(!c.do_not_refresh){if(k)g.renderPagePreview(k);else{k=new Page({id:i});k.load(function(){g.renderPagePreview(k)})}c.modal=
false;c.do_not_refresh=false;if(c.refresh_pages){g.renderTree(Page.root());c.refresh_pages=false}}});c.do_not_refresh=false});this.get("#/pages/:id/edit",function(g){Galerie.close();c.modal=true;this.loadPages(function(){var i=g.params.id,k=Page.find(i);if(!c.do_not_refresh){if(k)g.renderPage(k);else{k=new Page({id:i});k.load(function(){g.renderPage(k)})}if(c.refresh_pages){g.renderTree(Page.root());c.refresh_pages=false}}});c.do_not_refresh=false});this.put("#/pages/:page_id",function(g){var i=g.params.page_id,
k=Page.find(i),l=$("#edit-page");k.saveRemote(l.serialize(),{success:function(){c.modal=false;Utilities.notice("Successfully saved page");g.redirect("#/pages/"+i+"/edit")}})});this.get("#/pages/:id/remove",function(g){this.loadPages(function(){var i=Page.find(g.params.id),k=$("<div />").attr({id:"remove-page-container","class":"small-modal"});$("#modal").length==0&&Galerie.open(k);c.refresh_pages&&g.renderTree(Page.root());g.render("/templates/admin/pages/remove.mustache",{page:i.asJSON()}).replace("#remove-page-container")})});
this.del("/pages/:id",function(g){var i=g.params.id;Page.find(i).destroy(function(k){if(k){jQuery("#page-"+i).remove();c.refresh_pages=false;g.redirect("#/pages")}})});this.get("/pages/:id/results",function(g){this.loadPages(function(){var i=Page.find(g.params.id);Asset.searchAdmin(g.params.query,function(){Asset.each(function(k){k.attr("current_page_id",i.id());k.save()});g.render("/templates/admin/pages/search_results.mustache",Asset.toMustache()).replace("#search-results-container")})})});this.get("#/pages/:page_id/assets/:id/add",
function(g){this.loadPages(function(){var i=g.params.page_id,k=Page.find(i),l=Asset.find(g.params.id),n=jQuery("#page-asset-ids");n.attr("value");var u=n.attr("value")+","+l.id();n.attr("value",u);k.saveRemote({page:{assets_list:u}},{success:function(){var A=jQuery('<div class="asset" />').attr("id","page-asset-"+l.id()),z=jQuery('<a href="#/assets/'+l.id()+'/edit"></a>'),G=jQuery('<br /><a href="#/pages/'+k.id()+"/assets/"+l.id()+'/remove">Remove</a>');z.append('<img src="/images/icons/'+l.id()+
"/"+l.attr("file_name")+'" alt="'+l.attr("title")+'" /></a>');A.html(z);A.append(G);jQuery("#page-assets").append(A);A=jQuery("#preview iframe");A.attr("src",A.attr("src"));c.do_not_refresh=true;g.redirect("#/pages/"+i+"/edit")}})})});this.get("#/pages/:page_id/assets/:id/remove",function(g){this.loadPages(function(){var i=g.params.id,k=g.params.page_id,l=Page.find(k),n=jQuery("#page-asset-ids"),u=n.attr("value").split(","),A=u.indexOf(i);A!=-1&&u.splice(A,1);n.attr("value",u);l.saveRemote({page:{assets_list:u.join(",")}},
{success:function(){jQuery("#page-asset-"+i).fadeOut("fast",function(){$(this).remove()});var z=jQuery("#preview iframe");z.attr("src",z.attr("src"));c.do_not_refresh=true;g.redirect("#/pages/"+k+"/edit")}})})})});
jQuery(document).ready(function(){jQuery("#login").length||Pages.run("#/pages");jQuery("#ajax_uploader").attr("multiple","multiple");jQuery(".js-only").show();Utilities.keyboard_nav();Utilities.check_browser_version();var e=jQuery("#tabs a");e.live("click",function(){e.removeClass("active");$(this).addClass("active")})});
