(function(c,a){function d(b){return h.isWindow(b)?b:b.nodeType===9?b.defaultView||b.parentWindow:false}function e(b){if(!db[b]){var f=O.body,i=h("<"+b+">").appendTo(f),k=i.css("display");i.remove();if(k==="none"||k===""){xa||(xa=O.createElement("iframe"),xa.frameBorder=xa.width=xa.height=0);f.appendChild(xa);if(!La||!xa.createElement){La=(xa.contentWindow||xa.contentDocument).document;La.write((O.compatMode==="CSS1Compat"?"<!doctype html>":"")+"<html><body>");La.close()}i=La.createElement(b);La.body.appendChild(i);
k=h.css(i,"display");f.removeChild(xa)}db[b]=k}return db[b]}function g(b,f){var i={};h.each(kb.concat.apply([],kb.slice(0,f)),function(){i[this]=b});return i}function j(){Wa=a}function l(){setTimeout(j,0);return Wa=h.now()}function t(){try{return new c.XMLHttpRequest}catch(b){}}function y(b,f,i,k){if(h.isArray(f))h.each(f,function(n,q){i||Eb.test(b)?k(b,q):y(b+"["+(typeof q=="object"||h.isArray(q)?n:"")+"]",q,i,k)});else if(!i&&f!=null&&typeof f=="object")for(var m in f)y(b+"["+m+"]",f[m],i,k);else k(b,
f)}function x(b,f,i,k,m,n){m=m||f.dataTypes[0];n=n||{};n[m]=true;m=b[m];for(var q=0,v=m?m.length:0,z=b===eb,B;q<v&&(z||!B);q++){B=m[q](f,i,k);typeof B=="string"&&(!z||n[B]?(B=a):(f.dataTypes.unshift(B),B=x(b,f,i,k,B,n)))}(z||!B)&&!n["*"]&&(B=x(b,f,i,k,"*",n));return B}function I(b){return function(f,i){typeof f!="string"&&(i=f,f="*");if(h.isFunction(i))for(var k=f.toLowerCase().split(lb),m=0,n=k.length,q,v;m<n;m++){q=k[m];(v=/^\+/.test(q))&&(q=q.substr(1)||"*");q=b[q]=b[q]||[];q[v?"unshift":"push"](i)}}}
function J(b,f,i){var k=f==="width"?b.offsetWidth:b.offsetHeight,m=f==="width"?Fb:Gb;if(k>0){i!=="border"&&h.each(m,function(){i||(k-=parseFloat(h.css(b,"padding"+this))||0);i==="margin"?(k+=parseFloat(h.css(b,i+this))||0):(k-=parseFloat(h.css(b,"border"+this+"Width"))||0)});return k+"px"}k=Ma(b,f,f);if(k<0||k==null)k=b.style[f]||0;k=parseFloat(k)||0;i&&h.each(m,function(){k+=parseFloat(h.css(b,"padding"+this))||0;i!=="padding"&&(k+=parseFloat(h.css(b,"border"+this+"Width"))||0);i==="margin"&&(k+=
parseFloat(h.css(b,i+this))||0)});return k+"px"}function R(b,f){f.src?h.ajax({url:f.src,async:false,dataType:"script"}):h.globalEval((f.text||f.textContent||f.innerHTML||"").replace(Hb,"/*$0*/"));f.parentNode&&f.parentNode.removeChild(f)}function Y(b){h.nodeName(b,"input")?ga(b):"getElementsByTagName"in b&&h.grep(b.getElementsByTagName("input"),ga)}function ga(b){if(b.type==="checkbox"||b.type==="radio")b.defaultChecked=b.checked}function o(b){return"getElementsByTagName"in b?b.getElementsByTagName("*"):
"querySelectorAll"in b?b.querySelectorAll("*"):[]}function r(b,f){var i;if(f.nodeType===1){f.clearAttributes&&f.clearAttributes();f.mergeAttributes&&f.mergeAttributes(b);i=f.nodeName.toLowerCase();if(i==="object")f.outerHTML=b.outerHTML;else if(i!=="input"||b.type!=="checkbox"&&b.type!=="radio")if(i==="option")f.selected=b.defaultSelected;else{if(i==="input"||i==="textarea")f.defaultValue=b.defaultValue}else{b.checked&&(f.defaultChecked=f.checked=b.checked);f.value!==b.value&&(f.value=b.value)}f.removeAttribute(h.expando)}}
function w(b,f){if(f.nodeType===1&&h.hasData(b)){var i=h.expando,k=h.data(b),m=h.data(f,k);if(k=k[i]){var n=k.events;m=m[i]=h.extend({},k);if(n){delete m.handle;m.events={};for(var q in n){i=0;for(k=n[q].length;i<k;i++)h.event.add(f,q+(n[q][i].namespace?".":"")+n[q][i].namespace,n[q][i],n[q][i].data)}}}}}function C(b,f,i){f=f||0;if(h.isFunction(f))return h.grep(b,function(m,n){return!!f.call(m,n,m)===i});if(f.nodeType)return h.grep(b,function(m){return m===f===i});if(typeof f=="string"){var k=h.grep(b,
function(m){return m.nodeType===1});if(Ib.test(f))return h.filter(f,k,!i);f=h.filter(f,k)}return h.grep(b,function(m){return h.inArray(m,f)>=0===i})}function S(b,f){return(b&&b!=="*"?b+".":"")+f.replace(Na,"`").replace(Xa,"&")}function V(b){var f,i,k,m,n,q,v,z,B,H,T,aa=[];m=[];n=h._data(this,"events");if(!(b.liveFired===this||!n||!n.live||b.target.disabled||b.button&&b.type==="click")){b.namespace&&(T=new RegExp("(^|\\.)"+b.namespace.split(".").join("\\.(?:.*\\.)?")+"(\\.|$)"));b.liveFired=this;var W=
n.live.slice(0);for(v=0;v<W.length;v++){n=W[v];n.origType.replace(va,"")===b.type?m.push(n.selector):W.splice(v--,1)}m=h(b.target).closest(m,b.currentTarget);z=0;for(B=m.length;z<B;z++){H=m[z];for(v=0;v<W.length;v++){n=W[v];if(H.selector===n.selector&&(!T||T.test(n.namespace))&&!H.elem.disabled){q=H.elem;k=null;if(n.preType==="mouseenter"||n.preType==="mouseleave"){b.type=n.preType;(k=h(b.relatedTarget).closest(n.selector)[0])&&h.contains(q,k)&&(k=q)}(!k||k!==q)&&aa.push({elem:q,handleObj:n,level:H.level})}}}z=
0;for(B=aa.length;z<B;z++){m=aa[z];if(i&&m.level>i)break;b.currentTarget=m.elem;b.data=m.handleObj.data;b.handleObj=m.handleObj;T=m.handleObj.origHandler.apply(m.elem,arguments);if(T===false||b.isPropagationStopped()){i=m.level;T===false&&(f=false);if(b.isImmediatePropagationStopped())break}}return f}}function Z(b,f,i){var k=h.extend({},i[0]);k.type=b;k.originalEvent={};k.liveFired=a;h.event.handle.call(f,k);k.isDefaultPrevented()&&i[0].preventDefault()}function ca(){return true}function ea(){return false}
function la(b,f,i){var k=f+"defer",m=f+"queue",n=f+"mark",q=h.data(b,k,a,true);q&&(i==="queue"||!h.data(b,m,a,true))&&(i==="mark"||!h.data(b,n,a,true))&&setTimeout(function(){!h.data(b,m,a,true)&&!h.data(b,n,a,true)&&(h.removeData(b,k,true),q.resolve())},0)}function ya(b){for(var f in b)if(f!=="toJSON")return false;return true}function za(b,f,i){if(i===a&&b.nodeType===1){i="data-"+f.replace(Oa,"$1-$2").toLowerCase();i=b.getAttribute(i);if(typeof i=="string"){try{i=i==="true"?true:i==="false"?false:
i==="null"?null:h.isNaN(i)?wa.test(i)?h.parseJSON(i):i:parseFloat(i)}catch(k){}h.data(b,f,i)}else i=a}return i}var O=c.document,K=c.navigator,M=c.location,h=function(){function b(){if(!f.isReady){try{O.documentElement.doScroll("left")}catch(u){setTimeout(b,1);return}f.ready()}}var f=function(u,G){return new f.fn.init(u,G,m)},i=c.jQuery,k=c.$,m,n=/^(?:[^<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,q=/\S/,v=/^\s+/,z=/\s+$/,B=/\d/,H=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,T=/^[\],:{}\s]*$/,aa=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,
W=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,ba=/(?:^|:|,)(?:\s*\[)+/g,ta=/(webkit)[ \/]([\w.]+)/,na=/(opera)(?:.*version)?[ \/]([\w.]+)/,oa=/(msie) ([\w.]+)/,Aa=/(mozilla)(?:.*? rv:([\w.]+))?/,p=/-([a-z])/ig,s=function(u,G){return G.toUpperCase()},D=K.userAgent,E,A,F=Object.prototype.toString,L=Object.prototype.hasOwnProperty,P=Array.prototype.push,X=Array.prototype.slice,ma=String.prototype.trim,ja=Array.prototype.indexOf,pa={};f.fn=f.prototype={constructor:f,init:function(u,
G,Q){var N,U;if(!u)return this;if(u.nodeType){this.context=this[0]=u;this.length=1;return this}if(u==="body"&&!G&&O.body){this.context=O;this[0]=O.body;this.selector=u;this.length=1;return this}if(typeof u=="string"){u.charAt(0)!=="<"||u.charAt(u.length-1)!==">"||u.length<3?(N=n.exec(u)):(N=[null,u,null]);if(N&&(N[1]||!G)){if(N[1]){U=(G=G instanceof f?G[0]:G)?G.ownerDocument||G:O;(Q=H.exec(u))?f.isPlainObject(G)?(u=[O.createElement(Q[1])],f.fn.attr.call(u,G,true)):(u=[U.createElement(Q[1])]):(Q=f.buildFragment([N[1]],
[U]),u=(Q.cacheable?f.clone(Q.fragment):Q.fragment).childNodes);return f.merge(this,u)}if((G=O.getElementById(N[2]))&&G.parentNode){if(G.id!==N[2])return Q.find(u);this.length=1;this[0]=G}this.context=O;this.selector=u;return this}return!G||G.jquery?(G||Q).find(u):this.constructor(G).find(u)}if(f.isFunction(u))return Q.ready(u);u.selector!==a&&(this.selector=u.selector,this.context=u.context);return f.makeArray(u,this)},selector:"",jquery:"1.6.2",length:0,size:function(){return this.length},toArray:function(){return X.call(this,
0)},get:function(u){return u==null?this.toArray():u<0?this[this.length+u]:this[u]},pushStack:function(u,G,Q){var N=this.constructor();f.isArray(u)?P.apply(N,u):f.merge(N,u);N.prevObject=this;N.context=this.context;G==="find"?(N.selector=this.selector+(this.selector?" ":"")+Q):G&&(N.selector=this.selector+"."+G+"("+Q+")");return N},each:function(u,G){return f.each(this,u,G)},ready:function(u){f.bindReady();E.done(u);return this},eq:function(u){return u===-1?this.slice(u):this.slice(u,+u+1)},first:function(){return this.eq(0)},
last:function(){return this.eq(-1)},slice:function(){return this.pushStack(X.apply(this,arguments),"slice",X.call(arguments).join(","))},map:function(u){return this.pushStack(f.map(this,function(G,Q){return u.call(G,Q,G)}))},end:function(){return this.prevObject||this.constructor(null)},push:P,sort:[].sort,splice:[].splice};f.fn.init.prototype=f.fn;f.extend=f.fn.extend=function(){var u,G,Q,N,U,da,fa=arguments[0]||{},ha=1,Ba=arguments.length,Ca=false;typeof fa=="boolean"&&(Ca=fa,fa=arguments[1]||{},
ha=2);typeof fa!="object"&&!f.isFunction(fa)&&(fa={});for(Ba===ha&&(fa=this,--ha);ha<Ba;ha++)if((u=arguments[ha])!=null)for(G in u){Q=fa[G];N=u[G];if(fa!==N)Ca&&N&&(f.isPlainObject(N)||(U=f.isArray(N)))?(U?(U=false,da=Q&&f.isArray(Q)?Q:[]):(da=Q&&f.isPlainObject(Q)?Q:{}),fa[G]=f.extend(Ca,da,N)):N!==a&&(fa[G]=N)}return fa};f.extend({noConflict:function(u){c.$===f&&(c.$=k);u&&c.jQuery===f&&(c.jQuery=i);return f},isReady:false,readyWait:1,holdReady:function(u){u?f.readyWait++:f.ready(true)},ready:function(u){if(u===
true&&!--f.readyWait||u!==true&&!f.isReady){if(!O.body)return setTimeout(f.ready,1);f.isReady=true;if(!(u!==true&&--f.readyWait>0)){E.resolveWith(O,[f]);f.fn.trigger&&f(O).trigger("ready").unbind("ready")}}},bindReady:function(){if(!E){E=f._Deferred();if(O.readyState==="complete")return setTimeout(f.ready,1);if(O.addEventListener){O.addEventListener("DOMContentLoaded",A,false);c.addEventListener("load",f.ready,false)}else if(O.attachEvent){O.attachEvent("onreadystatechange",A);c.attachEvent("onload",
f.ready);var u=false;try{u=c.frameElement==null}catch(G){}O.documentElement.doScroll&&u&&b()}}},isFunction:function(u){return f.type(u)==="function"},isArray:Array.isArray||function(u){return f.type(u)==="array"},isWindow:function(u){return u&&typeof u=="object"&&"setInterval"in u},isNaN:function(u){return u==null||!B.test(u)||isNaN(u)},type:function(u){return u==null?String(u):pa[F.call(u)]||"object"},isPlainObject:function(u){if(!u||f.type(u)!=="object"||u.nodeType||f.isWindow(u))return false;if(u.constructor&&
!L.call(u,"constructor")&&!L.call(u.constructor.prototype,"isPrototypeOf"))return false;var G;for(G in u);return G===a||L.call(u,G)},isEmptyObject:function(u){for(var G in u)return false;return true},error:function(u){throw u;},parseJSON:function(u){if(typeof u!="string"||!u)return null;u=f.trim(u);if(c.JSON&&c.JSON.parse)return c.JSON.parse(u);if(T.test(u.replace(aa,"@").replace(W,"]").replace(ba,"")))return(new Function("return "+u))();f.error("Invalid JSON: "+u)},parseXML:function(u,G,Q){c.DOMParser?
(Q=new DOMParser,G=Q.parseFromString(u,"text/xml")):(G=new ActiveXObject("Microsoft.XMLDOM"),G.async="false",G.loadXML(u));Q=G.documentElement;(!Q||!Q.nodeName||Q.nodeName==="parsererror")&&f.error("Invalid XML: "+u);return G},noop:function(){},globalEval:function(u){u&&q.test(u)&&(c.execScript||function(G){c.eval.call(c,G)})(u)},camelCase:function(u){return u.replace(p,s)},nodeName:function(u,G){return u.nodeName&&u.nodeName.toUpperCase()===G.toUpperCase()},each:function(u,G,Q){var N,U=0,da=u.length,
fa=da===a||f.isFunction(u);if(Q)if(fa)for(N in u){if(G.apply(u[N],Q)===false)break}else for(;U<da;){if(G.apply(u[U++],Q)===false)break}else if(fa)for(N in u){if(G.call(u[N],N,u[N])===false)break}else for(;U<da;)if(G.call(u[U],U,u[U++])===false)break;return u},trim:ma?function(u){return u==null?"":ma.call(u)}:function(u){return u==null?"":(u+"").replace(v,"").replace(z,"")},makeArray:function(u,G){var Q=G||[];if(u!=null){var N=f.type(u);u.length==null||N==="string"||N==="function"||N==="regexp"||f.isWindow(u)?
P.call(Q,u):f.merge(Q,u)}return Q},inArray:function(u,G){if(ja)return ja.call(G,u);for(var Q=0,N=G.length;Q<N;Q++)if(G[Q]===u)return Q;return-1},merge:function(u,G){var Q=u.length,N=0;if(typeof G.length=="number")for(var U=G.length;N<U;N++)u[Q++]=G[N];else for(;G[N]!==a;)u[Q++]=G[N++];u.length=Q;return u},grep:function(u,G,Q){var N=[],U;Q=!!Q;for(var da=0,fa=u.length;da<fa;da++){U=!!G(u[da],da);Q!==U&&N.push(u[da])}return N},map:function(u,G,Q){var N,U,da=[],fa=0,ha=u.length;if(u instanceof f||ha!==
a&&typeof ha=="number"&&(ha>0&&u[0]&&u[ha-1]||ha===0||f.isArray(u)))for(;fa<ha;fa++){N=G(u[fa],fa,Q);N!=null&&(da[da.length]=N)}else for(U in u){N=G(u[U],U,Q);N!=null&&(da[da.length]=N)}return da.concat.apply([],da)},guid:1,proxy:function(u,G){if(typeof G=="string"){var Q=u[G];G=u;u=Q}if(!f.isFunction(u))return a;var N=X.call(arguments,2);Q=function(){return u.apply(G,N.concat(X.call(arguments)))};Q.guid=u.guid=u.guid||Q.guid||f.guid++;return Q},access:function(u,G,Q,N,U,da){var fa=u.length;if(typeof G==
"object"){for(var ha in G)f.access(u,ha,G[ha],N,U,Q);return u}if(Q!==a){N=!da&&N&&f.isFunction(Q);for(ha=0;ha<fa;ha++)U(u[ha],G,N?Q.call(u[ha],ha,U(u[ha],G)):Q,da);return u}return fa?U(u[0],G):a},now:function(){return(new Date).getTime()},uaMatch:function(u){u=u.toLowerCase();u=ta.exec(u)||na.exec(u)||oa.exec(u)||u.indexOf("compatible")<0&&Aa.exec(u)||[];return{browser:u[1]||"",version:u[2]||"0"}},sub:function(){function u(Q,N){return new u.fn.init(Q,N)}f.extend(true,u,this);u.superclass=this;u.fn=
u.prototype=this();u.fn.constructor=u;u.sub=this.sub;u.fn.init=function(Q,N){N&&N instanceof f&&!(N instanceof u)&&(N=u(N));return f.fn.init.call(this,Q,N,G)};u.fn.init.prototype=u.fn;var G=u(O);return u},browser:{}});f.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(u,G){pa["[object "+G+"]"]=G.toLowerCase()});D=f.uaMatch(D);D.browser&&(f.browser[D.browser]=true,f.browser.version=D.version);f.browser.webkit&&(f.browser.safari=true);q.test("\u00a0")&&(v=/^[\s\xA0]+/,
z=/[\s\xA0]+$/);m=f(O);O.addEventListener?(A=function(){O.removeEventListener("DOMContentLoaded",A,false);f.ready()}):O.attachEvent&&(A=function(){O.readyState==="complete"&&(O.detachEvent("onreadystatechange",A),f.ready())});return f}(),ia="done fail isResolved isRejected promise then always pipe".split(" "),ka=[].slice;h.extend({_Deferred:function(){var b=[],f,i,k,m={done:function(){if(!k){var n=arguments,q,v,z,B,H;f&&(H=f,f=0);q=0;for(v=n.length;q<v;q++){z=n[q];B=h.type(z);B==="array"?m.done.apply(m,
z):B==="function"&&b.push(z)}H&&m.resolveWith(H[0],H[1])}return this},resolveWith:function(n,q){if(!k&&!f&&!i){q=q||[];i=1;try{for(;b[0];)b.shift().apply(n,q)}finally{f=[n,q];i=0}}return this},resolve:function(){m.resolveWith(this,arguments);return this},isResolved:function(){return!!i||!!f},cancel:function(){k=1;b=[];return this}};return m},Deferred:function(b){var f=h._Deferred(),i=h._Deferred(),k;h.extend(f,{then:function(m,n){f.done(m).fail(n);return this},always:function(){return f.done.apply(f,
arguments).fail.apply(this,arguments)},fail:i.done,rejectWith:i.resolveWith,reject:i.resolve,isRejected:i.isResolved,pipe:function(m,n){return h.Deferred(function(q){h.each({done:[m,"resolve"],fail:[n,"reject"]},function(v,z){var B=z[0],H=z[1],T;h.isFunction(B)?f[v](function(){(T=B.apply(this,arguments))&&h.isFunction(T.promise)?T.promise().then(q.resolve,q.reject):q[H](T)}):f[v](q[H])})}).promise()},promise:function(m){if(m==null){if(k)return k;k=m={}}for(var n=ia.length;n--;)m[ia[n]]=f[ia[n]];return m}});
f.done(i.cancel).fail(f.cancel);delete f.cancel;b&&b.call(f,f);return f},when:function(b){function f(v){return function(z){i[v]=arguments.length>1?ka.call(arguments,0):z;--n||q.resolveWith(q,ka.call(i,0))}}var i=arguments,k=0,m=i.length,n=m,q=m<=1&&b&&h.isFunction(b.promise)?b:h.Deferred();if(m>1){for(;k<m;k++)i[k]&&h.isFunction(i[k].promise)?i[k].promise().then(f(k),q.reject):--n;n||q.resolveWith(q,i)}else q!==b&&q.resolveWith(q,m?[b]:[]);return q.promise()}});h.support=function(){var b=O.createElement("div"),
f=O.documentElement,i,k,m,n,q,v,z;b.setAttribute("className","t");b.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>";i=b.getElementsByTagName("*");k=b.getElementsByTagName("a")[0];if(!i||!i.length||!k)return{};m=O.createElement("select");n=m.appendChild(O.createElement("option"));i=b.getElementsByTagName("input")[0];v={leadingWhitespace:b.firstChild.nodeType===3,tbody:!b.getElementsByTagName("tbody").length,htmlSerialize:!!b.getElementsByTagName("link").length,
style:/top/.test(k.getAttribute("style")),hrefNormalized:k.getAttribute("href")==="/a",opacity:/^0.55$/.test(k.style.opacity),cssFloat:!!k.style.cssFloat,checkOn:i.value==="on",optSelected:n.selected,getSetAttribute:b.className!=="t",submitBubbles:true,changeBubbles:true,focusinBubbles:false,deleteExpando:true,noCloneEvent:true,inlineBlockNeedsLayout:false,shrinkWrapBlocks:false,reliableMarginRight:true};i.checked=true;v.noCloneChecked=i.cloneNode(true).checked;m.disabled=true;v.optDisabled=!n.disabled;
try{delete b.test}catch(B){v.deleteExpando=false}!b.addEventListener&&b.attachEvent&&b.fireEvent&&(b.attachEvent("onclick",function(){v.noCloneEvent=false}),b.cloneNode(true).fireEvent("onclick"));i=O.createElement("input");i.value="t";i.setAttribute("type","radio");v.radioValue=i.value==="t";i.setAttribute("checked","checked");b.appendChild(i);k=O.createDocumentFragment();k.appendChild(b.firstChild);v.checkClone=k.cloneNode(true).cloneNode(true).lastChild.checked;b.innerHTML="";b.style.width=b.style.paddingLeft=
"1px";m=O.getElementsByTagName("body")[0];k=O.createElement(m?"div":"body");n={visibility:"hidden",width:0,height:0,border:0,margin:0};m&&h.extend(n,{position:"absolute",left:-1000,top:-1000});for(z in n)k.style[z]=n[z];k.appendChild(b);f=m||f;f.insertBefore(k,f.firstChild);v.appendChecked=i.checked;v.boxModel=b.offsetWidth===2;"zoom"in b.style&&(b.style.display="inline",b.style.zoom=1,v.inlineBlockNeedsLayout=b.offsetWidth===2,b.style.display="",b.innerHTML="<div style='width:4px;'></div>",v.shrinkWrapBlocks=
b.offsetWidth!==2);b.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>";m=b.getElementsByTagName("td");i=m[0].offsetHeight===0;m[0].style.display="";m[1].style.display="none";v.reliableHiddenOffsets=i&&m[0].offsetHeight===0;b.innerHTML="";O.defaultView&&O.defaultView.getComputedStyle&&(q=O.createElement("div"),q.style.width="0",q.style.marginRight="0",b.appendChild(q),v.reliableMarginRight=(parseInt((O.defaultView.getComputedStyle(q,null)||{marginRight:0}).marginRight,
10)||0)===0);k.innerHTML="";f.removeChild(k);if(b.attachEvent)for(z in{submit:1,change:1,focusin:1}){q="on"+z;(i=q in b)||(b.setAttribute(q,"return;"),i=typeof b[q]=="function");v[z+"Bubbles"]=i}k=k=m=n=m=q=b=i=null;return v}();h.boxModel=h.support.boxModel;var wa=/^(?:\{.*\}|\[.*\])$/,Oa=/([a-z])([A-Z])/g;h.extend({cache:{},uuid:0,expando:"jQuery"+(h.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:true,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:true},hasData:function(b){b=
b.nodeType?h.cache[b[h.expando]]:b[h.expando];return!!b&&!ya(b)},data:function(b,f,i,k){if(h.acceptData(b)){var m=h.expando,n=typeof f=="string",q=b.nodeType,v=q?h.cache:b,z=q?b[h.expando]:b[h.expando]&&h.expando;if(!((!z||k&&z&&!v[z][m])&&n&&i===a)){z||(q?(b[h.expando]=z=++h.uuid):(z=h.expando));v[z]||(v[z]={},q||(v[z].toJSON=h.noop));if(typeof f=="object"||typeof f=="function")k?(v[z][m]=h.extend(v[z][m],f)):(v[z]=h.extend(v[z],f));b=v[z];k&&(b[m]||(b[m]={}),b=b[m]);i!==a&&(b[h.camelCase(f)]=i);
if(f==="events"&&!b[f])return b[m]&&b[m].events;return n?b[h.camelCase(f)]||b[f]:b}}},removeData:function(b,f,i){if(h.acceptData(b)){var k=h.expando,m=b.nodeType,n=m?h.cache:b,q=m?b[h.expando]:h.expando;if(n[q]){if(f){var v=i?n[q][k]:n[q];if(v){delete v[f];if(!ya(v))return}}if(i){delete n[q][k];if(!ya(n[q]))return}f=n[q][k];h.support.deleteExpando||n!=c?delete n[q]:(n[q]=null);f?(n[q]={},m||(n[q].toJSON=h.noop),n[q][k]=f):m&&(h.support.deleteExpando?delete b[h.expando]:b.removeAttribute?b.removeAttribute(h.expando):
(b[h.expando]=null))}}},_data:function(b,f,i){return h.data(b,f,i,true)},acceptData:function(b){if(b.nodeName){var f=h.noData[b.nodeName.toLowerCase()];if(f)return f!==true&&b.getAttribute("classid")===f}return true}});h.fn.extend({data:function(b,f){var i=null;if(typeof b=="undefined"){if(this.length){i=h.data(this[0]);if(this[0].nodeType===1)for(var k=this[0].attributes,m,n=0,q=k.length;n<q;n++){m=k[n].name;m.indexOf("data-")===0&&(m=h.camelCase(m.substring(5)),za(this[0],m,i[m]))}}return i}if(typeof b==
"object")return this.each(function(){h.data(this,b)});var v=b.split(".");v[1]=v[1]?"."+v[1]:"";if(f===a){i=this.triggerHandler("getData"+v[1]+"!",[v[0]]);i===a&&this.length&&(i=h.data(this[0],b),i=za(this[0],b,i));return i===a&&v[1]?this.data(v[0]):i}return this.each(function(){var z=h(this),B=[v[0],f];z.triggerHandler("setData"+v[1]+"!",B);h.data(this,b,f);z.triggerHandler("changeData"+v[1]+"!",B)})},removeData:function(b){return this.each(function(){h.removeData(this,b)})}});h.extend({_mark:function(b,
f){b&&(f=(f||"fx")+"mark",h.data(b,f,(h.data(b,f,a,true)||0)+1,true))},_unmark:function(b,f,i){b!==true&&(i=f,f=b,b=false);if(f){i=i||"fx";var k=i+"mark";(b=b?0:(h.data(f,k,a,true)||1)-1)?h.data(f,k,b,true):(h.removeData(f,k,true),la(f,i,"mark"))}},queue:function(b,f,i){if(b){f=(f||"fx")+"queue";var k=h.data(b,f,a,true);i&&(!k||h.isArray(i)?(k=h.data(b,f,h.makeArray(i),true)):k.push(i));return k||[]}},dequeue:function(b,f){f=f||"fx";var i=h.queue(b,f),k=i.shift();k==="inprogress"&&(k=i.shift());k&&
(f==="fx"&&i.unshift("inprogress"),k.call(b,function(){h.dequeue(b,f)}));i.length||(h.removeData(b,f+"queue",true),la(b,f,"queue"))}});h.fn.extend({queue:function(b,f){typeof b!="string"&&(f=b,b="fx");if(f===a)return h.queue(this[0],b);return this.each(function(){var i=h.queue(this,b,f);b==="fx"&&i[0]!=="inprogress"&&h.dequeue(this,b)})},dequeue:function(b){return this.each(function(){h.dequeue(this,b)})},delay:function(b,f){b=h.fx?h.fx.speeds[b]||b:b;f=f||"fx";return this.queue(f,function(){var i=
this;setTimeout(function(){h.dequeue(i,f)},b)})},clearQueue:function(b){return this.queue(b||"fx",[])},promise:function(b,f){function i(){--q||k.resolveWith(m,[m])}typeof b!="string"&&(f=b,b=a);b=b||"fx";for(var k=h.Deferred(),m=this,n=m.length,q=1,v=b+"defer",z=b+"queue",B=b+"mark",H;n--;)if(H=h.data(m[n],v,a,true)||(h.data(m[n],z,a,true)||h.data(m[n],B,a,true))&&h.data(m[n],v,h._Deferred(),true)){q++;H.done(i)}i();return k.promise()}});var Ya=/[\n\t\r]/g,Ua=/\s+/,Za=/\r/g,Pa=/^(?:button|input)$/i,
$a=/^(?:button|input|object|select|textarea)$/i,Ga=/^a(?:rea)?$/i,Ha=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Da=/\:|^on/,qa,ra;h.fn.extend({attr:function(b,f){return h.access(this,b,f,true,h.attr)},removeAttr:function(b){return this.each(function(){h.removeAttr(this,b)})},prop:function(b,f){return h.access(this,b,f,true,h.prop)},removeProp:function(b){b=h.propFix[b]||b;return this.each(function(){try{this[b]=a;delete this[b]}catch(f){}})},
addClass:function(b){var f,i,k,m,n,q,v;if(h.isFunction(b))return this.each(function(z){h(this).addClass(b.call(this,z,this.className))});if(b&&typeof b=="string"){f=b.split(Ua);i=0;for(k=this.length;i<k;i++){m=this[i];if(m.nodeType===1)if(!m.className&&f.length===1)m.className=b;else{n=" "+m.className+" ";q=0;for(v=f.length;q<v;q++)~n.indexOf(" "+f[q]+" ")||(n+=f[q]+" ");m.className=h.trim(n)}}}return this},removeClass:function(b){var f,i,k,m,n,q,v;if(h.isFunction(b))return this.each(function(z){h(this).removeClass(b.call(this,
z,this.className))});if(b&&typeof b=="string"||b===a){f=(b||"").split(Ua);i=0;for(k=this.length;i<k;i++){m=this[i];if(m.nodeType===1&&m.className)if(b){n=(" "+m.className+" ").replace(Ya," ");q=0;for(v=f.length;q<v;q++)n=n.replace(" "+f[q]+" "," ");m.className=h.trim(n)}else m.className=""}}return this},toggleClass:function(b,f){var i=typeof b,k=typeof f=="boolean";if(h.isFunction(b))return this.each(function(m){h(this).toggleClass(b.call(this,m,this.className,f),f)});return this.each(function(){if(i===
"string")for(var m,n=0,q=h(this),v=f,z=b.split(Ua);m=z[n++];){v=k?v:!q.hasClass(m);q[v?"addClass":"removeClass"](m)}else if(i==="undefined"||i==="boolean"){this.className&&h._data(this,"__className__",this.className);this.className=this.className||b===false?"":h._data(this,"__className__")||""}})},hasClass:function(b){for(var f=0,i=this.length;f<i;f++)if((" "+this[f].className+" ").replace(Ya," ").indexOf(" "+b+" ")>-1)return true;return false},val:function(b){var f,i,k=this[0];if(!arguments.length){if(k){if((f=
h.valHooks[k.nodeName.toLowerCase()]||h.valHooks[k.type])&&"get"in f&&(i=f.get(k,"value"))!==a)return i;i=k.value;return typeof i=="string"?i.replace(Za,""):i==null?"":i}return a}var m=h.isFunction(b);return this.each(function(n){var q=h(this),v;if(this.nodeType===1){m?(v=b.call(this,n,q.val())):(v=b);v==null?(v=""):typeof v=="number"?(v+=""):h.isArray(v)&&(v=h.map(v,function(z){return z==null?"":z+""}));f=h.valHooks[this.nodeName.toLowerCase()]||h.valHooks[this.type];if(!f||!("set"in f)||f.set(this,
v,"value")===a)this.value=v}})}});h.extend({valHooks:{option:{get:function(b){var f=b.attributes.value;return!f||f.specified?b.value:b.text}},select:{get:function(b){var f,i=b.selectedIndex,k=[],m=b.options;b=b.type==="select-one";if(i<0)return null;for(var n=b?i:0,q=b?i+1:m.length;n<q;n++){f=m[n];if(f.selected&&(h.support.optDisabled?!f.disabled:f.getAttribute("disabled")===null)&&(!f.parentNode.disabled||!h.nodeName(f.parentNode,"optgroup"))){f=h(f).val();if(b)return f;k.push(f)}}if(b&&!k.length&&
m.length)return h(m[i]).val();return k},set:function(b,f){var i=h.makeArray(f);h(b).find("option").each(function(){this.selected=h.inArray(h(this).val(),i)>=0});i.length||(b.selectedIndex=-1);return i}}},attrFn:{val:true,css:true,html:true,text:true,data:true,width:true,height:true,offset:true},attrFix:{tabindex:"tabIndex"},attr:function(b,f,i,k){var m=b.nodeType;if(!b||m===3||m===8||m===2)return a;if(k&&f in h.attrFn)return h(b)[f](i);if(!("getAttribute"in b))return h.prop(b,f,i);var n,q;(k=m!==
1||!h.isXMLDoc(b))&&(f=h.attrFix[f]||f,q=h.attrHooks[f],q||(Ha.test(f)?(q=ra):qa&&f!=="className"&&(h.nodeName(b,"form")||Da.test(f))&&(q=qa)));if(i!==a){if(i===null){h.removeAttr(b,f);return a}if(q&&"set"in q&&k&&(n=q.set(b,i,f))!==a)return n;b.setAttribute(f,""+i);return i}if(q&&"get"in q&&k&&(n=q.get(b,f))!==null)return n;n=b.getAttribute(f);return n===null?a:n},removeAttr:function(b,f){var i;b.nodeType===1&&(f=h.attrFix[f]||f,h.support.getSetAttribute?b.removeAttribute(f):(h.attr(b,f,""),b.removeAttributeNode(b.getAttributeNode(f))),
Ha.test(f)&&(i=h.propFix[f]||f)in b&&(b[i]=false))},attrHooks:{type:{set:function(b,f){if(Pa.test(b.nodeName)&&b.parentNode)h.error("type property can't be changed");else if(!h.support.radioValue&&f==="radio"&&h.nodeName(b,"input")){var i=b.value;b.setAttribute("type",f);i&&(b.value=i);return f}}},tabIndex:{get:function(b){var f=b.getAttributeNode("tabIndex");return f&&f.specified?parseInt(f.value,10):$a.test(b.nodeName)||Ga.test(b.nodeName)&&b.href?0:a}},value:{get:function(b,f){if(qa&&h.nodeName(b,
"button"))return qa.get(b,f);return f in b?b.value:null},set:function(b,f,i){if(qa&&h.nodeName(b,"button"))return qa.set(b,f,i);b.value=f}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(b,f,i){var k=b.nodeType;if(!b||k===3||k===8||k===2)return a;var m,n;(k!==1||
!h.isXMLDoc(b))&&(f=h.propFix[f]||f,n=h.propHooks[f]);return i!==a?n&&"set"in n&&(m=n.set(b,i,f))!==a?m:(b[f]=i):n&&"get"in n&&(m=n.get(b,f))!==a?m:b[f]},propHooks:{}});ra={get:function(b,f){return h.prop(b,f)?f.toLowerCase():a},set:function(b,f,i){var k;f===false?h.removeAttr(b,i):(k=h.propFix[i]||i,k in b&&(b[k]=true),b.setAttribute(i,i.toLowerCase()));return i}};h.support.getSetAttribute||(h.attrFix=h.propFix,qa=h.attrHooks.name=h.attrHooks.title=h.valHooks.button={get:function(b,f){var i;return(i=
b.getAttributeNode(f))&&i.nodeValue!==""?i.nodeValue:a},set:function(b,f,i){if(b=b.getAttributeNode(i))return b.nodeValue=f}},h.each(["width","height"],function(b,f){h.attrHooks[f]=h.extend(h.attrHooks[f],{set:function(i,k){if(k===""){i.setAttribute(f,"auto");return k}}})}));h.support.hrefNormalized||h.each(["href","src","width","height"],function(b,f){h.attrHooks[f]=h.extend(h.attrHooks[f],{get:function(i){i=i.getAttribute(f,2);return i===null?a:i}})});h.support.style||(h.attrHooks.style={get:function(b){return b.style.cssText.toLowerCase()||
a},set:function(b,f){return b.style.cssText=""+f}});h.support.optSelected||(h.propHooks.selected=h.extend(h.propHooks.selected,{get:function(){}}));h.support.checkOn||h.each(["radio","checkbox"],function(){h.valHooks[this]={get:function(b){return b.getAttribute("value")===null?"on":b.value}}});h.each(["radio","checkbox"],function(){h.valHooks[this]=h.extend(h.valHooks[this],{set:function(b,f){if(h.isArray(f))return b.checked=h.inArray(h(b).val(),f)>=0}})});var va=/\.(.*)$/,sa=/^(?:textarea|input|select)$/i,
Na=/\./g,Xa=/ /g,Jb=/[^\w\s.|`]/g,Kb=function(b){return b.replace(Jb,"\\$&")};h.event={add:function(b,f,i,k){if(b.nodeType!==3&&b.nodeType!==8){if(i===false)i=ea;else if(!i)return;var m,n;i.handler&&(m=i,i=m.handler);i.guid||(i.guid=h.guid++);if(n=h._data(b)){var q=n.events,v=n.handle;q||(n.events=q={});v||(n.handle=v=function(W){return typeof h!="undefined"&&(!W||h.event.triggered!==W.type)?h.event.handle.apply(v.elem,arguments):a});v.elem=b;f=f.split(" ");for(var z,B=0,H;z=f[B++];){n=m?h.extend({},
m):{handler:i,data:k};z.indexOf(".")>-1?(H=z.split("."),z=H.shift(),n.namespace=H.slice(0).sort().join(".")):(H=[],n.namespace="");n.type=z;n.guid||(n.guid=i.guid);var T=q[z],aa=h.event.special[z]||{};if(!T){T=q[z]=[];if(!aa.setup||aa.setup.call(b,k,H,v)===false)b.addEventListener?b.addEventListener(z,v,false):b.attachEvent&&b.attachEvent("on"+z,v)}aa.add&&(aa.add.call(b,n),n.handler.guid||(n.handler.guid=i.guid));T.push(n);h.event.global[z]=true}b=null}}},global:{},remove:function(b,f,i,k){if(b.nodeType!==
3&&b.nodeType!==8){i===false&&(i=ea);var m,n,q=0,v,z,B,H,T,aa,W=h.hasData(b)&&h._data(b),ba=W&&W.events;if(W&&ba){f&&f.type&&(i=f.handler,f=f.type);if(!f||typeof f=="string"&&f.charAt(0)===".")for(m in ba)h.event.remove(b,m+(f||""));else{for(f=f.split(" ");m=f[q++];){H=m;v=m.indexOf(".")<0;z=[];v||(z=m.split("."),m=z.shift(),B=new RegExp("(^|\\.)"+h.map(z.slice(0).sort(),Kb).join("\\.(?:.*\\.)?")+"(\\.|$)"));if(T=ba[m])if(i){H=h.event.special[m]||{};for(n=k||0;n<T.length;n++){aa=T[n];if(i.guid===
aa.guid){if(v||B.test(aa.namespace)){k==null&&T.splice(n--,1);H.remove&&H.remove.call(b,aa)}if(k!=null)break}}if(T.length===0||k!=null&&T.length===1){(!H.teardown||H.teardown.call(b,z)===false)&&h.removeEvent(b,m,W.handle);delete ba[m]}}else for(n=0;n<T.length;n++){aa=T[n];if(v||B.test(aa.namespace)){h.event.remove(b,H,aa.handler,n);T.splice(n--,1)}}}if(h.isEmptyObject(ba)){(f=W.handle)&&(f.elem=null);delete W.events;delete W.handle;h.isEmptyObject(W)&&h.removeData(b,a,true)}}}}},customEvent:{getData:true,
setData:true,changeData:true},trigger:function(b,f,i,k){var m=b.type||b,n=[],q;m.indexOf("!")>=0&&(m=m.slice(0,-1),q=true);m.indexOf(".")>=0&&(n=m.split("."),m=n.shift(),n.sort());if(i&&!h.event.customEvent[m]||h.event.global[m]){b=typeof b=="object"?b[h.expando]?b:new h.Event(m,b):new h.Event(m);b.type=m;b.exclusive=q;b.namespace=n.join(".");b.namespace_re=new RegExp("(^|\\.)"+n.join("\\.(?:.*\\.)?")+"(\\.|$)");if(k||!i){b.preventDefault();b.stopPropagation()}if(i){if(!(i.nodeType===3||i.nodeType===
8)){b.result=a;b.target=i;f=f!=null?h.makeArray(f):[];f.unshift(b);n=i;k=m.indexOf(":")<0?"on"+m:"";do{q=h._data(n,"handle");b.currentTarget=n;q&&q.apply(n,f);k&&h.acceptData(n)&&n[k]&&n[k].apply(n,f)===false&&(b.result=false,b.preventDefault());n=n.parentNode||n.ownerDocument||n===b.target.ownerDocument&&c}while(n&&!b.isPropagationStopped());if(!b.isDefaultPrevented()){var v;n=h.event.special[m]||{};if((!n._default||n._default.call(i.ownerDocument,b)===false)&&(m!=="click"||!h.nodeName(i,"a"))&&
h.acceptData(i)){try{k&&i[m]&&(v=i[k],v&&(i[k]=null),h.event.triggered=m,i[m]())}catch(z){}v&&(i[k]=v);h.event.triggered=a}}return b.result}}else h.each(h.cache,function(){var B=this[h.expando];B&&B.events&&B.events[m]&&h.event.trigger(b,f,B.handle.elem)})}},handle:function(b){b=h.event.fix(b||c.event);var f=((h._data(this,"events")||{})[b.type]||[]).slice(0),i=!b.exclusive&&!b.namespace,k=Array.prototype.slice.call(arguments,0);k[0]=b;b.currentTarget=this;for(var m=0,n=f.length;m<n;m++){var q=f[m];
if(i||b.namespace_re.test(q.namespace)){b.handler=q.handler;b.data=q.data;b.handleObj=q;q=q.handler.apply(this,k);q!==a&&(b.result=q,q===false&&(b.preventDefault(),b.stopPropagation()));if(b.isImmediatePropagationStopped())break}}return b.result},props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),
fix:function(b){if(b[h.expando])return b;var f=b;b=h.Event(f);for(var i=this.props.length,k;i;){k=this.props[--i];b[k]=f[k]}b.target||(b.target=b.srcElement||O);b.target.nodeType===3&&(b.target=b.target.parentNode);!b.relatedTarget&&b.fromElement&&(b.relatedTarget=b.fromElement===b.target?b.toElement:b.fromElement);if(b.pageX==null&&b.clientX!=null){i=b.target.ownerDocument||O;f=i.documentElement;i=i.body;b.pageX=b.clientX+(f&&f.scrollLeft||i&&i.scrollLeft||0)-(f&&f.clientLeft||i&&i.clientLeft||0);
b.pageY=b.clientY+(f&&f.scrollTop||i&&i.scrollTop||0)-(f&&f.clientTop||i&&i.clientTop||0)}b.which==null&&(b.charCode!=null||b.keyCode!=null)&&(b.which=b.charCode!=null?b.charCode:b.keyCode);!b.metaKey&&b.ctrlKey&&(b.metaKey=b.ctrlKey);!b.which&&b.button!==a&&(b.which=b.button&1?1:b.button&2?3:b.button&4?2:0);return b},guid:1E8,proxy:h.proxy,special:{ready:{setup:h.bindReady,teardown:h.noop},live:{add:function(b){h.event.add(this,S(b.origType,b.selector),h.extend({},b,{handler:V,guid:b.handler.guid}))},
remove:function(b){h.event.remove(this,S(b.origType,b.selector),b)}},beforeunload:{setup:function(b,f,i){h.isWindow(this)&&(this.onbeforeunload=i)},teardown:function(b,f){this.onbeforeunload===f&&(this.onbeforeunload=null)}}}};h.removeEvent=O.removeEventListener?function(b,f,i){b.removeEventListener&&b.removeEventListener(f,i,false)}:function(b,f,i){b.detachEvent&&b.detachEvent("on"+f,i)};h.Event=function(b,f){if(!this.preventDefault)return new h.Event(b,f);b&&b.type?(this.originalEvent=b,this.type=
b.type,this.isDefaultPrevented=b.defaultPrevented||b.returnValue===false||b.getPreventDefault&&b.getPreventDefault()?ca:ea):(this.type=b);f&&h.extend(this,f);this.timeStamp=h.now();this[h.expando]=true};h.Event.prototype={preventDefault:function(){this.isDefaultPrevented=ca;var b=this.originalEvent;!b||(b.preventDefault?b.preventDefault():(b.returnValue=false))},stopPropagation:function(){this.isPropagationStopped=ca;var b=this.originalEvent;!b||(b.stopPropagation&&b.stopPropagation(),b.cancelBubble=
true)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=ca;this.stopPropagation()},isDefaultPrevented:ea,isPropagationStopped:ea,isImmediatePropagationStopped:ea};var mb=function(b){var f=b.relatedTarget,i=false,k=b.type;b.type=b.data;f!==this&&(f&&(i=h.contains(this,f)),i||(h.event.handle.apply(this,arguments),b.type=k))},nb=function(b){b.type=b.data;h.event.handle.apply(this,arguments)};h.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(b,f){h.event.special[b]=
{setup:function(i){h.event.add(this,f,i&&i.selector?nb:mb,b)},teardown:function(i){h.event.remove(this,f,i&&i.selector?nb:mb)}}});h.support.submitBubbles||(h.event.special.submit={setup:function(){if(h.nodeName(this,"form"))return false;else{h.event.add(this,"click.specialSubmit",function(b){var f=b.target,i=f.type;(i==="submit"||i==="image")&&h(f).closest("form").length&&Z("submit",this,arguments)});h.event.add(this,"keypress.specialSubmit",function(b){var f=b.target,i=f.type;(i==="text"||i==="password")&&
h(f).closest("form").length&&b.keyCode===13&&Z("submit",this,arguments)})}},teardown:function(){h.event.remove(this,".specialSubmit")}});if(!h.support.changeBubbles){var Va,ob=function(b){var f=b.type,i=b.value;f==="radio"||f==="checkbox"?(i=b.checked):f==="select-multiple"?(i=b.selectedIndex>-1?h.map(b.options,function(k){return k.selected}).join("-"):""):h.nodeName(b,"select")&&(i=b.selectedIndex);return i},ab=function(b,f){var i=b.target,k,m;if(sa.test(i.nodeName)&&!i.readOnly){k=h._data(i,"_change_data");
m=ob(i);(b.type!=="focusout"||i.type!=="radio")&&h._data(i,"_change_data",m);if(!(k===a||m===k))if(k!=null||m){b.type="change";b.liveFired=a;h.event.trigger(b,f,i)}}};h.event.special.change={filters:{focusout:ab,beforedeactivate:ab,click:function(b){var f=b.target,i=h.nodeName(f,"input")?f.type:"";(i==="radio"||i==="checkbox"||h.nodeName(f,"select"))&&ab.call(this,b)},keydown:function(b){var f=b.target,i=h.nodeName(f,"input")?f.type:"";(b.keyCode===13&&!h.nodeName(f,"textarea")||b.keyCode===32&&(i===
"checkbox"||i==="radio")||i==="select-multiple")&&ab.call(this,b)},beforeactivate:function(b){b=b.target;h._data(b,"_change_data",ob(b))}},setup:function(){if(this.type==="file")return false;for(var b in Va)h.event.add(this,b+".specialChange",Va[b]);return sa.test(this.nodeName)},teardown:function(){h.event.remove(this,".specialChange");return sa.test(this.nodeName)}};Va=h.event.special.change.filters;Va.focus=Va.beforeactivate}h.support.focusinBubbles||h.each({focus:"focusin",blur:"focusout"},function(b,
f){function i(m){var n=h.event.fix(m);n.type=f;n.originalEvent={};h.event.trigger(n,null,n.target);n.isDefaultPrevented()&&m.preventDefault()}var k=0;h.event.special[f]={setup:function(){k++===0&&O.addEventListener(b,i,true)},teardown:function(){--k===0&&O.removeEventListener(b,i,true)}}});h.each(["bind","one"],function(b,f){h.fn[f]=function(i,k,m){var n;if(typeof i=="object"){for(var q in i)this[f](q,k,i[q],m);return this}if(arguments.length===2||k===false){m=k;k=a}f==="one"?(n=function(z){h(this).unbind(z,
n);return m.apply(this,arguments)},n.guid=m.guid||h.guid++):(n=m);if(i==="unload"&&f!=="one")this.one(i,k,m);else{q=0;for(var v=this.length;q<v;q++)h.event.add(this[q],i,n,k)}return this}});h.fn.extend({unbind:function(b,f){if(typeof b=="object"&&!b.preventDefault)for(var i in b)this.unbind(i,b[i]);else{i=0;for(var k=this.length;i<k;i++)h.event.remove(this[i],b,f)}return this},delegate:function(b,f,i,k){return this.live(f,i,k,b)},undelegate:function(b,f,i){return arguments.length===0?this.unbind("live"):
this.die(f,null,i,b)},trigger:function(b,f){return this.each(function(){h.event.trigger(b,f,this)})},triggerHandler:function(b,f){if(this[0])return h.event.trigger(b,f,this[0],true)},toggle:function(b){var f=arguments,i=b.guid||h.guid++,k=0,m=function(n){var q=(h.data(this,"lastToggle"+b.guid)||0)%k;h.data(this,"lastToggle"+b.guid,q+1);n.preventDefault();return f[q].apply(this,arguments)||false};for(m.guid=i;k<f.length;)f[k++].guid=i;return this.click(m)},hover:function(b,f){return this.mouseenter(b).mouseleave(f||
b)}});var fb={focus:"focusin",blur:"focusout",mouseenter:"mouseover",mouseleave:"mouseout"};h.each(["live","die"],function(b,f){h.fn[f]=function(i,k,m,n){var q=0,v,z,B=n||this.selector,H=n?this:h(this.context);if(typeof i=="object"&&!i.preventDefault){for(v in i)H[f](v,k,i[v],B);return this}if(f==="die"&&!i&&n&&n.charAt(0)==="."){H.unbind(n);return this}if(k===false||h.isFunction(k)){m=k||ea;k=a}for(i=(i||"").split(" ");(n=i[q++])!=null;){v=va.exec(n);z="";v&&(z=v[0],n=n.replace(va,""));if(n==="hover")i.push("mouseenter"+
z,"mouseleave"+z);else{v=n;fb[n]?(i.push(fb[n]+z),n+=z):(n=(fb[n]||n)+z);if(f==="live"){z=0;for(var T=H.length;z<T;z++)h.event.add(H[z],"live."+S(n,B),{data:k,selector:B,handler:m,origType:n,origHandler:m,preType:v})}else H.unbind("live."+S(n,B),m)}}return this}});h.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error".split(" "),function(b,f){h.fn[f]=function(i,
k){k==null&&(k=i,i=null);return arguments.length>0?this.bind(f,i,k):this.trigger(f)};h.attrFn&&(h.attrFn[f]=true)});(function(){function b(p,s,D,E,A,F){A=0;for(var L=E.length;A<L;A++){var P=E[A];if(P){var X=false;for(P=P[p];P;){if(P.sizcache===D){X=E[P.sizset];break}if(P.nodeType===1){F||(P.sizcache=D,P.sizset=A);if(typeof s!="string"){if(P===s){X=true;break}}else if(B.filter(s,[P]).length>0){X=P;break}}P=P[p]}E[A]=X}}}function f(p,s,D,E,A,F){A=0;for(var L=E.length;A<L;A++){var P=E[A];if(P){var X=
false;for(P=P[p];P;){if(P.sizcache===D){X=E[P.sizset];break}P.nodeType===1&&!F&&(P.sizcache=D,P.sizset=A);if(P.nodeName.toLowerCase()===s){X=P;break}P=P[p]}E[A]=X}}}var i=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,k=0,m=Object.prototype.toString,n=false,q=true,v=/\\/g,z=/\W/;[0,0].sort(function(){q=false;return 0});var B=function(p,s,D,E){D=D||[];var A=s=s||O;if(s.nodeType!==1&&s.nodeType!==9)return[];if(!p||
typeof p!="string")return D;var F,L,P,X,ma,ja,pa=true,u=B.isXML(s),G=[],Q=p;do{i.exec("");if(F=i.exec(Q)){Q=F[3];G.push(F[1]);if(F[2]){X=F[3];break}}}while(F);if(G.length>1&&T.exec(p))if(G.length===2&&H.relative[G[0]])L=Aa(G[0]+G[1],s);else for(L=H.relative[G[0]]?[s]:B(G.shift(),s);G.length;){p=G.shift();H.relative[p]&&(p+=G.shift());L=Aa(p,L)}else{!E&&G.length>1&&s.nodeType===9&&!u&&H.match.ID.test(G[0])&&!H.match.ID.test(G[G.length-1])&&(ma=B.find(G.shift(),s,u),s=ma.expr?B.filter(ma.expr,ma.set)[0]:
ma.set[0]);if(s){ma=E?{expr:G.pop(),set:ba(E)}:B.find(G.pop(),G.length===1&&(G[0]==="~"||G[0]==="+")&&s.parentNode?s.parentNode:s,u);L=ma.expr?B.filter(ma.expr,ma.set):ma.set;for(G.length>0?(P=ba(L)):(pa=false);G.length;){F=ja=G.pop();H.relative[ja]?(F=G.pop()):(ja="");F==null&&(F=s);H.relative[ja](P,F,u)}}else P=[]}P||(P=L);P||B.error(ja||p);if(m.call(P)==="[object Array]")if(pa)if(s&&s.nodeType===1)for(p=0;P[p]!=null;p++)P[p]&&(P[p]===true||P[p].nodeType===1&&B.contains(s,P[p]))&&D.push(L[p]);else for(p=
0;P[p]!=null;p++)P[p]&&P[p].nodeType===1&&D.push(L[p]);else D.push.apply(D,P);else ba(P,D);X&&(B(X,A,D,E),B.uniqueSort(D));return D};B.uniqueSort=function(p){if(na){n=q;p.sort(na);if(n)for(var s=1;s<p.length;s++)p[s]===p[s-1]&&p.splice(s--,1)}return p};B.matches=function(p,s){return B(p,null,null,s)};B.matchesSelector=function(p,s){return B(s,null,null,[p]).length>0};B.find=function(p,s,D){var E;if(!p)return[];for(var A=0,F=H.order.length;A<F;A++){var L,P=H.order[A];if(L=H.leftMatch[P].exec(p)){var X=
L[1];L.splice(1,1);if(X.substr(X.length-1)!=="\\"){L[1]=(L[1]||"").replace(v,"");E=H.find[P](L,s,D);if(E!=null){p=p.replace(H.match[P],"");break}}}}E||(E=typeof s.getElementsByTagName!="undefined"?s.getElementsByTagName("*"):[]);return{set:E,expr:p}};B.filter=function(p,s,D,E){for(var A,F,L=p,P=[],X=s,ma=s&&s[0]&&B.isXML(s[0]);p&&s.length;){for(var ja in H.filter)if((A=H.leftMatch[ja].exec(p))!=null&&A[2]){var pa,u,G=H.filter[ja];u=A[1];F=false;A.splice(1,1);if(u.substr(u.length-1)!=="\\"){X===P&&
(P=[]);if(H.preFilter[ja])if(A=H.preFilter[ja](A,X,D,P,E,ma)){if(A===true)continue}else F=pa=true;if(A)for(var Q=0;(u=X[Q])!=null;Q++)if(u){pa=G(u,A,Q,X);var N=E^!!pa;D&&pa!=null?N?(F=true):(X[Q]=false):N&&(P.push(u),F=true)}if(pa!==a){D||(X=P);p=p.replace(H.match[ja],"");if(!F)return[];break}}}if(p===L)if(F==null)B.error(p);else break;L=p}return X};B.error=function(p){throw"Syntax error, unrecognized expression: "+p;};var H=B.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,
CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},
leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(p){return p.getAttribute("href")},type:function(p){return p.getAttribute("type")}},relative:{"+":function(p,s){var D=typeof s=="string",E=D&&!z.test(s);D=D&&!E;E&&(s=s.toLowerCase());E=0;for(var A=p.length,F;E<A;E++)if(F=p[E]){for(;(F=F.previousSibling)&&F.nodeType!==1;);p[E]=D||F&&F.nodeName.toLowerCase()===s?F||false:F===s}D&&B.filter(s,p,true)},">":function(p,s){var D,E=typeof s=="string",A=0,F=p.length;if(E&&
!z.test(s))for(s=s.toLowerCase();A<F;A++){if(D=p[A]){D=D.parentNode;p[A]=D.nodeName.toLowerCase()===s?D:false}}else{for(;A<F;A++)(D=p[A])&&(p[A]=E?D.parentNode:D.parentNode===s);E&&B.filter(s,p,true)}},"":function(p,s,D){var E,A=k++,F=b;typeof s=="string"&&!z.test(s)&&(s=s.toLowerCase(),E=s,F=f);F("parentNode",s,A,p,E,D)},"~":function(p,s,D){var E,A=k++,F=b;typeof s=="string"&&!z.test(s)&&(s=s.toLowerCase(),E=s,F=f);F("previousSibling",s,A,p,E,D)}},find:{ID:function(p,s,D){if(typeof s.getElementById!=
"undefined"&&!D)return(p=s.getElementById(p[1]))&&p.parentNode?[p]:[]},NAME:function(p,s){if(typeof s.getElementsByName!="undefined"){for(var D=[],E=s.getElementsByName(p[1]),A=0,F=E.length;A<F;A++)E[A].getAttribute("name")===p[1]&&D.push(E[A]);return D.length===0?null:D}},TAG:function(p,s){if(typeof s.getElementsByTagName!="undefined")return s.getElementsByTagName(p[1])}},preFilter:{CLASS:function(p,s,D,E,A,F){p=" "+p[1].replace(v,"")+" ";if(F)return p;F=0;for(var L;(L=s[F])!=null;F++)L&&(A^(L.className&&
(" "+L.className+" ").replace(/[\t\n\r]/g," ").indexOf(p)>=0)?D||E.push(L):D&&(s[F]=false));return false},ID:function(p){return p[1].replace(v,"")},TAG:function(p){return p[1].replace(v,"").toLowerCase()},CHILD:function(p){if(p[1]==="nth"){p[2]||B.error(p[0]);p[2]=p[2].replace(/^\+|\s*/g,"");var s=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(p[2]==="even"&&"2n"||p[2]==="odd"&&"2n+1"||!/\D/.test(p[2])&&"0n+"+p[2]||p[2]);p[2]=s[1]+(s[2]||1)-0;p[3]=s[3]-0}else p[2]&&B.error(p[0]);p[0]=k++;return p},ATTR:function(p,
s,D,E,A,F){s=p[1]=p[1].replace(v,"");!F&&H.attrMap[s]&&(p[1]=H.attrMap[s]);p[4]=(p[4]||p[5]||"").replace(v,"");p[2]==="~="&&(p[4]=" "+p[4]+" ");return p},PSEUDO:function(p,s,D,E,A){if(p[1]==="not")if((i.exec(p[3])||"").length>1||/^\w/.test(p[3]))p[3]=B(p[3],null,null,s);else{p=B.filter(p[3],s,D,true^A);D||E.push.apply(E,p);return false}else if(H.match.POS.test(p[0])||H.match.CHILD.test(p[0]))return true;return p},POS:function(p){p.unshift(true);return p}},filters:{enabled:function(p){return p.disabled===
false&&p.type!=="hidden"},disabled:function(p){return p.disabled===true},checked:function(p){return p.checked===true},selected:function(p){return p.selected===true},parent:function(p){return!!p.firstChild},empty:function(p){return!p.firstChild},has:function(p,s,D){return!!B(D[3],p).length},header:function(p){return/h\d/i.test(p.nodeName)},text:function(p){var s=p.getAttribute("type"),D=p.type;return p.nodeName.toLowerCase()==="input"&&"text"===D&&(s===D||s===null)},radio:function(p){return p.nodeName.toLowerCase()===
"input"&&"radio"===p.type},checkbox:function(p){return p.nodeName.toLowerCase()==="input"&&"checkbox"===p.type},file:function(p){return p.nodeName.toLowerCase()==="input"&&"file"===p.type},password:function(p){return p.nodeName.toLowerCase()==="input"&&"password"===p.type},submit:function(p){var s=p.nodeName.toLowerCase();return(s==="input"||s==="button")&&"submit"===p.type},image:function(p){return p.nodeName.toLowerCase()==="input"&&"image"===p.type},reset:function(p){var s=p.nodeName.toLowerCase();
return(s==="input"||s==="button")&&"reset"===p.type},button:function(p){var s=p.nodeName.toLowerCase();return s==="input"&&"button"===p.type||s==="button"},input:function(p){return/input|select|textarea|button/i.test(p.nodeName)},focus:function(p){return p===p.ownerDocument.activeElement}},setFilters:{first:function(p,s){return s===0},last:function(p,s,D,E){return s===E.length-1},even:function(p,s){return s%2===0},odd:function(p,s){return s%2===1},lt:function(p,s,D){return s<D[3]-0},gt:function(p,
s,D){return s>D[3]-0},nth:function(p,s,D){return D[3]-0===s},eq:function(p,s,D){return D[3]-0===s}},filter:{PSEUDO:function(p,s,D,E){var A=s[1],F=H.filters[A];if(F)return F(p,D,s,E);if(A==="contains")return(p.textContent||p.innerText||B.getText([p])||"").indexOf(s[3])>=0;if(A==="not"){s=s[3];D=0;for(E=s.length;D<E;D++)if(s[D]===p)return false;return true}B.error(A)},CHILD:function(p,s){var D=s[1],E=p;switch(D){case "only":case "first":for(;E=E.previousSibling;)if(E.nodeType===1)return false;if(D===
"first")return true;E=p;case "last":for(;E=E.nextSibling;)if(E.nodeType===1)return false;return true;case "nth":D=s[2];var A=s[3];if(D===1&&A===0)return true;var F=s[0],L=p.parentNode;if(L&&(L.sizcache!==F||!p.nodeIndex)){var P=0;for(E=L.firstChild;E;E=E.nextSibling)E.nodeType===1&&(E.nodeIndex=++P);L.sizcache=F}E=p.nodeIndex-A;return D===0?E===0:E%D===0&&E/D>=0}},ID:function(p,s){return p.nodeType===1&&p.getAttribute("id")===s},TAG:function(p,s){return s==="*"&&p.nodeType===1||p.nodeName.toLowerCase()===
s},CLASS:function(p,s){return(" "+(p.className||p.getAttribute("class"))+" ").indexOf(s)>-1},ATTR:function(p,s){var D=s[1];D=H.attrHandle[D]?H.attrHandle[D](p):p[D]!=null?p[D]:p.getAttribute(D);var E=D+"",A=s[2],F=s[4];return D==null?A==="!=":A==="="?E===F:A==="*="?E.indexOf(F)>=0:A==="~="?(" "+E+" ").indexOf(F)>=0:F?A==="!="?E!==F:A==="^="?E.indexOf(F)===0:A==="$="?E.substr(E.length-F.length)===F:A==="|="?E===F||E.substr(0,F.length+1)===F+"-":false:E&&D!==false},POS:function(p,s,D,E){var A=H.setFilters[s[2]];
if(A)return A(p,D,s,E)}}},T=H.match.POS,aa=function(p,s){return"\\"+(s-0+1)};for(var W in H.match){H.match[W]=new RegExp(H.match[W].source+/(?![^\[]*\])(?![^\(]*\))/.source);H.leftMatch[W]=new RegExp(/(^(?:.|\r|\n)*?)/.source+H.match[W].source.replace(/\\(\d+)/g,aa))}var ba=function(p,s){p=Array.prototype.slice.call(p,0);if(s){s.push.apply(s,p);return s}return p};try{Array.prototype.slice.call(O.documentElement.childNodes,0)}catch(ta){ba=function(p,s){var D=0,E=s||[];if(m.call(p)==="[object Array]")Array.prototype.push.apply(E,
p);else if(typeof p.length=="number")for(var A=p.length;D<A;D++)E.push(p[D]);else for(;p[D];D++)E.push(p[D]);return E}}var na,oa;O.documentElement.compareDocumentPosition?(na=function(p,s){if(p===s){n=true;return 0}if(!p.compareDocumentPosition||!s.compareDocumentPosition)return p.compareDocumentPosition?-1:1;return p.compareDocumentPosition(s)&4?-1:1}):(na=function(p,s){if(p===s){n=true;return 0}if(p.sourceIndex&&s.sourceIndex)return p.sourceIndex-s.sourceIndex;var D,E,A=[],F=[];D=p.parentNode;E=
s.parentNode;var L=D;if(D===E)return oa(p,s);if(!D)return-1;if(!E)return 1;for(;L;){A.unshift(L);L=L.parentNode}for(L=E;L;){F.unshift(L);L=L.parentNode}D=A.length;E=F.length;for(L=0;L<D&&L<E;L++)if(A[L]!==F[L])return oa(A[L],F[L]);return L===D?oa(p,F[L],-1):oa(A[L],s,1)},oa=function(p,s,D){if(p===s)return D;for(p=p.nextSibling;p;){if(p===s)return-1;p=p.nextSibling}return 1});B.getText=function(p){for(var s="",D,E=0;p[E];E++){D=p[E];D.nodeType===3||D.nodeType===4?(s+=D.nodeValue):D.nodeType!==8&&(s+=
B.getText(D.childNodes))}return s};(function(){var p=O.createElement("div"),s="script"+(new Date).getTime(),D=O.documentElement;p.innerHTML="<a name='"+s+"'/>";D.insertBefore(p,D.firstChild);O.getElementById(s)&&(H.find.ID=function(E,A,F){if(typeof A.getElementById!="undefined"&&!F)return(A=A.getElementById(E[1]))?A.id===E[1]||typeof A.getAttributeNode!="undefined"&&A.getAttributeNode("id").nodeValue===E[1]?[A]:a:[]},H.filter.ID=function(E,A){var F=typeof E.getAttributeNode!="undefined"&&E.getAttributeNode("id");
return E.nodeType===1&&F&&F.nodeValue===A});D.removeChild(p);D=p=null})();(function(){var p=O.createElement("div");p.appendChild(O.createComment(""));p.getElementsByTagName("*").length>0&&(H.find.TAG=function(s,D){var E=D.getElementsByTagName(s[1]);if(s[1]==="*"){for(var A=[],F=0;E[F];F++)E[F].nodeType===1&&A.push(E[F]);E=A}return E});p.innerHTML="<a href='#'></a>";p.firstChild&&typeof p.firstChild.getAttribute!="undefined"&&p.firstChild.getAttribute("href")!=="#"&&(H.attrHandle.href=function(s){return s.getAttribute("href",
2)});p=null})();O.querySelectorAll&&function(){var p=B,s=O.createElement("div");s.innerHTML="<p class='TEST'></p>";if(!s.querySelectorAll||s.querySelectorAll(".TEST").length!==0){B=function(E,A,F,L){A=A||O;if(!L&&!B.isXML(A)){var P=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(E);if(P&&(A.nodeType===1||A.nodeType===9)){if(P[1])return ba(A.getElementsByTagName(E),F);if(P[2]&&H.find.CLASS&&A.getElementsByClassName)return ba(A.getElementsByClassName(P[2]),F)}if(A.nodeType===9){if(E==="body"&&A.body)return ba([A.body],
F);if(P&&P[3]){var X=A.getElementById(P[3]);if(!X||!X.parentNode)return ba([],F);if(X.id===P[3])return ba([X],F)}try{return ba(A.querySelectorAll(E),F)}catch(ma){}}else if(A.nodeType===1&&A.nodeName.toLowerCase()!=="object"){P=A;var ja=(X=A.getAttribute("id"))||"__sizzle__",pa=A.parentNode,u=/^\s*[+~]/.test(E);X?(ja=ja.replace(/'/g,"\\$&")):A.setAttribute("id",ja);u&&pa&&(A=A.parentNode);try{if(!u||pa)return ba(A.querySelectorAll("[id='"+ja+"'] "+E),F)}catch(G){}finally{X||P.removeAttribute("id")}}}return p(E,
A,F,L)};for(var D in p)B[D]=p[D];s=null}}();(function(){var p=O.documentElement,s=p.matchesSelector||p.mozMatchesSelector||p.webkitMatchesSelector||p.msMatchesSelector;if(s){var D=!s.call(O.createElement("div"),"div"),E=false;try{s.call(O.documentElement,"[test!='']:sizzle")}catch(A){E=true}B.matchesSelector=function(F,L){L=L.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!B.isXML(F))try{if(E||!H.match.PSEUDO.test(L)&&!/!=/.test(L)){var P=s.call(F,L);if(P||!D||F.document&&F.document.nodeType!==11)return P}}catch(X){}return B(L,
null,null,[F]).length>0}}})();(function(){var p=O.createElement("div");p.innerHTML="<div class='test e'></div><div class='test'></div>";if(p.getElementsByClassName&&p.getElementsByClassName("e").length!==0){p.lastChild.className="e";if(p.getElementsByClassName("e").length!==1){H.order.splice(1,0,"CLASS");H.find.CLASS=function(s,D,E){if(typeof D.getElementsByClassName!="undefined"&&!E)return D.getElementsByClassName(s[1])};p=null}}})();O.documentElement.contains?(B.contains=function(p,s){return p!==
s&&(p.contains?p.contains(s):true)}):O.documentElement.compareDocumentPosition?(B.contains=function(p,s){return!!(p.compareDocumentPosition(s)&16)}):(B.contains=function(){return false});B.isXML=function(p){return(p=(p?p.ownerDocument||p:0).documentElement)?p.nodeName!=="HTML":false};var Aa=function(p,s){for(var D,E=[],A="",F=s.nodeType?[s]:s;D=H.match.PSEUDO.exec(p);){A+=D[0];p=p.replace(H.match.PSEUDO,"")}p=H.relative[p]?p+"*":p;D=0;for(var L=F.length;D<L;D++)B(p,F[D],E);return B.filter(A,E)};h.find=
B;h.expr=B.selectors;h.expr[":"]=h.expr.filters;h.unique=B.uniqueSort;h.text=B.getText;h.isXMLDoc=B.isXML;h.contains=B.contains})();var Lb=/Until$/,Mb=/^(?:parents|prevUntil|prevAll)/,Nb=/,/,Ib=/^.[^:#\[\.,]*$/,Ob=Array.prototype.slice,pb=h.expr.match.POS,Pb={children:true,contents:true,next:true,prev:true};h.fn.extend({find:function(b){var f=this,i,k;if(typeof b!="string")return h(b).filter(function(){i=0;for(k=f.length;i<k;i++)if(h.contains(f[i],this))return true});var m=this.pushStack("","find",
b),n,q,v;i=0;for(k=this.length;i<k;i++){n=m.length;h.find(b,this[i],m);if(i>0)for(q=n;q<m.length;q++)for(v=0;v<n;v++)if(m[v]===m[q]){m.splice(q--,1);break}}return m},has:function(b){var f=h(b);return this.filter(function(){for(var i=0,k=f.length;i<k;i++)if(h.contains(this,f[i]))return true})},not:function(b){return this.pushStack(C(this,b,false),"not",b)},filter:function(b){return this.pushStack(C(this,b,true),"filter",b)},is:function(b){return!!b&&(typeof b=="string"?h.filter(b,this).length>0:this.filter(b).length>
0)},closest:function(b,f){var i=[],k,m,n=this[0];if(h.isArray(b)){var q,v={},z=1;if(n&&b.length){k=0;for(m=b.length;k<m;k++){q=b[k];v[q]||(v[q]=pb.test(q)?h(q,f||this.context):q)}for(;n&&n.ownerDocument&&n!==f;){for(q in v){k=v[q];(k.jquery?k.index(n)>-1:h(n).is(k))&&i.push({selector:q,elem:n,level:z})}n=n.parentNode;z++}}return i}q=pb.test(b)||typeof b!="string"?h(b,f||this.context):0;k=0;for(m=this.length;k<m;k++)for(n=this[k];n;){if(q?q.index(n)>-1:h.find.matchesSelector(n,b)){i.push(n);break}n=
n.parentNode;if(!n||!n.ownerDocument||n===f||n.nodeType===11)break}i=i.length>1?h.unique(i):i;return this.pushStack(i,"closest",b)},index:function(b){if(!b||typeof b=="string")return h.inArray(this[0],b?h(b):this.parent().children());return h.inArray(b.jquery?b[0]:b,this)},add:function(b,f){var i=typeof b=="string"?h(b,f):h.makeArray(b&&b.nodeType?[b]:b),k=h.merge(this.get(),i);return this.pushStack(!i[0]||!i[0].parentNode||i[0].parentNode.nodeType===11||!k[0]||!k[0].parentNode||k[0].parentNode.nodeType===
11?k:h.unique(k))},andSelf:function(){return this.add(this.prevObject)}});h.each({parent:function(b){return(b=b.parentNode)&&b.nodeType!==11?b:null},parents:function(b){return h.dir(b,"parentNode")},parentsUntil:function(b,f,i){return h.dir(b,"parentNode",i)},next:function(b){return h.nth(b,2,"nextSibling")},prev:function(b){return h.nth(b,2,"previousSibling")},nextAll:function(b){return h.dir(b,"nextSibling")},prevAll:function(b){return h.dir(b,"previousSibling")},nextUntil:function(b,f,i){return h.dir(b,
"nextSibling",i)},prevUntil:function(b,f,i){return h.dir(b,"previousSibling",i)},siblings:function(b){return h.sibling(b.parentNode.firstChild,b)},children:function(b){return h.sibling(b.firstChild)},contents:function(b){return h.nodeName(b,"iframe")?b.contentDocument||b.contentWindow.document:h.makeArray(b.childNodes)}},function(b,f){h.fn[b]=function(i,k){var m=h.map(this,f,i),n=Ob.call(arguments);Lb.test(b)||(k=i);k&&typeof k=="string"&&(m=h.filter(k,m));m=this.length>1&&!Pb[b]?h.unique(m):m;(this.length>
1||Nb.test(k))&&Mb.test(b)&&(m=m.reverse());return this.pushStack(m,b,n.join(","))}});h.extend({filter:function(b,f,i){i&&(b=":not("+b+")");return f.length===1?h.find.matchesSelector(f[0],b)?[f[0]]:[]:h.find.matches(b,f)},dir:function(b,f,i){var k=[];for(b=b[f];b&&b.nodeType!==9&&(i===a||b.nodeType!==1||!h(b).is(i));){b.nodeType===1&&k.push(b);b=b[f]}return k},nth:function(b,f,i){for(var k=0;b;b=b[i])if(b.nodeType===1&&++k===(f||1))break;return b},sibling:function(b,f){for(var i=[];b;b=b.nextSibling)b.nodeType===
1&&b!==f&&i.push(b);return i}});var Qb=/ jQuery\d+="(?:\d+|null)"/g,gb=/^\s+/,qb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,rb=/<([\w:]+)/,Rb=/<tbody/i,Sb=/<|&#?\w+;/,sb=/<(?:script|object|embed|option|style)/i,tb=/checked\s*(?:[^=]|=\s*.checked.)/i,Tb=/\/(java|ecma)script/i,Hb=/^\s*<!(?:\[CDATA\[|\-\-)/,ua={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],
td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};ua.optgroup=ua.option;ua.tbody=ua.tfoot=ua.colgroup=ua.caption=ua.thead;ua.th=ua.td;h.support.htmlSerialize||(ua._default=[1,"div<div>","</div>"]);h.fn.extend({text:function(b){if(h.isFunction(b))return this.each(function(f){var i=h(this);i.text(b.call(this,f,i.text()))});if(typeof b!="object"&&b!==a)return this.empty().append((this[0]&&
this[0].ownerDocument||O).createTextNode(b));return h.text(this)},wrapAll:function(b){if(h.isFunction(b))return this.each(function(i){h(this).wrapAll(b.call(this,i))});if(this[0]){var f=h(b,this[0].ownerDocument).eq(0).clone(true);this[0].parentNode&&f.insertBefore(this[0]);f.map(function(){for(var i=this;i.firstChild&&i.firstChild.nodeType===1;)i=i.firstChild;return i}).append(this)}return this},wrapInner:function(b){if(h.isFunction(b))return this.each(function(f){h(this).wrapInner(b.call(this,f))});
return this.each(function(){var f=h(this),i=f.contents();i.length?i.wrapAll(b):f.append(b)})},wrap:function(b){return this.each(function(){h(this).wrapAll(b)})},unwrap:function(){return this.parent().each(function(){h.nodeName(this,"body")||h(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,true,function(b){this.nodeType===1&&this.appendChild(b)})},prepend:function(){return this.domManip(arguments,true,function(b){this.nodeType===1&&this.insertBefore(b,
this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,false,function(f){this.parentNode.insertBefore(f,this)});if(arguments.length){var b=h(arguments[0]);b.push.apply(b,this.toArray());return this.pushStack(b,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,false,function(f){this.parentNode.insertBefore(f,this.nextSibling)});if(arguments.length){var b=this.pushStack(this,"after",arguments);b.push.apply(b,
h(arguments[0]).toArray());return b}},remove:function(b,f){for(var i=0,k;(k=this[i])!=null;i++)if(!b||h.filter(b,[k]).length){!f&&k.nodeType===1&&(h.cleanData(k.getElementsByTagName("*")),h.cleanData([k]));k.parentNode&&k.parentNode.removeChild(k)}return this},empty:function(){for(var b=0,f;(f=this[b])!=null;b++)for(f.nodeType===1&&h.cleanData(f.getElementsByTagName("*"));f.firstChild;)f.removeChild(f.firstChild);return this},clone:function(b,f){b=b==null?false:b;f=f==null?b:f;return this.map(function(){return h.clone(this,
b,f)})},html:function(b){if(b===a)return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(Qb,""):null;if(typeof b=="string"&&!sb.test(b)&&(h.support.leadingWhitespace||!gb.test(b))&&!ua[(rb.exec(b)||["",""])[1].toLowerCase()]){b=b.replace(qb,"<$1></$2>");try{for(var f=0,i=this.length;f<i;f++)this[f].nodeType===1&&(h.cleanData(this[f].getElementsByTagName("*")),this[f].innerHTML=b)}catch(k){this.empty().append(b)}}else h.isFunction(b)?this.each(function(m){var n=h(this);n.html(b.call(this,m,
n.html()))}):this.empty().append(b);return this},replaceWith:function(b){if(this[0]&&this[0].parentNode){if(h.isFunction(b))return this.each(function(f){var i=h(this),k=i.html();i.replaceWith(b.call(this,f,k))});typeof b!="string"&&(b=h(b).detach());return this.each(function(){var f=this.nextSibling,i=this.parentNode;h(this).remove();f?h(f).before(b):h(i).append(b)})}return this.length?this.pushStack(h(h.isFunction(b)?b():b),"replaceWith",b):this},detach:function(b){return this.remove(b,true)},domManip:function(b,
f,i){var k,m,n,q=b[0],v=[];if(!h.support.checkClone&&arguments.length===3&&typeof q=="string"&&tb.test(q))return this.each(function(){h(this).domManip(b,f,i,true)});if(h.isFunction(q))return this.each(function(H){var T=h(this);b[0]=q.call(this,H,f?T.html():a);T.domManip(b,f,i)});if(this[0]){n=q&&q.parentNode;h.support.parentNode&&n&&n.nodeType===11&&n.childNodes.length===this.length?(k={fragment:n}):(k=h.buildFragment(b,this,v));n=k.fragment;n.childNodes.length===1?(m=n=n.firstChild):(m=n.firstChild);
if(m){f=f&&h.nodeName(m,"tr");m=0;for(var z=this.length,B=z-1;m<z;m++)i.call(f?h.nodeName(this[m],"table")?this[m].getElementsByTagName("tbody")[0]||this[m].appendChild(this[m].ownerDocument.createElement("tbody")):this[m]:this[m],k.cacheable||z>1&&m<B?h.clone(n,true,true):n)}v.length&&h.each(v,R)}return this}});h.buildFragment=function(b,f,i){var k,m,n,q;f&&f[0]&&(q=f[0].ownerDocument||f[0]);q.createDocumentFragment||(q=O);b.length===1&&typeof b[0]=="string"&&b[0].length<512&&q===O&&b[0].charAt(0)===
"<"&&!sb.test(b[0])&&(h.support.checkClone||!tb.test(b[0]))&&(m=true,n=h.fragments[b[0]],n&&n!==1&&(k=n));k||(k=q.createDocumentFragment(),h.clean(b,q,k,i));m&&(h.fragments[b[0]]=n?k:1);return{fragment:k,cacheable:m}};h.fragments={};h.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(b,f){h.fn[b]=function(i){var k=[];i=h(i);var m=this.length===1&&this[0].parentNode;if(m&&m.nodeType===11&&m.childNodes.length===1&&i.length===1){i[f](this[0]);
return this}m=0;for(var n=i.length;m<n;m++){var q=(m>0?this.clone(true):this).get();h(i[m])[f](q);k=k.concat(q)}return this.pushStack(k,b,i.selector)}});h.extend({clone:function(b,f,i){var k=b.cloneNode(true),m,n,q;if((!h.support.noCloneEvent||!h.support.noCloneChecked)&&(b.nodeType===1||b.nodeType===11)&&!h.isXMLDoc(b)){r(b,k);m=o(b);n=o(k);for(q=0;m[q];++q)r(m[q],n[q])}if(f){w(b,k);if(i){m=o(b);n=o(k);for(q=0;m[q];++q)w(m[q],n[q])}}return k},clean:function(b,f,i,k){f=f||O;typeof f.createElement==
"undefined"&&(f=f.ownerDocument||f[0]&&f[0].ownerDocument||O);for(var m=[],n,q=0,v;(v=b[q])!=null;q++){typeof v=="number"&&(v+="");if(v){if(typeof v=="string")if(Sb.test(v)){v=v.replace(qb,"<$1></$2>");n=(rb.exec(v)||["",""])[1].toLowerCase();var z=ua[n]||ua._default,B=z[0],H=f.createElement("div");for(H.innerHTML=z[1]+v+z[2];B--;)H=H.lastChild;if(!h.support.tbody){B=Rb.test(v);z=n==="table"&&!B?H.firstChild&&H.firstChild.childNodes:z[1]==="<table>"&&!B?H.childNodes:[];for(n=z.length-1;n>=0;--n)h.nodeName(z[n],
"tbody")&&!z[n].childNodes.length&&z[n].parentNode.removeChild(z[n])}!h.support.leadingWhitespace&&gb.test(v)&&H.insertBefore(f.createTextNode(gb.exec(v)[0]),H.firstChild);v=H.childNodes}else v=f.createTextNode(v);var T;if(!h.support.appendChecked)if(v[0]&&typeof(T=v.length)=="number")for(n=0;n<T;n++)Y(v[n]);else Y(v);v.nodeType?m.push(v):(m=h.merge(m,v))}}if(i){b=function(aa){return!aa.type||Tb.test(aa.type)};for(q=0;m[q];q++)if(k&&h.nodeName(m[q],"script")&&(!m[q].type||m[q].type.toLowerCase()===
"text/javascript"))k.push(m[q].parentNode?m[q].parentNode.removeChild(m[q]):m[q]);else{if(m[q].nodeType===1){f=h.grep(m[q].getElementsByTagName("script"),b);m.splice.apply(m,[q+1,0].concat(f))}i.appendChild(m[q])}}return m},cleanData:function(b){for(var f,i,k=h.cache,m=h.expando,n=h.event.special,q=h.support.deleteExpando,v=0,z;(z=b[v])!=null;v++)if(!(z.nodeName&&h.noData[z.nodeName.toLowerCase()]))if(i=z[h.expando]){if((f=k[i]&&k[i][m])&&f.events){for(var B in f.events)n[B]?h.event.remove(z,B):h.removeEvent(z,
B,f.handle);f.handle&&(f.handle.elem=null)}q?delete z[h.expando]:z.removeAttribute&&z.removeAttribute(h.expando);delete k[i]}}});var ub=/alpha\([^)]*\)/i,Ub=/opacity=([^)]*)/,Vb=/([A-Z]|^ms)/g,vb=/^-?\d+(?:px)?$/i,Wb=/^-?\d/,Xb=/^[+\-]=/,Yb=/[^+\-\.\de]+/g,Zb={position:"absolute",visibility:"hidden",display:"block"},Fb=["Left","Right"],Gb=["Top","Bottom"],Ma,wb,xb;h.fn.css=function(b,f){if(arguments.length===2&&f===a)return this;return h.access(this,b,f,true,function(i,k,m){return m!==a?h.style(i,
k,m):h.css(i,k)})};h.extend({cssHooks:{opacity:{get:function(b,f){if(f){var i=Ma(b,"opacity","opacity");return i===""?"1":i}return b.style.opacity}}},cssNumber:{fillOpacity:true,fontWeight:true,lineHeight:true,opacity:true,orphans:true,widows:true,zIndex:true,zoom:true},cssProps:{"float":h.support.cssFloat?"cssFloat":"styleFloat"},style:function(b,f,i,k){if(b&&b.nodeType!==3&&b.nodeType!==8&&b.style){var m,n=h.camelCase(f),q=b.style,v=h.cssHooks[n];f=h.cssProps[n]||n;if(i===a){if(v&&"get"in v&&(m=
v.get(b,false,k))!==a)return m;return q[f]}k=typeof i;if(!(k==="number"&&isNaN(i)||i==null)){k==="string"&&Xb.test(i)&&(i=+i.replace(Yb,"")+parseFloat(h.css(b,f)),k="number");k==="number"&&!h.cssNumber[n]&&(i+="px");if(!v||!("set"in v)||(i=v.set(b,i))!==a)try{q[f]=i}catch(z){}}}},css:function(b,f,i){var k,m;f=h.camelCase(f);m=h.cssHooks[f];f=h.cssProps[f]||f;f==="cssFloat"&&(f="float");if(m&&"get"in m&&(k=m.get(b,true,i))!==a)return k;if(Ma)return Ma(b,f)},swap:function(b,f,i){var k={};for(var m in f){k[m]=
b.style[m];b.style[m]=f[m]}i.call(b);for(m in f)b.style[m]=k[m]}});h.curCSS=h.css;h.each(["height","width"],function(b,f){h.cssHooks[f]={get:function(i,k,m){var n;if(k){if(i.offsetWidth!==0)return J(i,f,m);h.swap(i,Zb,function(){n=J(i,f,m)});return n}},set:function(i,k){if(!vb.test(k))return k;k=parseFloat(k);if(k>=0)return k+"px"}}});h.support.opacity||(h.cssHooks.opacity={get:function(b,f){return Ub.test((f&&b.currentStyle?b.currentStyle.filter:b.style.filter)||"")?parseFloat(RegExp.$1)/100+"":
f?"1":""},set:function(b,f){var i=b.style,k=b.currentStyle;i.zoom=1;var m=h.isNaN(f)?"":"alpha(opacity="+f*100+")";k=k&&k.filter||i.filter||"";i.filter=ub.test(k)?k.replace(ub,m):k+" "+m}});h(function(){h.support.reliableMarginRight||(h.cssHooks.marginRight={get:function(b,f){var i;h.swap(b,{display:"inline-block"},function(){f?(i=Ma(b,"margin-right","marginRight")):(i=b.style.marginRight)});return i}})});O.defaultView&&O.defaultView.getComputedStyle&&(wb=function(b,f){var i,k;f=f.replace(Vb,"-$1").toLowerCase();
if(!(k=b.ownerDocument.defaultView))return a;if(k=k.getComputedStyle(b,null)){i=k.getPropertyValue(f);i===""&&!h.contains(b.ownerDocument.documentElement,b)&&(i=h.style(b,f))}return i});O.documentElement.currentStyle&&(xb=function(b,f){var i,k=b.currentStyle&&b.currentStyle[f],m=b.runtimeStyle&&b.runtimeStyle[f],n=b.style;!vb.test(k)&&Wb.test(k)&&(i=n.left,m&&(b.runtimeStyle.left=b.currentStyle.left),n.left=f==="fontSize"?"1em":k||0,k=n.pixelLeft+"px",n.left=i,m&&(b.runtimeStyle.left=m));return k===
""?"auto":k});Ma=wb||xb;h.expr&&h.expr.filters&&(h.expr.filters.hidden=function(b){var f=b.offsetHeight;return b.offsetWidth===0&&f===0||!h.support.reliableHiddenOffsets&&(b.style.display||h.css(b,"display"))==="none"},h.expr.filters.visible=function(b){return!h.expr.filters.hidden(b)});var $b=/%20/g,Eb=/\[\]$/,yb=/\r?\n/g,ac=/#.*$/,bc=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,cc=/^(?:color|date|datetime|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,dc=/^(?:GET|HEAD)$/,ec=/^\/\//,
zb=/\?/,fc=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,gc=/^(?:select|textarea)/i,lb=/\s+/,hc=/([?&])_=[^&]*/,Ab=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,Bb=h.fn.load,eb={},Cb={},Ia,Ja;try{Ia=M.href}catch(pc){Ia=O.createElement("a");Ia.href="";Ia=Ia.href}Ja=Ab.exec(Ia.toLowerCase())||[];h.fn.extend({load:function(b,f,i){if(typeof b!="string"&&Bb)return Bb.apply(this,arguments);if(!this.length)return this;var k=b.indexOf(" ");if(k>=0){var m=b.slice(k,b.length);b=b.slice(0,k)}k="GET";
f&&(h.isFunction(f)?(i=f,f=a):typeof f=="object"&&(f=h.param(f,h.ajaxSettings.traditional),k="POST"));var n=this;h.ajax({url:b,type:k,dataType:"html",data:f,complete:function(q,v,z){z=q.responseText;q.isResolved()&&(q.done(function(B){z=B}),n.html(m?h("<div>").append(z.replace(fc,"")).find(m):z));i&&n.each(i,[z,v,q])}});return this},serialize:function(){return h.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?h.makeArray(this.elements):this}).filter(function(){return this.name&&
!this.disabled&&(this.checked||gc.test(this.nodeName)||cc.test(this.type))}).map(function(b,f){var i=h(this).val();return i==null?null:h.isArray(i)?h.map(i,function(k){return{name:f.name,value:k.replace(yb,"\r\n")}}):{name:f.name,value:i.replace(yb,"\r\n")}}).get()}});h.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(b,f){h.fn[f]=function(i){return this.bind(f,i)}});h.each(["get","post"],function(b,f){h[f]=function(i,k,m,n){h.isFunction(k)&&(n=n||m,m=k,k=
a);return h.ajax({type:f,url:i,data:k,success:m,dataType:n})}});h.extend({getScript:function(b,f){return h.get(b,a,f,"script")},getJSON:function(b,f,i){return h.get(b,f,i,"json")},ajaxSetup:function(b,f){f?h.extend(true,b,h.ajaxSettings,f):(f=b,b=h.extend(true,h.ajaxSettings,f));for(var i in{context:1,url:1})i in f?(b[i]=f[i]):i in h.ajaxSettings&&(b[i]=h.ajaxSettings[i]);return b},ajaxSettings:{url:Ia,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|widget):$/.test(Ja[1]),global:true,type:"GET",
contentType:"application/x-www-form-urlencoded",processData:true,async:true,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":"*/*"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":c.String,"text html":true,"text json":h.parseJSON,"text xml":h.parseXML}},ajaxPrefilter:I(eb),ajaxTransport:I(Cb),ajax:function(b,f){function i(A,F,L,P){if(oa!==2){oa=2;ta&&clearTimeout(ta);
ba=a;aa=P||"";s.readyState=A?4:0;var X,ma,ja;if(L){P=k;var pa=s,u=P.contents,G=P.dataTypes,Q=P.responseFields,N,U,da,fa;for(U in Q)U in L&&(pa[Q[U]]=L[U]);for(;G[0]==="*";){G.shift();N===a&&(N=P.mimeType||pa.getResponseHeader("content-type"))}if(N)for(U in u)if(u[U]&&u[U].test(N)){G.unshift(U);break}if(G[0]in L)da=G[0];else{for(U in L){if(!G[0]||P.converters[U+" "+G[0]]){da=U;break}fa||(fa=U)}da=da||fa}if(da){da!==G[0]&&G.unshift(da);L=L[da]}else L=void 0}else L=a;L=L;if(A>=200&&A<300||A===304){if(k.ifModified){if(N=
s.getResponseHeader("Last-Modified"))h.lastModified[B]=N;if(N=s.getResponseHeader("Etag"))h.etag[B]=N}if(A===304){F="notmodified";X=true}else try{N=k;L=L;N.dataFilter&&(L=N.dataFilter(L,N.dataType));var ha=N.dataTypes;U={};var Ba,Ca,ic=ha.length,bb,Ea=ha[0],Qa,hb,Fa,Ka,Ra;for(Ba=1;Ba<ic;Ba++){if(Ba===1)for(Ca in N.converters)typeof Ca=="string"&&(U[Ca.toLowerCase()]=N.converters[Ca]);Qa=Ea;Ea=ha[Ba];if(Ea==="*")Ea=Qa;else if(Qa!=="*"&&Qa!==Ea){hb=Qa+" "+Ea;Fa=U[hb]||U["* "+Ea];if(!Fa){Ra=a;for(Ka in U){bb=
Ka.split(" ");if(bb[0]===Qa||bb[0]==="*")if(Ra=U[bb[1]+" "+Ea]){Ka=U[Ka];Ka===true?(Fa=Ra):Ra===true&&(Fa=Ka);break}}}!Fa&&!Ra&&h.error("No conversion from "+hb.replace(" "," to "));Fa!==true&&(L=Fa?Fa(L):Ra(Ka(L)))}}ma=L;F="success";X=true}catch(jc){F="parsererror";ja=jc}}else{ja=F;if(!F||A){F="error";A<0&&(A=0)}}s.status=A;s.statusText=F;X?q.resolveWith(m,[ma,F,s]):q.rejectWith(m,[s,F,ja]);s.statusCode(z);z=a;Aa&&n.trigger("ajax"+(X?"Success":"Error"),[s,k,X?ma:ja]);v.resolveWith(m,[s,F]);Aa&&(n.trigger("ajaxComplete",
[s,k]),--h.active||h.event.trigger("ajaxStop"))}}typeof b=="object"&&(f=b,b=a);f=f||{};var k=h.ajaxSetup({},f),m=k.context||k,n=m!==k&&(m.nodeType||m instanceof h)?h(m):h.event,q=h.Deferred(),v=h._Deferred(),z=k.statusCode||{},B,H={},T={},aa,W,ba,ta,na,oa=0,Aa,p,s={readyState:0,setRequestHeader:function(A,F){if(!oa){var L=A.toLowerCase();A=T[L]=T[L]||A;H[A]=F}return this},getAllResponseHeaders:function(){return oa===2?aa:null},getResponseHeader:function(A){var F;if(oa===2){if(!W)for(W={};F=bc.exec(aa);)W[F[1].toLowerCase()]=
F[2];F=W[A.toLowerCase()]}return F===a?null:F},overrideMimeType:function(A){oa||(k.mimeType=A);return this},abort:function(A){A=A||"abort";ba&&ba.abort(A);i(0,A);return this}};q.promise(s);s.success=s.done;s.error=s.fail;s.complete=v.done;s.statusCode=function(A){if(A){var F;if(oa<2)for(F in A)z[F]=[z[F],A[F]];else{F=A[s.status];s.then(F,F)}}return this};k.url=((b||k.url)+"").replace(ac,"").replace(ec,Ja[1]+"//");k.dataTypes=h.trim(k.dataType||"*").toLowerCase().split(lb);k.crossDomain==null&&(na=
Ab.exec(k.url.toLowerCase()),k.crossDomain=!(!na||na[1]==Ja[1]&&na[2]==Ja[2]&&(na[3]||(na[1]==="http:"?80:443))==(Ja[3]||(Ja[1]==="http:"?80:443))));k.data&&k.processData&&typeof k.data!="string"&&(k.data=h.param(k.data,k.traditional));x(eb,k,f,s);if(oa===2)return false;Aa=k.global;k.type=k.type.toUpperCase();k.hasContent=!dc.test(k.type);Aa&&h.active++===0&&h.event.trigger("ajaxStart");if(!k.hasContent){k.data&&(k.url+=(zb.test(k.url)?"&":"?")+k.data);B=k.url;if(k.cache===false){na=h.now();var D=
k.url.replace(hc,"$1_="+na);k.url=D+(D===k.url?(zb.test(k.url)?"&":"?")+"_="+na:"")}}(k.data&&k.hasContent&&k.contentType!==false||f.contentType)&&s.setRequestHeader("Content-Type",k.contentType);k.ifModified&&(B=B||k.url,h.lastModified[B]&&s.setRequestHeader("If-Modified-Since",h.lastModified[B]),h.etag[B]&&s.setRequestHeader("If-None-Match",h.etag[B]));s.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+(k.dataTypes[0]!=="*"?", */*; q=0.01":""):k.accepts["*"]);
for(p in k.headers)s.setRequestHeader(p,k.headers[p]);if(k.beforeSend&&(k.beforeSend.call(m,s,k)===false||oa===2)){s.abort();return false}for(p in{success:1,error:1,complete:1})s[p](k[p]);if(ba=x(Cb,k,f,s)){s.readyState=1;Aa&&n.trigger("ajaxSend",[s,k]);k.async&&k.timeout>0&&(ta=setTimeout(function(){s.abort("timeout")},k.timeout));try{oa=1;ba.send(H,i)}catch(E){status<2?i(-1,E):h.error(E)}}else i(-1,"No Transport");return s},param:function(b,f){var i=[],k=function(n,q){q=h.isFunction(q)?q():q;i[i.length]=
encodeURIComponent(n)+"="+encodeURIComponent(q)};f===a&&(f=h.ajaxSettings.traditional);if(h.isArray(b)||b.jquery&&!h.isPlainObject(b))h.each(b,function(){k(this.name,this.value)});else for(var m in b)y(m,b[m],f,k);return i.join("&").replace($b,"+")}});h.extend({active:0,lastModified:{},etag:{}});var kc=h.now(),cb=/(\=)\?(&|$)|\?\?/i;h.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return h.expando+"_"+kc++}});h.ajaxPrefilter("json jsonp",function(b,f,i){f=b.contentType==="application/x-www-form-urlencoded"&&
typeof b.data=="string";if(b.dataTypes[0]==="jsonp"||b.jsonp!==false&&(cb.test(b.url)||f&&cb.test(b.data))){var k,m=b.jsonpCallback=h.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,n=c[m],q=b.url,v=b.data,z="$1"+m+"$2";b.jsonp!==false&&(q=q.replace(cb,z),b.url===q&&(f&&(v=v.replace(cb,z)),b.data===v&&(q+=(/\?/.test(q)?"&":"?")+b.jsonp+"="+m)));b.url=q;b.data=v;c[m]=function(B){k=[B]};i.always(function(){c[m]=n;k&&h.isFunction(n)&&c[m](k[0])});b.converters["script json"]=function(){k||
h.error(m+" was not called");return k[0]};b.dataTypes[0]="json";return"script"}});h.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(b){h.globalEval(b);return b}}});h.ajaxPrefilter("script",function(b){b.cache===a&&(b.cache=false);b.crossDomain&&(b.type="GET",b.global=false)});h.ajaxTransport("script",function(b){if(b.crossDomain){var f,i=O.head||O.getElementsByTagName("head")[0]||
O.documentElement;return{send:function(k,m){f=O.createElement("script");f.async="async";b.scriptCharset&&(f.charset=b.scriptCharset);f.src=b.url;f.onload=f.onreadystatechange=function(n,q){if(q||!f.readyState||/loaded|complete/.test(f.readyState)){f.onload=f.onreadystatechange=null;i&&f.parentNode&&i.removeChild(f);f=a;q||m(200,"success")}};i.insertBefore(f,i.firstChild)},abort:function(){f&&f.onload(0,1)}}}});var ib=c.ActiveXObject?function(){for(var b in Sa)Sa[b](0,1)}:false,lc=0,Sa;h.ajaxSettings.xhr=
c.ActiveXObject?function(){var b;if(!(b=!this.isLocal&&t()))a:{try{b=new c.ActiveXObject("Microsoft.XMLHTTP");break a}catch(f){}b=void 0}return b}:t;(function(b){h.extend(h.support,{ajax:!!b,cors:!!b&&"withCredentials"in b})})(h.ajaxSettings.xhr());h.support.ajax&&h.ajaxTransport(function(b){if(!b.crossDomain||h.support.cors){var f;return{send:function(i,k){var m=b.xhr(),n,q;b.username?m.open(b.type,b.url,b.async,b.username,b.password):m.open(b.type,b.url,b.async);if(b.xhrFields)for(q in b.xhrFields)m[q]=
b.xhrFields[q];b.mimeType&&m.overrideMimeType&&m.overrideMimeType(b.mimeType);!b.crossDomain&&!i["X-Requested-With"]&&(i["X-Requested-With"]="XMLHttpRequest");try{for(q in i)m.setRequestHeader(q,i[q])}catch(v){}m.send(b.hasContent&&b.data||null);f=function(z,B){var H,T,aa,W,ba;try{if(f&&(B||m.readyState===4)){f=a;n&&(m.onreadystatechange=h.noop,ib&&delete Sa[n]);if(B)m.readyState!==4&&m.abort();else{H=m.status;aa=m.getAllResponseHeaders();W={};(ba=m.responseXML)&&ba.documentElement&&(W.xml=ba);W.text=
m.responseText;try{T=m.statusText}catch(ta){T=""}!H&&b.isLocal&&!b.crossDomain?(H=W.text?200:404):H===1223&&(H=204)}}}catch(na){B||k(-1,na)}W&&k(H,T,W,aa)};!b.async||m.readyState===4?f():(n=++lc,ib&&(Sa||(Sa={},h(c).unload(ib)),Sa[n]=f),m.onreadystatechange=f)},abort:function(){f&&f(0,1)}}}});var db={},xa,La,mc=/^(?:toggle|show|hide)$/,nc=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,Ta,kb=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],
["opacity"]],Wa,jb=c.webkitRequestAnimationFrame||c.mozRequestAnimationFrame||c.oRequestAnimationFrame;h.fn.extend({show:function(b,f,i){var k;if(b||b===0)return this.animate(g("show",3),b,f,i);f=0;for(i=this.length;f<i;f++){b=this[f];b.style&&(k=b.style.display,!h._data(b,"olddisplay")&&k==="none"&&(k=b.style.display=""),k===""&&h.css(b,"display")==="none"&&h._data(b,"olddisplay",e(b.nodeName)))}for(f=0;f<i;f++){b=this[f];if(b.style){k=b.style.display;if(k===""||k==="none")b.style.display=h._data(b,
"olddisplay")||""}}return this},hide:function(b,f,i){if(b||b===0)return this.animate(g("hide",3),b,f,i);b=0;for(f=this.length;b<f;b++)if(this[b].style){i=h.css(this[b],"display");i!=="none"&&!h._data(this[b],"olddisplay")&&h._data(this[b],"olddisplay",i)}for(b=0;b<f;b++)this[b].style&&(this[b].style.display="none");return this},_toggle:h.fn.toggle,toggle:function(b,f,i){var k=typeof b=="boolean";h.isFunction(b)&&h.isFunction(f)?this._toggle.apply(this,arguments):b==null||k?this.each(function(){var m=
k?b:h(this).is(":hidden");h(this)[m?"show":"hide"]()}):this.animate(g("toggle",3),b,f,i);return this},fadeTo:function(b,f,i,k){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:f},b,i,k)},animate:function(b,f,i,k){var m=h.speed(f,i,k);if(h.isEmptyObject(b))return this.each(m.complete,[false]);b=h.extend({},b);return this[m.queue===false?"each":"queue"](function(){m.queue===false&&h._mark(this);var n=h.extend({},m),q=this.nodeType===1,v=q&&h(this).is(":hidden"),z,B,H,T,aa,
W,ba,ta;n.animatedProperties={};for(H in b){z=h.camelCase(H);H!==z&&(b[z]=b[H],delete b[H]);B=b[z];h.isArray(B)?(n.animatedProperties[z]=B[1],B=b[z]=B[0]):(n.animatedProperties[z]=n.specialEasing&&n.specialEasing[z]||n.easing||"swing");if(B==="hide"&&v||B==="show"&&!v)return n.complete.call(this);q&&(z==="height"||z==="width")&&(n.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],h.css(this,"display")==="inline"&&h.css(this,"float")==="none"&&(h.support.inlineBlockNeedsLayout?
(T=e(this.nodeName),T==="inline"?(this.style.display="inline-block"):(this.style.display="inline",this.style.zoom=1)):(this.style.display="inline-block")))}n.overflow!=null&&(this.style.overflow="hidden");for(H in b){q=new h.fx(this,n,H);B=b[H];mc.test(B)?q[B==="toggle"?v?"show":"hide":B]():(aa=nc.exec(B),W=q.cur(),aa?(ba=parseFloat(aa[2]),ta=aa[3]||(h.cssNumber[H]?"":"px"),ta!=="px"&&(h.style(this,H,(ba||1)+ta),W=(ba||1)/q.cur()*W,h.style(this,H,W+ta)),aa[1]&&(ba=(aa[1]==="-="?-1:1)*ba+W),q.custom(W,
ba,ta)):q.custom(W,B,""))}return true})},stop:function(b,f){b&&this.queue([]);this.each(function(){var i=h.timers,k=i.length;for(f||h._unmark(true,this);k--;)i[k].elem===this&&(f&&i[k](true),i.splice(k,1))});f||this.dequeue();return this}});h.each({slideDown:g("show",1),slideUp:g("hide",1),slideToggle:g("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(b,f){h.fn[b]=function(i,k,m){return this.animate(f,i,k,m)}});h.extend({speed:function(b,f,i){var k=
b&&typeof b=="object"?h.extend({},b):{complete:i||!i&&f||h.isFunction(b)&&b,duration:b,easing:i&&f||f&&!h.isFunction(f)&&f};k.duration=h.fx.off?0:typeof k.duration=="number"?k.duration:k.duration in h.fx.speeds?h.fx.speeds[k.duration]:h.fx.speeds._default;k.old=k.complete;k.complete=function(m){h.isFunction(k.old)&&k.old.call(this);k.queue!==false?h.dequeue(this):m!==false&&h._unmark(this)};return k},easing:{linear:function(b,f,i,k){return i+k*b},swing:function(b,f,i,k){return(-Math.cos(b*Math.PI)/
2+0.5)*k+i}},timers:[],fx:function(b,f,i){this.options=f;this.elem=b;this.prop=i;f.orig=f.orig||{}}});h.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this);(h.fx.step[this.prop]||h.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null))return this.elem[this.prop];var b,f=h.css(this.elem,this.prop);return isNaN(b=parseFloat(f))?!f||f==="auto"?0:f:b},custom:function(b,f,i){function k(v){return m.step(v)}
var m=this,n=h.fx,q;this.startTime=Wa||l();this.start=b;this.end=f;this.unit=i||this.unit||(h.cssNumber[this.prop]?"":"px");this.now=this.start;this.pos=this.state=0;k.elem=this.elem;k()&&h.timers.push(k)&&!Ta&&(jb?(Ta=true,q=function(){Ta&&(jb(q),n.tick())},jb(q)):(Ta=setInterval(n.tick,n.interval)))},show:function(){this.options.orig[this.prop]=h.style(this.elem,this.prop);this.options.show=true;this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur());h(this.elem).show()},hide:function(){this.options.orig[this.prop]=
h.style(this.elem,this.prop);this.options.hide=true;this.custom(this.cur(),0)},step:function(b){var f=Wa||l(),i=true,k=this.elem,m=this.options,n,q;if(b||f>=m.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();m.animatedProperties[this.prop]=true;for(n in m.animatedProperties)m.animatedProperties[n]!==true&&(i=false);if(i){m.overflow!=null&&!h.support.shrinkWrapBlocks&&h.each(["","X","Y"],function(z,B){k.style["overflow"+B]=m.overflow[z]});m.hide&&h(k).hide();if(m.hide||
m.show)for(var v in m.animatedProperties)h.style(k,v,m.orig[v]);m.complete.call(k)}return false}m.duration==Infinity?(this.now=f):(q=f-this.startTime,this.state=q/m.duration,this.pos=h.easing[m.animatedProperties[this.prop]](this.state,q,0,1,m.duration),this.now=this.start+(this.end-this.start)*this.pos);this.update();return true}};h.extend(h.fx,{tick:function(){for(var b=h.timers,f=0;f<b.length;++f)b[f]()||b.splice(f--,1);b.length||h.fx.stop()},interval:13,stop:function(){clearInterval(Ta);Ta=null},
speeds:{slow:600,fast:200,_default:400},step:{opacity:function(b){h.style(b.elem,"opacity",b.now)},_default:function(b){b.elem.style&&b.elem.style[b.prop]!=null?(b.elem.style[b.prop]=(b.prop==="width"||b.prop==="height"?Math.max(0,b.now):b.now)+b.unit):(b.elem[b.prop]=b.now)}}});h.expr&&h.expr.filters&&(h.expr.filters.animated=function(b){return h.grep(h.timers,function(f){return b===f.elem}).length});var oc=/^t(?:able|d|h)$/i,Db=/^(?:body|html)$/i;"getBoundingClientRect"in O.documentElement?(h.fn.offset=
function(b){var f=this[0],i;if(b)return this.each(function(q){h.offset.setOffset(this,b,q)});if(!f||!f.ownerDocument)return null;if(f===f.ownerDocument.body)return h.offset.bodyOffset(f);try{i=f.getBoundingClientRect()}catch(k){}var m=f.ownerDocument,n=m.documentElement;if(!i||!h.contains(n,f))return i?{top:i.top,left:i.left}:{top:0,left:0};f=m.body;m=d(m);return{top:i.top+(m.pageYOffset||h.support.boxModel&&n.scrollTop||f.scrollTop)-(n.clientTop||f.clientTop||0),left:i.left+(m.pageXOffset||h.support.boxModel&&
n.scrollLeft||f.scrollLeft)-(n.clientLeft||f.clientLeft||0)}}):(h.fn.offset=function(b){var f=this[0];if(b)return this.each(function(H){h.offset.setOffset(this,b,H)});if(!f||!f.ownerDocument)return null;if(f===f.ownerDocument.body)return h.offset.bodyOffset(f);h.offset.initialize();var i,k=f.offsetParent,m=f,n=f.ownerDocument,q=n.documentElement,v=n.body;i=(n=n.defaultView)?n.getComputedStyle(f,null):f.currentStyle;for(var z=f.offsetTop,B=f.offsetLeft;(f=f.parentNode)&&f!==v&&f!==q;){if(h.offset.supportsFixedPosition&&
i.position==="fixed")break;i=n?n.getComputedStyle(f,null):f.currentStyle;z-=f.scrollTop;B-=f.scrollLeft;f===k&&(z+=f.offsetTop,B+=f.offsetLeft,h.offset.doesNotAddBorder&&(!h.offset.doesAddBorderForTableAndCells||!oc.test(f.nodeName))&&(z+=parseFloat(i.borderTopWidth)||0,B+=parseFloat(i.borderLeftWidth)||0),m=k,k=f.offsetParent);h.offset.subtractsBorderForOverflowNotVisible&&i.overflow!=="visible"&&(z+=parseFloat(i.borderTopWidth)||0,B+=parseFloat(i.borderLeftWidth)||0);i=i}if(i.position==="relative"||
i.position==="static"){z+=v.offsetTop;B+=v.offsetLeft}h.offset.supportsFixedPosition&&i.position==="fixed"&&(z+=Math.max(q.scrollTop,v.scrollTop),B+=Math.max(q.scrollLeft,v.scrollLeft));return{top:z,left:B}});h.offset={initialize:function(){var b=O.body,f=O.createElement("div"),i,k,m,n=parseFloat(h.css(b,"marginTop"))||0;h.extend(f.style,{position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"});f.innerHTML="<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";
b.insertBefore(f,b.firstChild);i=f.firstChild;k=i.firstChild;m=i.nextSibling.firstChild.firstChild;this.doesNotAddBorder=k.offsetTop!==5;this.doesAddBorderForTableAndCells=m.offsetTop===5;k.style.position="fixed";k.style.top="20px";this.supportsFixedPosition=k.offsetTop===20||k.offsetTop===15;k.style.position=k.style.top="";i.style.overflow="hidden";i.style.position="relative";this.subtractsBorderForOverflowNotVisible=k.offsetTop===-5;this.doesNotIncludeMarginInBodyOffset=b.offsetTop!==n;b.removeChild(f);
h.offset.initialize=h.noop},bodyOffset:function(b){var f=b.offsetTop,i=b.offsetLeft;h.offset.initialize();h.offset.doesNotIncludeMarginInBodyOffset&&(f+=parseFloat(h.css(b,"marginTop"))||0,i+=parseFloat(h.css(b,"marginLeft"))||0);return{top:f,left:i}},setOffset:function(b,f,i){var k=h.css(b,"position");k==="static"&&(b.style.position="relative");var m=h(b),n=m.offset(),q=h.css(b,"top"),v=h.css(b,"left"),z={},B={},H,T;(k==="absolute"||k==="fixed")&&h.inArray("auto",[q,v])>-1?(B=m.position(),H=B.top,
T=B.left):(H=parseFloat(q)||0,T=parseFloat(v)||0);h.isFunction(f)&&(f=f.call(b,i,n));f.top!=null&&(z.top=f.top-n.top+H);f.left!=null&&(z.left=f.left-n.left+T);"using"in f?f.using.call(b,z):m.css(z)}};h.fn.extend({position:function(){if(!this[0])return null;var b=this[0],f=this.offsetParent(),i=this.offset(),k=Db.test(f[0].nodeName)?{top:0,left:0}:f.offset();i.top-=parseFloat(h.css(b,"marginTop"))||0;i.left-=parseFloat(h.css(b,"marginLeft"))||0;k.top+=parseFloat(h.css(f[0],"borderTopWidth"))||0;k.left+=
parseFloat(h.css(f[0],"borderLeftWidth"))||0;return{top:i.top-k.top,left:i.left-k.left}},offsetParent:function(){return this.map(function(){for(var b=this.offsetParent||O.body;b&&!Db.test(b.nodeName)&&h.css(b,"position")==="static";)b=b.offsetParent;return b})}});h.each(["Left","Top"],function(b,f){var i="scroll"+f;h.fn[i]=function(k){var m,n;if(k===a){m=this[0];if(!m)return null;return(n=d(m))?"pageXOffset"in n?n[b?"pageYOffset":"pageXOffset"]:h.support.boxModel&&n.document.documentElement[i]||n.document.body[i]:
m[i]}return this.each(function(){(n=d(this))?n.scrollTo(b?h(n).scrollLeft():k,b?k:h(n).scrollTop()):(this[i]=k)})}});h.each(["Height","Width"],function(b,f){var i=f.toLowerCase();h.fn["inner"+f]=function(){var k=this[0];return k&&k.style?parseFloat(h.css(k,i,"padding")):null};h.fn["outer"+f]=function(k){var m=this[0];return m&&m.style?parseFloat(h.css(m,i,k?"margin":"border")):null};h.fn[i]=function(k){var m=this[0];if(!m)return k==null?null:this;if(h.isFunction(k))return this.each(function(q){var v=
h(this);v[i](k.call(this,q,v[i]()))});if(h.isWindow(m)){var n=m.document.documentElement["client"+f];return m.document.compatMode==="CSS1Compat"&&n||m.document.body["client"+f]||n}if(m.nodeType===9)return Math.max(m.documentElement["client"+f],m.body["scroll"+f],m.documentElement["scroll"+f],m.body["offset"+f],m.documentElement["offset"+f]);if(k===a){m=h.css(m,i);n=parseFloat(m);return h.isNaN(n)?m:n}return this.css(i,typeof k=="string"?k:k+"px")}});c.jQuery=c.$=h})(window);
(function(c,a){function d(g,j){var l=g.nodeName.toLowerCase();if("area"===l){l=g.parentNode;var t=l.name;if(!g.href||!t||l.nodeName.toLowerCase()!=="map")return false;l=c("img[usemap=#"+t+"]")[0];return!!l&&e(l)}return(/input|select|textarea|button|object/.test(l)?!g.disabled:"a"==l?g.href||j:j)&&e(g)}function e(g){return!c(g).parents().andSelf().filter(function(){return c.curCSS(this,"visibility")==="hidden"||c.expr.filters.hidden(this)}).length}c.ui=c.ui||{};if(!c.ui.version){c.extend(c.ui,{version:"1.8.16",
keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}});c.fn.extend({propAttr:c.fn.prop||c.fn.attr,_focus:c.fn.focus,focus:function(g,j){return typeof g==="number"?this.each(function(){var l=
this;setTimeout(function(){c(l).focus();j&&j.call(l)},g)}):this._focus.apply(this,arguments)},scrollParent:function(){var g;g=c.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(c.curCSS(this,"position",1))&&/(auto|scroll)/.test(c.curCSS(this,"overflow",1)+c.curCSS(this,"overflow-y",1)+c.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(c.curCSS(this,
"overflow",1)+c.curCSS(this,"overflow-y",1)+c.curCSS(this,"overflow-x",1))}).eq(0);return/fixed/.test(this.css("position"))||!g.length?c(document):g},zIndex:function(g){if(g!==a)return this.css("zIndex",g);if(this.length){g=c(this[0]);for(var j;g.length&&g[0]!==document;){j=g.css("position");if(j==="absolute"||j==="relative"||j==="fixed"){j=parseInt(g.css("zIndex"),10);if(!isNaN(j)&&j!==0)return j}g=g.parent()}}return 0},disableSelection:function(){return this.bind((c.support.selectstart?"selectstart":
"mousedown")+".ui-disableSelection",function(g){g.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});c.each(["Width","Height"],function(g,j){function l(I,J,R,Y){c.each(t,function(){J-=parseFloat(c.curCSS(I,"padding"+this,true))||0;if(R)J-=parseFloat(c.curCSS(I,"border"+this+"Width",true))||0;if(Y)J-=parseFloat(c.curCSS(I,"margin"+this,true))||0});return J}var t=j==="Width"?["Left","Right"]:["Top","Bottom"],y=j.toLowerCase(),x={innerWidth:c.fn.innerWidth,innerHeight:c.fn.innerHeight,
outerWidth:c.fn.outerWidth,outerHeight:c.fn.outerHeight};c.fn["inner"+j]=function(I){if(I===a)return x["inner"+j].call(this);return this.each(function(){c(this).css(y,l(this,I)+"px")})};c.fn["outer"+j]=function(I,J){if(typeof I!=="number")return x["outer"+j].call(this,I);return this.each(function(){c(this).css(y,l(this,I,true,J)+"px")})}});c.extend(c.expr[":"],{data:function(g,j,l){return!!c.data(g,l[3])},focusable:function(g){return d(g,!isNaN(c.attr(g,"tabindex")))},tabbable:function(g){var j=c.attr(g,
"tabindex"),l=isNaN(j);return(l||j>=0)&&d(g,!l)}});c(function(){var g=document.body,j=g.appendChild(j=document.createElement("div"));c.extend(j.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});c.support.minHeight=j.offsetHeight===100;c.support.selectstart="onselectstart"in j;g.removeChild(j).style.display="none"});c.extend(c.ui,{plugin:{add:function(g,j,l){g=c.ui[g].prototype;for(var t in l){g.plugins[t]=g.plugins[t]||[];g.plugins[t].push([j,l[t]])}},call:function(g,j,l){if((j=g.plugins[j])&&
g.element[0].parentNode)for(var t=0;t<j.length;t++)g.options[j[t][0]]&&j[t][1].apply(g.element,l)}},contains:function(g,j){return document.compareDocumentPosition?g.compareDocumentPosition(j)&16:g!==j&&g.contains(j)},hasScroll:function(g,j){if(c(g).css("overflow")==="hidden")return false;var l=j&&j==="left"?"scrollLeft":"scrollTop",t=false;if(g[l]>0)return true;g[l]=1;t=g[l]>0;g[l]=0;return t},isOverAxis:function(g,j,l){return g>j&&g<j+l},isOver:function(g,j,l,t,y,x){return c.ui.isOverAxis(g,l,y)&&
c.ui.isOverAxis(j,t,x)}})}})(jQuery);
(function(c,a){if(c.cleanData){var d=c.cleanData;c.cleanData=function(g){for(var j=0,l;(l=g[j])!=null;j++)try{c(l).triggerHandler("remove")}catch(t){}d(g)}}else{var e=c.fn.remove;c.fn.remove=function(g,j){return this.each(function(){if(!j)if(!g||c.filter(g,[this]).length)c("*",this).add([this]).each(function(){try{c(this).triggerHandler("remove")}catch(l){}});return e.call(c(this),g,j)})}}c.widget=function(g,j,l){var t=g.split(".")[0],y;g=g.split(".")[1];y=t+"-"+g;if(!l){l=j;j=c.Widget}c.expr[":"][y]=
function(x){return!!c.data(x,g)};c[t]=c[t]||{};c[t][g]=function(x,I){arguments.length&&this._createWidget(x,I)};j=new j;j.options=c.extend(true,{},j.options);c[t][g].prototype=c.extend(true,j,{namespace:t,widgetName:g,widgetEventPrefix:c[t][g].prototype.widgetEventPrefix||g,widgetBaseClass:y},l);c.widget.bridge(g,c[t][g])};c.widget.bridge=function(g,j){c.fn[g]=function(l){var t=typeof l==="string",y=Array.prototype.slice.call(arguments,1),x=this;l=!t&&y.length?c.extend.apply(null,[true,l].concat(y)):
l;if(t&&l.charAt(0)==="_")return x;t?this.each(function(){var I=c.data(this,g),J=I&&c.isFunction(I[l])?I[l].apply(I,y):I;if(J!==I&&J!==a){x=J;return false}}):this.each(function(){var I=c.data(this,g);I?I.option(l||{})._init():c.data(this,g,new j(l,this))});return x}};c.Widget=function(g,j){arguments.length&&this._createWidget(g,j)};c.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:false},_createWidget:function(g,j){c.data(j,this.widgetName,this);this.element=c(j);this.options=
c.extend(true,{},this.options,this._getCreateOptions(),g);var l=this;this.element.bind("remove."+this.widgetName,function(){l.destroy()});this._create();this._trigger("create");this._init()},_getCreateOptions:function(){return c.metadata&&c.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+
"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(g,j){var l=g;if(arguments.length===0)return c.extend({},this.options);if(typeof g==="string"){if(j===a)return this.options[g];l={};l[g]=j}this._setOptions(l);return this},_setOptions:function(g){var j=this;c.each(g,function(l,t){j._setOption(l,t)});return this},_setOption:function(g,j){this.options[g]=j;if(g==="disabled")this.widget()[j?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",
j);return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_trigger:function(g,j,l){var t=this.options[g];j=c.Event(j);j.type=(g===this.widgetEventPrefix?g:this.widgetEventPrefix+g).toLowerCase();l=l||{};if(j.originalEvent){g=c.event.props.length;for(var y;g;){y=c.event.props[--g];j[y]=j.originalEvent[y]}}this.element.trigger(j,l);return!(c.isFunction(t)&&t.call(this.element[0],j,l)===false||j.isDefaultPrevented())}}})(jQuery);
(function(c){var a=false;c(document).mouseup(function(){a=false});c.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var d=this;this.element.bind("mousedown."+this.widgetName,function(e){return d._mouseDown(e)}).bind("click."+this.widgetName,function(e){if(true===c.data(e.target,d.widgetName+".preventClickEvent")){c.removeData(e.target,d.widgetName+".preventClickEvent");e.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.unbind("."+
this.widgetName)},_mouseDown:function(d){if(!a){this._mouseStarted&&this._mouseUp(d);this._mouseDownEvent=d;var e=this,g=d.which==1,j=typeof this.options.cancel=="string"&&d.target.nodeName?c(d.target).closest(this.options.cancel).length:false;if(!g||j||!this._mouseCapture(d))return true;this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet)this._mouseDelayTimer=setTimeout(function(){e.mouseDelayMet=true},this.options.delay);if(this._mouseDistanceMet(d)&&this._mouseDelayMet(d)){this._mouseStarted=
this._mouseStart(d)!==false;if(!this._mouseStarted){d.preventDefault();return true}}true===c.data(d.target,this.widgetName+".preventClickEvent")&&c.removeData(d.target,this.widgetName+".preventClickEvent");this._mouseMoveDelegate=function(l){return e._mouseMove(l)};this._mouseUpDelegate=function(l){return e._mouseUp(l)};c(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);d.preventDefault();return a=true}},_mouseMove:function(d){if(c.browser.msie&&
!(document.documentMode>=9)&&!d.button)return this._mouseUp(d);if(this._mouseStarted){this._mouseDrag(d);return d.preventDefault()}if(this._mouseDistanceMet(d)&&this._mouseDelayMet(d))(this._mouseStarted=this._mouseStart(this._mouseDownEvent,d)!==false)?this._mouseDrag(d):this._mouseUp(d);return!this._mouseStarted},_mouseUp:function(d){c(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=
false;d.target==this._mouseDownEvent.target&&c.data(d.target,this.widgetName+".preventClickEvent",true);this._mouseStop(d)}return false},_mouseDistanceMet:function(d){return Math.max(Math.abs(this._mouseDownEvent.pageX-d.pageX),Math.abs(this._mouseDownEvent.pageY-d.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true}})})(jQuery);
(function(c){c.widget("ui.draggable",c.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false},_create:function(){if(this.options.helper==
"original"&&!/^(?:r|a|f)/.test(this.element.css("position")))this.element[0].style.position="relative";this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._mouseInit()},destroy:function(){if(this.element.data("draggable")){this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy();return this}},_mouseCapture:function(a){var d=
this.options;if(this.helper||d.disabled||c(a.target).is(".ui-resizable-handle"))return false;this.handle=this._getHandle(a);if(!this.handle)return false;if(d.iframeFix)c(d.iframeFix===true?"iframe":d.iframeFix).each(function(){c('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1E3}).css(c(this).offset()).appendTo("body")});return true},_mouseStart:function(a){var d=this.options;
this.helper=this._createHelper(a);this._cacheHelperProportions();if(c.ui.ddmanager)c.ui.ddmanager.current=this;this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};c.extend(this.offset,{click:{left:a.pageX-this.offset.left,top:a.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});
this.originalPosition=this.position=this._generatePosition(a);this.originalPageX=a.pageX;this.originalPageY=a.pageY;d.cursorAt&&this._adjustOffsetFromHelper(d.cursorAt);d.containment&&this._setContainment();if(this._trigger("start",a)===false){this._clear();return false}this._cacheHelperProportions();c.ui.ddmanager&&!d.dropBehaviour&&c.ui.ddmanager.prepareOffsets(this,a);this.helper.addClass("ui-draggable-dragging");this._mouseDrag(a,true);c.ui.ddmanager&&c.ui.ddmanager.dragStart(this,a);return true},
_mouseDrag:function(a,d){this.position=this._generatePosition(a);this.positionAbs=this._convertPositionTo("absolute");if(!d){var e=this._uiHash();if(this._trigger("drag",a,e)===false){this._mouseUp({});return false}this.position=e.position}if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";c.ui.ddmanager&&c.ui.ddmanager.drag(this,a);return false},_mouseStop:function(a){var d=
false;if(c.ui.ddmanager&&!this.options.dropBehaviour)d=c.ui.ddmanager.drop(this,a);if(this.dropped){d=this.dropped;this.dropped=false}if((!this.element[0]||!this.element[0].parentNode)&&this.options.helper=="original")return false;if(this.options.revert=="invalid"&&!d||this.options.revert=="valid"&&d||this.options.revert===true||c.isFunction(this.options.revert)&&this.options.revert.call(this.element,d)){var e=this;c(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,
10),function(){e._trigger("stop",a)!==false&&e._clear()})}else this._trigger("stop",a)!==false&&this._clear();return false},_mouseUp:function(a){this.options.iframeFix===true&&c("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)});c.ui.ddmanager&&c.ui.ddmanager.dragStop(this,a);return c.ui.mouse.prototype._mouseUp.call(this,a)},cancel:function(){this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear();return this},_getHandle:function(a){var d=!this.options.handle||
!c(this.options.handle,this.element).length?true:false;c(this.options.handle,this.element).find("*").andSelf().each(function(){if(this==a.target)d=true});return d},_createHelper:function(a){var d=this.options;a=c.isFunction(d.helper)?c(d.helper.apply(this.element[0],[a])):d.helper=="clone"?this.element.clone().removeAttr("id"):this.element;a.parents("body").length||a.appendTo(d.appendTo=="parent"?this.element[0].parentNode:d.appendTo);a[0]!=this.element[0]&&!/(fixed|absolute)/.test(a.css("position"))&&
a.css("position","absolute");return a},_adjustOffsetFromHelper:function(a){if(typeof a=="string")a=a.split(" ");if(c.isArray(a))a={left:+a[0],top:+a[1]||0};if("left"in a)this.offset.click.left=a.left+this.margins.left;if("right"in a)this.offset.click.left=this.helperProportions.width-a.right+this.margins.left;if("top"in a)this.offset.click.top=a.top+this.margins.top;if("bottom"in a)this.offset.click.top=this.helperProportions.height-a.bottom+this.margins.top},_getParentOffset:function(){this.offsetParent=
this.helper.offsetParent();var a=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&c.ui.contains(this.scrollParent[0],this.offsetParent[0])){a.left+=this.scrollParent.scrollLeft();a.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&c.browser.msie)a={top:0,left:0};return{top:a.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:a.left+(parseInt(this.offsetParent.css("borderLeftWidth"),
10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var a=this.element.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),
10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var a=this.options;if(a.containment=="parent")a.containment=this.helper[0].parentNode;if(a.containment=="document"||a.containment=="window")this.containment=[a.containment=="document"?0:c(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,a.containment=="document"?0:c(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,
(a.containment=="document"?0:c(window).scrollLeft())+c(a.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(a.containment=="document"?0:c(window).scrollTop())+(c(a.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(a.containment)&&a.containment.constructor!=Array){a=c(a.containment);var d=a[0];if(d){a.offset();var e=c(d).css("overflow")!=
"hidden";this.containment=[(parseInt(c(d).css("borderLeftWidth"),10)||0)+(parseInt(c(d).css("paddingLeft"),10)||0),(parseInt(c(d).css("borderTopWidth"),10)||0)+(parseInt(c(d).css("paddingTop"),10)||0),(e?Math.max(d.scrollWidth,d.offsetWidth):d.offsetWidth)-(parseInt(c(d).css("borderLeftWidth"),10)||0)-(parseInt(c(d).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(d.scrollHeight,d.offsetHeight):d.offsetHeight)-(parseInt(c(d).css("borderTopWidth"),
10)||0)-(parseInt(c(d).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom];this.relative_container=a}}else if(a.containment.constructor==Array)this.containment=a.containment},_convertPositionTo:function(a,d){if(!d)d=this.position;var e=a=="absolute"?1:-1,g=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&c.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,j=/(html|body)/i.test(g[0].tagName);return{top:d.top+
this.offset.relative.top*e+this.offset.parent.top*e-(c.browser.safari&&c.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():j?0:g.scrollTop())*e),left:d.left+this.offset.relative.left*e+this.offset.parent.left*e-(c.browser.safari&&c.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():j?0:g.scrollLeft())*e)}},_generatePosition:function(a){var d=this.options,e=this.cssPosition=="absolute"&&
!(this.scrollParent[0]!=document&&c.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,g=/(html|body)/i.test(e[0].tagName),j=a.pageX,l=a.pageY;if(this.originalPosition){var t;if(this.containment){if(this.relative_container){t=this.relative_container.offset();t=[this.containment[0]+t.left,this.containment[1]+t.top,this.containment[2]+t.left,this.containment[3]+t.top]}else t=this.containment;if(a.pageX-this.offset.click.left<t[0])j=t[0]+this.offset.click.left;
if(a.pageY-this.offset.click.top<t[1])l=t[1]+this.offset.click.top;if(a.pageX-this.offset.click.left>t[2])j=t[2]+this.offset.click.left;if(a.pageY-this.offset.click.top>t[3])l=t[3]+this.offset.click.top}if(d.grid){l=d.grid[1]?this.originalPageY+Math.round((l-this.originalPageY)/d.grid[1])*d.grid[1]:this.originalPageY;l=t?!(l-this.offset.click.top<t[1]||l-this.offset.click.top>t[3])?l:!(l-this.offset.click.top<t[1])?l-d.grid[1]:l+d.grid[1]:l;j=d.grid[0]?this.originalPageX+Math.round((j-this.originalPageX)/
d.grid[0])*d.grid[0]:this.originalPageX;j=t?!(j-this.offset.click.left<t[0]||j-this.offset.click.left>t[2])?j:!(j-this.offset.click.left<t[0])?j-d.grid[0]:j+d.grid[0]:j}}return{top:l-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(c.browser.safari&&c.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():g?0:e.scrollTop()),left:j-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(c.browser.safari&&c.browser.version<
526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():g?0:e.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove();this.helper=null;this.cancelHelperRemoval=false},_trigger:function(a,d,e){e=e||this._uiHash();c.ui.plugin.call(this,a,[d,e]);if(a=="drag")this.positionAbs=this._convertPositionTo("absolute");return c.Widget.prototype._trigger.call(this,a,d,
e)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});c.extend(c.ui.draggable,{version:"1.8.16"});c.ui.plugin.add("draggable","connectToSortable",{start:function(a,d){var e=c(this).data("draggable"),g=e.options,j=c.extend({},d,{item:e.element});e.sortables=[];c(g.connectToSortable).each(function(){var l=c.data(this,"sortable");if(l&&!l.options.disabled){e.sortables.push({instance:l,shouldRevert:l.options.revert});
l.refreshPositions();l._trigger("activate",a,j)}})},stop:function(a,d){var e=c(this).data("draggable"),g=c.extend({},d,{item:e.element});c.each(e.sortables,function(){if(this.instance.isOver){this.instance.isOver=0;e.cancelHelperRemoval=true;this.instance.cancelHelperRemoval=false;if(this.shouldRevert)this.instance.options.revert=true;this.instance._mouseStop(a);this.instance.options.helper=this.instance.options._helper;e.options.helper=="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})}else{this.instance.cancelHelperRemoval=
false;this.instance._trigger("deactivate",a,g)}})},drag:function(a,d){var e=c(this).data("draggable"),g=this;c.each(e.sortables,function(){this.instance.positionAbs=e.positionAbs;this.instance.helperProportions=e.helperProportions;this.instance.offset.click=e.offset.click;if(this.instance._intersectsWith(this.instance.containerCache)){if(!this.instance.isOver){this.instance.isOver=1;this.instance.currentItem=c(g).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",true);
this.instance.options._helper=this.instance.options.helper;this.instance.options.helper=function(){return d.helper[0]};a.target=this.instance.currentItem[0];this.instance._mouseCapture(a,true);this.instance._mouseStart(a,true,true);this.instance.offset.click.top=e.offset.click.top;this.instance.offset.click.left=e.offset.click.left;this.instance.offset.parent.left-=e.offset.parent.left-this.instance.offset.parent.left;this.instance.offset.parent.top-=e.offset.parent.top-this.instance.offset.parent.top;
e._trigger("toSortable",a);e.dropped=this.instance.element;e.currentItem=e.element;this.instance.fromOutside=e}this.instance.currentItem&&this.instance._mouseDrag(a)}else if(this.instance.isOver){this.instance.isOver=0;this.instance.cancelHelperRemoval=true;this.instance.options.revert=false;this.instance._trigger("out",a,this.instance._uiHash(this.instance));this.instance._mouseStop(a,true);this.instance.options.helper=this.instance.options._helper;this.instance.currentItem.remove();this.instance.placeholder&&
this.instance.placeholder.remove();e._trigger("fromSortable",a);e.dropped=false}})}});c.ui.plugin.add("draggable","cursor",{start:function(){var a=c("body"),d=c(this).data("draggable").options;if(a.css("cursor"))d._cursor=a.css("cursor");a.css("cursor",d.cursor)},stop:function(){var a=c(this).data("draggable").options;a._cursor&&c("body").css("cursor",a._cursor)}});c.ui.plugin.add("draggable","opacity",{start:function(a,d){var e=c(d.helper),g=c(this).data("draggable").options;if(e.css("opacity"))g._opacity=
e.css("opacity");e.css("opacity",g.opacity)},stop:function(a,d){var e=c(this).data("draggable").options;e._opacity&&c(d.helper).css("opacity",e._opacity)}});c.ui.plugin.add("draggable","scroll",{start:function(){var a=c(this).data("draggable");if(a.scrollParent[0]!=document&&a.scrollParent[0].tagName!="HTML")a.overflowOffset=a.scrollParent.offset()},drag:function(a){var d=c(this).data("draggable"),e=d.options,g=false;if(d.scrollParent[0]!=document&&d.scrollParent[0].tagName!="HTML"){if(!e.axis||e.axis!=
"x")if(d.overflowOffset.top+d.scrollParent[0].offsetHeight-a.pageY<e.scrollSensitivity)d.scrollParent[0].scrollTop=g=d.scrollParent[0].scrollTop+e.scrollSpeed;else if(a.pageY-d.overflowOffset.top<e.scrollSensitivity)d.scrollParent[0].scrollTop=g=d.scrollParent[0].scrollTop-e.scrollSpeed;if(!e.axis||e.axis!="y")if(d.overflowOffset.left+d.scrollParent[0].offsetWidth-a.pageX<e.scrollSensitivity)d.scrollParent[0].scrollLeft=g=d.scrollParent[0].scrollLeft+e.scrollSpeed;else if(a.pageX-d.overflowOffset.left<
e.scrollSensitivity)d.scrollParent[0].scrollLeft=g=d.scrollParent[0].scrollLeft-e.scrollSpeed}else{if(!e.axis||e.axis!="x")if(a.pageY-c(document).scrollTop()<e.scrollSensitivity)g=c(document).scrollTop(c(document).scrollTop()-e.scrollSpeed);else if(c(window).height()-(a.pageY-c(document).scrollTop())<e.scrollSensitivity)g=c(document).scrollTop(c(document).scrollTop()+e.scrollSpeed);if(!e.axis||e.axis!="y")if(a.pageX-c(document).scrollLeft()<e.scrollSensitivity)g=c(document).scrollLeft(c(document).scrollLeft()-
e.scrollSpeed);else if(c(window).width()-(a.pageX-c(document).scrollLeft())<e.scrollSensitivity)g=c(document).scrollLeft(c(document).scrollLeft()+e.scrollSpeed)}g!==false&&c.ui.ddmanager&&!e.dropBehaviour&&c.ui.ddmanager.prepareOffsets(d,a)}});c.ui.plugin.add("draggable","snap",{start:function(){var a=c(this).data("draggable"),d=a.options;a.snapElements=[];c(d.snap.constructor!=String?d.snap.items||":data(draggable)":d.snap).each(function(){var e=c(this),g=e.offset();this!=a.element[0]&&a.snapElements.push({item:this,
width:e.outerWidth(),height:e.outerHeight(),top:g.top,left:g.left})})},drag:function(a,d){for(var e=c(this).data("draggable"),g=e.options,j=g.snapTolerance,l=d.offset.left,t=l+e.helperProportions.width,y=d.offset.top,x=y+e.helperProportions.height,I=e.snapElements.length-1;I>=0;I--){var J=e.snapElements[I].left,R=J+e.snapElements[I].width,Y=e.snapElements[I].top,ga=Y+e.snapElements[I].height;if(J-j<l&&l<R+j&&Y-j<y&&y<ga+j||J-j<l&&l<R+j&&Y-j<x&&x<ga+j||J-j<t&&t<R+j&&Y-j<y&&y<ga+j||J-j<t&&t<R+j&&Y-
j<x&&x<ga+j){if(g.snapMode!="inner"){var o=Math.abs(Y-x)<=j,r=Math.abs(ga-y)<=j,w=Math.abs(J-t)<=j,C=Math.abs(R-l)<=j;if(o)d.position.top=e._convertPositionTo("relative",{top:Y-e.helperProportions.height,left:0}).top-e.margins.top;if(r)d.position.top=e._convertPositionTo("relative",{top:ga,left:0}).top-e.margins.top;if(w)d.position.left=e._convertPositionTo("relative",{top:0,left:J-e.helperProportions.width}).left-e.margins.left;if(C)d.position.left=e._convertPositionTo("relative",{top:0,left:R}).left-
e.margins.left}var S=o||r||w||C;if(g.snapMode!="outer"){o=Math.abs(Y-y)<=j;r=Math.abs(ga-x)<=j;w=Math.abs(J-l)<=j;C=Math.abs(R-t)<=j;if(o)d.position.top=e._convertPositionTo("relative",{top:Y,left:0}).top-e.margins.top;if(r)d.position.top=e._convertPositionTo("relative",{top:ga-e.helperProportions.height,left:0}).top-e.margins.top;if(w)d.position.left=e._convertPositionTo("relative",{top:0,left:J}).left-e.margins.left;if(C)d.position.left=e._convertPositionTo("relative",{top:0,left:R-e.helperProportions.width}).left-
e.margins.left}if(!e.snapElements[I].snapping&&(o||r||w||C||S))e.options.snap.snap&&e.options.snap.snap.call(e.element,a,c.extend(e._uiHash(),{snapItem:e.snapElements[I].item}));e.snapElements[I].snapping=o||r||w||C||S}else{e.snapElements[I].snapping&&e.options.snap.release&&e.options.snap.release.call(e.element,a,c.extend(e._uiHash(),{snapItem:e.snapElements[I].item}));e.snapElements[I].snapping=false}}}});c.ui.plugin.add("draggable","stack",{start:function(){var a=c(this).data("draggable").options;
a=c.makeArray(c(a.stack)).sort(function(e,g){return(parseInt(c(e).css("zIndex"),10)||0)-(parseInt(c(g).css("zIndex"),10)||0)});if(a.length){var d=parseInt(a[0].style.zIndex)||0;c(a).each(function(e){this.style.zIndex=d+e});this[0].style.zIndex=d+a.length}}});c.ui.plugin.add("draggable","zIndex",{start:function(a,d){var e=c(d.helper),g=c(this).data("draggable").options;if(e.css("zIndex"))g._zIndex=e.css("zIndex");e.css("zIndex",g.zIndex)},stop:function(a,d){var e=c(this).data("draggable").options;
e._zIndex&&c(d.helper).css("zIndex",e._zIndex)}})})(jQuery);
(function(c){c.widget("ui.droppable",{widgetEventPrefix:"drop",options:{accept:"*",activeClass:false,addClasses:true,greedy:false,hoverClass:false,scope:"default",tolerance:"intersect"},_create:function(){var a=this.options,d=a.accept;this.isover=0;this.isout=1;this.accept=c.isFunction(d)?d:function(e){return e.is(d)};this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};c.ui.ddmanager.droppables[a.scope]=c.ui.ddmanager.droppables[a.scope]||[];c.ui.ddmanager.droppables[a.scope].push(this);
a.addClasses&&this.element.addClass("ui-droppable")},destroy:function(){for(var a=c.ui.ddmanager.droppables[this.options.scope],d=0;d<a.length;d++)a[d]==this&&a.splice(d,1);this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable");return this},_setOption:function(a,d){if(a=="accept")this.accept=c.isFunction(d)?d:function(e){return e.is(d)};c.Widget.prototype._setOption.apply(this,arguments)},_activate:function(a){var d=c.ui.ddmanager.current;this.options.activeClass&&
this.element.addClass(this.options.activeClass);d&&this._trigger("activate",a,this.ui(d))},_deactivate:function(a){var d=c.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass);d&&this._trigger("deactivate",a,this.ui(d))},_over:function(a){var d=c.ui.ddmanager.current;if(!(!d||(d.currentItem||d.element)[0]==this.element[0]))if(this.accept.call(this.element[0],d.currentItem||d.element)){this.options.hoverClass&&this.element.addClass(this.options.hoverClass);
this._trigger("over",a,this.ui(d))}},_out:function(a){var d=c.ui.ddmanager.current;if(!(!d||(d.currentItem||d.element)[0]==this.element[0]))if(this.accept.call(this.element[0],d.currentItem||d.element)){this.options.hoverClass&&this.element.removeClass(this.options.hoverClass);this._trigger("out",a,this.ui(d))}},_drop:function(a,d){var e=d||c.ui.ddmanager.current;if(!e||(e.currentItem||e.element)[0]==this.element[0])return false;var g=false;this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var j=
c.data(this,"droppable");if(j.options.greedy&&!j.options.disabled&&j.options.scope==e.options.scope&&j.accept.call(j.element[0],e.currentItem||e.element)&&c.ui.intersect(e,c.extend(j,{offset:j.element.offset()}),j.options.tolerance)){g=true;return false}});if(g)return false;if(this.accept.call(this.element[0],e.currentItem||e.element)){this.options.activeClass&&this.element.removeClass(this.options.activeClass);this.options.hoverClass&&this.element.removeClass(this.options.hoverClass);this._trigger("drop",
a,this.ui(e));return this.element}return false},ui:function(a){return{draggable:a.currentItem||a.element,helper:a.helper,position:a.position,offset:a.positionAbs}}});c.extend(c.ui.droppable,{version:"1.8.16"});c.ui.intersect=function(a,d,e){if(!d.offset)return false;var g=(a.positionAbs||a.position.absolute).left,j=g+a.helperProportions.width,l=(a.positionAbs||a.position.absolute).top,t=l+a.helperProportions.height,y=d.offset.left,x=y+d.proportions.width,I=d.offset.top,J=I+d.proportions.height;switch(e){case "fit":return y<=
g&&j<=x&&I<=l&&t<=J;case "intersect":return y<g+a.helperProportions.width/2&&j-a.helperProportions.width/2<x&&I<l+a.helperProportions.height/2&&t-a.helperProportions.height/2<J;case "pointer":return c.ui.isOver((a.positionAbs||a.position.absolute).top+(a.clickOffset||a.offset.click).top,(a.positionAbs||a.position.absolute).left+(a.clickOffset||a.offset.click).left,I,y,d.proportions.height,d.proportions.width);case "touch":return(l>=I&&l<=J||t>=I&&t<=J||l<I&&t>J)&&(g>=y&&g<=x||j>=y&&j<=x||g<y&&j>x);
default:return false}};c.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(a,d){var e=c.ui.ddmanager.droppables[a.options.scope]||[],g=d?d.type:null,j=(a.currentItem||a.element).find(":data(droppable)").andSelf(),l=0;a:for(;l<e.length;l++)if(!(e[l].options.disabled||a&&!e[l].accept.call(e[l].element[0],a.currentItem||a.element))){for(var t=0;t<j.length;t++)if(j[t]==e[l].element[0]){e[l].proportions.height=0;continue a}e[l].visible=e[l].element.css("display")!="none";if(e[l].visible){g==
"mousedown"&&e[l]._activate.call(e[l],d);e[l].offset=e[l].element.offset();e[l].proportions={width:e[l].element[0].offsetWidth,height:e[l].element[0].offsetHeight}}}},drop:function(a,d){var e=false;c.each(c.ui.ddmanager.droppables[a.options.scope]||[],function(){if(this.options){if(!this.options.disabled&&this.visible&&c.ui.intersect(a,this,this.options.tolerance))e=e||this._drop.call(this,d);if(!this.options.disabled&&this.visible&&this.accept.call(this.element[0],a.currentItem||a.element)){this.isout=
1;this.isover=0;this._deactivate.call(this,d)}}});return e},dragStart:function(a,d){a.element.parents(":not(body,html)").bind("scroll.droppable",function(){a.options.refreshPositions||c.ui.ddmanager.prepareOffsets(a,d)})},drag:function(a,d){a.options.refreshPositions&&c.ui.ddmanager.prepareOffsets(a,d);c.each(c.ui.ddmanager.droppables[a.options.scope]||[],function(){if(!(this.options.disabled||this.greedyChild||!this.visible)){var e=c.ui.intersect(a,this,this.options.tolerance);if(e=!e&&this.isover==
1?"isout":e&&this.isover==0?"isover":null){var g;if(this.options.greedy){var j=this.element.parents(":data(droppable):eq(0)");if(j.length){g=c.data(j[0],"droppable");g.greedyChild=e=="isover"?1:0}}if(g&&e=="isover"){g.isover=0;g.isout=1;g._out.call(g,d)}this[e]=1;this[e=="isout"?"isover":"isout"]=0;this[e=="isover"?"_over":"_out"].call(this,d);if(g&&e=="isout"){g.isout=0;g.isover=1;g._over.call(g,d)}}}})},dragStop:function(a,d){a.element.parents(":not(body,html)").unbind("scroll.droppable");a.options.refreshPositions||
c.ui.ddmanager.prepareOffsets(a,d)}}})(jQuery);
(function(c){c.widget("ui.resizable",c.ui.mouse,{widgetEventPrefix:"resize",options:{alsoResize:false,animate:false,animateDuration:"slow",animateEasing:"swing",aspectRatio:false,autoHide:false,containment:false,ghost:false,grid:false,handles:"e,s,se",helper:false,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1E3},_create:function(){var e=this,g=this.options;this.element.addClass("ui-resizable");c.extend(this,{_aspectRatio:!!g.aspectRatio,aspectRatio:g.aspectRatio,originalElement:this.element,
_proportionallyResizeElements:[],_helper:g.helper||g.ghost||g.animate?g.helper||"ui-resizable-helper":null});if(this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)){/relative/.test(this.element.css("position"))&&c.browser.opera&&this.element.css({position:"relative",top:"auto",left:"auto"});this.element.wrap(c('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),
top:this.element.css("top"),left:this.element.css("left")}));this.element=this.element.parent().data("resizable",this.element.data("resizable"));this.elementIsWrapper=true;this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")});this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0});this.originalResizeStyle=
this.originalElement.css("resize");this.originalElement.css("resize","none");this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"}));this.originalElement.css({margin:this.originalElement.css("margin")});this._proportionallyResize()}this.handles=g.handles||(!c(".ui-resizable-handle",this.element).length?"e,s,se":{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",
nw:".ui-resizable-nw"});if(this.handles.constructor==String){if(this.handles=="all")this.handles="n,e,s,w,se,sw,ne,nw";var j=this.handles.split(",");this.handles={};for(var l=0;l<j.length;l++){var t=c.trim(j[l]),y=c('<div class="ui-resizable-handle '+("ui-resizable-"+t)+'"></div>');/sw|se|ne|nw/.test(t)&&y.css({zIndex:++g.zIndex});"se"==t&&y.addClass("ui-icon ui-icon-gripsmall-diagonal-se");this.handles[t]=".ui-resizable-"+t;this.element.append(y)}}this._renderAxis=function(x){x=x||this.element;for(var I in this.handles){if(this.handles[I].constructor==
String)this.handles[I]=c(this.handles[I],this.element).show();if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var J=c(this.handles[I],this.element),R=0;R=/sw|ne|nw|se|n|s/.test(I)?J.outerHeight():J.outerWidth();J=["padding",/ne|nw|n/.test(I)?"Top":/se|sw|s/.test(I)?"Bottom":/^e$/.test(I)?"Right":"Left"].join("");x.css(J,R);this._proportionallyResize()}c(this.handles[I])}};this._renderAxis(this.element);this._handles=c(".ui-resizable-handle",this.element).disableSelection();
this._handles.mouseover(function(){if(!e.resizing){if(this.className)var x=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);e.axis=x&&x[1]?x[1]:"se"}});if(g.autoHide){this._handles.hide();c(this.element).addClass("ui-resizable-autohide").hover(function(){if(!g.disabled){c(this).removeClass("ui-resizable-autohide");e._handles.show()}},function(){if(!g.disabled)if(!e.resizing){c(this).addClass("ui-resizable-autohide");e._handles.hide()}})}this._mouseInit()},destroy:function(){this._mouseDestroy();
var e=function(j){c(j).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){e(this.element);var g=this.element;g.after(this.originalElement.css({position:g.css("position"),width:g.outerWidth(),height:g.outerHeight(),top:g.css("top"),left:g.css("left")})).remove()}this.originalElement.css("resize",this.originalResizeStyle);e(this.originalElement);return this},_mouseCapture:function(e){var g=
false;for(var j in this.handles)if(c(this.handles[j])[0]==e.target)g=true;return!this.options.disabled&&g},_mouseStart:function(e){var g=this.options,j=this.element.position(),l=this.element;this.resizing=true;this.documentScroll={top:c(document).scrollTop(),left:c(document).scrollLeft()};if(l.is(".ui-draggable")||/absolute/.test(l.css("position")))l.css({position:"absolute",top:j.top,left:j.left});c.browser.opera&&/relative/.test(l.css("position"))&&l.css({position:"relative",top:"auto",left:"auto"});
this._renderProxy();j=a(this.helper.css("left"));var t=a(this.helper.css("top"));if(g.containment){j+=c(g.containment).scrollLeft()||0;t+=c(g.containment).scrollTop()||0}this.offset=this.helper.offset();this.position={left:j,top:t};this.size=this._helper?{width:l.outerWidth(),height:l.outerHeight()}:{width:l.width(),height:l.height()};this.originalSize=this._helper?{width:l.outerWidth(),height:l.outerHeight()}:{width:l.width(),height:l.height()};this.originalPosition={left:j,top:t};this.sizeDiff=
{width:l.outerWidth()-l.width(),height:l.outerHeight()-l.height()};this.originalMousePosition={left:e.pageX,top:e.pageY};this.aspectRatio=typeof g.aspectRatio=="number"?g.aspectRatio:this.originalSize.width/this.originalSize.height||1;g=c(".ui-resizable-"+this.axis).css("cursor");c("body").css("cursor",g=="auto"?this.axis+"-resize":g);l.addClass("ui-resizable-resizing");this._propagate("start",e);return true},_mouseDrag:function(e){var g=this.helper,j=this.originalMousePosition,l=this._change[this.axis];
if(!l)return false;j=l.apply(this,[e,e.pageX-j.left||0,e.pageY-j.top||0]);this._updateVirtualBoundaries(e.shiftKey);if(this._aspectRatio||e.shiftKey)j=this._updateRatio(j,e);j=this._respectSize(j,e);this._propagate("resize",e);g.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"});!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize();this._updateCache(j);this._trigger("resize",e,this.ui());return false},
_mouseStop:function(e){this.resizing=false;var g=this.options;if(this._helper){var j=this._proportionallyResizeElements,l=j.length&&/textarea/i.test(j[0].nodeName);j=l&&c.ui.hasScroll(j[0],"left")?0:this.sizeDiff.height;l=l?0:this.sizeDiff.width;l={width:this.helper.width()-l,height:this.helper.height()-j};j=parseInt(this.element.css("left"),10)+(this.position.left-this.originalPosition.left)||null;var t=parseInt(this.element.css("top"),10)+(this.position.top-this.originalPosition.top)||null;g.animate||
this.element.css(c.extend(l,{top:t,left:j}));this.helper.height(this.size.height);this.helper.width(this.size.width);this._helper&&!g.animate&&this._proportionallyResize()}c("body").css("cursor","auto");this.element.removeClass("ui-resizable-resizing");this._propagate("stop",e);this._helper&&this.helper.remove();return false},_updateVirtualBoundaries:function(e){var g=this.options,j,l,t;g={minWidth:d(g.minWidth)?g.minWidth:0,maxWidth:d(g.maxWidth)?g.maxWidth:Infinity,minHeight:d(g.minHeight)?g.minHeight:
0,maxHeight:d(g.maxHeight)?g.maxHeight:Infinity};if(this._aspectRatio||e){e=g.minHeight*this.aspectRatio;l=g.minWidth/this.aspectRatio;j=g.maxHeight*this.aspectRatio;t=g.maxWidth/this.aspectRatio;if(e>g.minWidth)g.minWidth=e;if(l>g.minHeight)g.minHeight=l;if(j<g.maxWidth)g.maxWidth=j;if(t<g.maxHeight)g.maxHeight=t}this._vBoundaries=g},_updateCache:function(e){this.offset=this.helper.offset();if(d(e.left))this.position.left=e.left;if(d(e.top))this.position.top=e.top;if(d(e.height))this.size.height=
e.height;if(d(e.width))this.size.width=e.width},_updateRatio:function(e){var g=this.position,j=this.size,l=this.axis;if(d(e.height))e.width=e.height*this.aspectRatio;else if(d(e.width))e.height=e.width/this.aspectRatio;if(l=="sw"){e.left=g.left+(j.width-e.width);e.top=null}if(l=="nw"){e.top=g.top+(j.height-e.height);e.left=g.left+(j.width-e.width)}return e},_respectSize:function(e){var g=this._vBoundaries,j=this.axis,l=d(e.width)&&g.maxWidth&&g.maxWidth<e.width,t=d(e.height)&&g.maxHeight&&g.maxHeight<
e.height,y=d(e.width)&&g.minWidth&&g.minWidth>e.width,x=d(e.height)&&g.minHeight&&g.minHeight>e.height;if(y)e.width=g.minWidth;if(x)e.height=g.minHeight;if(l)e.width=g.maxWidth;if(t)e.height=g.maxHeight;var I=this.originalPosition.left+this.originalSize.width,J=this.position.top+this.size.height,R=/sw|nw|w/.test(j);j=/nw|ne|n/.test(j);if(y&&R)e.left=I-g.minWidth;if(l&&R)e.left=I-g.maxWidth;if(x&&j)e.top=J-g.minHeight;if(t&&j)e.top=J-g.maxHeight;if((g=!e.width&&!e.height)&&!e.left&&e.top)e.top=null;
else if(g&&!e.top&&e.left)e.left=null;return e},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e=this.helper||this.element,g=0;g<this._proportionallyResizeElements.length;g++){var j=this._proportionallyResizeElements[g];if(!this.borderDif){var l=[j.css("borderTopWidth"),j.css("borderRightWidth"),j.css("borderBottomWidth"),j.css("borderLeftWidth")],t=[j.css("paddingTop"),j.css("paddingRight"),j.css("paddingBottom"),j.css("paddingLeft")];this.borderDif=c.map(l,
function(y,x){var I=parseInt(y,10)||0,J=parseInt(t[x],10)||0;return I+J})}c.browser.msie&&(c(e).is(":hidden")||c(e).parents(":hidden").length)||j.css({height:e.height()-this.borderDif[0]-this.borderDif[2]||0,width:e.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var e=this.options;this.elementOffset=this.element.offset();if(this._helper){this.helper=this.helper||c('<div style="overflow:hidden;"></div>');var g=c.browser.msie&&c.browser.version<7,j=g?1:0;g=g?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+
g,height:this.element.outerHeight()+g,position:"absolute",left:this.elementOffset.left-j+"px",top:this.elementOffset.top-j+"px",zIndex:++e.zIndex});this.helper.appendTo("body").disableSelection()}else this.helper=this.element},_change:{e:function(e,g){return{width:this.originalSize.width+g}},w:function(e,g){return{left:this.originalPosition.left+g,width:this.originalSize.width-g}},n:function(e,g,j){return{top:this.originalPosition.top+j,height:this.originalSize.height-j}},s:function(e,g,j){return{height:this.originalSize.height+
j}},se:function(e,g,j){return c.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,g,j]))},sw:function(e,g,j){return c.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,g,j]))},ne:function(e,g,j){return c.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,g,j]))},nw:function(e,g,j){return c.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,g,j]))}},_propagate:function(e,g){c.ui.plugin.call(this,e,[g,this.ui()]);
e!="resize"&&this._trigger(e,g,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});c.extend(c.ui.resizable,{version:"1.8.16"});c.ui.plugin.add("resizable","alsoResize",{start:function(){var e=c(this).data("resizable").options,g=function(j){c(j).each(function(){var l=c(this);l.data("resizable-alsoresize",{width:parseInt(l.width(),
10),height:parseInt(l.height(),10),left:parseInt(l.css("left"),10),top:parseInt(l.css("top"),10),position:l.css("position")})})};if(typeof e.alsoResize=="object"&&!e.alsoResize.parentNode)if(e.alsoResize.length){e.alsoResize=e.alsoResize[0];g(e.alsoResize)}else c.each(e.alsoResize,function(j){g(j)});else g(e.alsoResize)},resize:function(e,g){var j=c(this).data("resizable"),l=j.options,t=j.originalSize,y=j.originalPosition,x={height:j.size.height-t.height||0,width:j.size.width-t.width||0,top:j.position.top-
y.top||0,left:j.position.left-y.left||0},I=function(J,R){c(J).each(function(){var Y=c(this),ga=c(this).data("resizable-alsoresize"),o={},r=R&&R.length?R:Y.parents(g.originalElement[0]).length?["width","height"]:["width","height","top","left"];c.each(r,function(w,C){var S=(ga[C]||0)+(x[C]||0);if(S&&S>=0)o[C]=S||null});if(c.browser.opera&&/relative/.test(Y.css("position"))){j._revertToRelativePosition=true;Y.css({position:"absolute",top:"auto",left:"auto"})}Y.css(o)})};typeof l.alsoResize=="object"&&
!l.alsoResize.nodeType?c.each(l.alsoResize,function(J,R){I(J,R)}):I(l.alsoResize)},stop:function(){var e=c(this).data("resizable"),g=e.options,j=function(l){c(l).each(function(){var t=c(this);t.css({position:t.data("resizable-alsoresize").position})})};if(e._revertToRelativePosition){e._revertToRelativePosition=false;typeof g.alsoResize=="object"&&!g.alsoResize.nodeType?c.each(g.alsoResize,function(l){j(l)}):j(g.alsoResize)}c(this).removeData("resizable-alsoresize")}});c.ui.plugin.add("resizable",
"animate",{stop:function(e){var g=c(this).data("resizable"),j=g.options,l=g._proportionallyResizeElements,t=l.length&&/textarea/i.test(l[0].nodeName),y=t&&c.ui.hasScroll(l[0],"left")?0:g.sizeDiff.height;t={width:g.size.width-(t?0:g.sizeDiff.width),height:g.size.height-y};y=parseInt(g.element.css("left"),10)+(g.position.left-g.originalPosition.left)||null;var x=parseInt(g.element.css("top"),10)+(g.position.top-g.originalPosition.top)||null;g.element.animate(c.extend(t,x&&y?{top:x,left:y}:{}),{duration:j.animateDuration,
easing:j.animateEasing,step:function(){var I={width:parseInt(g.element.css("width"),10),height:parseInt(g.element.css("height"),10),top:parseInt(g.element.css("top"),10),left:parseInt(g.element.css("left"),10)};l&&l.length&&c(l[0]).css({width:I.width,height:I.height});g._updateCache(I);g._propagate("resize",e)}})}});c.ui.plugin.add("resizable","containment",{start:function(){var e=c(this).data("resizable"),g=e.element,j=e.options.containment;if(g=j instanceof c?j.get(0):/parent/.test(j)?g.parent().get(0):
j){e.containerElement=c(g);if(/document/.test(j)||j==document){e.containerOffset={left:0,top:0};e.containerPosition={left:0,top:0};e.parentData={element:c(document),left:0,top:0,width:c(document).width(),height:c(document).height()||document.body.parentNode.scrollHeight}}else{var l=c(g),t=[];c(["Top","Right","Left","Bottom"]).each(function(I,J){t[I]=a(l.css("padding"+J))});e.containerOffset=l.offset();e.containerPosition=l.position();e.containerSize={height:l.innerHeight()-t[3],width:l.innerWidth()-
t[1]};j=e.containerOffset;var y=e.containerSize.height,x=e.containerSize.width;x=c.ui.hasScroll(g,"left")?g.scrollWidth:x;y=c.ui.hasScroll(g)?g.scrollHeight:y;e.parentData={element:g,left:j.left,top:j.top,width:x,height:y}}}},resize:function(e){var g=c(this).data("resizable"),j=g.options,l=g.containerOffset,t=g.position;e=g._aspectRatio||e.shiftKey;var y={top:0,left:0},x=g.containerElement;if(x[0]!=document&&/static/.test(x.css("position")))y=l;if(t.left<(g._helper?l.left:0)){g.size.width+=g._helper?
g.position.left-l.left:g.position.left-y.left;if(e)g.size.height=g.size.width/j.aspectRatio;g.position.left=j.helper?l.left:0}if(t.top<(g._helper?l.top:0)){g.size.height+=g._helper?g.position.top-l.top:g.position.top;if(e)g.size.width=g.size.height*j.aspectRatio;g.position.top=g._helper?l.top:0}g.offset.left=g.parentData.left+g.position.left;g.offset.top=g.parentData.top+g.position.top;j=Math.abs((g._helper?g.offset.left-y.left:g.offset.left-y.left)+g.sizeDiff.width);l=Math.abs((g._helper?g.offset.top-
y.top:g.offset.top-l.top)+g.sizeDiff.height);t=g.containerElement.get(0)==g.element.parent().get(0);y=/relative|absolute/.test(g.containerElement.css("position"));if(t&&y)j-=g.parentData.left;if(j+g.size.width>=g.parentData.width){g.size.width=g.parentData.width-j;if(e)g.size.height=g.size.width/g.aspectRatio}if(l+g.size.height>=g.parentData.height){g.size.height=g.parentData.height-l;if(e)g.size.width=g.size.height*g.aspectRatio}},stop:function(){var e=c(this).data("resizable"),g=e.options,j=e.containerOffset,
l=e.containerPosition,t=e.containerElement,y=c(e.helper),x=y.offset(),I=y.outerWidth()-e.sizeDiff.width;y=y.outerHeight()-e.sizeDiff.height;e._helper&&!g.animate&&/relative/.test(t.css("position"))&&c(this).css({left:x.left-l.left-j.left,width:I,height:y});e._helper&&!g.animate&&/static/.test(t.css("position"))&&c(this).css({left:x.left-l.left-j.left,width:I,height:y})}});c.ui.plugin.add("resizable","ghost",{start:function(){var e=c(this).data("resizable"),g=e.options,j=e.size;e.ghost=e.originalElement.clone();
e.ghost.css({opacity:0.25,display:"block",position:"relative",height:j.height,width:j.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof g.ghost=="string"?g.ghost:"");e.ghost.appendTo(e.helper)},resize:function(){var e=c(this).data("resizable");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=c(this).data("resizable");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}});c.ui.plugin.add("resizable","grid",
{resize:function(){var e=c(this).data("resizable"),g=e.options,j=e.size,l=e.originalSize,t=e.originalPosition,y=e.axis;g.grid=typeof g.grid=="number"?[g.grid,g.grid]:g.grid;var x=Math.round((j.width-l.width)/(g.grid[0]||1))*(g.grid[0]||1);g=Math.round((j.height-l.height)/(g.grid[1]||1))*(g.grid[1]||1);if(/^(se|s|e)$/.test(y)){e.size.width=l.width+x;e.size.height=l.height+g}else if(/^(ne)$/.test(y)){e.size.width=l.width+x;e.size.height=l.height+g;e.position.top=t.top-g}else{if(/^(sw)$/.test(y)){e.size.width=
l.width+x;e.size.height=l.height+g}else{e.size.width=l.width+x;e.size.height=l.height+g;e.position.top=t.top-g}e.position.left=t.left-x}}});var a=function(e){return parseInt(e,10)||0},d=function(e){return!isNaN(parseInt(e,10))}})(jQuery);
(function(c){c.widget("ui.selectable",c.ui.mouse,{options:{appendTo:"body",autoRefresh:true,distance:0,filter:"*",tolerance:"touch"},_create:function(){var a=this;this.element.addClass("ui-selectable");this.dragged=false;var d;this.refresh=function(){d=c(a.options.filter,a.element[0]);d.each(function(){var e=c(this),g=e.offset();c.data(this,"selectable-item",{element:this,$element:e,left:g.left,top:g.top,right:g.left+e.outerWidth(),bottom:g.top+e.outerHeight(),startselected:false,selected:e.hasClass("ui-selected"),
selecting:e.hasClass("ui-selecting"),unselecting:e.hasClass("ui-unselecting")})})};this.refresh();this.selectees=d.addClass("ui-selectee");this._mouseInit();this.helper=c("<div class='ui-selectable-helper'></div>")},destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item");this.element.removeClass("ui-selectable ui-selectable-disabled").removeData("selectable").unbind(".selectable");this._mouseDestroy();return this},_mouseStart:function(a){var d=this;this.opos=[a.pageX,
a.pageY];if(!this.options.disabled){var e=this.options;this.selectees=c(e.filter,this.element[0]);this._trigger("start",a);c(e.appendTo).append(this.helper);this.helper.css({left:a.clientX,top:a.clientY,width:0,height:0});e.autoRefresh&&this.refresh();this.selectees.filter(".ui-selected").each(function(){var g=c.data(this,"selectable-item");g.startselected=true;if(!a.metaKey){g.$element.removeClass("ui-selected");g.selected=false;g.$element.addClass("ui-unselecting");g.unselecting=true;d._trigger("unselecting",
a,{unselecting:g.element})}});c(a.target).parents().andSelf().each(function(){var g=c.data(this,"selectable-item");if(g){var j=!a.metaKey||!g.$element.hasClass("ui-selected");g.$element.removeClass(j?"ui-unselecting":"ui-selected").addClass(j?"ui-selecting":"ui-unselecting");g.unselecting=!j;g.selecting=j;(g.selected=j)?d._trigger("selecting",a,{selecting:g.element}):d._trigger("unselecting",a,{unselecting:g.element});return false}})}},_mouseDrag:function(a){var d=this;this.dragged=true;if(!this.options.disabled){var e=
this.options,g=this.opos[0],j=this.opos[1],l=a.pageX,t=a.pageY;if(g>l){var y=l;l=g;g=y}if(j>t){y=t;t=j;j=y}this.helper.css({left:g,top:j,width:l-g,height:t-j});this.selectees.each(function(){var x=c.data(this,"selectable-item");if(!(!x||x.element==d.element[0])){var I=false;if(e.tolerance=="touch")I=!(x.left>l||x.right<g||x.top>t||x.bottom<j);else if(e.tolerance=="fit")I=x.left>g&&x.right<l&&x.top>j&&x.bottom<t;if(I){if(x.selected){x.$element.removeClass("ui-selected");x.selected=false}if(x.unselecting){x.$element.removeClass("ui-unselecting");
x.unselecting=false}if(!x.selecting){x.$element.addClass("ui-selecting");x.selecting=true;d._trigger("selecting",a,{selecting:x.element})}}else{if(x.selecting)if(a.metaKey&&x.startselected){x.$element.removeClass("ui-selecting");x.selecting=false;x.$element.addClass("ui-selected");x.selected=true}else{x.$element.removeClass("ui-selecting");x.selecting=false;if(x.startselected){x.$element.addClass("ui-unselecting");x.unselecting=true}d._trigger("unselecting",a,{unselecting:x.element})}if(x.selected)if(!a.metaKey&&
!x.startselected){x.$element.removeClass("ui-selected");x.selected=false;x.$element.addClass("ui-unselecting");x.unselecting=true;d._trigger("unselecting",a,{unselecting:x.element})}}}});return false}},_mouseStop:function(a){var d=this;this.dragged=false;c(".ui-unselecting",this.element[0]).each(function(){var e=c.data(this,"selectable-item");e.$element.removeClass("ui-unselecting");e.unselecting=false;e.startselected=false;d._trigger("unselected",a,{unselected:e.element})});c(".ui-selecting",this.element[0]).each(function(){var e=
c.data(this,"selectable-item");e.$element.removeClass("ui-selecting").addClass("ui-selected");e.selecting=false;e.selected=true;e.startselected=true;d._trigger("selected",a,{selected:e.element})});this._trigger("stop",a);this.helper.remove();return false}});c.extend(c.ui.selectable,{version:"1.8.16"})})(jQuery);
(function(c){c.widget("ui.sortable",c.ui.mouse,{widgetEventPrefix:"sort",options:{appendTo:"parent",axis:false,connectWith:false,containment:false,cursor:"auto",cursorAt:false,dropOnEmpty:true,forcePlaceholderSize:false,forceHelperSize:false,grid:false,handle:false,helper:"original",items:"> *",opacity:false,placeholder:false,revert:false,scroll:true,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1E3},_create:function(){var a=this.options;this.containerCache={};this.element.addClass("ui-sortable");
this.refresh();this.floating=this.items.length?a.axis==="x"||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):false;this.offset=this.element.offset();this._mouseInit()},destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").removeData("sortable").unbind(".sortable");this._mouseDestroy();for(var a=this.items.length-1;a>=0;a--)this.items[a].item.removeData("sortable-item");return this},_setOption:function(a,d){if(a===
"disabled"){this.options[a]=d;this.widget()[d?"addClass":"removeClass"]("ui-sortable-disabled")}else c.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(a,d){if(this.reverting)return false;if(this.options.disabled||this.options.type=="static")return false;this._refreshItems(a);var e=null,g=this;c(a.target).parents().each(function(){if(c.data(this,"sortable-item")==g){e=c(this);return false}});if(c.data(a.target,"sortable-item")==g)e=c(a.target);if(!e)return false;if(this.options.handle&&
!d){var j=false;c(this.options.handle,e).find("*").andSelf().each(function(){if(this==a.target)j=true});if(!j)return false}this.currentItem=e;this._removeCurrentsFromItems();return true},_mouseStart:function(a,d,e){d=this.options;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(a);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-
this.margins.left};this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");c.extend(this.offset,{click:{left:a.pageX-this.offset.left,top:a.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this._generatePosition(a);this.originalPageX=a.pageX;this.originalPageY=a.pageY;d.cursorAt&&this._adjustOffsetFromHelper(d.cursorAt);this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};
this.helper[0]!=this.currentItem[0]&&this.currentItem.hide();this._createPlaceholder();d.containment&&this._setContainment();if(d.cursor){if(c("body").css("cursor"))this._storedCursor=c("body").css("cursor");c("body").css("cursor",d.cursor)}if(d.opacity){if(this.helper.css("opacity"))this._storedOpacity=this.helper.css("opacity");this.helper.css("opacity",d.opacity)}if(d.zIndex){if(this.helper.css("zIndex"))this._storedZIndex=this.helper.css("zIndex");this.helper.css("zIndex",d.zIndex)}if(this.scrollParent[0]!=
document&&this.scrollParent[0].tagName!="HTML")this.overflowOffset=this.scrollParent.offset();this._trigger("start",a,this._uiHash());this._preserveHelperProportions||this._cacheHelperProportions();if(!e)for(e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("activate",a,this._uiHash(this));if(c.ui.ddmanager)c.ui.ddmanager.current=this;c.ui.ddmanager&&!d.dropBehaviour&&c.ui.ddmanager.prepareOffsets(this,a);this.dragging=true;this.helper.addClass("ui-sortable-helper");this._mouseDrag(a);
return true},_mouseDrag:function(a){this.position=this._generatePosition(a);this.positionAbs=this._convertPositionTo("absolute");if(!this.lastPositionAbs)this.lastPositionAbs=this.positionAbs;if(this.options.scroll){var d=this.options,e=false;if(this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"){if(this.overflowOffset.top+this.scrollParent[0].offsetHeight-a.pageY<d.scrollSensitivity)this.scrollParent[0].scrollTop=e=this.scrollParent[0].scrollTop+d.scrollSpeed;else if(a.pageY-this.overflowOffset.top<
d.scrollSensitivity)this.scrollParent[0].scrollTop=e=this.scrollParent[0].scrollTop-d.scrollSpeed;if(this.overflowOffset.left+this.scrollParent[0].offsetWidth-a.pageX<d.scrollSensitivity)this.scrollParent[0].scrollLeft=e=this.scrollParent[0].scrollLeft+d.scrollSpeed;else if(a.pageX-this.overflowOffset.left<d.scrollSensitivity)this.scrollParent[0].scrollLeft=e=this.scrollParent[0].scrollLeft-d.scrollSpeed}else{if(a.pageY-c(document).scrollTop()<d.scrollSensitivity)e=c(document).scrollTop(c(document).scrollTop()-
d.scrollSpeed);else if(c(window).height()-(a.pageY-c(document).scrollTop())<d.scrollSensitivity)e=c(document).scrollTop(c(document).scrollTop()+d.scrollSpeed);if(a.pageX-c(document).scrollLeft()<d.scrollSensitivity)e=c(document).scrollLeft(c(document).scrollLeft()-d.scrollSpeed);else if(c(window).width()-(a.pageX-c(document).scrollLeft())<d.scrollSensitivity)e=c(document).scrollLeft(c(document).scrollLeft()+d.scrollSpeed)}e!==false&&c.ui.ddmanager&&!d.dropBehaviour&&c.ui.ddmanager.prepareOffsets(this,
a)}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";for(d=this.items.length-1;d>=0;d--){e=this.items[d];var g=e.item[0],j=this._intersectsWithPointer(e);if(j)if(g!=this.currentItem[0]&&this.placeholder[j==1?"next":"prev"]()[0]!=g&&!c.ui.contains(this.placeholder[0],g)&&(this.options.type=="semi-dynamic"?!c.ui.contains(this.element[0],
g):true)){this.direction=j==1?"down":"up";if(this.options.tolerance=="pointer"||this._intersectsWithSides(e))this._rearrange(a,e);else break;this._trigger("change",a,this._uiHash());break}}this._contactContainers(a);c.ui.ddmanager&&c.ui.ddmanager.drag(this,a);this._trigger("sort",a,this._uiHash());this.lastPositionAbs=this.positionAbs;return false},_mouseStop:function(a,d){if(a){c.ui.ddmanager&&!this.options.dropBehaviour&&c.ui.ddmanager.drop(this,a);if(this.options.revert){var e=this,g=e.placeholder.offset();
e.reverting=true;c(this.helper).animate({left:g.left-this.offset.parent.left-e.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:g.top-this.offset.parent.top-e.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){e._clear(a)})}else this._clear(a,d);return false}},cancel:function(){if(this.dragging){this._mouseUp({target:null});this.options.helper=="original"?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):
this.currentItem.show();for(var a=this.containers.length-1;a>=0;a--){this.containers[a]._trigger("deactivate",null,this._uiHash(this));if(this.containers[a].containerCache.over){this.containers[a]._trigger("out",null,this._uiHash(this));this.containers[a].containerCache.over=0}}}if(this.placeholder){this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]);this.options.helper!="original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove();c.extend(this,
{helper:null,dragging:false,reverting:false,_noFinalSort:null});this.domPosition.prev?c(this.domPosition.prev).after(this.currentItem):c(this.domPosition.parent).prepend(this.currentItem)}return this},serialize:function(a){var d=this._getItemsAsjQuery(a&&a.connected),e=[];a=a||{};c(d).each(function(){var g=(c(a.item||this).attr(a.attribute||"id")||"").match(a.expression||/(.+)[-=_](.+)/);if(g)e.push((a.key||g[1]+"[]")+"="+(a.key&&a.expression?g[1]:g[2]))});!e.length&&a.key&&e.push(a.key+"=");return e.join("&")},
toArray:function(a){var d=this._getItemsAsjQuery(a&&a.connected),e=[];a=a||{};d.each(function(){e.push(c(a.item||this).attr(a.attribute||"id")||"")});return e},_intersectsWith:function(a){var d=this.positionAbs.left,e=d+this.helperProportions.width,g=this.positionAbs.top,j=g+this.helperProportions.height,l=a.left,t=l+a.width,y=a.top,x=y+a.height,I=this.offset.click.top,J=this.offset.click.left;return this.options.tolerance=="pointer"||this.options.forcePointerForContainers||this.options.tolerance!=
"pointer"&&this.helperProportions[this.floating?"width":"height"]>a[this.floating?"width":"height"]?g+I>y&&g+I<x&&d+J>l&&d+J<t:l<d+this.helperProportions.width/2&&e-this.helperProportions.width/2<t&&y<g+this.helperProportions.height/2&&j-this.helperProportions.height/2<x},_intersectsWithPointer:function(a){var d=c.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,a.top,a.height);a=c.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,a.left,a.width);d=d&&a;a=this._getDragVerticalDirection();
var e=this._getDragHorizontalDirection();if(!d)return false;return this.floating?e&&e=="right"||a=="down"?2:1:a&&(a=="down"?2:1)},_intersectsWithSides:function(a){var d=c.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,a.top+a.height/2,a.height);a=c.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,a.left+a.width/2,a.width);var e=this._getDragVerticalDirection(),g=this._getDragHorizontalDirection();return this.floating&&g?g=="right"&&a||g=="left"&&!a:e&&(e=="down"&&d||e=="up"&&!d)},
_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;return a!=0&&(a>0?"down":"up")},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return a!=0&&(a>0?"right":"left")},refresh:function(a){this._refreshItems(a);this.refreshPositions();return this},_connectWith:function(){var a=this.options;return a.connectWith.constructor==String?[a.connectWith]:a.connectWith},_getItemsAsjQuery:function(a){var d=[],e=[],g=this._connectWith();
if(g&&a)for(a=g.length-1;a>=0;a--)for(var j=c(g[a]),l=j.length-1;l>=0;l--){var t=c.data(j[l],"sortable");if(t&&t!=this&&!t.options.disabled)e.push([c.isFunction(t.options.items)?t.options.items.call(t.element):c(t.options.items,t.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),t])}e.push([c.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):c(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),
this]);for(a=e.length-1;a>=0;a--)e[a][0].each(function(){d.push(this)});return c(d)},_removeCurrentsFromItems:function(){for(var a=this.currentItem.find(":data(sortable-item)"),d=0;d<this.items.length;d++)for(var e=0;e<a.length;e++)a[e]==this.items[d].item[0]&&this.items.splice(d,1)},_refreshItems:function(a){this.items=[];this.containers=[this];var d=this.items,e=[[c.isFunction(this.options.items)?this.options.items.call(this.element[0],a,{item:this.currentItem}):c(this.options.items,this.element),
this]],g=this._connectWith();if(g)for(var j=g.length-1;j>=0;j--)for(var l=c(g[j]),t=l.length-1;t>=0;t--){var y=c.data(l[t],"sortable");if(y&&y!=this&&!y.options.disabled){e.push([c.isFunction(y.options.items)?y.options.items.call(y.element[0],a,{item:this.currentItem}):c(y.options.items,y.element),y]);this.containers.push(y)}}for(j=e.length-1;j>=0;j--){a=e[j][1];g=e[j][0];t=0;for(l=g.length;t<l;t++){y=c(g[t]);y.data("sortable-item",a);d.push({item:y,instance:a,width:0,height:0,left:0,top:0})}}},refreshPositions:function(a){if(this.offsetParent&&
this.helper)this.offset.parent=this._getParentOffset();for(var d=this.items.length-1;d>=0;d--){var e=this.items[d];if(!(e.instance!=this.currentContainer&&this.currentContainer&&e.item[0]!=this.currentItem[0])){var g=this.options.toleranceElement?c(this.options.toleranceElement,e.item):e.item;if(!a){e.width=g.outerWidth();e.height=g.outerHeight()}g=g.offset();e.left=g.left;e.top=g.top}}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(d=
this.containers.length-1;d>=0;d--){g=this.containers[d].element.offset();this.containers[d].containerCache.left=g.left;this.containers[d].containerCache.top=g.top;this.containers[d].containerCache.width=this.containers[d].element.outerWidth();this.containers[d].containerCache.height=this.containers[d].element.outerHeight()}return this},_createPlaceholder:function(a){var d=a||this,e=d.options;if(!e.placeholder||e.placeholder.constructor==String){var g=e.placeholder;e.placeholder={element:function(){var j=
c(document.createElement(d.currentItem[0].nodeName)).addClass(g||d.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];if(!g)j.style.visibility="hidden";return j},update:function(j,l){if(!(g&&!e.forcePlaceholderSize)){l.height()||l.height(d.currentItem.innerHeight()-parseInt(d.currentItem.css("paddingTop")||0,10)-parseInt(d.currentItem.css("paddingBottom")||0,10));l.width()||l.width(d.currentItem.innerWidth()-parseInt(d.currentItem.css("paddingLeft")||0,10)-parseInt(d.currentItem.css("paddingRight")||
0,10))}}}}d.placeholder=c(e.placeholder.element.call(d.element,d.currentItem));d.currentItem.after(d.placeholder);e.placeholder.update(d,d.placeholder)},_contactContainers:function(a){for(var d=null,e=null,g=this.containers.length-1;g>=0;g--)if(!c.ui.contains(this.currentItem[0],this.containers[g].element[0]))if(this._intersectsWith(this.containers[g].containerCache)){if(!(d&&c.ui.contains(this.containers[g].element[0],d.element[0]))){d=this.containers[g];e=g}}else if(this.containers[g].containerCache.over){this.containers[g]._trigger("out",
a,this._uiHash(this));this.containers[g].containerCache.over=0}if(d)if(this.containers.length===1){this.containers[e]._trigger("over",a,this._uiHash(this));this.containers[e].containerCache.over=1}else if(this.currentContainer!=this.containers[e]){d=1E4;g=null;for(var j=this.positionAbs[this.containers[e].floating?"left":"top"],l=this.items.length-1;l>=0;l--)if(c.ui.contains(this.containers[e].element[0],this.items[l].item[0])){var t=this.items[l][this.containers[e].floating?"left":"top"];if(Math.abs(t-
j)<d){d=Math.abs(t-j);g=this.items[l]}}if(g||this.options.dropOnEmpty){this.currentContainer=this.containers[e];g?this._rearrange(a,g,null,true):this._rearrange(a,null,this.containers[e].element,true);this._trigger("change",a,this._uiHash());this.containers[e]._trigger("change",a,this._uiHash(this));this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[e]._trigger("over",a,this._uiHash(this));this.containers[e].containerCache.over=1}}},_createHelper:function(a){var d=
this.options;a=c.isFunction(d.helper)?c(d.helper.apply(this.element[0],[a,this.currentItem])):d.helper=="clone"?this.currentItem.clone():this.currentItem;a.parents("body").length||c(d.appendTo!="parent"?d.appendTo:this.currentItem[0].parentNode)[0].appendChild(a[0]);if(a[0]==this.currentItem[0])this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")};if(a[0].style.width==
""||d.forceHelperSize)a.width(this.currentItem.width());if(a[0].style.height==""||d.forceHelperSize)a.height(this.currentItem.height());return a},_adjustOffsetFromHelper:function(a){if(typeof a=="string")a=a.split(" ");if(c.isArray(a))a={left:+a[0],top:+a[1]||0};if("left"in a)this.offset.click.left=a.left+this.margins.left;if("right"in a)this.offset.click.left=this.helperProportions.width-a.right+this.margins.left;if("top"in a)this.offset.click.top=a.top+this.margins.top;if("bottom"in a)this.offset.click.top=
this.helperProportions.height-a.bottom+this.margins.top},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var a=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&c.ui.contains(this.scrollParent[0],this.offsetParent[0])){a.left+=this.scrollParent.scrollLeft();a.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&c.browser.msie)a=
{top:0,left:0};return{top:a.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:a.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var a=this.currentItem.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),
10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var a=this.options;if(a.containment=="parent")a.containment=this.helper[0].parentNode;if(a.containment=="document"||a.containment=="window")this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,c(a.containment=="document"?
document:window).width()-this.helperProportions.width-this.margins.left,(c(a.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(a.containment)){var d=c(a.containment)[0];a=c(a.containment).offset();var e=c(d).css("overflow")!="hidden";this.containment=[a.left+(parseInt(c(d).css("borderLeftWidth"),10)||0)+(parseInt(c(d).css("paddingLeft"),10)||0)-this.margins.left,a.top+(parseInt(c(d).css("borderTopWidth"),
10)||0)+(parseInt(c(d).css("paddingTop"),10)||0)-this.margins.top,a.left+(e?Math.max(d.scrollWidth,d.offsetWidth):d.offsetWidth)-(parseInt(c(d).css("borderLeftWidth"),10)||0)-(parseInt(c(d).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,a.top+(e?Math.max(d.scrollHeight,d.offsetHeight):d.offsetHeight)-(parseInt(c(d).css("borderTopWidth"),10)||0)-(parseInt(c(d).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(a,d){if(!d)d=
this.position;var e=a=="absolute"?1:-1,g=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&c.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,j=/(html|body)/i.test(g[0].tagName);return{top:d.top+this.offset.relative.top*e+this.offset.parent.top*e-(c.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():j?0:g.scrollTop())*e),left:d.left+this.offset.relative.left*e+this.offset.parent.left*e-(c.browser.safari&&
this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():j?0:g.scrollLeft())*e)}},_generatePosition:function(a){var d=this.options,e=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&c.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,g=/(html|body)/i.test(e[0].tagName);if(this.cssPosition=="relative"&&!(this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0]))this.offset.relative=this._getRelativeOffset();
var j=a.pageX,l=a.pageY;if(this.originalPosition){if(this.containment){if(a.pageX-this.offset.click.left<this.containment[0])j=this.containment[0]+this.offset.click.left;if(a.pageY-this.offset.click.top<this.containment[1])l=this.containment[1]+this.offset.click.top;if(a.pageX-this.offset.click.left>this.containment[2])j=this.containment[2]+this.offset.click.left;if(a.pageY-this.offset.click.top>this.containment[3])l=this.containment[3]+this.offset.click.top}if(d.grid){l=this.originalPageY+Math.round((l-
this.originalPageY)/d.grid[1])*d.grid[1];l=this.containment?!(l-this.offset.click.top<this.containment[1]||l-this.offset.click.top>this.containment[3])?l:!(l-this.offset.click.top<this.containment[1])?l-d.grid[1]:l+d.grid[1]:l;j=this.originalPageX+Math.round((j-this.originalPageX)/d.grid[0])*d.grid[0];j=this.containment?!(j-this.offset.click.left<this.containment[0]||j-this.offset.click.left>this.containment[2])?j:!(j-this.offset.click.left<this.containment[0])?j-d.grid[0]:j+d.grid[0]:j}}return{top:l-
this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(c.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():g?0:e.scrollTop()),left:j-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(c.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():g?0:e.scrollLeft())}},_rearrange:function(a,d,e,g){e?e[0].appendChild(this.placeholder[0]):d.item[0].parentNode.insertBefore(this.placeholder[0],
this.direction=="down"?d.item[0]:d.item[0].nextSibling);this.counter=this.counter?++this.counter:1;var j=this,l=this.counter;window.setTimeout(function(){l==j.counter&&j.refreshPositions(!g)},0)},_clear:function(a,d){this.reverting=false;var e=[];!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem);this._noFinalSort=null;if(this.helper[0]==this.currentItem[0]){for(var g in this._storedCSS)if(this._storedCSS[g]=="auto"||this._storedCSS[g]=="static")this._storedCSS[g]=
"";this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!d&&e.push(function(j){this._trigger("receive",j,this._uiHash(this.fromOutside))});if((this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!d)e.push(function(j){this._trigger("update",j,this._uiHash())});if(!c.ui.contains(this.element[0],this.currentItem[0])){d||e.push(function(j){this._trigger("remove",
j,this._uiHash())});for(g=this.containers.length-1;g>=0;g--)if(c.ui.contains(this.containers[g].element[0],this.currentItem[0])&&!d){e.push(function(j){return function(l){j._trigger("receive",l,this._uiHash(this))}}.call(this,this.containers[g]));e.push(function(j){return function(l){j._trigger("update",l,this._uiHash(this))}}.call(this,this.containers[g]))}}for(g=this.containers.length-1;g>=0;g--){d||e.push(function(j){return function(l){j._trigger("deactivate",l,this._uiHash(this))}}.call(this,
this.containers[g]));if(this.containers[g].containerCache.over){e.push(function(j){return function(l){j._trigger("out",l,this._uiHash(this))}}.call(this,this.containers[g]));this.containers[g].containerCache.over=0}}this._storedCursor&&c("body").css("cursor",this._storedCursor);this._storedOpacity&&this.helper.css("opacity",this._storedOpacity);if(this._storedZIndex)this.helper.css("zIndex",this._storedZIndex=="auto"?"":this._storedZIndex);this.dragging=false;if(this.cancelHelperRemoval){if(!d){this._trigger("beforeStop",
a,this._uiHash());for(g=0;g<e.length;g++)e[g].call(this,a);this._trigger("stop",a,this._uiHash())}return false}d||this._trigger("beforeStop",a,this._uiHash());this.placeholder[0].parentNode.removeChild(this.placeholder[0]);this.helper[0]!=this.currentItem[0]&&this.helper.remove();this.helper=null;if(!d){for(g=0;g<e.length;g++)e[g].call(this,a);this._trigger("stop",a,this._uiHash())}this.fromOutside=false;return true},_trigger:function(){c.Widget.prototype._trigger.apply(this,arguments)===false&&this.cancel()},
_uiHash:function(a){var d=a||this;return{helper:d.helper,placeholder:d.placeholder||c([]),position:d.position,originalPosition:d.originalPosition,offset:d.positionAbs,item:d.currentItem,sender:a?a.element:null}}});c.extend(c.ui.sortable,{version:"1.8.16"})})(jQuery);
(function(c,a){var d,e=/:([\w\d]+)/g,g=/\?([^#]*)$/,j=function(o){return Array.prototype.slice.call(o)},l=function(o){return Object.prototype.toString.call(o)==="[object Function]"},t=function(o){return Object.prototype.toString.call(o)==="[object Array]"},y=function(o){return decodeURIComponent((o||"").replace(/\+/g," "))},x=encodeURIComponent,I=function(o){return String(o).replace(/&(?!\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},J=function(o){return function(r,
w){return this.route.apply(this,[o,r,w])}},R={},Y=!!(a.history&&history.pushState),ga=[];d=function(){var o=j(arguments),r,w;d.apps=d.apps||{};if(o.length===0||o[0]&&l(o[0]))return d.apply(d,["body"].concat(o));else if(typeof(w=o.shift())=="string"){r=d.apps[w]||new d.Application;r.element_selector=w;o.length>0&&c.each(o,function(C,S){r.use(S)});r.element_selector!=w&&delete d.apps[w];return d.apps[r.element_selector]=r}};d.VERSION="0.7.0";d.addLogger=function(o){ga.push(o)};d.log=function(){var o=
j(arguments);o.unshift("["+Date()+"]");c.each(ga,function(r,w){w.apply(d,o)})};if(typeof a.console!="undefined")l(a.console.log.apply)?d.addLogger(function(){a.console.log.apply(a.console,arguments)}):d.addLogger(function(){a.console.log(arguments)});else typeof console!="undefined"&&d.addLogger(function(){console.log.apply(console,arguments)});c.extend(d,{makeArray:j,isFunction:l,isArray:t});d.Object=function(o){return c.extend(this,o||{})};c.extend(d.Object.prototype,{escapeHTML:I,h:I,toHash:function(){var o=
{};c.each(this,function(r,w){l(w)||(o[r]=w)});return o},toHTML:function(){var o="";c.each(this,function(r,w){l(w)||(o+="<strong>"+r+"</strong> "+w+"<br />")});return o},keys:function(o){var r=[];for(var w in this)if(!l(this[w])||!o)r.push(w);return r},has:function(o){return this[o]&&c.trim(this[o].toString())!==""},join:function(){var o=j(arguments),r=o.shift();return o.join(r)},log:function(){d.log.apply(d,arguments)},toString:function(o){var r=[];c.each(this,function(w,C){if(!l(C)||o)r.push('"'+
w+'": '+C.toString())});return"Sammy.Object: {"+r.join(",")+"}"}});d.DefaultLocationProxy=function(o,r){this.app=o;this.is_native=false;this.has_history=Y;this._startPolling(r)};d.DefaultLocationProxy.fullPath=function(o){var r=o.toString().match(/^[^#]*(#.+)$/);return[o.pathname,o.search,r?r[1]:""].join("")};d.DefaultLocationProxy.prototype={bind:function(){var o=this,r=this.app,w=d.DefaultLocationProxy;c(a).bind("hashchange."+this.app.eventNamespace(),function(C,S){if(o.is_native===false&&!S){o.is_native=
true;a.clearInterval(w._interval)}r.trigger("location-changed")});if(Y&&!r.disable_push_state){c(a).bind("popstate."+this.app.eventNamespace(),function(){r.trigger("location-changed")});c("a").live("click.history-"+this.app.eventNamespace(),function(C){var S=w.fullPath(this);if(this.hostname==a.location.hostname&&r.lookupRoute("get",S)){C.preventDefault();o.setLocation(S);return false}})}if(!w._bindings)w._bindings=0;w._bindings++},unbind:function(){c(a).unbind("hashchange."+this.app.eventNamespace());
c(a).unbind("popstate."+this.app.eventNamespace());c("a").die("click.history-"+this.app.eventNamespace());d.DefaultLocationProxy._bindings--;d.DefaultLocationProxy._bindings<=0&&a.clearInterval(d.DefaultLocationProxy._interval)},getLocation:function(){return d.DefaultLocationProxy.fullPath(a.location)},setLocation:function(o){if(/^([^#\/]|$)/.test(o))o=Y?"/"+o:"#!/"+o;if(o!=this.getLocation())if(Y&&/^\//.test(o)){history.pushState({path:o},a.title,o);this.app.trigger("location-changed")}else return a.location=
o},_startPolling:function(o){var r=this;if(!d.DefaultLocationProxy._interval){o||(o=10);var w=function(){var C=r.getLocation();if(typeof d.DefaultLocationProxy._last_location=="undefined"||C!=d.DefaultLocationProxy._last_location)a.setTimeout(function(){c(a).trigger("hashchange",[true])},0);d.DefaultLocationProxy._last_location=C};w();d.DefaultLocationProxy._interval=a.setInterval(w,o)}}};d.Application=function(o){var r=this;this.routes={};this.listeners=new d.Object({});this.arounds=[];this.befores=
[];this.namespace=(new Date).getTime()+"-"+parseInt(Math.random()*1E3,10);this.context_prototype=function(){d.EventContext.apply(this,arguments)};this.context_prototype.prototype=new d.EventContext;l(o)&&o.apply(this,[this]);this._location_proxy||this.setLocationProxy(new d.DefaultLocationProxy(this,this.run_interval_every));this.debug&&this.bindToAllEvents(function(w,C){r.log(r.toString(),w.cleaned_type,C||{})})};d.Application.prototype=c.extend({},d.Object.prototype,{ROUTE_VERBS:["get","post","put",
"delete"],APP_EVENTS:["run","unload","lookup-route","run-route","route-found","event-context-before","event-context-after","changed","error","check-form-submission","redirect","location-changed"],_last_route:null,_location_proxy:null,_running:false,element_selector:"body",debug:false,raise_errors:false,run_interval_every:50,disable_push_state:false,template_engine:null,toString:function(){return"Sammy.Application:"+this.element_selector},$element:function(o){return o?c(this.element_selector).find(o):
c(this.element_selector)},use:function(){var o=j(arguments),r=o.shift(),w=r||"";try{o.unshift(this);if(typeof r=="string"){w="Sammy."+r;r=d[r]}r.apply(this,o)}catch(C){if(typeof r==="undefined")this.error("Plugin Error: called use() but plugin ("+w.toString()+") is not defined",C);else l(r)?this.error("Plugin Error",C):this.error("Plugin Error: called use() but '"+w.toString()+"' is not a function",C)}return this},setLocationProxy:function(o){var r=this._location_proxy;this._location_proxy=o;if(this.isRunning()){r&&
r.unbind();this._location_proxy.bind()}},route:function(o,r,w){var C=this,S=[],V,Z;if(!w&&l(r)){w=r=o;o="any"}o=o.toLowerCase();if(r.constructor==String){for(e.lastIndex=0;(Z=e.exec(r))!==null;)S.push(Z[1]);r=new RegExp(r.replace(e,"([^/]+)")+"$")}if(typeof w=="string")w=C[w];V=function(ca){var ea={verb:ca,path:r,callback:w,param_names:S};C.routes[ca]=C.routes[ca]||[];C.routes[ca].push(ea)};o==="any"?c.each(this.ROUTE_VERBS,function(ca,ea){V(ea)}):V(o);return this},get:J("get"),post:J("post"),put:J("put"),
del:J("delete"),any:J("any"),mapRoutes:function(o){var r=this;c.each(o,function(w,C){r.route.apply(r,C)});return this},eventNamespace:function(){return["sammy-app",this.namespace].join("-")},bind:function(o,r,w){var C=this;if(typeof w=="undefined")w=r;r=function(S,V){var Z;if(V&&V.context){Z=V.context;delete V.context}else Z=new C.context_prototype(C,"bind",S.type,V,S.target);S.cleaned_type=S.type.replace(C.eventNamespace(),"");w.apply(Z,[S,V])};this.listeners[o]||(this.listeners[o]=[]);this.listeners[o].push(r);
this.isRunning()&&this._listen(o,r);return this},trigger:function(o,r){this.$element().trigger([o,this.eventNamespace()].join("."),[r]);return this},refresh:function(){this.last_location=null;this.trigger("location-changed");return this},before:function(o,r){if(l(o)){r=o;o={}}this.befores.push([o,r]);return this},after:function(o){return this.bind("event-context-after",o)},around:function(o){this.arounds.push(o);return this},isRunning:function(){return this._running},helpers:function(o){c.extend(this.context_prototype.prototype,
o);return this},helper:function(o,r){this.context_prototype.prototype[o]=r;return this},run:function(o){if(this.isRunning())return false;var r=this;c.each(this.listeners.toHash(),function(w,C){c.each(C,function(S,V){r._listen(w,V)})});this.trigger("run",{start_url:o});this._running=true;this.last_location=null;!/\#(.+)/.test(this.getLocation())&&typeof o!="undefined"&&this.setLocation(o);this._checkLocation();this._location_proxy.bind();this.bind("location-changed",function(){r._checkLocation()});
this.bind("submit",function(w){return r._checkFormSubmission(c(w.target).closest("form"))===false?w.preventDefault():false});c(a).bind("beforeunload",function(){r.unload()});return this.trigger("changed")},unload:function(){if(!this.isRunning())return false;var o=this;this.trigger("unload");this._location_proxy.unbind();this.$element().unbind("submit").removeClass(o.eventNamespace());c.each(this.listeners.toHash(),function(r,w){c.each(w,function(C,S){o._unlisten(r,S)})});this._running=false;return this},
bindToAllEvents:function(o){var r=this;c.each(this.APP_EVENTS,function(w,C){r.bind(C,o)});c.each(this.listeners.keys(true),function(w,C){c.inArray(C,r.APP_EVENTS)==-1&&r.bind(C,o)});return this},routablePath:function(o){return o.replace(g,"")},lookupRoute:function(o,r){var w=false,C=0,S,V;if(typeof this.routes[o]!="undefined")for(S=this.routes[o].length;C<S;C++){V=this.routes[o][C];if(this.routablePath(r).match(V.path)){w=V;break}}return w},runRoute:function(o,r,w,C){var S=this,V=this.lookupRoute(o,
r),Z,ca,ea,la,ya,za,O;this.log("runRoute",[o,r].join(" "));this.trigger("run-route",{verb:o,path:r,params:w});if(typeof w=="undefined")w={};c.extend(w,this._parseQueryString(r));if(V){this.trigger("route-found",{route:V});if((za=V.path.exec(this.routablePath(r)))!==null){za.shift();c.each(za,function(M,h){if(V.param_names[M])w[V.param_names[M]]=y(h);else{if(!w.splat)w.splat=[];w.splat.push(y(h))}})}Z=new this.context_prototype(this,o,r,w,C);C=this.arounds.slice(0);ea=this.befores.slice(0);ya=[Z].concat(w.splat);
ca=function(){for(var M;ea.length>0;){la=ea.shift();if(S.contextMatchesOptions(Z,la[0])){M=la[1].apply(Z,[Z]);if(M===false)return false}}S.last_route=V;Z.trigger("event-context-before",{context:Z});M=V.callback.apply(Z,ya);Z.trigger("event-context-after",{context:Z});return M};c.each(C.reverse(),function(M,h){var ia=ca;ca=function(){return h.apply(Z,[ia])}});try{O=ca()}catch(K){this.error(["500 Error",o,r].join(" "),K)}return O}else return this.notFound(o,r)},contextMatchesOptions:function(o,r,w){r=
r;if(typeof r==="undefined"||r=={})return true;if(typeof w==="undefined")w=true;if(typeof r==="string"||l(r.test))r={path:r};if(r.only)return this.contextMatchesOptions(o,r.only,true);else if(r.except)return this.contextMatchesOptions(o,r.except,false);var C=true,S=true;if(r.path){if(!l(r.path.test))r.path=new RegExp(r.path.toString()+"$");C=r.path.test(o.path)}if(r.verb)S=typeof r.verb==="string"?r.verb===o.verb:r.verb.indexOf(o.verb)>-1;return w?S&&C:!(S&&C)},getLocation:function(){return this._location_proxy.getLocation()},
setLocation:function(o){return this._location_proxy.setLocation(o)},swap:function(o){return this.$element().html(o)},templateCache:function(o,r){return typeof r!="undefined"?(R[o]=r):R[o]},clearTemplateCache:function(){return R={}},notFound:function(o,r){var w=this.error(["404 Not Found",o,r].join(" "));return o==="get"?w:true},error:function(o,r){r||(r=new Error);r.message=[o,r.message].join(" ");this.trigger("error",{message:r.message,error:r});if(this.raise_errors)throw r;else this.log(r.message,
r)},_checkLocation:function(){var o,r;o=this.getLocation();if(!this.last_location||this.last_location[0]!="get"||this.last_location[1]!=o){this.last_location=["get",o];r=this.runRoute("get",o)}return r},_getFormVerb:function(o){o=c(o);var r,w;w=o.find('input[name="_method"]');if(w.length>0)r=w.val();r||(r=o[0].getAttribute("method"));if(!r||r=="")r="get";return c.trim(r.toString().toLowerCase())},_checkFormSubmission:function(o){var r,w,C;this.trigger("check-form-submission",{form:o});r=c(o);w=r.attr("action")||
"";C=this._getFormVerb(r);this.log("_checkFormSubmission",r,w,C);if(C==="get"){this.setLocation(w+"?"+this._serializeFormParams(r));o=false}else{r=c.extend({},this._parseFormParams(r));o=this.runRoute(C,w,r,o.get(0))}return typeof o=="undefined"?false:o},_serializeFormParams:function(o){var r="";o=o.serializeArray();var w;if(o.length>0){r=this._encodeFormPair(o[0].name,o[0].value);for(w=1;w<o.length;w++)r=r+"&"+this._encodeFormPair(o[w].name,o[w].value)}return r},_encodeFormPair:function(o,r){return x(o)+
"="+x(r)},_parseFormParams:function(o){var r={};o=o.serializeArray();var w;for(w=0;w<o.length;w++)r=this._parseParamPair(r,o[w].name,o[w].value);return r},_parseQueryString:function(o){var r={},w,C;if(o=o.match(g)){o=o[1].split("&");for(C=0;C<o.length;C++){w=o[C].split("=");r=this._parseParamPair(r,y(w[0]),y(w[1]||""))}}return r},_parseParamPair:function(o,r,w){if(o[r])if(t(o[r]))o[r].push(w);else o[r]=[o[r],w];else o[r]=w;return o},_listen:function(o,r){return this.$element().bind([o,this.eventNamespace()].join("."),
r)},_unlisten:function(o,r){return this.$element().unbind([o,this.eventNamespace()].join("."),r)}});d.RenderContext=function(o){this.event_context=o;this.callbacks=[];this.content=this.previous_content=null;this.waiting=this.next_engine=false};d.RenderContext.prototype=c.extend({},d.Object.prototype,{then:function(o){if(!l(o))if(typeof o==="string"&&o in this.event_context){var r=this.event_context[o];o=function(C){return r.apply(this.event_context,[C])}}else return this;var w=this;if(this.waiting)this.callbacks.push(o);
else{this.wait();a.setTimeout(function(){var C=o.apply(w,[w.content,w.previous_content]);C!==false&&w.next(C)},0)}return this},wait:function(){this.waiting=true},next:function(o){this.waiting=false;if(typeof o!=="undefined"){this.previous_content=this.content;this.content=o}this.callbacks.length>0&&this.then(this.callbacks.shift())},load:function(o,r,w){var C=this;return this.then(function(){var S,V,Z;if(l(r)){w=r;r={}}else r=c.extend({},r);w&&this.then(w);if(typeof o==="string"){S=(Z=o.match(/\.json$/)||
r.json)&&r.cache===true||r.cache!==false;C.next_engine=C.event_context.engineFor(o);delete r.cache;delete r.json;if(r.engine){C.next_engine=r.engine;delete r.engine}if(S&&(V=this.event_context.app.templateCache(o)))return V;this.wait();c.ajax(c.extend({url:o,data:{},dataType:Z?"json":null,type:"get",success:function(ca){S&&C.event_context.app.templateCache(o,ca);C.next(ca)}},r));return false}else{if(o.nodeType)return o.innerHTML;if(o.selector){C.next_engine=o.attr("data-engine");return r.clone===
false?o.remove()[0].innerHTML.toString():o[0].innerHTML.toString()}}})},loadPartials:function(o){if(o){this.partials=this.partials||{};for(name in o)this.load(o[name]).then(function(r){this.partials[name]=r})}return this},render:function(o,r,w,C){return l(o)&&!r?this.then(o):this.loadPartials(C).load(o).interpolate(r,o).then(w)},partial:function(o,r){return this.render(o,r).swap()},send:function(){var o=this,r=j(arguments),w=r.shift();if(t(r[0]))r=r[0];return this.then(function(){r.push(function(C){o.next(C)});
o.wait();w.apply(w,r);return false})},collect:function(o,r,w){var C=this,S=function(){if(l(o)){r=o;o=this.content}var V=[],Z=false;c.each(o,function(ca,ea){var la=r.apply(C,[ca,ea]);if(la.jquery&&la.length==1){la=la[0];Z=true}V.push(la);return la});return Z?V:V.join("")};return w?S():this.then(S)},renderEach:function(o,r,w,C){if(t(r)){C=w;w=r;r=null}return this.load(o).then(function(S){var V=this;w||(w=t(this.previous_content)?this.previous_content:[]);if(C)c.each(w,function(Z,ca){var ea={},la=this.next_engine||
o;r?(ea[r]=ca):(ea=ca);C(ca,V.event_context.interpolate(S,ea,la))});else return this.collect(w,function(Z,ca){var ea={},la=this.next_engine||o;r?(ea[r]=ca):(ea=ca);return this.event_context.interpolate(S,ea,la)},true)})},interpolate:function(o,r,w){var C=this;return this.then(function(S,V){if(!o&&V)o=V;if(this.next_engine){r=this.next_engine;this.next_engine=false}var Z=C.event_context.interpolate(S,o,r,this.partials);return w?V+Z:Z})},swap:function(){return this.then(function(o){this.event_context.swap(o)}).trigger("changed",
{})},appendTo:function(o){return this.then(function(r){c(o).append(r)}).trigger("changed",{})},prependTo:function(o){return this.then(function(r){c(o).prepend(r)}).trigger("changed",{})},replace:function(o){return this.then(function(r){c(o).html(r)}).trigger("changed",{})},trigger:function(o,r){return this.then(function(w){if(typeof r=="undefined")r={content:w};this.event_context.trigger(o,r)})}});d.EventContext=function(o,r,w,C,S){this.app=o;this.verb=r;this.path=w;this.params=new d.Object(C);this.target=
S};d.EventContext.prototype=c.extend({},d.Object.prototype,{$element:function(){return this.app.$element(j(arguments).shift())},engineFor:function(o){var r;if(l(o))return o;o=(o||this.app.template_engine).toString();if(r=o.match(/\.([^\.\?\#]+)$/))o=r[1];if(o&&l(this[o]))return this[o];if(this.app.template_engine)return this.engineFor(this.app.template_engine);return function(w){return w}},interpolate:function(o,r,w,C){return this.engineFor(w).apply(this,[o,r,C])},render:function(o,r,w,C){return(new d.RenderContext(this)).render(o,
r,w,C)},renderEach:function(o,r,w,C){return(new d.RenderContext(this)).renderEach(o,r,w,C)},load:function(o,r,w){return(new d.RenderContext(this)).load(o,r,w)},partial:function(o,r){return(new d.RenderContext(this)).partial(o,r)},send:function(){var o=new d.RenderContext(this);return o.send.apply(o,arguments)},redirect:function(){var o;o=j(arguments);var r=this.app.getLocation(),w=o.length;if(w>1){for(var C=0,S=[],V=[],Z={},ca=false;C<w;C++)if(typeof o[C]=="string")S.push(o[C]);else{c.extend(Z,o[C]);
ca=true}o=S.join("/");if(ca){for(var ea in Z)V.push(this.app._encodeFormPair(ea,Z[ea]));o+="?"+V.join("&")}}else o=o[0];this.trigger("redirect",{to:o});this.app.last_location=[this.verb,this.path];this.app.setLocation(o);(new RegExp(o)).test(r)&&this.app.trigger("location-changed")},trigger:function(o,r){if(typeof r=="undefined")r={};if(!r.context)r.context=this;return this.app.trigger(o,r)},eventNamespace:function(){return this.app.eventNamespace()},swap:function(o){return this.app.swap(o)},notFound:function(){return this.app.notFound(this.verb,
this.path)},json:function(o){return c.parseJSON(o)},toString:function(){return"Sammy.EventContext: "+[this.verb,this.path,this.params].join(" ")}});c.sammy=a.Sammy=d})(jQuery,window);(function(c){Sammy=Sammy||{};Sammy.Title=function(){this.setTitle=function(a){this.title_function=c.isFunction(a)?a:function(d){return[a,d].join(" ")}};this.helper("title",function(){var a=c.makeArray(arguments).join(" ");if(this.app.title_function)a=this.app.title_function(a);document.title=a})}})(jQuery);
(function(c){function a(e){e=unescape(e);return e==="true"?true:e==="false"?false:e}function d(e,g,j){var l;if(g.match(/^[^\[]+$/))e[g]=a(j);else if(l=g.match(/^([^\[]+)\[\](.*)$/)){g=l[1];l=l[2];if(e[g]&&!c.isArray(e[g]))throw"400 Bad Request";if(l){l=l.match(/^\[([^\]]+)\](.*)$/);if(!l)throw"400 Bad Request";if(e[g])e[g][e[g].length-1][l[1]]?e[g].push(d({},l[1]+l[2],j)):c.extend(true,e[g][e[g].length-1],d({},l[1]+l[2],j));else e[g]=[d({},l[1]+l[2],j)]}else if(e[g])e[g].push(a(j));else e[g]=[a(j)]}else if(l=
g.match(/^([^\[]+)\[([^\[]+)\](.*)$/)){g=l[1];l=l[2]+l[3];if(e[g]&&c.isArray(e[g]))throw"400 Bad Request";if(e[g])c.extend(true,e[g],d(e[g],l,j));else e[g]=d({},l,j)}return e}Sammy=Sammy||{};Sammy.NestedParams=function(e){e._parseParamPair=d}})(jQuery);
(function(){if(!window.JSON)window.JSON={};(function(){function c(x){return x<10?"0"+x:x}function a(x){g.lastIndex=0;return g.test(x)?'"'+x.replace(g,function(I){var J=t[I];return typeof J==="string"?J:"\\u"+("0000"+I.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+x+'"'}function d(x,I){var J,R,Y,ga,o=j,r,w=I[x];if(w&&typeof w==="object"&&typeof w.toJSON==="function")w=w.toJSON(x);if(typeof y==="function")w=y.call(I,x,w);switch(typeof w){case "string":return a(w);case "number":return isFinite(w)?
String(w):"null";case "boolean":case "null":return String(w);case "object":if(!w)return"null";j+=l;r=[];if(Object.prototype.toString.apply(w)==="[object Array]"){ga=w.length;for(J=0;J<ga;J+=1)r[J]=d(J,w)||"null";Y=r.length===0?"[]":j?"[\n"+j+r.join(",\n"+j)+"\n"+o+"]":"["+r.join(",")+"]";j=o;return Y}if(y&&typeof y==="object"){ga=y.length;for(J=0;J<ga;J+=1){R=y[J];if(typeof R==="string")if(Y=d(R,w))r.push(a(R)+(j?": ":":")+Y)}}else for(R in w)if(Object.hasOwnProperty.call(w,R))if(Y=d(R,w))r.push(a(R)+
(j?": ":":")+Y);Y=r.length===0?"{}":j?"{\n"+j+r.join(",\n"+j)+"\n"+o+"}":"{"+r.join(",")+"}";j=o;return Y}}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return this.getUTCFullYear()+"-"+c(this.getUTCMonth()+1)+"-"+c(this.getUTCDate())+"T"+c(this.getUTCHours())+":"+c(this.getUTCMinutes())+":"+c(this.getUTCSeconds())+"Z"};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var e=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
g=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,j,l,t={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},y;if(typeof JSON.stringify!=="function")JSON.stringify=function(x,I,J){var R;l=j="";if(typeof J==="number")for(R=0;R<J;R+=1)l+=" ";else if(typeof J==="string")l=J;if((y=I)&&typeof I!=="function"&&(typeof I!=="object"||typeof I.length!=="number"))throw new Error("JSON.stringify");return d("",
{"":x})};if(typeof JSON.parse!=="function")JSON.parse=function(x,I){function J(Y,ga){var o,r,w=Y[ga];if(w&&typeof w==="object")for(o in w)if(Object.hasOwnProperty.call(w,o)){r=J(w,o);if(r!==undefined)w[o]=r;else delete w[o]}return I.call(Y,ga,w)}var R;e.lastIndex=0;if(e.test(x))x=x.replace(e,function(Y){return"\\u"+("0000"+Y.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(x.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){R=eval("("+x+")");return typeof I==="function"?J({"":R},""):R}throw new SyntaxError("JSON.parse");}})();Sammy=Sammy||{};Sammy.JSON=function(c){c.helpers({json:function(a){return typeof a=="string"?JSON.parse(a):JSON.stringify(a)}})}})(jQuery);
var Mustache=function(){var c=function(){};c.prototype={otag:"{{",ctag:"}}",pragmas:{},buffer:[],pragmas_implemented:{"IMPLICIT-ITERATOR":true},context:{},render:function(a,d,e,g){if(!g){this.context=d;this.buffer=[]}if(!this.includes("",a))if(g)return a;else{this.send(a);return}a=this.render_pragmas(a);a=this.render_section(a,d,e);if(g)return this.render_tags(a,d,e,g);this.render_tags(a,d,e,g)},send:function(a){a!==""&&this.buffer.push(a)},render_pragmas:function(a){if(!this.includes("%",a))return a;
var d=this;return a.replace(new RegExp(this.otag+"%([\\w-]+) ?([\\w]+=[\\w]+)?"+this.ctag,"g"),function(e,g,j){if(!d.pragmas_implemented[g])throw{message:"This implementation of mustache doesn't understand the '"+g+"' pragma"};d.pragmas[g]={};if(j){e=j.split("=");d.pragmas[g][e[0]]=e[1]}return""})},render_partial:function(a,d,e){a=this.trim(a);if(!e||e[a]===undefined)throw{message:"unknown_partial '"+a+"'"};if(typeof d[a]!="object")return this.render(e[a],d,e,true);return this.render(e[a],d[a],e,
true)},render_section:function(a,d,e){if(!this.includes("#",a)&&!this.includes("^",a))return a;var g=this;return a.replace(new RegExp(this.otag+"(\\^|\\#)\\s*(.+)\\s*"+this.ctag+"\n*([\\s\\S]+?)"+this.otag+"\\/\\s*\\2\\s*"+this.ctag+"\\s*","mg"),function(j,l,t,y){j=g.find(t,d);if(l=="^")return!j||g.is_array(j)&&j.length===0?g.render(y,d,e,true):"";else if(l=="#")return g.is_array(j)?g.map(j,function(x){return g.render(y,g.create_context(x),e,true)}).join(""):g.is_object(j)?g.render(y,g.create_context(j),
e,true):typeof j==="function"?j.call(d,y,function(x){return g.render(x,d,e,true)}):j?g.render(y,d,e,true):""})},render_tags:function(a,d,e,g){var j=this,l=function(){return new RegExp(j.otag+"(=|!|>|\\{|%)?([^\\/#\\^]+?)\\1?"+j.ctag+"+","g")},t=l(),y=function(I,J,R){switch(J){case "!":return"";case "=":j.set_delimiters(R);t=l();return"";case ">":return j.render_partial(R,d,e);case "{":return j.find(R,d);default:return j.escape(j.find(R,d))}};a=a.split("\n");for(var x=0;x<a.length;x++){a[x]=a[x].replace(t,
y,this);g||this.send(a[x])}if(g)return a.join("\n")},set_delimiters:function(a){a=a.split(" ");this.otag=this.escape_regex(a[0]);this.ctag=this.escape_regex(a[1])},escape_regex:function(a){if(!arguments.callee.sRE)arguments.callee.sRE=new RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\)","g");return a.replace(arguments.callee.sRE,"\\$1")},find:function(a,d){a=this.trim(a);var e;if(d[a]===false||d[a]===0||d[a])e=d[a];else if(this.context[a]===false||this.context[a]===0||this.context[a])e=
this.context[a];if(typeof e==="function")return e.apply(d);if(e!==undefined)return e;return""},includes:function(a,d){return d.indexOf(this.otag+a)!=-1},escape:function(a){return String(a===null?"":a).replace(/&(?!\w+;)|["'<>\\]/g,function(d){switch(d){case "&":return"&amp;";case "\\":return"\\\\";case '"':return"&quot;";case "'":return"&#39;";case "<":return"&lt;";case ">":return"&gt;";default:return d}})},create_context:function(a){if(this.is_object(a))return a;else{var d=".";if(this.pragmas["IMPLICIT-ITERATOR"])d=
this.pragmas["IMPLICIT-ITERATOR"].iterator;var e={};e[d]=a;return e}},is_object:function(a){return a&&typeof a=="object"},is_array:function(a){return Object.prototype.toString.call(a)==="[object Array]"},trim:function(a){return a.replace(/^\s*|\s*$/g,"")},map:function(a,d){if(typeof a.map=="function")return a.map(d);else{for(var e=[],g=a.length,j=0;j<g;j++)e.push(d(a[j]));return e}}};return{name:"mustache.js",version:"0.3.1-dev",to_html:function(a,d,e,g){var j=new c;if(g)j.send=g;j.render(a,d,e);
if(!g)return j.buffer.join("\n")}}}();(function(c){Sammy=Sammy||{};Sammy.Mustache=function(a,d){d||(d="mustache");a.helper(d,function(e,g,j){g=c.extend({},this,g);j=c.extend({},g.partials,j);return Mustache.to_html(e,g,j)})}})(jQuery);
window.Modernizr=function(c,a,d){function e(){t.input=function(K){for(var M=0,h=K.length;M<h;M++)V[K[M]]=!!(K[M]in R);return V}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" "));t.inputtypes=function(K){for(var M=0,h,ia,ka,wa=K.length;M<wa;M++){R.setAttribute("type",ia=K[M]);(h=R.type!=="text")&&(R.value=Y,R.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(ia)&&R.style.WebkitAppearance!==d?(y.appendChild(R),ka=a.defaultView,h=ka.getComputedStyle&&
ka.getComputedStyle(R,null).WebkitAppearance!=="textfield"&&R.offsetHeight!==0,y.removeChild(R)):/^(search|tel)$/.test(ia)||(/^(url|email)$/.test(ia)?(h=R.checkValidity&&R.checkValidity()===false):/^color$/.test(ia)?(y.appendChild(R),h=R.value!=Y,y.removeChild(R)):(h=R.value!=Y)));S[K[M]]=!!h}return S}("search tel url email datetime date month week time datetime-local number range color".split(" "))}function g(K,M){var h=K.charAt(0).toUpperCase()+K.substr(1);h=(K+" "+r.join(h+" ")+h).split(" ");return!!j(h,
M)}function j(K,M){for(var h in K)if(J[K[h]]!==d&&(!M||M(K[h],I)))return true}function l(K,M){return typeof K===M}var t={},y=a.documentElement,x=a.head||a.getElementsByTagName("head")[0],I=a.createElement("modernizr"),J=I.style,R=a.createElement("input"),Y=":)",ga=Object.prototype.toString,o=" -webkit- -moz- -o- -ms- -khtml- ".split(" "),r="Webkit Moz O ms Khtml".split(" "),w={svg:"http://www.w3.org/2000/svg"},C={},S={},V={},Z=[],ca,ea=function(K){var M=a.createElement("style"),h=a.createElement("div");
M.textContent=K+"{#modernizr{height:3px}}";x.appendChild(M);h.id="modernizr";y.appendChild(h);K=h.offsetHeight===3;M.parentNode.removeChild(M);h.parentNode.removeChild(h);return!!K},la=function(){var K={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return function(M,h){h=h||a.createElement(K[M]||"div");var ia=(M="on"+M)in h;ia||(h.setAttribute||(h=a.createElement("div")),h.setAttribute&&h.removeAttribute&&(h.setAttribute(M,""),ia=l(h[M],"function"),l(h[M],
d)||(h[M]=d),h.removeAttribute(M)));return ia}}(),ya={}.hasOwnProperty,za;l(ya,d)||l(ya.call,d)?(za=function(K,M){return M in K&&l(K.constructor.prototype[M],d)}):(za=function(K,M){return ya.call(K,M)});C.flexbox=function(){var K=a.createElement("div"),M=a.createElement("div");(function(ia,ka,wa,Oa){ka+=":";ia.style.cssText=(ka+o.join(wa+";"+ka)).slice(0,-ka.length)+(Oa||"")})(K,"display","box","width:42px;padding:0;");M.style.cssText=o.join("box-flex:1;")+"width:10px;";K.appendChild(M);y.appendChild(K);
var h=M.offsetWidth===42;K.removeChild(M);y.removeChild(K);return h};C.canvas=function(){var K=a.createElement("canvas");return K.getContext&&K.getContext("2d")};C.canvastext=function(){return t.canvas&&l(a.createElement("canvas").getContext("2d").fillText,"function")};C.webgl=function(){return!!c.WebGLRenderingContext};C.touch=function(){return"ontouchstart"in c||ea("@media ("+o.join("touch-enabled),(")+"modernizr)")};C.geolocation=function(){return!!navigator.geolocation};C.postmessage=function(){return!!c.postMessage};
C.websqldatabase=function(){return!!c.openDatabase};C.indexedDB=function(){for(var K=-1,M=r.length;++K<M;){var h=r[K].toLowerCase();if(c[h+"_indexedDB"]||c[h+"IndexedDB"])return true}return false};C.hashchange=function(){return la("hashchange",c)&&(a.documentMode===d||a.documentMode>7)};C.history=function(){return!!(c.history&&history.pushState)};C.draganddrop=function(){return la("dragstart")&&la("drop")};C.websockets=function(){return"WebSocket"in c};C.rgba=function(){J.cssText="background-color:rgba(150,255,150,.5)";
return(""+J.backgroundColor).indexOf("rgba")!==-1};C.hsla=function(){J.cssText="background-color:hsla(120,40%,100%,.5)";return(""+J.backgroundColor).indexOf("rgba")!==-1||(""+J.backgroundColor).indexOf("hsla")!==-1};C.multiplebgs=function(){J.cssText="background:url(//:),url(//:),red url(//:)";return/(url\s*\(.*?){3}/.test(J.background)};C.backgroundsize=function(){return g("backgroundSize")};C.borderimage=function(){return g("borderImage")};C.borderradius=function(){return g("borderRadius","",function(K){return(""+
K).indexOf("orderRadius")!==-1})};C.boxshadow=function(){return g("boxShadow")};C.textshadow=function(){return a.createElement("div").style.textShadow===""};C.opacity=function(){var K=o.join("opacity:.55;")+"";J.cssText=K;return/^0.55$/.test(J.opacity)};C.cssanimations=function(){return g("animationName")};C.csscolumns=function(){return g("columnCount")};C.cssgradients=function(){var K=("background-image:"+o.join("gradient(linear,left top,right bottom,from(#9f9),to(white));background-image:")+o.join("linear-gradient(left top,#9f9, white);background-image:")).slice(0,
-17);J.cssText=K;return(""+J.backgroundImage).indexOf("gradient")!==-1};C.cssreflections=function(){return g("boxReflect")};C.csstransforms=function(){return!!j(["transformProperty","WebkitTransform","MozTransform","OTransform","msTransform"])};C.csstransforms3d=function(){var K=!!j(["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"]);K&&"webkitPerspective"in y.style&&(K=ea("@media ("+o.join("transform-3d),(")+"modernizr)"));return K};C.csstransitions=function(){return g("transitionProperty")};
C.fontface=function(){var K,M,h=x||y,ia=a.createElement("style");M=a.implementation||{hasFeature:function(){return false}};ia.type="text/css";h.insertBefore(ia,h.firstChild);K=ia.sheet||ia.styleSheet;M=(M.hasFeature("CSS2","")?function(ka){if(!K||!ka)return false;var wa=false;try{K.insertRule(ka,0);wa=/src/i.test(K.cssRules[0].cssText);K.deleteRule(K.cssRules.length-1)}catch(Oa){}return wa}:function(ka){if(!K||!ka)return false;K.cssText=ka;return K.cssText.length!==0&&/src/i.test(K.cssText)&&K.cssText.replace(/\r+|\n+/g,
"").indexOf(ka.split(" ")[0])===0})('@font-face { font-family: "font"; src: url(data:,); }');h.removeChild(ia);return M};C.video=function(){var K=a.createElement("video"),M=!!K.canPlayType;if(M){M=new Boolean(M);M.ogg=K.canPlayType('video/ogg; codecs="theora"');M.h264=K.canPlayType('video/mp4; codecs="avc1.42E01E"')||K.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"');M.webm=K.canPlayType('video/webm; codecs="vp8, vorbis"')}return M};C.audio=function(){var K=a.createElement("audio"),M=!!K.canPlayType;
M&&(M=new Boolean(M),M.ogg=K.canPlayType('audio/ogg; codecs="vorbis"'),M.mp3=K.canPlayType("audio/mpeg;"),M.wav=K.canPlayType('audio/wav; codecs="1"'),M.m4a=K.canPlayType("audio/x-m4a;")||K.canPlayType("audio/aac;"));return M};C.localstorage=function(){try{return!!localStorage.getItem}catch(K){return false}};C.sessionstorage=function(){try{return!!sessionStorage.getItem}catch(K){return false}};C.webWorkers=function(){return!!c.Worker};C.applicationcache=function(){return!!c.applicationCache};C.svg=
function(){return!!a.createElementNS&&!!a.createElementNS(w.svg,"svg").createSVGRect};C.inlinesvg=function(){var K=a.createElement("div");K.innerHTML="<svg/>";return(K.firstChild&&K.firstChild.namespaceURI)==w.svg};C.smil=function(){return!!a.createElementNS&&/SVG/.test(ga.call(a.createElementNS(w.svg,"animate")))};C.svgclippaths=function(){return!!a.createElementNS&&/SVG/.test(ga.call(a.createElementNS(w.svg,"clipPath")))};for(var O in C)za(C,O)&&(ca=O.toLowerCase(),t[ca]=C[O](),Z.push((t[ca]?"":
"no-")+ca));t.input||e();t.crosswindowmessaging=t.postmessage;t.historymanagement=t.history;t.addTest=function(K,M){K=K.toLowerCase();if(!t[K]){M=!!M();y.className+=" "+(M?"":"no-")+K;t[K]=M;return t}};J.cssText="";I=R=null;c.attachEvent&&function(){var K=a.createElement("div");K.innerHTML="<elem></elem>";return K.childNodes.length!==1}()&&function(K,M){function h(qa,ra){for(var va=-1,sa=qa.length,Na,Xa=[];++va<sa;){Na=qa[va];(ra=Na.media||ra)!="screen"&&Xa.push(h(Na.imports,ra),Na.cssText)}return Xa.join("")}
function ia(qa){for(var ra=-1;++ra<wa;)qa.createElement(ka[ra])}var ka="abbr|article|aside|audio|canvas|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video".split("|"),wa=ka.length,Oa=new RegExp("(^|\\s)(abbr|article|aside|audio|canvas|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video)","gi"),Ya=new RegExp("<(/*)(abbr|article|aside|audio|canvas|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video)",
"gi"),Ua=new RegExp("(^|[^\\n]*?\\s)(abbr|article|aside|audio|canvas|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video)([^\\n]*)({[\\n\\w\\W]*?})","gi"),Za=M.createDocumentFragment(),Pa=M.documentElement,$a=Pa.firstChild,Ga=M.createElement("body"),Ha=M.createElement("style"),Da;ia(M);ia(Za);$a.insertBefore(Ha,$a.firstChild);Ha.media="print";K.attachEvent("onbeforeprint",function(){var qa=-1,ra=h(M.styleSheets,"all"),va=[],sa;for(Da=Da||M.body;(sa=
Ua.exec(ra))!=null;)va.push((sa[1]+sa[2]+sa[3]).replace(Oa,"$1.iepp_$2")+sa[4]);for(Ha.styleSheet.cssText=va.join("\n");++qa<wa;){ra=M.getElementsByTagName(ka[qa]);va=ra.length;for(sa=-1;++sa<va;)ra[sa].className.indexOf("iepp_")<0&&(ra[sa].className+=" iepp_"+ka[qa])}Za.appendChild(Da);Pa.appendChild(Ga);Ga.className=Da.className;Ga.innerHTML=Da.innerHTML.replace(Ya,"<$1font")});K.attachEvent("onafterprint",function(){Ga.innerHTML="";Pa.removeChild(Ga);Pa.appendChild(Da);Ha.styleSheet.cssText=""})}(c,
a);t._enableHTML5=true;t._version="1.7";y.className=y.className.replace(/\bno-js\b/,"")+" js "+Z.join(" ");return t}(this,this.document);
var Model=function(c,a){var d=function(e){this.attributes=jQuery.extend({},e);this.changes={};this.errors=new Model.Errors(this);this.uid=[c,Model.UID.generate()].join("-");jQuery.isFunction(this.initialize)&&this.initialize()};Model.Module.extend.call(d,Model.Module);d._name=c;d.collection=[];d.unique_key="id";d.extend(Model.Callbacks).extend(Model.ClassMethods);d.prototype=new Model.Base;d.prototype.constructor=d;jQuery.isFunction(a)&&a.call(d,d,d.prototype);return d};
Model.Callbacks={bind:function(c,a){this.callbacks=this.callbacks||{};this.callbacks[c]=this.callbacks[c]||[];this.callbacks[c].push(a);return this},trigger:function(c,a){this.callbacks=this.callbacks||{};var d=this.callbacks[c];if(d)for(var e=0;e<d.length;e++)d[e].apply(this,a||[]);return this},unbind:function(c,a){this.callbacks=this.callbacks||{};if(a)for(var d=this.callbacks[c]||[],e=0;e<d.length;e++)d[e]===a&&this.callbacks[c].splice(e,1);else delete this.callbacks[c];return this}};
Model.ClassMethods={add:function(c){var a=c.id();if(jQuery.inArray(c,this.collection)===-1&&!(a&&this.find(a))){this.collection.push(c);this.trigger("add",[c])}return this},all:function(){return this.collection.slice()},chain:function(c){return jQuery.extend({},this,{collection:c})},count:function(){return this.all().length},detect:function(c){for(var a=this.all(),d,e=0,g=a.length;e<g;e++){d=a[e];if(c.call(d,d,e))return d}},each:function(c,a){for(var d=this.all(),e=0,g=d.length;e<g;e++)c.call(a||
d[e],d[e],e,d);return this},find:function(c){return this.detect(function(){return this.id()==c})},first:function(){return this.all()[0]},load:function(c){if(this._persistence){var a=this;this._persistence.read(function(d){for(var e=0,g=d.length;e<g;e++)a.add(d[e]);c&&c.call(a,d)})}return this},last:function(){var c=this.all();return c[c.length-1]},map:function(c,a){for(var d=this.all(),e=[],g=0,j=d.length;g<j;g++)e.push(c.call(a||d[g],d[g],g,d));return e},persistence:function(c){if(arguments.length==
0)return this._persistence;else{var a=Array.prototype.slice.call(arguments,1);a.unshift(this);this._persistence=c.apply(c,a);return this}},pluck:function(c){for(var a=this.all(),d=[],e=0,g=a.length;e<g;e++)d.push(a[e].attr(c));return d},remove:function(c){for(var a,d=0,e=this.collection.length;d<e;d++)if(this.collection[d]===c){a=d;break}if(a!=undefined){this.collection.splice(a,1);this.trigger("remove",[c]);return true}else return false},reverse:function(){return this.chain(this.all().reverse())},
select:function(c,a){for(var d=this.all(),e=[],g,j=0,l=d.length;j<l;j++){g=d[j];if(c.call(a||g,g,j,d))e.push(g)}return this.chain(e)},sort:function(c){return this.chain(this.all().sort(c))},sortBy:function(c){var a=jQuery.isFunction(c);return this.sort(function(d,e){var g=a?c.call(d):d.attr(c),j=a?c.call(e):e.attr(c);return g<j?-1:g>j?1:0})},use:function(c){var a=Array.prototype.slice.call(arguments,1);a.unshift(this);c.apply(this,a);return this}};
Model.Errors=function(c){this.errors={};this.model=c};Model.Errors.prototype={add:function(c,a){this.errors[c]||(this.errors[c]=[]);this.errors[c].push(a);return this},all:function(){return this.errors},clear:function(){this.errors={};return this},each:function(c){for(var a in this.errors)for(var d=0;d<this.errors[a].length;d++)c.call(this,a,this.errors[a][d]);return this},on:function(c){return this.errors[c]||[]},size:function(){var c=0;this.each(function(){c++});return c}};
Model.InstanceMethods={asJSON:function(){return this.attr()},attr:function(c,a){if(arguments.length===0)return jQuery.extend({},this.attributes,this.changes);else if(arguments.length===2){if(this.attributes[c]===a)delete this.changes[c];else this.changes[c]=a;return this}else if(typeof c==="object"){for(var d in c)this.attr(d,c[d]);return this}else return c in this.changes?this.changes[c]:this.attributes[c]},callPersistMethod:function(c,a){var d=this,e=function(g){if(g){d.merge(d.changes).reset();
c==="destroy"?d.constructor.remove(d):d.constructor.add(d);d.trigger(c)}var j;if(a)j=a.apply(d,arguments);return j};this.constructor._persistence?this.constructor._persistence[c](this,e):e.call(this,true)},destroy:function(c){this.callPersistMethod("destroy",c);return this},id:function(){return this.attributes[this.constructor.unique_key]},merge:function(c){jQuery.extend(this.attributes,c);return this},newRecord:function(){return this.id()===undefined},reset:function(){this.errors.clear();this.changes=
{};return this},save:function(c){if(this.valid())this.callPersistMethod(this.newRecord()?"create":"update",c);else c&&c(false);return this},valid:function(){this.errors.clear();this.validate();return this.errors.size()===0},validate:function(){return this}};
Model.localStorage=function(c){if(!window.localStorage)return{create:function(g,j){j(true)},destroy:function(g,j){j(true)},read:function(g){g([])},update:function(g,j){j(true)}};var a=[c._name,"collection"].join("-"),d=function(){var g=localStorage[a];return g?JSON.parse(g):[]},e=function(g){localStorage.setItem(g.uid,JSON.stringify(g.asJSON()));g=g.uid;var j=d();if(jQuery.inArray(g,j)===-1){j.push(g);localStorage.setItem(a,JSON.stringify(j))}};return{create:function(g,j){e(g);j(true)},destroy:function(g,
j){localStorage.removeItem(g.uid);var l=g.uid,t=d();l=jQuery.inArray(l,t);if(l>-1){t.splice(l,1);localStorage.setItem(a,JSON.stringify(t))}j(true)},read:function(g){if(!g)return false;for(var j=c.map(function(){return this.uid}),l=d(),t=[],y,x,I=0,J=l.length;I<J;I++){x=l[I];if(jQuery.inArray(x,j)==-1){y=JSON.parse(localStorage[x]);y=new c(y);y.uid=x;t.push(y)}}g(t)},update:function(g,j){e(g);j(true)}}};Model.Log=function(){window.console&&window.console.log.apply(window.console,arguments)};
Model.Module={extend:function(c){jQuery.extend(this,c);return this},include:function(c){jQuery.extend(this.prototype,c);return this}};
Model.REST=function(c,a,d){var e=/:([\w\d]+)/g,g=function(){for(var j=[],l;(l=e.exec(a))!==null;)j.push(l[1]);return j}();return jQuery.extend({path:function(j){var l=a;jQuery.each(g,function(t,y){l=l.replace(":"+y,j.attributes[y])});return l},create:function(j,l){return this.xhr("POST",this.create_path(j),j,l)},create_path:function(j){return this.path(j)},destroy:function(j,l){return this.xhr("DELETE",this.destroy_path(j),j,l)},destroy_path:function(j){return this.update_path(j)},params:function(j){var l;
if(j){var t=j.asJSON();delete t[j.constructor.unique_key];l={};l[j.constructor._name.toLowerCase()]=t}else l=null;if(jQuery.ajaxSettings.data)l=jQuery.extend({},jQuery.ajaxSettings.data,l);return l},read:function(j){return this.xhr("GET",this.read_path(),null,function(l,t,y){y=jQuery.makeArray(y);l=[];t=0;for(var x=y.length;t<x;t++)l.push(new c(y[t]));j(l)})},read_path:function(){return a},update:function(j,l){return this.xhr("PUT",this.update_path(j),j,l)},update_path:function(j){return[this.path(j),
j.id()].join("/")},xhr:function(j,l,t,y){var x=this,I=j=="GET"?undefined:this.params(t);return jQuery.ajax({type:j,url:l+".json",dataType:"json",data:I,dataFilter:function(J){return/\S/.test(J)?J:undefined},complete:function(J,R){x.xhrComplete(J,R,t,y)}})},xhrComplete:function(j,l,t,y){var x=Model.REST["handle"+j.status];x&&x.call(this,j,l,t);l=l==="success";x=Model.REST.parseResponseData(j);l&&t&&x&&t.attr(x);y&&y.call(t,l,j,x)}},d)};Model.RestPersistence=Model.REST;
Model.REST.handle422=function(c,a,d){if(c=Model.REST.parseResponseData(c)){d.errors.clear();for(var e in c)for(a=0;a<c[e].length;a++)d.errors.add(e,c[e][a])}};Model.REST.parseResponseData=function(c){try{return/\S/.test(c.responseText)?jQuery.parseJSON(c.responseText):undefined}catch(a){Model.Log(a)}};Model.UID={counter:0,generate:function(){return[(new Date).valueOf(),this.counter++].join("-")},reset:function(){this.counter=0;return this}};Model.VERSION="0.10.1";
Model.Base=function(){function c(){}c.prototype=jQuery.extend({},Model.Callbacks,Model.InstanceMethods);return c}();
Model.SinatraREST=function(c,a,d){var e=/:([\w\d]+)/g,g=function(){for(var j=[],l;(l=e.exec(a))!==null;)j.push(l[1]);return j}();return jQuery.extend({path:function(j){var l=a;jQuery.each(g,function(t,y){l=l.replace(":"+y,j.attributes[y])});return l},create:function(j,l){return this.xhr("POST",this.create_path(j),j,l)},create_path:function(j){return this.path(j)},destroy:function(j,l){return this.xhr("DELETE",this.destroy_path(j),j,l)},destroy_path:function(j){return this.update_path(j)},params:function(j){var l;
if(j){var t=j.asJSON();delete t[j.constructor.unique_key];l={};l[j.constructor._name.toLowerCase()]=t}else l=null;if(jQuery.ajaxSettings.data)l=jQuery.extend({},jQuery.ajaxSettings.data,l);return l},read:function(j){return this.xhr("GET",this.read_path(),null,function(l,t,y){y=jQuery.makeArray(y);l=[];t=0;for(var x=y.length;t<x;t++)l.push(new c(y[t]));j(l)})},read_path:function(){return a},update:function(j,l){return this.xhr("PUT",this.update_path(j),j,l)},update_path:function(j){return[this.path(j),
j.id()].join("/")},xhr:function(j,l,t,y){var x=this,I=j=="GET"?undefined:this.params(t);return jQuery.ajax({type:j,url:l+".json",dataType:"json",data:I,complete:function(J,R){x.xhrComplete(J,R,t,y)}})},xhrComplete:function(j,l,t,y){var x=Model.REST["handle"+j.status];x&&x.call(this,j,l,t);l=l==="success";x=Model.REST.parseResponseData(j);l&&t&&x&&t.attr(x);y&&y.call(t,l,j,x)}},d)};
jQuery.cookie=function(c,a,d){if(typeof a!="undefined"){d=d||{};if(a===null){a="";d.expires=-1}var e="";if(d.expires&&(typeof d.expires=="number"||d.expires.toUTCString)){if(typeof d.expires=="number"){e=new Date;e.setTime(e.getTime()+d.expires*24*60*60*1E3)}else e=d.expires;e="; expires="+e.toUTCString()}var g=d.path?"; path="+d.path:"",j=d.domain?"; domain="+d.domain:"";d=d.secure?"; secure":"";document.cookie=[c,"=",encodeURIComponent(a),e,g,j,d].join("")}else{a=null;if(document.cookie&&document.cookie!=
""){d=document.cookie.split(";");for(e=0;e<d.length;e++){g=jQuery.trim(d[e]);if(g.substring(0,c.length+1)==c+"="){a=decodeURIComponent(g.substring(c.length+1));break}}}return a}};
var Asset=Model("asset",function(){this.persistence(Model.REST,"/admin/assets");this.include({load:function(c){var a=this,d="/admin/assets/"+a.id()+".json";jQuery.ajax({type:"GET",url:d,dataType:"json",success:function(e){a.merge(e);c.call(this)}})},toMustache:function(c){this.merge({query_path:c?"?"+decodeURIComponent(jQuery.param({query:c})):"",query:c});return this.attr()},toMustacheWithNeighbors:function(c){var a=Asset.all(),d=a.indexOf(this),e=this.toMustache(c),g=a[d+1]?Asset.all()[d+1].toMustache(c):
null;c=a[d-1]?Asset.all()[d-1].toMustache(c):null;jQuery("<img />")[0].src="/images/large/"+e.id+"/"+e.file_name;if(g)jQuery("<img />")[0].src="/images/large/"+g.id+"/"+g.file_name;if(c)jQuery("<img />")[0].src="/images/large/"+c.id+"/"+c.file_name;return{asset:e,next:g,previous:c}}});this.extend({find_all_by_folder_id:function(c){return this.select(function(){return this.attr("folder_id")==c})},toMustache:function(c){var a=c?"?"+decodeURIComponent(jQuery.param({query:c})):"";return{assets:this.map(function(d){d.merge({query_path:a,
query:c});return d.attr()}),query:c}},asJSON:function(){return Asset.map(function(c){return c.attr()})},tags:function(){tags=[];Asset.map(function(){tags=tags.concat(this.attr("tags"))});return tags},searchRemote:function(c,a){var d=c!=null?decodeURIComponent(jQuery.param({query:c})):"";Asset.each(function(){Asset.remove(this)});jQuery.ajax({type:"get",url:"/search.json",contentType:"application/json",dataType:"json",data:d,success:function(e){jQuery.each(e,function(g,j){var l=new Asset({id:j.id});
l.merge(j);Asset.add(l)});a.call(this)}})},searchAdmin:function(c,a){Asset.each(function(){Asset.remove(this)});jQuery.ajax({type:"get",url:"/admin/assets.json",contentType:"application/json",dataType:"json",data:c,success:function(d){$.each(d,function(e,g){var j=new Asset({id:g.id});j.merge(g);Asset.add(j)});a.call(this)}})},keys:{},create:function(c,a){Asset.callback=a;var d=new XMLHttpRequest,e=Asset.generate_uuid();d.upload.uuid=e;d.upload.filename=c.name;d.upload.addEventListener("loadstart",
Asset.onloadstartHandler,false);d.upload.addEventListener("progress",Asset.onprogressHandler);d.upload.addEventListener("load",Asset.onloadHandler,false);d.addEventListener("readystatechange",Asset.onreadystatechangeHandler,false);d.open("POST","/admin/assets.json",true);d.setRequestHeader("Content-Type","application/octet-stream");d.setRequestHeader("X-File-Name",c.name);d.setRequestHeader("X-File-Upload","true");d.send(c);a.before&&a.before.call(this,e)},onloadstartHandler:function(){},onloadHandler:function(){},
onprogressHandler:function(c){var a=Math.round(c.loaded/c.total*100);Asset.callback.progress&&Asset.callback.progress.call(this,c.target.uuid,a)},onreadystatechangeHandler:function(c){var a=null;try{a=c.target.status}catch(d){return}if(a=="200"&&c.target.readyState==4&&c.target.responseText){c=JSON.parse(c.target.responseText);a=new Asset({id:c.id});a.merge(c);Asset.add(a);Asset.callback.success&&Asset.callback.success.call(this,a)}},generate_uuid:function(){for(var c=[],a=0;a<32;a++)c[a]="0123456789ABCDEF".substr(Math.floor(Math.random()*
16),1);c[12]="4";c[16]="0123456789ABCDEF".substr(c[16]&3|8,1);return c.join("")}})}),Folder=Model("folder",function(){this.persistence(Model.SinatraREST,"/admin/folders");this.include({loadAssets:function(c){Asset.each(function(){Asset.remove(this)});var a="/admin/folders/"+this.attr("id")+"/assets.json";jQuery.ajax({type:"get",url:a,contentType:"application/json",dataType:"json",success:function(d){jQuery.each(d,function(e,g){var j=new Asset({id:g.id});j.merge(g);Asset.add(j)});c&&c.call(this)}})}});
this.extend({asJSON:function(){return Folder.map(function(c){return c.attr()})}})}),Page=Model("page",function(){this.persistence(Model.SinatraREST,"/admin/pages");this.include({initialize:function(){},children:function(){return Page.find_all_by_parent_id(this.id())},childrenAsJSON:function(){return this.children().map(function(c){return c.attr()})},setPartAttributes:function(c,a){var d=this.attr("contents"),e;jQuery.each(d,function(g,j){if(c==j.name){if(a.content)j.content=a.content;if(a.asset_id)j.asset_id=
a.asset_id;if(a.path)j.path=a.path;e=j}});return e},findPartByName:function(c){var a=this.attr("contents"),d;jQuery.each(a,function(e,g){if(c==g.name){d=g;return false}});return d},findPartById:function(c){var a=this.attr("contents"),d;jQuery.each(a,function(e,g){if(c==g.id){d=g;return false}});return d},getChildren:function(c){var a="/admin/pages/"+this.id()+"/children.json";jQuery.ajax({type:"GET",url:a,dataType:"json",success:function(d){$.each(d,function(e,g){var j=new Page({id:g.id});j.merge(g);
Page.add(j)});c&&c.call(this,d)}})},has_children:function(){if(this.children().all().length>0)return true},parent:function(){return Page.find(this.attr("parent_id"))},assets:function(){for(var c=this.attr("assets"),a=0,d=c.length;a<d;++a){var e=c[a],g=new Asset({id:e.id});g.merge(e);Asset.add(g)}return Asset},parts:function(){var c=this.attr("contents"),a=c.length;Part.each(function(){Part.remove(this)});for(var d=0;d<a;++d){var e=c[d],g=new Part({id:e.id});g.merge(e);g.attr("page_id",this.id());
Part.add(g)}return Part},load:function(c){var a=this,d="/admin/pages/"+a.id()+".json";jQuery.ajax({type:"GET",url:d,dataType:"json",success:function(e){a.merge(e);c.call(this)}})}});this.extend({toMustache:function(){return{pages:this.map(function(c){return c.attr()})}},root:function(){return this.detect(function(){return this.attr("parent_id")==null})},find_by_parent_id:function(c){return this.detect(function(){return this.attr("parent_id")==c})},find_all_by_parent_id:function(c){return this.select(function(){return this.attr("parent_id")==
c})},find_by_path:function(c){return this.detect(function(){return this.attr("path")==c})},load_by_id:function(c,a){jQuery.ajax({type:"GET",url:"/admin/pages/"+c+".json",dataType:"json",success:function(d){var e=Page.find(d.id);e||(e=new Page({id:d.id}));e.merge(d);Page.add(e);a&&a.call(this,d)}})},create:function(c,a){jQuery.ajax({type:"post",url:"/admin/pages.json",dataType:"json",data:{page:c},success:function(d){var e=new Page({id:d.id});e.merge(d);Page.add(e);a.call(this,d)}})}})}),Layout=Model("layout",
function(){this.persistence(Model.SinatraREST,"/admin/templates");this.include({load:function(c){var a=this,d="/admin/templates/"+a.id()+".json";jQuery.ajax({type:"GET",url:d,dataType:"json",success:function(e){a.merge(e);c.call(this,e)}})}});this.extend({toMustache:function(){return{layouts:this.map(function(c){return c.attr()})}},asLayoutJSON:function(c){return Layout.find_all_by_class("Layout").map(function(a){c==a.id()?a.attr("selected",'selected="selected"'):a.attr("selected","");return a.attr()})},
find_by_class:function(c){return this.detect(function(){return this.attr("klass")==c})},find_all_by_class:function(c){return this.select(function(){return this.attr("klass")==c})},asJSON_by_class:function(c){return this.find_all_by_class(function(){return c.map(function(a){return a.attributes})})}})}),Part=Model("part",function(){this.include({deleteRemote:function(c,a){var d="/admin/pages/"+c.id()+"/parts/"+this.id()+".json";jQuery.ajax({type:"DELETE",url:d,dataType:"json",success:function(e){c.merge(e);
a.call(this)}})}});this.extend({toMustache:function(){return{parts:this.map(function(c){return c.attr()})}},create:function(c,a){var d="/admin/templates/"+c.template_id+"/parts.json",e=Layout.find(c.template_id);jQuery.ajax({type:"post",url:d,dataType:"json",data:{part:c},success:function(g){e.merge(g);a.call(this)}})}})}),Site=Model("site",function(){this.persistence(Model.SinatraREST,"/admin/sites");this.include({});this.extend({toMustache:function(){return{sites:this.map(function(c){return c.attr()})}}})}),
User=Model("user",function(){this.persistence(Model.SinatraREST,"/admin/users");this.include({});this.extend({toMustache:function(){return{users:this.map(function(c){return c.attr()})}}})}),Galerie={open:function(c,a){$("body").append('<div id="overlay"></div>').append('<div id="modal_wrapper"><div id="modal"></div></div>');var d=$("#modal");d.html(c);var e=$("#modal_wrapper"),g=$(window).height();d=d.height()+42;d=(g-d)/2;$("#overlay").css({height:g}).hide().fadeIn("fast");e.hide().fadeIn("fast").css({top:d});
a&&a.call(this)},close:function(){$("#modal_wrapper").fadeOut("fast",function(){$(this).remove();$("#overlay").fadeOut("fast",function(){$(this).remove()})})}},logger={info:function(c){window.console&&console.log(c)},debug:function(c){window.console&&console.log(c)}},Utilities={setNonHistoryLinks:function(){Modernizr.history||jQuery("a").click(function(c){c.preventDefault();if((c=jQuery(this).attr("href"))&&!c.match("http://")&&!c.match(/^#/)){console.log("#"+c);document.location.hash=$(this).attr("#href")}})},
loadModal:function(c,a){var d=this,e=jQuery(c);if(e.length){Loader.start();var g=e.find("img");setTimeout(function(){e.height()<20?g.load(function(){d.resizeModal(g,e,a)}):d.resizeModal(g,e,a)},13)}},resizeModal:function(c,a,d){var e=c.clone();e=e[0].width/e[0].height;var g=jQuery(window).width(),j=jQuery(window).height();if(a.height()>j-40){c.height(j-40).width((j-40)*e);a.height(j-40).width((j-40)*e)}if(a.width()>g-40){c.height((g-40)/e).width(g-40);a.height((g-40)/e).width(g-40);a.css({"margin-top":(j-
(g-40)/e)/2})}a.width()<g-40&&a.height()<j-40&&a.css({width:a.height()*e+"px","margin-top":(j-a.height())/2});Loader.stop();d&&d.call(this)},notice:function(c,a){a=a||{};var d=jQuery(".notice"),e=a["class"]||"message";d.html(c).addClass(e).fadeIn("fast",function(){setTimeout(function(){a.persist||d.fadeOut("slow")},1800)})},hideNotice:function(){jQuery(".notice").fadeOut("slow")},setTimestamp:function(){window.timestamp=(new Date).getTime()},keyboard_nav:function(){jQuery("body").keydown(function(c){switch(c.keyCode){case 37:$("a.previous").click();
break;case 39:$("a.next").click();break}})},check_browser_version:function(){},formObserver:function(){}},Loader={start:function(c){c=jQuery("#loader");if(c.length){c.show();Loader.timer=setInterval(function(){var a=c.css("background-position-y").replace("px","");c.css({"background-position-y":a-40+"px"})},67)}},stop:function(c){c=jQuery("#loader");if(c.length){c.hide();clearInterval(Loader.timer)}}},Updater={setup:function(c,a){jQuery.each(c,function(d,e){var g=new a({id:e.id});g.merge(e);a.add(g)})},
update:function(){window.ninja=true;jQuery.ajax({url:"/admin/activity.json",type:"POST",data:{updated:window.timestamp},success:function(c){jQuery.each(c.models,function(a,d){Page.find(d.id).merge(d);Utilities.setTimestamp()});window.ninja=false}})}},aceModes={javascript:require("ace/mode/javascript").Mode,html:require("ace/mode/html").Mode,css:require("ace/mode/css").Mode,scss:require("ace/mode/scss").Mode,sass:require("ace/mode/scss").Mode,textile:require("ace/mode/textile").Mode,none:require("ace/mode/scss").Mode},
delay=function(){var c=0;return function(a,d){clearTimeout(c);c=setTimeout(a,d)}}(),Editor={initialize:function(){var c=jQuery("#testForm input[type=button]"),a=jQuery("#testForm input#save");c.click(function(){var d=jQuery(this).data("cmd"),e=jQuery(this).data("value");if(e=="promptUser")e=prompt(jQuery(this).data("text"));var g=jQuery("iframe")[0];d&&g.contentDocument.execCommand(d,false,e)});a.click(function(){var d=document.location.pathname.split("/"),e=Page.find(d[d.length-1]),g={};jQuery("iframe").contents().find("div.editable").each(function(){var j=
jQuery(this),l=j.attr("id").split("_")[0];g[l]=j.html()});jQuery.each(g,function(j,l){l=Editor.textilize(l);e.setPartAttributes(j,{content:l})});e.save()})},textilize:function(c,a){c=c.replace(/\s*<p>((.|[\r\n])*?)<\/p>\s*/gi,"\n\n$1\n\n\n");c=c.replace(/\s*<h1>((.|[\r\n])*?)<\/h1>\s*/gi,"h1. $1\n\n");c=c.replace(/\s*<h2>((.|[\r\n])*?)<\/h2>\s*/gi,"h2. $1\n\n");c=c.replace(/\s*<h3>((.|[\r\n])*?)<\/h3>\s*/gi,"h3. $1\n\n");c=c.replace(/\s*<h4>((.|[\r\n])*?)<\/h4>\s*/gi,"h4. $1\n\n");c=c.replace(/\s*<h5>((.|[\r\n])*?)<\/h5>\s*/gi,
"h5. $1\n\n");c=c.replace(/\s*<h6>((.|[\r\n])*?)<\/h6>\s*/gi,"h6. $1\n\n");c=c.replace(/<(?:b|strong)>((.|[\r\n])*?)<\/(?:b|strong)>/gi,"*$1*");c=c.replace(/<(?:i|em)>((.|[\r\n])*?)<\/(?:i|em)>/gi,"_$1_");c=c.replace(/<(?:strike|del)>((.|[\r\n])*?)<\/(?:strike|del)>/gi,"-$1-");c=c.replace(/<(?:u|ins)>((.|[\r\n])*?)<\/(?:u|ins)>/gi,"+$1+");c=c.replace(/<a href="(.*?)">((.|[\r\n])*?)<\/a>/gi,'"$2":$1');c=c.replace(/<code.*?>((.|[\r\n])*?)<\/code>/gi,"@$1@");if(a)c=c.replace(/&/g,"&amp;").replace(/</g,
"&lt;").replace(/>/g,"&gt;");c=c.replace(/(\r\n|\n){3,}/g,"\n\n");return c=c.replace(/^[\r\n]+|[\r\n]+$/g,"")}};jQuery("a.page-reload").live("click",function(){var c=jQuery(this).attr("href").split("/")[3];c=jQuery("iframe#page-iframe-"+c);c.attr("src",c.attr("src"));Utilities.hideNotice()});jQuery("div#sidebar a").live("click",function(){Utilities.hideNotice()});jQuery(window).resize(function(){var c=jQuery("div#asset-editor");Utilities.loadModal(c)});
jQuery("a.insert-file").live("click",function(c){c.preventDefault();window.editor.insert($(this).attr("href"))});jQuery("a.info-icon").live("click",function(c){c.preventDefault();current_asset_id=this.id.split("-")[2];Assets.trigger("show_info",{current_asset_id:current_asset_id})});jQuery("a.close-modal-strip").live("click",function(c){c.preventDefault();jQuery("div.modal-strip").fadeOut("fast",function(){jQuery(this).remove()})});
jQuery("a.remove-icon").live("click",function(c){c.preventDefault();current_asset_id=this.id.split("-")[2];Assets.trigger("show_remove_dialog",{current_asset_id:current_asset_id})});
var iFramer={initialize:function(c,a){var d=jQuery(c);jQuery("#loader");if(d.length){Loader.start();d.load(function(){var e=$(this),g=e.contents();g.find("div.editable").attr("contenteditable","true").css({background:"hsla(30, 17.7%, 61%, 0.3)"});Loader.stop();e.fadeIn("fast");g.find("a").click(function(j){var l=jQuery(this).attr("href").split("?")[0].replace("/preview","");if(l=Page.find_by_path(l)){j.preventDefault();Pages.setLocation(l.attr("admin_path"))}});g.find("a.insert-image").click(function(j){j.preventDefault();
j=jQuery(this).attr("href");Base.trigger("image-browser",j)});a&&a.call(this)})}},setEditFlags:function(c){c.css({position:"relative",display:"block",height:"0",width:"0","text-decoration":"none"}).find("span").css({display:"block",position:"absolute",top:"-24px",left:"12px",padding:"4px 8px",width:"100px",background:"rgba(255, 255, 0, 0.7)"})}},Base=Sammy(function(c){c.debug=false;c.use(Sammy.JSON);c.use(Sammy.Mustache);c.use(Sammy.NestedParams);c.template_engine="mustache";c.helpers({setup:function(a,
d){jQuery.each(a,function(e,g){var j=new d({id:g.id});j.merge(g);d.add(j)})},update:function(){var a=this;window.ninja=true;jQuery.ajax({url:"/admin/activity.json",type:"POST",data:{updated:window.timestamp},success:function(d){jQuery.each(d.models,function(e,g){g.class_name=="Page"&&a.trigger("update-page",g);g.class_name=="Layout"&&a.trigger("update-layout",g);Utilities.setTimestamp()});window.ninja=false}})}});c.bind("run",function(){var a=this;jQuery("#sidebar .opener").live("click",function(){a.trigger("toggle-children",
this);return false});a.trigger("toggle-sidebar")});c.bind("set-active-tab",function(a,d){var e=jQuery("div#tabs a.tab"),g=d.split("?")[0].split("/")[2];g=jQuery("#"+g+"-tab");e.removeClass("active");g.addClass("active")});c.bind("update-page",function(a,d){var e=Page.find(d.id);e.merge(d);e.save();jQuery("li#page-"+d.id).find("span.title a").text(e.attr("title"));jQuery("h1#page-title-"+e.id()).text(e.attr("title"));jQuery("#page-iframe-"+e.id()).length&&Utilities.notice('<a class="page-reload" href="'+
e.attr("admin_path")+'">This page has been changed. Click here to reload.</span>',{persist:true,"class":"warning"})});c.bind("update-layout",function(a,d){var e=Layout.find(d.id);e.merge(d);e.save();jQuery("li#layout-"+d.id).find("span.title a").text(e.attr("name"))});c.bind("image-browser",function(a,d){var e=this,g=d.split("/")[3],j=d.split("/")[5],l=Page.find(g),t=l.findPartById(j);Asset.searchAdmin({limit:12,page:1},function(){e.load(jQuery("script#admin-image_parts-index")).interpolate({assets:Asset.asJSON(),
part:t.attributes},"mustache").appendTo("body").then(function(){jQuery("ul.assets .image a").click(function(y){y.preventDefault();var x=jQuery(y.currentTarget).find("img").attr("src");y=jQuery(y.currentTarget).attr("id").split("-")[2];var I=jQuery("iframe#page-iframe-"+l.id()).contents().find('img[src^="'+t.path+'"]').first();x=I.attr("src").replace(I.attr("src").split("?")[0],x);I.attr("src",x);jQuery("#overlay").fadeOut("fast",function(){jQuery(this).remove()});l.setPartAttributes("image",{asset_id:y,
path:x});l.save();console.log(l.attr("contents"));return false})})})});c.bind("toggle-sidebar",function(){var a=jQuery("div#sidebar"),d=jQuery("div#editor"),e=jQuery("p#toggle");e.find("a").click(function(g){g.preventDefault();if(a.hasClass("closed")){g="300";jQuery.cookie("sidebar_toggled","")}else{g="24";jQuery.cookie("sidebar_toggled","closed")}Modernizr.cssanimations&&console.log("Move.js goes here");a.animate({width:g},200).toggleClass("closed");d.animate({left:g},200).toggleClass("open");e.animate({left:g},
200).toggleClass("open")})});c.before(function(){Galerie.close()});c.before(function(a){var d=a.path;a&&a.verb=="get"&&a.trigger("set-active-tab",d)})}),Sites=Sammy(function(){var c=this;this.helpers({loadSites:function(a){if(Site.all().length==0)Site.load(function(){a&&a.call(this)});else a&&a.call(this)},renderSiteIndex:function(a){this.load(jQuery("script#admin-sites-index")).interpolate(Site.toMustache(),"mustache").replace("#editor").then(function(){a&&a.call(this)})}});this.get("#/preview",
function(){alert(document.location.hostname);window.open("/","preview")});this.get("/admin/sites",function(a){c.refresh_pages=true;jQuery("#editor").html('<h1 class="section">Sites</div>');a.loadSites(function(){a.renderSiteIndex()})});this.get("/admin/sites/new",function(a){a.loadSites(function(){$("#modal").length==0&&Galerie.open();a.load(jQuery("script#admin-sites-new")).interpolate({},"mustache").replace("#modal");a.renderSiteIndex(Site.all())})});this.post("/admin/sites",function(a){(new Site(a.params.site)).save(function(d,
e){var g=JSON.parse(e.responseText);g.errors?alert(JSON.stringify(g)):a.redirect("#/sites")})});this.get("/admin/sites/:id/edit",function(a){a.loadSites(function(){site=Site.find(a.params.id);if(jQuery("#sites").length){jQuery(".site-form").html("");a.load(jQuery("script#admin-sites-edit")).interpolate({site:site.asJSON()},"mustache").replace("#site-form-"+site.id())}else a.renderSiteIndex(function(){jQuery(".site-form").html("");a.load(jQuery("script#admin-sites-edit")).interpolate({site:site.asJSON()},
"mustache").replace("#site-form-"+site.id())})})});this.put("/admin/sites/:id",function(a){var d=Site.find(a.params.id);d.attr(a.params.site);d.save(function(e,g){var j=JSON.parse(g.responseText);j.errors?alert(JSON.stringify(j)):a.redirect("#/sites")})});this.get("/admin/sites/:id/remove",function(a){Galerie.open();a.loadSites(function(){site=Site.find(a.params.id);a.load(jQuery("script#admin-sites-remove")).interpolate({site:site.asJSON()},"mustache").replace("#modal");a.renderSiteIndex(Site.all())})});
this.del("/admin/sites/:id",function(a){site.destroy(function(d){d?a.redirect("#/sites"):alert("there were issues")})})}),Layouts=Sammy(function(){var c=this;this.helpers({loadLayouts:function(a){a&&a.call(this)},renderLayoutIndex:function(){this.load(jQuery("script#admin-templates-index")).interpolate({layouts:Layout.find_all_by_class("Layout").map(function(a){return a.attributes}),partials:Layout.find_all_by_class("Partial").map(function(a){return a.attributes}),javascripts:Layout.find_all_by_class("Javascript").map(function(a){return a.attributes}),
stylesheets:Layout.find_all_by_class("Stylesheet").map(function(a){return a.attributes}),files:Layout.find_all_by_class("Upload").map(function(a){return a.attributes})},"mustache").replace("#sidebar")},renderLayout:function(a){this.load(jQuery("script#admin-templates-edit")).interpolate({layout:a.asJSON(),filters:[{name:"CSS",value:"none",selected:a.attr("filter")=="css"?'selected="selected"':""},{name:"Sass",value:"sass",selected:a.attr("filter")=="sass"?'selected="selected"':""},{name:"SCSS",value:"scss",
selected:a.attr("filter")=="scss"?'selected="selected"':""},{name:"Partial",value:"none",selected:a.attr("filter")=="none"?'selected="selected"':""}]},"mustache").replace("#editor").then(function(){var d=a.attr("mode");d=aceModes[d];window.editor=ace.edit("layout_content");window.editor.setTheme("ace/theme/textmate");window.editor.getSession().setMode(new d);window.editor.session.setUseWrapMode(true);window.editor.getSession().setValue(a.attr("content"))})}});this.bind("run",function(){c.refresh_templates=
true;c.refresh_pages=true;c.modal=false});this.get("/admin/templates",function(a){c.refresh_templates=false;jQuery("#editor").html('<h1 class="section">Templates</div>');a.renderLayoutIndex(Layout.all())});this.get("/admin/templates/new/:klass",function(a){var d=$("<div />").attr({id:"new-page-container","class":"small-modal"}),e=a.params.klass;$("#modal").length==0&&Galerie.open(d);a.load(jQuery("#admin-templates-new")).interpolate({klass:e,file:e=="upload"?true:false},"mustache").replace("#new-page-container");
a.renderLayoutIndex(Layout.all())});this.post("/admin/templates",function(a){(new Layout(a.params.template)).save(function(d,e){var g=JSON.parse(e.responseText);if(g.errors)Utilities.notice(JSON.stringify(g));else{a.redirect("/admin/templates");Utilities.notice("Successfully saved template")}})});this.get("/admin/templates/:id/edit",function(a){c.refresh_pages=true;var d=Layout.find(a.params.id);a.renderLayout(d);a.renderLayoutIndex(Layout.all())});this.put("/admin/templates/:id",function(a){var d=
Layout.find(a.params.id);a.params.layout.content=window.editor.getSession().getValue();d.attr(a.params.layout);d.save(function(e){if(e){a.renderLayoutIndex();Utilities.notice("Successfully saved template");e=aceModes[d.attr("mode")];window.editor.getSession().setUseSoftTabs(true);window.editor.getSession().setTabSize(2);window.editor.getSession().setMode(new e)}})});this.get("/admin/templates/:id/remove",function(a){var d=Layout.find(a.params.id);Galerie.open();a.load(jQuery("#admin-templates-remove")).interpolate({layout:d.asJSON()},
"mustache").replace("#modal");a.renderLayoutIndex(Layout.all())});this.del("/templates/:id",function(a){Layout.find(a.params.id).destroy(function(d){if(d){a.renderLayoutIndex();Utilities.notice("Successfully deleted template");a.redirect("/admin/templates")}})});this.post("/layouts/:id/parts",function(a){this.loadLayouts(function(){var d=a.params.id;Part.create(a.params.part,function(){a.redirect("/admin/templates/"+d+"/edit")})})})}),Assets=Sammy(function(c){var a=this;c.helpers({renderFolderTree:function(d){if(jQuery("ul#folders").length)d&&
d.call(this);else this.load(jQuery("script#admin-folders-index")).interpolate({folders:Folder.asJSON()},"mustache").replace("#sidebar").then(function(){d&&d.call(this)})},send_files:function(d,e,g){for(var j=0,l=0;l<d.length;l++){var t=d[l];Asset.create(t,{before:function(y){jQuery(".progress").append('<p id="progress-'+y+'">'+t.name+'<span class="percentage"></span></p>')},progress:function(y,x){jQuery("#progress-"+y+" .percentage").text(" "+x+"%")},success:function(){j+=1;j==d.length&&Asset.searchAdmin(e,
function(){g&&g.call(this)})}})}}});c.bind("render-asset",function(d,e,g){this.load(jQuery("script#admin-assets-edit")).interpolate(e.toMustacheWithNeighbors(g),"mustache").appendTo("body").then(function(){Utilities.loadModal("div#asset-editor",function(){jQuery("div#asset-editor").fadeIn("fast");window.modal=true})})});c.bind("render-index",function(d,e){this.load(jQuery("script#admin-assets-index")).interpolate(Asset.toMustache(e),"mustache").replace("#editor").then(function(){jQuery("#ajax_uploader").attr("multiple",
"multiple").live("change",function(){jQuery(this).parents("form:first").submit()})})});c.bind("show_info",function(d,e){var g=Asset.find(e.current_asset_id),j=jQuery("#asset-"+g.id()),l=j.find(".info");jQuery(".modal-strip").remove();l.length||this.load(jQuery("#admin-assets-info")).interpolate({asset:g.toMustache()},"mustache").appendTo(j).then(function(){jQuery(".modal-strip").fadeIn("fast")})});c.bind("show_remove_dialog",function(d,e){var g=Asset.find(e.current_asset_id),j=jQuery("#asset-"+g.id()),
l=j.find(".remove");jQuery(".modal-strip").remove();l.length||this.load(jQuery("script#admin-assets-remove")).interpolate({asset:g.toMustache()},"mustache").appendTo(j).then(function(){jQuery(".modal-strip").fadeIn("fast")})});c.get("/admin/assets",function(d){jQuery("#overlay").remove();var e=d.params.query?d.params.query:"",g={query:e};g.limit=d.params.limit||48;g.page=d.params.page||1;d.renderFolderTree();if(!window.modal){window.modal=false;Asset.searchAdmin(g,function(){d.trigger("render-index",
e)})}});c.get("/admin/assets/new",function(d){d.load(jQuery("script#admin-assets-new")).interpolate({},"mustache").replace("#editor").then(function(){jQuery("#ajax_uploader").attr("multiple","multiple")});a.first_run=false});c.post("/admin/assets",function(d){var e=document.getElementById("ajax_uploader").files,g=d.params.query?d.params.query:null;jQuery("form#new_asset");var j=g?{query:g}:{};j.limit=d.params.limit||48;j.page=d.params.page||1;this.send_files(e,j,function(){d.trigger("render-index",
g)});return false});c.get("/admin/assets/:id/edit",function(d){jQuery("#overlay").remove();var e=d.params.query?d.params.query:"",g=e?{query:d.params.query}:{},j=Asset.find(d.params.id);j?d.trigger("render-asset",j,e):Asset.searchAdmin(g,function(){var l=Asset.find(d.params.id);d.trigger("render-index",e);d.renderFolderTree();d.trigger("render-asset",l,e)})});c.put("/admin/assets/:id",function(d){var e=Asset.find(d.params.id);if(e){e.attr(d.params.asset);e.save(function(g){g&&Utilities.notice("Successfully saved asset")})}else{e=
new Asset({id:d.params.id});e.load(function(){e.attr(d.params.asset);e.save(function(g){g&&Utilities.notice("Successfully saved asset")})})}});c.del("/admin/assets/:id",function(d){var e=d.params.query?d.params.query:null,g=e?"?"+decodeURIComponent(jQuery.param({query:e})):"";Asset.find(d.params.id).destroy(function(j){if(j){Utilities.notice("Successfully saved asset");d.redirect("/admin/assets"+g)}})})});
Sites=Sammy(function(c){this.helpers({});c.get("/admin/folders/:id",function(a){jQuery("#overlay").remove();var d=a.params.id,e=Folder.find(d);a.renderFolderTree(function(){jQuery("ul#folders li").removeClass("active");jQuery("#folder-"+d).addClass("active")});e.loadAssets(function(){a.trigger("render-index","")})})});
var Pages=Sammy(function(c){c.helpers({renderPagePreview:function(a,d){var e=this;jQuery("div#preview-"+a.id()).length?e.trigger("set-active-page",a):e.load(jQuery("script#admin-pages-show")).interpolate({page:a.asJSON(),layouts:Layout.asLayoutJSON(a.attr("layout_id")),base_page_id:a.id()},"mustache").replace("#editor").then(function(){iFramer.initialize(".preview iframe",function(){d&&d.call(this)});e.trigger("set-active-page",a);Editor.initialize()})},renderPageEditor:function(a,d){var e=this;if(jQuery("#page-editor").length){d&&
d.call(this);e.trigger("set-active-page",a)}else e.load(jQuery("script#admin-pages-edit")).interpolate({page:a.asJSON()},"mustache").replace("#editor").then(function(){jQuery("li.node").removeClass("active");jQuery("#page-"+a.id()).addClass("active");d&&d.call(this);e.trigger("set-active-page",a)})},renderPageProperties:function(a,d){this.load(jQuery("script#admin-pages-form")).interpolate({page:a.asJSON(),layouts:Layout.asLayoutJSON(a.attr("layout_id")),base_page_id:a.id(),timestamp:window.timestamp},
"mustache").replace("#page-tabs-"+a.id()).then(function(){d&&d.call(this)})},renderPageMenu:function(a){this.load(jQuery("script#admin-pages-index")).interpolate({pages:[a.asJSON()],children:a.childrenAsJSON()},"mustache").replace("#sidebar")}});c.bind("show-page-menu",function(a,d){var e=this;if(d.children().count()==0&&d.attr("child_count")!=0){console.log("ajax");d.getChildren(function(){e.renderPageMenu(d)})}else{if(d.attr("child_count")==0)d=d.parent();e.renderPageMenu(d)}});c.bind("set-active-page",
function(a,d){jQuery("li.node").removeClass("active");jQuery("li#page-"+d.id()).addClass("active")});c.bind("reload-page",function(a,d){var e=d.id(),g=jQuery("iframe#page-iframe-"+e);jQuery("li#page-"+e).find("span.title a").text(d.attr("title"));jQuery("h1#page-title-"+e).text(d.attr("title"));g.attr("src",g.attr("src"))});this.get("/admin/pages/?",function(a){var d=Page.first();a.redirect(d.attr("admin_path"))});this.get("/admin/pages/:id/new/?",function(a){var d=Page.find(a.params.id),e=$("<div />").attr({id:"new-page-container",
"class":"small-modal"});$("#modal").length==0&&Galerie.open(e);a.trigger("page-index");a.load(jQuery("#admin-pages-new")).interpolate({parent:d.asJSON(),layouts:Layout.asLayoutJSON(d.attr("layout_id"))},"mustache").replace("#new-page-container")});this.post("/admin/pages/:page_id/?",function(a){Page.find(a.params.page_id);(new Page(a.params.page)).save(function(d,e){var g=JSON.parse(e.responseText);if(g.errors)alert(JSON.stringify(g));else{Utilities.notice("Successfully created page");a.redirect(g.admin_path)}})});
this.get("/admin/pages/:id/?",function(a){jQuery("#overlay").remove();jQuery(".modal-editor").remove();var d=Page.find(a.params.id);if(d)a.renderPagePreview(d);else{d=new Page({id:a.params.id});d.load(function(){a.renderPagePreview(d)})}a.trigger("show-page-menu",d)});this.get("/admin/pages/:id/edit/?",function(a){var d=Page.find(a.params.id);a.renderPageEditor(d,function(){a.renderPageProperties(d)});a.trigger("show-page-menu",d)});this.put("/admin/pages/:page_id",function(a){var d=Page.find(a.params.page_id);
d.attr(a.params.page);jQuery("span.timestamp").text()<window.timestamp?alert("Someone else has edited this page, please reload and try again"):d.save(function(e){if(e){Utilities.setTimestamp();Utilities.notice("Successfully saved page");a.trigger("reload-page",d);a.redirect(d.attr("admin_path"))}})});this.get("/admin/pages/:id/remove",function(a){var d=Page.find(a.params.id),e=$("<div />").attr({id:"remove-page-container","class":"small-modal"});$("#modal").length==0&&Galerie.open(e);a.trigger("page-index");
a.load(jQuery("#admin-pages-remove")).interpolate({page:d.asJSON()},"mustache").replace("#remove-page-container")});this.del("/admin/pages/:id",function(a){var d=Page.find(a.params.id);d.destroy(function(e){if(e){jQuery("#page-"+d.id()).remove();a.redirect("/admin/pages")}})})}),Parts=Sammy(function(c){c.helpers({renderPart:function(a,d,e){var g=this;g.load(jQuery("script#admin-"+e+"-edit")).interpolate({part:a.asJSON(),page:d.asJSON(),assets:Asset.asJSON(),timestamp:window.timestamp},"mustache").replace("#page-tabs-"+
d.id()).then(function(){var j=aceModes.textile;window.editor=ace.edit("part-"+a.id()+"-content");window.editor.setTheme("ace/theme/textmate");window.editor.getSession().setMode(new j);window.editor.session.setUseWrapMode(true);window.editor.getSession().setValue(a.attr("content"));g.trigger("set_asset_links");jQuery("#ajax_uploader").attr("multiple","multiple").change(function(){var l=jQuery(this).parents("form:first");jQuery(".progress").slideDown("slow",function(){l.submit()})});g.trigger("page-index")})}});
this.bind("set_asset_links",function(){jQuery("#search-results-container li.asset").each(function(a,d){var e=jQuery(d).find("a"),g=jQuery(d).attr("id").split("-")[1],j=e.find("img").attr("src");e.click(function(l){l.preventDefault();jQuery("input#part-asset-id").attr("value",g);jQuery("form#edit-part img.preview").attr("src",j.replace("icon","thumbnail"))})})});this.get("/admin/pages/:page_id/parts/:id/edit",function(a){jQuery(".modal-editor").remove();$("iframe");var d=Page.find(a.params.page_id),
e=d.parts().find(a.params.id);a.trigger("show-page-menu",d);a.renderPageEditor(d,function(){a.renderPart(e,d,"parts")})});this.get("/admin/pages/:page_id/image_parts/:id/edit",function(a){var d=Page.find(a.params.page_id),e=d.parts().find(a.params.id);$("iframe");Asset.searchAdmin({limit:"24"},function(){a.trigger("show-page-menu",d);a.renderPageEditor(d,function(){a.renderPart(e,d,"image_parts")})})});this.get("/admin/pages/:page_id/parts/:id/results",function(a){Page.find(a.params.page_id);Part.find(a.params.id);
var d=a.params.query?a.params.query:null;Asset.searchAdmin(d?{query:d}:{},function(){a.load(jQuery("#admin-pages-search_results")).interpolate(Asset.toMustache(),"mustache").replace("#search-results-container").then(function(){a.trigger("set_asset_links")})})});this.put("#/pages/:page_id/parts/:id",function(a){var d=Page.find(a.params.page_id),e=d.parts().find(a.params.id),g=d.attr("contents"),j=g.length;a.params.part.content=window.editor.getSession().getValue();for(var l=0;l<j;++l){e=g[l];if(a.params.id==
e.id){e.content=a.params.part.content;e.asset_id=a.params.part.asset_id;var t=Part.find(e.id);t.attr({asset_id:a.params.part.asset_id,content:a.params.part.content});t.save()}}d.save(function(y){if(y){Utilities.setTimestamp();Utilities.notice(t.attr("name")+" saved");window.editor.getSession().setUseSoftTabs(true);window.editor.getSession().setTabSize(2);window.editor.getSession().setMode(new editorMode)}})});this.post("#/pages/:page_id/image_parts/:id/assets",function(a){Page.find(a.params.page_id).parts().find(a.params.id);
var d=document.getElementById("ajax_uploader").files,e=a.params.query?a.params.query:null;jQuery("form#new_asset");e=e?{query:e}:{};e.limit=a.params.limit||48;e.page=a.params.page||1;this.send_files(d,e,function(){a.load(jQuery("#admin-pages-search_results")).interpolate(Asset.toMustache(),"mustache").replace("#search-results-container").then(function(){jQuery("#ajax_uploader").attr("files",null);jQuery(".progress").slideUp("slow",function(){jQuery(this).html("")});a.trigger("set_asset_links")})})})}),
Users=Sammy(function(){this.helpers({loadUsers:function(c){if(User.all().length==0)User.load(function(){c&&c.call(this)});else c&&c.call(this)},renderUserIndex:function(c){this.load(jQuery("script#admin-users-index")).interpolate(User.toMustache(),"mustache").replace("#editor").then(function(){c&&c.call(this)})}});this.get("/admin/users",function(c){jQuery("#editor").html('<h1 class="section">Users</div>');c.loadUsers(function(){c.renderUserIndex()})});this.get("/admin/users/new",function(c){c.loadUsers(function(){jQuery("#modal").length||
Galerie.open();c.load(jQuery("script#admin-users-new")).interpolate({},"mustache").replace("#modal");c.renderUserIndex()})});this.post("/admin/users",function(c){(new User(c.params.user)).save(function(a,d){var e=JSON.parse(d.responseText);e.errors?alert(JSON.stringify(e)):c.redirect("/admin/users")})});this.get("/admin/users/:id/edit",function(c){c.loadUsers(function(){user=User.find(c.params.id);if(jQuery("#users").length){jQuery(".user-form").html("");c.load(jQuery("script#admin-users-edit")).interpolate({user:user.asJSON()},
"mustache").replace("#user-form-"+user.id())}else c.renderUserIndex(function(){jQuery(".user-form").html("");c.load(jQuery("script#admin-users-edit")).interpolate({user:user.asJSON()},"mustache").replace("#user-form-"+user.id())})})});this.put("/admin/users/:id",function(c){var a=User.find(c.params.id);a.attr(c.params.user);a.save(function(d,e){var g=JSON.parse(e.responseText);g.errors?alert(JSON.stringify(g)):c.redirect("/admin/users")})})});
jQuery(document).ready(function(){var c=jQuery("#loader");jQuery("<img />",{src:"/images/loader.png"});jQuery("body").ajaxStart(function(){window.ninja||Loader.start(c)}).ajaxSuccess(function(){Loader.stop(c)});if(!jQuery("#login").length){jQuery.ajax({url:"/templates",success:function(a){jQuery("head").append(a)}});jQuery.ajax({url:"/admin/sites/current.json",success:function(a){Updater.setup(a.pages,Page);Updater.setup(a.templates,Layout);Updater.setup(a.folders,Folder);Base.run();window.timestamp=
a.now}})}require("pilot/canon").addCommand({name:"save",bindKey:{win:"Ctrl-S",mac:"Command-S",sender:"editor"},exec:function(){jQuery("form.command-save").submit()}})});
