(function(j,h){function k(a){return c.isWindow(a)?a:a.nodeType===9?a.defaultView||a.parentWindow:false}function m(a){if(!db[a]){var d=X.body,b=c("<"+a+">").appendTo(d),e=b.css("display");b.remove();if(e==="none"||e===""){Xa||(Xa=X.createElement("iframe"),Xa.frameBorder=Xa.width=Xa.height=0);d.appendChild(Xa);if(!Ha||!Xa.createElement){Ha=(Xa.contentWindow||Xa.contentDocument).document;Ha.write((X.compatMode==="CSS1Compat"?"<!doctype html>":"")+"<html><body>");Ha.close()}b=Ha.createElement(a);Ha.body.appendChild(b);
e=c.css(b,"display");d.removeChild(Xa)}db[a]=e}return db[a]}function s(a,d){var b={};c.each(Pa.concat.apply([],Pa.slice(0,d)),function(){b[this]=a});return b}function u(){qb=h}function w(){setTimeout(u,0);return qb=c.now()}function G(){try{return new j.XMLHttpRequest}catch(a){}}function E(a,d,b,e){if(c.isArray(d))c.each(d,function(g,i){b||eb.test(a)?e(a,i):E(a+"["+(typeof i=="object"||c.isArray(i)?g:"")+"]",i,b,e)});else if(!b&&d!=null&&typeof d=="object")for(var f in d)E(a+"["+f+"]",d[f],b,e);else e(a,
d)}function z(a,d,b,e,f,g){f=f||d.dataTypes[0];g=g||{};g[f]=true;f=a[f];for(var i=0,n=f?f.length:0,p=a===cb,r;i<n&&(p||!r);i++){r=f[i](d,b,e);typeof r=="string"&&(!p||g[r]?(r=h):(d.dataTypes.unshift(r),r=z(a,d,b,e,r,g)))}(p||!r)&&!g["*"]&&(r=z(a,d,b,e,"*",g));return r}function L(a){return function(d,b){typeof d!="string"&&(b=d,d="*");if(c.isFunction(b))for(var e=d.toLowerCase().split(cc),f=0,g=e.length,i,n;f<g;f++){i=e[f];(n=/^\+/.test(i))&&(i=i.substr(1)||"*");i=a[i]=a[i]||[];i[n?"unshift":"push"](b)}}}
function P(a,d,b){var e=d==="width"?a.offsetWidth:a.offsetHeight,f=d==="width"?ma:Qb;if(e>0){b!=="border"&&c.each(f,function(){b||(e-=parseFloat(c.css(a,"padding"+this))||0);b==="margin"?(e+=parseFloat(c.css(a,b+this))||0):(e-=parseFloat(c.css(a,"border"+this+"Width"))||0)});return e+"px"}e=fb(a,d,d);if(e<0||e==null)e=a.style[d]||0;e=parseFloat(e)||0;b&&c.each(f,function(){e+=parseFloat(c.css(a,"padding"+this))||0;b!=="padding"&&(e+=parseFloat(c.css(a,"border"+this+"Width"))||0);b==="margin"&&(e+=
parseFloat(c.css(a,b+this))||0)});return e+"px"}function la(a,d){d.src?c.ajax({url:d.src,async:false,dataType:"script"}):c.globalEval((d.text||d.textContent||d.innerHTML||"").replace(dc,"/*$0*/"));d.parentNode&&d.parentNode.removeChild(d)}function pa(a){c.nodeName(a,"input")?na(a):"getElementsByTagName"in a&&c.grep(a.getElementsByTagName("input"),na)}function na(a){if(a.type==="checkbox"||a.type==="radio")a.defaultChecked=a.checked}function l(a){return"getElementsByTagName"in a?a.getElementsByTagName("*"):
"querySelectorAll"in a?a.querySelectorAll("*"):[]}function q(a,d){var b;if(d.nodeType===1){d.clearAttributes&&d.clearAttributes();d.mergeAttributes&&d.mergeAttributes(a);b=d.nodeName.toLowerCase();if(b==="object")d.outerHTML=a.outerHTML;else if(b!=="input"||a.type!=="checkbox"&&a.type!=="radio")if(b==="option")d.selected=a.defaultSelected;else{if(b==="input"||b==="textarea")d.defaultValue=a.defaultValue}else{a.checked&&(d.defaultChecked=d.checked=a.checked);d.value!==a.value&&(d.value=a.value)}d.removeAttribute(c.expando)}}
function y(a,d){if(d.nodeType===1&&c.hasData(a)){var b=c.expando,e=c.data(a),f=c.data(d,e);if(e=e[b]){var g=e.events;f=f[b]=c.extend({},e);if(g){delete f.handle;f.events={};for(var i in g){b=0;for(e=g[i].length;b<e;b++)c.event.add(d,i+(g[i][b].namespace?".":"")+g[i][b].namespace,g[i][b],g[i][b].data)}}}}}function D(a,d,b){d=d||0;if(c.isFunction(d))return c.grep(a,function(f,g){return!!d.call(f,g,f)===b});if(d.nodeType)return c.grep(a,function(f){return f===d===b});if(typeof d=="string"){var e=c.grep(a,
function(f){return f.nodeType===1});if(Ka.test(d))return c.filter(d,e,!b);d=c.filter(d,e)}return c.grep(a,function(f){return c.inArray(f,d)>=0===b})}function ca(a,d){return(a&&a!=="*"?a+".":"")+d.replace(La,"`").replace(gb,"&")}function oa(a){var d,b,e,f,g,i,n,p,r,x,B,R=[];f=[];g=c._data(this,"events");if(!(a.liveFired===this||!g||!g.live||a.target.disabled||a.button&&a.type==="click")){a.namespace&&(B=new RegExp("(^|\\.)"+a.namespace.split(".").join("\\.(?:.*\\.)?")+"(\\.|$)"));a.liveFired=this;
var ba=g.live.slice(0);for(n=0;n<ba.length;n++){g=ba[n];g.origType.replace(sa,"")===a.type?f.push(g.selector):ba.splice(n--,1)}f=c(a.target).closest(f,a.currentTarget);p=0;for(r=f.length;p<r;p++){x=f[p];for(n=0;n<ba.length;n++){g=ba[n];if(x.selector===g.selector&&(!B||B.test(g.namespace))&&!x.elem.disabled){i=x.elem;e=null;if(g.preType==="mouseenter"||g.preType==="mouseleave"){a.type=g.preType;(e=c(a.relatedTarget).closest(g.selector)[0])&&c.contains(i,e)&&(e=i)}(!e||e!==i)&&R.push({elem:i,handleObj:g,
level:x.level})}}}p=0;for(r=R.length;p<r;p++){f=R[p];if(b&&f.level>b)break;a.currentTarget=f.elem;a.data=f.handleObj.data;a.handleObj=f.handleObj;B=f.handleObj.origHandler.apply(f.elem,arguments);if(B===false||a.isPropagationStopped()){b=f.level;B===false&&(d=false);if(a.isImmediatePropagationStopped())break}}return d}}function T(a,d,b){var e=c.extend({},b[0]);e.type=a;e.originalEvent={};e.liveFired=h;c.event.handle.call(d,e);e.isDefaultPrevented()&&b[0].preventDefault()}function fa(){return true}
function ga(){return false}function xa(a,d,b){var e=d+"defer",f=d+"queue",g=d+"mark",i=c.data(a,e,h,true);i&&(b==="queue"||!c.data(a,f,h,true))&&(b==="mark"||!c.data(a,g,h,true))&&setTimeout(function(){!c.data(a,f,h,true)&&!c.data(a,g,h,true)&&(c.removeData(a,e,true),i.resolve())},0)}function Oa(a){for(var d in a)if(d!=="toJSON")return false;return true}function Ra(a,d,b){if(b===h&&a.nodeType===1){b="data-"+d.replace(S,"$1-$2").toLowerCase();b=a.getAttribute(b);if(typeof b=="string"){try{b=b==="true"?
true:b==="false"?false:b==="null"?null:c.isNaN(b)?N.test(b)?c.parseJSON(b):b:parseFloat(b)}catch(e){}c.data(a,d,b)}else b=h}return b}var X=j.document,Q=j.navigator,V=j.location,c=function(){function a(){if(!d.isReady){try{X.documentElement.doScroll("left")}catch(v){setTimeout(a,1);return}d.ready()}}var d=function(v,K){return new d.fn.init(v,K,f)},b=j.jQuery,e=j.$,f,g=/^(?:[^<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,i=/\S/,n=/^\s+/,p=/\s+$/,r=/\d/,x=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,B=/^[\],:{}\s]*$/,R=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,
ba=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,ka=/(?:^|:|,)(?:\s*\[)+/g,Ia=/(webkit)[ \/]([\w.]+)/,za=/(opera)(?:.*version)?[ \/]([\w.]+)/,Ba=/(msie) ([\w.]+)/,Ca=/(mozilla)(?:.*? rv:([\w.]+))?/,o=/-([a-z])/ig,t=function(v,K){return K.toUpperCase()},F=Q.userAgent,I,C,J=Object.prototype.toString,U=Object.prototype.hasOwnProperty,Z=Array.prototype.push,ra=Array.prototype.slice,Ma=String.prototype.trim,Ja=Array.prototype.indexOf,Sa={};d.fn=d.prototype={constructor:d,init:function(v,
K,da){var Y,qa;if(!v)return this;if(v.nodeType){this.context=this[0]=v;this.length=1;return this}if(v==="body"&&!K&&X.body){this.context=X;this[0]=X.body;this.selector=v;this.length=1;return this}if(typeof v=="string"){v.charAt(0)!=="<"||v.charAt(v.length-1)!==">"||v.length<3?(Y=g.exec(v)):(Y=[null,v,null]);if(Y&&(Y[1]||!K)){if(Y[1]){qa=(K=K instanceof d?K[0]:K)?K.ownerDocument||K:X;(da=x.exec(v))?d.isPlainObject(K)?(v=[X.createElement(da[1])],d.fn.attr.call(v,K,true)):(v=[qa.createElement(da[1])]):
(da=d.buildFragment([Y[1]],[qa]),v=(da.cacheable?d.clone(da.fragment):da.fragment).childNodes);return d.merge(this,v)}if((K=X.getElementById(Y[2]))&&K.parentNode){if(K.id!==Y[2])return da.find(v);this.length=1;this[0]=K}this.context=X;this.selector=v;return this}return!K||K.jquery?(K||da).find(v):this.constructor(K).find(v)}if(d.isFunction(v))return da.ready(v);v.selector!==h&&(this.selector=v.selector,this.context=v.context);return d.makeArray(v,this)},selector:"",jquery:"1.6.2",length:0,size:function(){return this.length},
toArray:function(){return ra.call(this,0)},get:function(v){return v==null?this.toArray():v<0?this[this.length+v]:this[v]},pushStack:function(v,K,da){var Y=this.constructor();d.isArray(v)?Z.apply(Y,v):d.merge(Y,v);Y.prevObject=this;Y.context=this.context;K==="find"?(Y.selector=this.selector+(this.selector?" ":"")+da):K&&(Y.selector=this.selector+"."+K+"("+da+")");return Y},each:function(v,K){return d.each(this,v,K)},ready:function(v){d.bindReady();I.done(v);return this},eq:function(v){return v===-1?
this.slice(v):this.slice(v,+v+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(ra.apply(this,arguments),"slice",ra.call(arguments).join(","))},map:function(v){return this.pushStack(d.map(this,function(K,da){return v.call(K,da,K)}))},end:function(){return this.prevObject||this.constructor(null)},push:Z,sort:[].sort,splice:[].splice};d.fn.init.prototype=d.fn;d.extend=d.fn.extend=function(){var v,K,da,Y,qa,Aa,Da=arguments[0]||{},Fa=1,
vb=arguments.length,wb=false;typeof Da=="boolean"&&(wb=Da,Da=arguments[1]||{},Fa=2);typeof Da!="object"&&!d.isFunction(Da)&&(Da={});for(vb===Fa&&(Da=this,--Fa);Fa<vb;Fa++)if((v=arguments[Fa])!=null)for(K in v){da=Da[K];Y=v[K];if(Da!==Y)wb&&Y&&(d.isPlainObject(Y)||(qa=d.isArray(Y)))?(qa?(qa=false,Aa=da&&d.isArray(da)?da:[]):(Aa=da&&d.isPlainObject(da)?da:{}),Da[K]=d.extend(wb,Aa,Y)):Y!==h&&(Da[K]=Y)}return Da};d.extend({noConflict:function(v){j.$===d&&(j.$=e);v&&j.jQuery===d&&(j.jQuery=b);return d},
isReady:false,readyWait:1,holdReady:function(v){v?d.readyWait++:d.ready(true)},ready:function(v){if(v===true&&!--d.readyWait||v!==true&&!d.isReady){if(!X.body)return setTimeout(d.ready,1);d.isReady=true;if(!(v!==true&&--d.readyWait>0)){I.resolveWith(X,[d]);d.fn.trigger&&d(X).trigger("ready").unbind("ready")}}},bindReady:function(){if(!I){I=d._Deferred();if(X.readyState==="complete")return setTimeout(d.ready,1);if(X.addEventListener){X.addEventListener("DOMContentLoaded",C,false);j.addEventListener("load",
d.ready,false)}else if(X.attachEvent){X.attachEvent("onreadystatechange",C);j.attachEvent("onload",d.ready);var v=false;try{v=j.frameElement==null}catch(K){}X.documentElement.doScroll&&v&&a()}}},isFunction:function(v){return d.type(v)==="function"},isArray:Array.isArray||function(v){return d.type(v)==="array"},isWindow:function(v){return v&&typeof v=="object"&&"setInterval"in v},isNaN:function(v){return v==null||!r.test(v)||isNaN(v)},type:function(v){return v==null?String(v):Sa[J.call(v)]||"object"},
isPlainObject:function(v){if(!v||d.type(v)!=="object"||v.nodeType||d.isWindow(v))return false;if(v.constructor&&!U.call(v,"constructor")&&!U.call(v.constructor.prototype,"isPrototypeOf"))return false;var K;for(K in v);return K===h||U.call(v,K)},isEmptyObject:function(v){for(var K in v)return false;return true},error:function(v){throw v;},parseJSON:function(v){if(typeof v!="string"||!v)return null;v=d.trim(v);if(j.JSON&&j.JSON.parse)return j.JSON.parse(v);if(B.test(v.replace(R,"@").replace(ba,"]").replace(ka,
"")))return(new Function("return "+v))();d.error("Invalid JSON: "+v)},parseXML:function(v,K,da){j.DOMParser?(da=new DOMParser,K=da.parseFromString(v,"text/xml")):(K=new ActiveXObject("Microsoft.XMLDOM"),K.async="false",K.loadXML(v));da=K.documentElement;(!da||!da.nodeName||da.nodeName==="parsererror")&&d.error("Invalid XML: "+v);return K},noop:function(){},globalEval:function(v){v&&i.test(v)&&(j.execScript||function(K){j.eval.call(j,K)})(v)},camelCase:function(v){return v.replace(o,t)},nodeName:function(v,
K){return v.nodeName&&v.nodeName.toUpperCase()===K.toUpperCase()},each:function(v,K,da){var Y,qa=0,Aa=v.length,Da=Aa===h||d.isFunction(v);if(da)if(Da)for(Y in v){if(K.apply(v[Y],da)===false)break}else for(;qa<Aa;){if(K.apply(v[qa++],da)===false)break}else if(Da)for(Y in v){if(K.call(v[Y],Y,v[Y])===false)break}else for(;qa<Aa;)if(K.call(v[qa],qa,v[qa++])===false)break;return v},trim:Ma?function(v){return v==null?"":Ma.call(v)}:function(v){return v==null?"":(v+"").replace(n,"").replace(p,"")},makeArray:function(v,
K){var da=K||[];if(v!=null){var Y=d.type(v);v.length==null||Y==="string"||Y==="function"||Y==="regexp"||d.isWindow(v)?Z.call(da,v):d.merge(da,v)}return da},inArray:function(v,K){if(Ja)return Ja.call(K,v);for(var da=0,Y=K.length;da<Y;da++)if(K[da]===v)return da;return-1},merge:function(v,K){var da=v.length,Y=0;if(typeof K.length=="number")for(var qa=K.length;Y<qa;Y++)v[da++]=K[Y];else for(;K[Y]!==h;)v[da++]=K[Y++];v.length=da;return v},grep:function(v,K,da){var Y=[],qa;da=!!da;for(var Aa=0,Da=v.length;Aa<
Da;Aa++){qa=!!K(v[Aa],Aa);da!==qa&&Y.push(v[Aa])}return Y},map:function(v,K,da){var Y,qa,Aa=[],Da=0,Fa=v.length;if(v instanceof d||Fa!==h&&typeof Fa=="number"&&(Fa>0&&v[0]&&v[Fa-1]||Fa===0||d.isArray(v)))for(;Da<Fa;Da++){Y=K(v[Da],Da,da);Y!=null&&(Aa[Aa.length]=Y)}else for(qa in v){Y=K(v[qa],qa,da);Y!=null&&(Aa[Aa.length]=Y)}return Aa.concat.apply([],Aa)},guid:1,proxy:function(v,K){if(typeof K=="string"){var da=v[K];K=v;v=da}if(!d.isFunction(v))return h;var Y=ra.call(arguments,2);da=function(){return v.apply(K,
Y.concat(ra.call(arguments)))};da.guid=v.guid=v.guid||da.guid||d.guid++;return da},access:function(v,K,da,Y,qa,Aa){var Da=v.length;if(typeof K=="object"){for(var Fa in K)d.access(v,Fa,K[Fa],Y,qa,da);return v}if(da!==h){Y=!Aa&&Y&&d.isFunction(da);for(Fa=0;Fa<Da;Fa++)qa(v[Fa],K,Y?da.call(v[Fa],Fa,qa(v[Fa],K)):da,Aa);return v}return Da?qa(v[0],K):h},now:function(){return(new Date).getTime()},uaMatch:function(v){v=v.toLowerCase();v=Ia.exec(v)||za.exec(v)||Ba.exec(v)||v.indexOf("compatible")<0&&Ca.exec(v)||
[];return{browser:v[1]||"",version:v[2]||"0"}},sub:function(){function v(da,Y){return new v.fn.init(da,Y)}d.extend(true,v,this);v.superclass=this;v.fn=v.prototype=this();v.fn.constructor=v;v.sub=this.sub;v.fn.init=function(da,Y){Y&&Y instanceof d&&!(Y instanceof v)&&(Y=v(Y));return d.fn.init.call(this,da,Y,K)};v.fn.init.prototype=v.fn;var K=v(X);return v},browser:{}});d.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(v,K){Sa["[object "+K+"]"]=K.toLowerCase()});F=
d.uaMatch(F);F.browser&&(d.browser[F.browser]=true,d.browser.version=F.version);d.browser.webkit&&(d.browser.safari=true);i.test("\u00a0")&&(n=/^[\s\xA0]+/,p=/[\s\xA0]+$/);f=d(X);X.addEventListener?(C=function(){X.removeEventListener("DOMContentLoaded",C,false);d.ready()}):X.attachEvent&&(C=function(){X.readyState==="complete"&&(X.detachEvent("onreadystatechange",C),d.ready())});return d}(),A="done fail isResolved isRejected promise then always pipe".split(" "),M=[].slice;c.extend({_Deferred:function(){var a=
[],d,b,e,f={done:function(){if(!e){var g=arguments,i,n,p,r,x;d&&(x=d,d=0);i=0;for(n=g.length;i<n;i++){p=g[i];r=c.type(p);r==="array"?f.done.apply(f,p):r==="function"&&a.push(p)}x&&f.resolveWith(x[0],x[1])}return this},resolveWith:function(g,i){if(!e&&!d&&!b){i=i||[];b=1;try{for(;a[0];)a.shift().apply(g,i)}finally{d=[g,i];b=0}}return this},resolve:function(){f.resolveWith(this,arguments);return this},isResolved:function(){return!!b||!!d},cancel:function(){e=1;a=[];return this}};return f},Deferred:function(a){var d=
c._Deferred(),b=c._Deferred(),e;c.extend(d,{then:function(f,g){d.done(f).fail(g);return this},always:function(){return d.done.apply(d,arguments).fail.apply(this,arguments)},fail:b.done,rejectWith:b.resolveWith,reject:b.resolve,isRejected:b.isResolved,pipe:function(f,g){return c.Deferred(function(i){c.each({done:[f,"resolve"],fail:[g,"reject"]},function(n,p){var r=p[0],x=p[1],B;c.isFunction(r)?d[n](function(){(B=r.apply(this,arguments))&&c.isFunction(B.promise)?B.promise().then(i.resolve,i.reject):
i[x](B)}):d[n](i[x])})}).promise()},promise:function(f){if(f==null){if(e)return e;e=f={}}for(var g=A.length;g--;)f[A[g]]=d[A[g]];return f}});d.done(b.cancel).fail(d.cancel);delete d.cancel;a&&a.call(d,d);return d},when:function(a){function d(n){return function(p){b[n]=arguments.length>1?M.call(arguments,0):p;--g||i.resolveWith(i,M.call(b,0))}}var b=arguments,e=0,f=b.length,g=f,i=f<=1&&a&&c.isFunction(a.promise)?a:c.Deferred();if(f>1){for(;e<f;e++)b[e]&&c.isFunction(b[e].promise)?b[e].promise().then(d(e),
i.reject):--g;g||i.resolveWith(i,b)}else i!==a&&i.resolveWith(i,f?[a]:[]);return i.promise()}});c.support=function(){var a=X.createElement("div"),d=X.documentElement,b,e,f,g,i,n,p;a.setAttribute("className","t");a.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>";b=a.getElementsByTagName("*");e=a.getElementsByTagName("a")[0];if(!b||!b.length||!e)return{};f=X.createElement("select");g=f.appendChild(X.createElement("option"));b=a.getElementsByTagName("input")[0];
n={leadingWhitespace:a.firstChild.nodeType===3,tbody:!a.getElementsByTagName("tbody").length,htmlSerialize:!!a.getElementsByTagName("link").length,style:/top/.test(e.getAttribute("style")),hrefNormalized:e.getAttribute("href")==="/a",opacity:/^0.55$/.test(e.style.opacity),cssFloat:!!e.style.cssFloat,checkOn:b.value==="on",optSelected:g.selected,getSetAttribute:a.className!=="t",submitBubbles:true,changeBubbles:true,focusinBubbles:false,deleteExpando:true,noCloneEvent:true,inlineBlockNeedsLayout:false,
shrinkWrapBlocks:false,reliableMarginRight:true};b.checked=true;n.noCloneChecked=b.cloneNode(true).checked;f.disabled=true;n.optDisabled=!g.disabled;try{delete a.test}catch(r){n.deleteExpando=false}!a.addEventListener&&a.attachEvent&&a.fireEvent&&(a.attachEvent("onclick",function(){n.noCloneEvent=false}),a.cloneNode(true).fireEvent("onclick"));b=X.createElement("input");b.value="t";b.setAttribute("type","radio");n.radioValue=b.value==="t";b.setAttribute("checked","checked");a.appendChild(b);e=X.createDocumentFragment();
e.appendChild(a.firstChild);n.checkClone=e.cloneNode(true).cloneNode(true).lastChild.checked;a.innerHTML="";a.style.width=a.style.paddingLeft="1px";f=X.getElementsByTagName("body")[0];e=X.createElement(f?"div":"body");g={visibility:"hidden",width:0,height:0,border:0,margin:0};f&&c.extend(g,{position:"absolute",left:-1000,top:-1000});for(p in g)e.style[p]=g[p];e.appendChild(a);d=f||d;d.insertBefore(e,d.firstChild);n.appendChecked=b.checked;n.boxModel=a.offsetWidth===2;"zoom"in a.style&&(a.style.display=
"inline",a.style.zoom=1,n.inlineBlockNeedsLayout=a.offsetWidth===2,a.style.display="",a.innerHTML="<div style='width:4px;'></div>",n.shrinkWrapBlocks=a.offsetWidth!==2);a.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>";f=a.getElementsByTagName("td");b=f[0].offsetHeight===0;f[0].style.display="";f[1].style.display="none";n.reliableHiddenOffsets=b&&f[0].offsetHeight===0;a.innerHTML="";X.defaultView&&X.defaultView.getComputedStyle&&(i=X.createElement("div"),
i.style.width="0",i.style.marginRight="0",a.appendChild(i),n.reliableMarginRight=(parseInt((X.defaultView.getComputedStyle(i,null)||{marginRight:0}).marginRight,10)||0)===0);e.innerHTML="";d.removeChild(e);if(a.attachEvent)for(p in{submit:1,change:1,focusin:1}){i="on"+p;(b=i in a)||(a.setAttribute(i,"return;"),b=typeof a[i]=="function");n[p+"Bubbles"]=b}e=e=f=g=f=i=a=b=null;return n}();c.boxModel=c.support.boxModel;var N=/^(?:\{.*\}|\[.*\])$/,S=/([a-z])([A-Z])/g;c.extend({cache:{},uuid:0,expando:"jQuery"+
(c.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:true,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:true},hasData:function(a){a=a.nodeType?c.cache[a[c.expando]]:a[c.expando];return!!a&&!Oa(a)},data:function(a,d,b,e){if(c.acceptData(a)){var f=c.expando,g=typeof d=="string",i=a.nodeType,n=i?c.cache:a,p=i?a[c.expando]:a[c.expando]&&c.expando;if(!((!p||e&&p&&!n[p][f])&&g&&b===h)){p||(i?(a[c.expando]=p=++c.uuid):(p=c.expando));n[p]||(n[p]={},i||(n[p].toJSON=c.noop));if(typeof d==
"object"||typeof d=="function")e?(n[p][f]=c.extend(n[p][f],d)):(n[p]=c.extend(n[p],d));a=n[p];e&&(a[f]||(a[f]={}),a=a[f]);b!==h&&(a[c.camelCase(d)]=b);if(d==="events"&&!a[d])return a[f]&&a[f].events;return g?a[c.camelCase(d)]||a[d]:a}}},removeData:function(a,d,b){if(c.acceptData(a)){var e=c.expando,f=a.nodeType,g=f?c.cache:a,i=f?a[c.expando]:c.expando;if(g[i]){if(d){var n=b?g[i][e]:g[i];if(n){delete n[d];if(!Oa(n))return}}if(b){delete g[i][e];if(!Oa(g[i]))return}d=g[i][e];c.support.deleteExpando||
g!=j?delete g[i]:(g[i]=null);d?(g[i]={},f||(g[i].toJSON=c.noop),g[i][e]=d):f&&(c.support.deleteExpando?delete a[c.expando]:a.removeAttribute?a.removeAttribute(c.expando):(a[c.expando]=null))}}},_data:function(a,d,b){return c.data(a,d,b,true)},acceptData:function(a){if(a.nodeName){var d=c.noData[a.nodeName.toLowerCase()];if(d)return d!==true&&a.getAttribute("classid")===d}return true}});c.fn.extend({data:function(a,d){var b=null;if(typeof a=="undefined"){if(this.length){b=c.data(this[0]);if(this[0].nodeType===
1)for(var e=this[0].attributes,f,g=0,i=e.length;g<i;g++){f=e[g].name;f.indexOf("data-")===0&&(f=c.camelCase(f.substring(5)),Ra(this[0],f,b[f]))}}return b}if(typeof a=="object")return this.each(function(){c.data(this,a)});var n=a.split(".");n[1]=n[1]?"."+n[1]:"";if(d===h){b=this.triggerHandler("getData"+n[1]+"!",[n[0]]);b===h&&this.length&&(b=c.data(this[0],a),b=Ra(this[0],a,b));return b===h&&n[1]?this.data(n[0]):b}return this.each(function(){var p=c(this),r=[n[0],d];p.triggerHandler("setData"+n[1]+
"!",r);c.data(this,a,d);p.triggerHandler("changeData"+n[1]+"!",r)})},removeData:function(a){return this.each(function(){c.removeData(this,a)})}});c.extend({_mark:function(a,d){a&&(d=(d||"fx")+"mark",c.data(a,d,(c.data(a,d,h,true)||0)+1,true))},_unmark:function(a,d,b){a!==true&&(b=d,d=a,a=false);if(d){b=b||"fx";var e=b+"mark";(a=a?0:(c.data(d,e,h,true)||1)-1)?c.data(d,e,a,true):(c.removeData(d,e,true),xa(d,b,"mark"))}},queue:function(a,d,b){if(a){d=(d||"fx")+"queue";var e=c.data(a,d,h,true);b&&(!e||
c.isArray(b)?(e=c.data(a,d,c.makeArray(b),true)):e.push(b));return e||[]}},dequeue:function(a,d){d=d||"fx";var b=c.queue(a,d),e=b.shift();e==="inprogress"&&(e=b.shift());e&&(d==="fx"&&b.unshift("inprogress"),e.call(a,function(){c.dequeue(a,d)}));b.length||(c.removeData(a,d+"queue",true),xa(a,d,"queue"))}});c.fn.extend({queue:function(a,d){typeof a!="string"&&(d=a,a="fx");if(d===h)return c.queue(this[0],a);return this.each(function(){var b=c.queue(this,a,d);a==="fx"&&b[0]!=="inprogress"&&c.dequeue(this,
a)})},dequeue:function(a){return this.each(function(){c.dequeue(this,a)})},delay:function(a,d){a=c.fx?c.fx.speeds[a]||a:a;d=d||"fx";return this.queue(d,function(){var b=this;setTimeout(function(){c.dequeue(b,d)},a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,d){function b(){--i||e.resolveWith(f,[f])}typeof a!="string"&&(d=a,a=h);a=a||"fx";for(var e=c.Deferred(),f=this,g=f.length,i=1,n=a+"defer",p=a+"queue",r=a+"mark",x;g--;)if(x=c.data(f[g],n,h,true)||(c.data(f[g],
p,h,true)||c.data(f[g],r,h,true))&&c.data(f[g],n,c._Deferred(),true)){i++;x.done(b)}b();return e.promise()}});var ja=/[\n\t\r]/g,ia=/\s+/,wa=/\r/g,Ga=/^(?:button|input)$/i,ua=/^(?:button|input|object|select|textarea)$/i,Na=/^a(?:rea)?$/i,H=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,ea=/\:|^on/,aa,ha;c.fn.extend({attr:function(a,d){return c.access(this,a,d,true,c.attr)},removeAttr:function(a){return this.each(function(){c.removeAttr(this,
a)})},prop:function(a,d){return c.access(this,a,d,true,c.prop)},removeProp:function(a){a=c.propFix[a]||a;return this.each(function(){try{this[a]=h;delete this[a]}catch(d){}})},addClass:function(a){var d,b,e,f,g,i,n;if(c.isFunction(a))return this.each(function(p){c(this).addClass(a.call(this,p,this.className))});if(a&&typeof a=="string"){d=a.split(ia);b=0;for(e=this.length;b<e;b++){f=this[b];if(f.nodeType===1)if(!f.className&&d.length===1)f.className=a;else{g=" "+f.className+" ";i=0;for(n=d.length;i<
n;i++)~g.indexOf(" "+d[i]+" ")||(g+=d[i]+" ");f.className=c.trim(g)}}}return this},removeClass:function(a){var d,b,e,f,g,i,n;if(c.isFunction(a))return this.each(function(p){c(this).removeClass(a.call(this,p,this.className))});if(a&&typeof a=="string"||a===h){d=(a||"").split(ia);b=0;for(e=this.length;b<e;b++){f=this[b];if(f.nodeType===1&&f.className)if(a){g=(" "+f.className+" ").replace(ja," ");i=0;for(n=d.length;i<n;i++)g=g.replace(" "+d[i]+" "," ");f.className=c.trim(g)}else f.className=""}}return this},
toggleClass:function(a,d){var b=typeof a,e=typeof d=="boolean";if(c.isFunction(a))return this.each(function(f){c(this).toggleClass(a.call(this,f,this.className,d),d)});return this.each(function(){if(b==="string")for(var f,g=0,i=c(this),n=d,p=a.split(ia);f=p[g++];){n=e?n:!i.hasClass(f);i[n?"addClass":"removeClass"](f)}else if(b==="undefined"||b==="boolean"){this.className&&c._data(this,"__className__",this.className);this.className=this.className||a===false?"":c._data(this,"__className__")||""}})},
hasClass:function(a){for(var d=0,b=this.length;d<b;d++)if((" "+this[d].className+" ").replace(ja," ").indexOf(" "+a+" ")>-1)return true;return false},val:function(a){var d,b,e=this[0];if(!arguments.length){if(e){if((d=c.valHooks[e.nodeName.toLowerCase()]||c.valHooks[e.type])&&"get"in d&&(b=d.get(e,"value"))!==h)return b;b=e.value;return typeof b=="string"?b.replace(wa,""):b==null?"":b}return h}var f=c.isFunction(a);return this.each(function(g){var i=c(this),n;if(this.nodeType===1){f?(n=a.call(this,
g,i.val())):(n=a);n==null?(n=""):typeof n=="number"?(n+=""):c.isArray(n)&&(n=c.map(n,function(p){return p==null?"":p+""}));d=c.valHooks[this.nodeName.toLowerCase()]||c.valHooks[this.type];if(!d||!("set"in d)||d.set(this,n,"value")===h)this.value=n}})}});c.extend({valHooks:{option:{get:function(a){var d=a.attributes.value;return!d||d.specified?a.value:a.text}},select:{get:function(a){var d,b=a.selectedIndex,e=[],f=a.options;a=a.type==="select-one";if(b<0)return null;for(var g=a?b:0,i=a?b+1:f.length;g<
i;g++){d=f[g];if(d.selected&&(c.support.optDisabled?!d.disabled:d.getAttribute("disabled")===null)&&(!d.parentNode.disabled||!c.nodeName(d.parentNode,"optgroup"))){d=c(d).val();if(a)return d;e.push(d)}}if(a&&!e.length&&f.length)return c(f[b]).val();return e},set:function(a,d){var b=c.makeArray(d);c(a).find("option").each(function(){this.selected=c.inArray(c(this).val(),b)>=0});b.length||(a.selectedIndex=-1);return b}}},attrFn:{val:true,css:true,html:true,text:true,data:true,width:true,height:true,
offset:true},attrFix:{tabindex:"tabIndex"},attr:function(a,d,b,e){var f=a.nodeType;if(!a||f===3||f===8||f===2)return h;if(e&&d in c.attrFn)return c(a)[d](b);if(!("getAttribute"in a))return c.prop(a,d,b);var g,i;(e=f!==1||!c.isXMLDoc(a))&&(d=c.attrFix[d]||d,i=c.attrHooks[d],i||(H.test(d)?(i=ha):aa&&d!=="className"&&(c.nodeName(a,"form")||ea.test(d))&&(i=aa)));if(b!==h){if(b===null){c.removeAttr(a,d);return h}if(i&&"set"in i&&e&&(g=i.set(a,b,d))!==h)return g;a.setAttribute(d,""+b);return b}if(i&&"get"in
i&&e&&(g=i.get(a,d))!==null)return g;g=a.getAttribute(d);return g===null?h:g},removeAttr:function(a,d){var b;a.nodeType===1&&(d=c.attrFix[d]||d,c.support.getSetAttribute?a.removeAttribute(d):(c.attr(a,d,""),a.removeAttributeNode(a.getAttributeNode(d))),H.test(d)&&(b=c.propFix[d]||d)in a&&(a[b]=false))},attrHooks:{type:{set:function(a,d){if(Ga.test(a.nodeName)&&a.parentNode)c.error("type property can't be changed");else if(!c.support.radioValue&&d==="radio"&&c.nodeName(a,"input")){var b=a.value;a.setAttribute("type",
d);b&&(a.value=b);return d}}},tabIndex:{get:function(a){var d=a.getAttributeNode("tabIndex");return d&&d.specified?parseInt(d.value,10):ua.test(a.nodeName)||Na.test(a.nodeName)&&a.href?0:h}},value:{get:function(a,d){if(aa&&c.nodeName(a,"button"))return aa.get(a,d);return d in a?a.value:null},set:function(a,d,b){if(aa&&c.nodeName(a,"button"))return aa.set(a,d,b);a.value=d}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",
cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,d,b){var e=a.nodeType;if(!a||e===3||e===8||e===2)return h;var f,g;(e!==1||!c.isXMLDoc(a))&&(d=c.propFix[d]||d,g=c.propHooks[d]);return b!==h?g&&"set"in g&&(f=g.set(a,b,d))!==h?f:(a[d]=b):g&&"get"in g&&(f=g.get(a,d))!==h?f:a[d]},propHooks:{}});ha={get:function(a,d){return c.prop(a,d)?d.toLowerCase():h},set:function(a,d,b){var e;d===false?c.removeAttr(a,
b):(e=c.propFix[b]||b,e in a&&(a[e]=true),a.setAttribute(b,b.toLowerCase()));return b}};c.support.getSetAttribute||(c.attrFix=c.propFix,aa=c.attrHooks.name=c.attrHooks.title=c.valHooks.button={get:function(a,d){var b;return(b=a.getAttributeNode(d))&&b.nodeValue!==""?b.nodeValue:h},set:function(a,d,b){if(a=a.getAttributeNode(b))return a.nodeValue=d}},c.each(["width","height"],function(a,d){c.attrHooks[d]=c.extend(c.attrHooks[d],{set:function(b,e){if(e===""){b.setAttribute(d,"auto");return e}}})}));
c.support.hrefNormalized||c.each(["href","src","width","height"],function(a,d){c.attrHooks[d]=c.extend(c.attrHooks[d],{get:function(b){b=b.getAttribute(d,2);return b===null?h:b}})});c.support.style||(c.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||h},set:function(a,d){return a.style.cssText=""+d}});c.support.optSelected||(c.propHooks.selected=c.extend(c.propHooks.selected,{get:function(){}}));c.support.checkOn||c.each(["radio","checkbox"],function(){c.valHooks[this]={get:function(a){return a.getAttribute("value")===
null?"on":a.value}}});c.each(["radio","checkbox"],function(){c.valHooks[this]=c.extend(c.valHooks[this],{set:function(a,d){if(c.isArray(d))return a.checked=c.inArray(c(a).val(),d)>=0}})});var sa=/\.(.*)$/,ta=/^(?:textarea|input|select)$/i,La=/\./g,gb=/ /g,kb=/[^\w\s.|`]/g,Fb=function(a){return a.replace(kb,"\\$&")};c.event={add:function(a,d,b,e){if(a.nodeType!==3&&a.nodeType!==8){if(b===false)b=ga;else if(!b)return;var f,g;b.handler&&(f=b,b=f.handler);b.guid||(b.guid=c.guid++);if(g=c._data(a)){var i=
g.events,n=g.handle;i||(g.events=i={});n||(g.handle=n=function(ba){return typeof c!="undefined"&&(!ba||c.event.triggered!==ba.type)?c.event.handle.apply(n.elem,arguments):h});n.elem=a;d=d.split(" ");for(var p,r=0,x;p=d[r++];){g=f?c.extend({},f):{handler:b,data:e};p.indexOf(".")>-1?(x=p.split("."),p=x.shift(),g.namespace=x.slice(0).sort().join(".")):(x=[],g.namespace="");g.type=p;g.guid||(g.guid=b.guid);var B=i[p],R=c.event.special[p]||{};if(!B){B=i[p]=[];if(!R.setup||R.setup.call(a,e,x,n)===false)a.addEventListener?
a.addEventListener(p,n,false):a.attachEvent&&a.attachEvent("on"+p,n)}R.add&&(R.add.call(a,g),g.handler.guid||(g.handler.guid=b.guid));B.push(g);c.event.global[p]=true}a=null}}},global:{},remove:function(a,d,b,e){if(a.nodeType!==3&&a.nodeType!==8){b===false&&(b=ga);var f,g,i=0,n,p,r,x,B,R,ba=c.hasData(a)&&c._data(a),ka=ba&&ba.events;if(ba&&ka){d&&d.type&&(b=d.handler,d=d.type);if(!d||typeof d=="string"&&d.charAt(0)===".")for(f in ka)c.event.remove(a,f+(d||""));else{for(d=d.split(" ");f=d[i++];){x=
f;n=f.indexOf(".")<0;p=[];n||(p=f.split("."),f=p.shift(),r=new RegExp("(^|\\.)"+c.map(p.slice(0).sort(),Fb).join("\\.(?:.*\\.)?")+"(\\.|$)"));if(B=ka[f])if(b){x=c.event.special[f]||{};for(g=e||0;g<B.length;g++){R=B[g];if(b.guid===R.guid){if(n||r.test(R.namespace)){e==null&&B.splice(g--,1);x.remove&&x.remove.call(a,R)}if(e!=null)break}}if(B.length===0||e!=null&&B.length===1){(!x.teardown||x.teardown.call(a,p)===false)&&c.removeEvent(a,f,ba.handle);delete ka[f]}}else for(g=0;g<B.length;g++){R=B[g];
if(n||r.test(R.namespace)){c.event.remove(a,x,R.handler,g);B.splice(g--,1)}}}if(c.isEmptyObject(ka)){(d=ba.handle)&&(d.elem=null);delete ba.events;delete ba.handle;c.isEmptyObject(ba)&&c.removeData(a,h,true)}}}}},customEvent:{getData:true,setData:true,changeData:true},trigger:function(a,d,b,e){var f=a.type||a,g=[],i;f.indexOf("!")>=0&&(f=f.slice(0,-1),i=true);f.indexOf(".")>=0&&(g=f.split("."),f=g.shift(),g.sort());if(b&&!c.event.customEvent[f]||c.event.global[f]){a=typeof a=="object"?a[c.expando]?
a:new c.Event(f,a):new c.Event(f);a.type=f;a.exclusive=i;a.namespace=g.join(".");a.namespace_re=new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.)?")+"(\\.|$)");if(e||!b){a.preventDefault();a.stopPropagation()}if(b){if(!(b.nodeType===3||b.nodeType===8)){a.result=h;a.target=b;d=d!=null?c.makeArray(d):[];d.unshift(a);g=b;e=f.indexOf(":")<0?"on"+f:"";do{i=c._data(g,"handle");a.currentTarget=g;i&&i.apply(g,d);e&&c.acceptData(g)&&g[e]&&g[e].apply(g,d)===false&&(a.result=false,a.preventDefault());g=g.parentNode||
g.ownerDocument||g===a.target.ownerDocument&&j}while(g&&!a.isPropagationStopped());if(!a.isDefaultPrevented()){var n;g=c.event.special[f]||{};if((!g._default||g._default.call(b.ownerDocument,a)===false)&&(f!=="click"||!c.nodeName(b,"a"))&&c.acceptData(b)){try{e&&b[f]&&(n=b[e],n&&(b[e]=null),c.event.triggered=f,b[f]())}catch(p){}n&&(b[e]=n);c.event.triggered=h}}return a.result}}else c.each(c.cache,function(){var r=this[c.expando];r&&r.events&&r.events[f]&&c.event.trigger(a,d,r.handle.elem)})}},handle:function(a){a=
c.event.fix(a||j.event);var d=((c._data(this,"events")||{})[a.type]||[]).slice(0),b=!a.exclusive&&!a.namespace,e=Array.prototype.slice.call(arguments,0);e[0]=a;a.currentTarget=this;for(var f=0,g=d.length;f<g;f++){var i=d[f];if(b||a.namespace_re.test(i.namespace)){a.handler=i.handler;a.data=i.data;a.handleObj=i;i=i.handler.apply(this,e);i!==h&&(a.result=i,i===false&&(a.preventDefault(),a.stopPropagation()));if(a.isImmediatePropagationStopped())break}}return a.result},props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),
fix:function(a){if(a[c.expando])return a;var d=a;a=c.Event(d);for(var b=this.props.length,e;b;){e=this.props[--b];a[e]=d[e]}a.target||(a.target=a.srcElement||X);a.target.nodeType===3&&(a.target=a.target.parentNode);!a.relatedTarget&&a.fromElement&&(a.relatedTarget=a.fromElement===a.target?a.toElement:a.fromElement);if(a.pageX==null&&a.clientX!=null){b=a.target.ownerDocument||X;d=b.documentElement;b=b.body;a.pageX=a.clientX+(d&&d.scrollLeft||b&&b.scrollLeft||0)-(d&&d.clientLeft||b&&b.clientLeft||0);
a.pageY=a.clientY+(d&&d.scrollTop||b&&b.scrollTop||0)-(d&&d.clientTop||b&&b.clientTop||0)}a.which==null&&(a.charCode!=null||a.keyCode!=null)&&(a.which=a.charCode!=null?a.charCode:a.keyCode);!a.metaKey&&a.ctrlKey&&(a.metaKey=a.ctrlKey);!a.which&&a.button!==h&&(a.which=a.button&1?1:a.button&2?3:a.button&4?2:0);return a},guid:1E8,proxy:c.proxy,special:{ready:{setup:c.bindReady,teardown:c.noop},live:{add:function(a){c.event.add(this,ca(a.origType,a.selector),c.extend({},a,{handler:oa,guid:a.handler.guid}))},
remove:function(a){c.event.remove(this,ca(a.origType,a.selector),a)}},beforeunload:{setup:function(a,d,b){c.isWindow(this)&&(this.onbeforeunload=b)},teardown:function(a,d){this.onbeforeunload===d&&(this.onbeforeunload=null)}}}};c.removeEvent=X.removeEventListener?function(a,d,b){a.removeEventListener&&a.removeEventListener(d,b,false)}:function(a,d,b){a.detachEvent&&a.detachEvent("on"+d,b)};c.Event=function(a,d){if(!this.preventDefault)return new c.Event(a,d);a&&a.type?(this.originalEvent=a,this.type=
a.type,this.isDefaultPrevented=a.defaultPrevented||a.returnValue===false||a.getPreventDefault&&a.getPreventDefault()?fa:ga):(this.type=a);d&&c.extend(this,d);this.timeStamp=c.now();this[c.expando]=true};c.Event.prototype={preventDefault:function(){this.isDefaultPrevented=fa;var a=this.originalEvent;!a||(a.preventDefault?a.preventDefault():(a.returnValue=false))},stopPropagation:function(){this.isPropagationStopped=fa;var a=this.originalEvent;!a||(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=
true)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=fa;this.stopPropagation()},isDefaultPrevented:ga,isPropagationStopped:ga,isImmediatePropagationStopped:ga};var Rb=function(a){var d=a.relatedTarget,b=false,e=a.type;a.type=a.data;d!==this&&(d&&(b=c.contains(this,d)),b||(c.event.handle.apply(this,arguments),a.type=e))},Sb=function(a){a.type=a.data;c.event.handle.apply(this,arguments)};c.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,d){c.event.special[a]=
{setup:function(b){c.event.add(this,d,b&&b.selector?Sb:Rb,a)},teardown:function(b){c.event.remove(this,d,b&&b.selector?Sb:Rb)}}});c.support.submitBubbles||(c.event.special.submit={setup:function(){if(c.nodeName(this,"form"))return false;else{c.event.add(this,"click.specialSubmit",function(a){var d=a.target,b=d.type;(b==="submit"||b==="image")&&c(d).closest("form").length&&T("submit",this,arguments)});c.event.add(this,"keypress.specialSubmit",function(a){var d=a.target,b=d.type;(b==="text"||b==="password")&&
c(d).closest("form").length&&a.keyCode===13&&T("submit",this,arguments)})}},teardown:function(){c.event.remove(this,".specialSubmit")}});if(!c.support.changeBubbles){var lb,Gb=function(a){var d=a.type,b=a.value;d==="radio"||d==="checkbox"?(b=a.checked):d==="select-multiple"?(b=a.selectedIndex>-1?c.map(a.options,function(e){return e.selected}).join("-"):""):c.nodeName(a,"select")&&(b=a.selectedIndex);return b},Hb=function(a,d){var b=a.target,e,f;if(ta.test(b.nodeName)&&!b.readOnly){e=c._data(b,"_change_data");
f=Gb(b);(a.type!=="focusout"||b.type!=="radio")&&c._data(b,"_change_data",f);if(!(e===h||f===e))if(e!=null||f){a.type="change";a.liveFired=h;c.event.trigger(a,d,b)}}};c.event.special.change={filters:{focusout:Hb,beforedeactivate:Hb,click:function(a){var d=a.target,b=c.nodeName(d,"input")?d.type:"";(b==="radio"||b==="checkbox"||c.nodeName(d,"select"))&&Hb.call(this,a)},keydown:function(a){var d=a.target,b=c.nodeName(d,"input")?d.type:"";(a.keyCode===13&&!c.nodeName(d,"textarea")||a.keyCode===32&&(b===
"checkbox"||b==="radio")||b==="select-multiple")&&Hb.call(this,a)},beforeactivate:function(a){a=a.target;c._data(a,"_change_data",Gb(a))}},setup:function(){if(this.type==="file")return false;for(var a in lb)c.event.add(this,a+".specialChange",lb[a]);return ta.test(this.nodeName)},teardown:function(){c.event.remove(this,".specialChange");return ta.test(this.nodeName)}};lb=c.event.special.change.filters;lb.focus=lb.beforeactivate}c.support.focusinBubbles||c.each({focus:"focusin",blur:"focusout"},function(a,
d){function b(f){var g=c.event.fix(f);g.type=d;g.originalEvent={};c.event.trigger(g,null,g.target);g.isDefaultPrevented()&&f.preventDefault()}var e=0;c.event.special[d]={setup:function(){e++===0&&X.addEventListener(a,b,true)},teardown:function(){--e===0&&X.removeEventListener(a,b,true)}}});c.each(["bind","one"],function(a,d){c.fn[d]=function(b,e,f){var g;if(typeof b=="object"){for(var i in b)this[d](i,e,b[i],f);return this}if(arguments.length===2||e===false){f=e;e=h}d==="one"?(g=function(p){c(this).unbind(p,
g);return f.apply(this,arguments)},g.guid=f.guid||c.guid++):(g=f);if(b==="unload"&&d!=="one")this.one(b,e,f);else{i=0;for(var n=this.length;i<n;i++)c.event.add(this[i],b,g,e)}return this}});c.fn.extend({unbind:function(a,d){if(typeof a=="object"&&!a.preventDefault)for(var b in a)this.unbind(b,a[b]);else{b=0;for(var e=this.length;b<e;b++)c.event.remove(this[b],a,d)}return this},delegate:function(a,d,b,e){return this.live(d,b,e,a)},undelegate:function(a,d,b){return arguments.length===0?this.unbind("live"):
this.die(d,null,b,a)},trigger:function(a,d){return this.each(function(){c.event.trigger(a,d,this)})},triggerHandler:function(a,d){if(this[0])return c.event.trigger(a,d,this[0],true)},toggle:function(a){var d=arguments,b=a.guid||c.guid++,e=0,f=function(g){var i=(c.data(this,"lastToggle"+a.guid)||0)%e;c.data(this,"lastToggle"+a.guid,i+1);g.preventDefault();return d[i].apply(this,arguments)||false};for(f.guid=b;e<d.length;)d[e++].guid=b;return this.click(f)},hover:function(a,d){return this.mouseenter(a).mouseleave(d||
a)}});var rb={focus:"focusin",blur:"focusout",mouseenter:"mouseover",mouseleave:"mouseout"};c.each(["live","die"],function(a,d){c.fn[d]=function(b,e,f,g){var i=0,n,p,r=g||this.selector,x=g?this:c(this.context);if(typeof b=="object"&&!b.preventDefault){for(n in b)x[d](n,e,b[n],r);return this}if(d==="die"&&!b&&g&&g.charAt(0)==="."){x.unbind(g);return this}if(e===false||c.isFunction(e)){f=e||ga;e=h}for(b=(b||"").split(" ");(g=b[i++])!=null;){n=sa.exec(g);p="";n&&(p=n[0],g=g.replace(sa,""));if(g==="hover")b.push("mouseenter"+
p,"mouseleave"+p);else{n=g;rb[g]?(b.push(rb[g]+p),g+=p):(g=(rb[g]||g)+p);if(d==="live"){p=0;for(var B=x.length;p<B;p++)c.event.add(x[p],"live."+ca(g,r),{data:e,selector:r,handler:f,origType:g,origHandler:f,preType:n})}else x.unbind("live."+ca(g,r),f)}}return this}});c.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error".split(" "),function(a,d){c.fn[d]=function(b,
e){e==null&&(e=b,b=null);return arguments.length>0?this.bind(d,b,e):this.trigger(d)};c.attrFn&&(c.attrFn[d]=true)});(function(){function a(o,t,F,I,C,J){C=0;for(var U=I.length;C<U;C++){var Z=I[C];if(Z){var ra=false;for(Z=Z[o];Z;){if(Z.sizcache===F){ra=I[Z.sizset];break}if(Z.nodeType===1){J||(Z.sizcache=F,Z.sizset=C);if(typeof t!="string"){if(Z===t){ra=true;break}}else if(r.filter(t,[Z]).length>0){ra=Z;break}}Z=Z[o]}I[C]=ra}}}function d(o,t,F,I,C,J){C=0;for(var U=I.length;C<U;C++){var Z=I[C];if(Z){var ra=
false;for(Z=Z[o];Z;){if(Z.sizcache===F){ra=I[Z.sizset];break}Z.nodeType===1&&!J&&(Z.sizcache=F,Z.sizset=C);if(Z.nodeName.toLowerCase()===t){ra=Z;break}Z=Z[o]}I[C]=ra}}}var b=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,e=0,f=Object.prototype.toString,g=false,i=true,n=/\\/g,p=/\W/;[0,0].sort(function(){i=false;return 0});var r=function(o,t,F,I){F=F||[];var C=t=t||X;if(t.nodeType!==1&&t.nodeType!==9)return[];if(!o||
typeof o!="string")return F;var J,U,Z,ra,Ma,Ja,Sa=true,v=r.isXML(t),K=[],da=o;do{b.exec("");if(J=b.exec(da)){da=J[3];K.push(J[1]);if(J[2]){ra=J[3];break}}}while(J);if(K.length>1&&B.exec(o))if(K.length===2&&x.relative[K[0]])U=Ca(K[0]+K[1],t);else for(U=x.relative[K[0]]?[t]:r(K.shift(),t);K.length;){o=K.shift();x.relative[o]&&(o+=K.shift());U=Ca(o,U)}else{!I&&K.length>1&&t.nodeType===9&&!v&&x.match.ID.test(K[0])&&!x.match.ID.test(K[K.length-1])&&(Ma=r.find(K.shift(),t,v),t=Ma.expr?r.filter(Ma.expr,
Ma.set)[0]:Ma.set[0]);if(t){Ma=I?{expr:K.pop(),set:ka(I)}:r.find(K.pop(),K.length===1&&(K[0]==="~"||K[0]==="+")&&t.parentNode?t.parentNode:t,v);U=Ma.expr?r.filter(Ma.expr,Ma.set):Ma.set;for(K.length>0?(Z=ka(U)):(Sa=false);K.length;){J=Ja=K.pop();x.relative[Ja]?(J=K.pop()):(Ja="");J==null&&(J=t);x.relative[Ja](Z,J,v)}}else Z=[]}Z||(Z=U);Z||r.error(Ja||o);if(f.call(Z)==="[object Array]")if(Sa)if(t&&t.nodeType===1)for(o=0;Z[o]!=null;o++)Z[o]&&(Z[o]===true||Z[o].nodeType===1&&r.contains(t,Z[o]))&&F.push(U[o]);
else for(o=0;Z[o]!=null;o++)Z[o]&&Z[o].nodeType===1&&F.push(U[o]);else F.push.apply(F,Z);else ka(Z,F);ra&&(r(ra,C,F,I),r.uniqueSort(F));return F};r.uniqueSort=function(o){if(za){g=i;o.sort(za);if(g)for(var t=1;t<o.length;t++)o[t]===o[t-1]&&o.splice(t--,1)}return o};r.matches=function(o,t){return r(o,null,null,t)};r.matchesSelector=function(o,t){return r(t,null,null,[o]).length>0};r.find=function(o,t,F){var I;if(!o)return[];for(var C=0,J=x.order.length;C<J;C++){var U,Z=x.order[C];if(U=x.leftMatch[Z].exec(o)){var ra=
U[1];U.splice(1,1);if(ra.substr(ra.length-1)!=="\\"){U[1]=(U[1]||"").replace(n,"");I=x.find[Z](U,t,F);if(I!=null){o=o.replace(x.match[Z],"");break}}}}I||(I=typeof t.getElementsByTagName!="undefined"?t.getElementsByTagName("*"):[]);return{set:I,expr:o}};r.filter=function(o,t,F,I){for(var C,J,U=o,Z=[],ra=t,Ma=t&&t[0]&&r.isXML(t[0]);o&&t.length;){for(var Ja in x.filter)if((C=x.leftMatch[Ja].exec(o))!=null&&C[2]){var Sa,v,K=x.filter[Ja];v=C[1];J=false;C.splice(1,1);if(v.substr(v.length-1)!=="\\"){ra===
Z&&(Z=[]);if(x.preFilter[Ja])if(C=x.preFilter[Ja](C,ra,F,Z,I,Ma)){if(C===true)continue}else J=Sa=true;if(C)for(var da=0;(v=ra[da])!=null;da++)if(v){Sa=K(v,C,da,ra);var Y=I^!!Sa;F&&Sa!=null?Y?(J=true):(ra[da]=false):Y&&(Z.push(v),J=true)}if(Sa!==h){F||(ra=Z);o=o.replace(x.match[Ja],"");if(!J)return[];break}}}if(o===U)if(J==null)r.error(o);else break;U=o}return ra};r.error=function(o){throw"Syntax error, unrecognized expression: "+o;};var x=r.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,
CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},
leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(o){return o.getAttribute("href")},type:function(o){return o.getAttribute("type")}},relative:{"+":function(o,t){var F=typeof t=="string",I=F&&!p.test(t);F=F&&!I;I&&(t=t.toLowerCase());I=0;for(var C=o.length,J;I<C;I++)if(J=o[I]){for(;(J=J.previousSibling)&&J.nodeType!==1;);o[I]=F||J&&J.nodeName.toLowerCase()===t?J||false:J===t}F&&r.filter(t,o,true)},">":function(o,t){var F,I=typeof t=="string",C=0,J=o.length;if(I&&
!p.test(t))for(t=t.toLowerCase();C<J;C++){if(F=o[C]){F=F.parentNode;o[C]=F.nodeName.toLowerCase()===t?F:false}}else{for(;C<J;C++)(F=o[C])&&(o[C]=I?F.parentNode:F.parentNode===t);I&&r.filter(t,o,true)}},"":function(o,t,F){var I,C=e++,J=a;typeof t=="string"&&!p.test(t)&&(t=t.toLowerCase(),I=t,J=d);J("parentNode",t,C,o,I,F)},"~":function(o,t,F){var I,C=e++,J=a;typeof t=="string"&&!p.test(t)&&(t=t.toLowerCase(),I=t,J=d);J("previousSibling",t,C,o,I,F)}},find:{ID:function(o,t,F){if(typeof t.getElementById!=
"undefined"&&!F)return(o=t.getElementById(o[1]))&&o.parentNode?[o]:[]},NAME:function(o,t){if(typeof t.getElementsByName!="undefined"){for(var F=[],I=t.getElementsByName(o[1]),C=0,J=I.length;C<J;C++)I[C].getAttribute("name")===o[1]&&F.push(I[C]);return F.length===0?null:F}},TAG:function(o,t){if(typeof t.getElementsByTagName!="undefined")return t.getElementsByTagName(o[1])}},preFilter:{CLASS:function(o,t,F,I,C,J){o=" "+o[1].replace(n,"")+" ";if(J)return o;J=0;for(var U;(U=t[J])!=null;J++)U&&(C^(U.className&&
(" "+U.className+" ").replace(/[\t\n\r]/g," ").indexOf(o)>=0)?F||I.push(U):F&&(t[J]=false));return false},ID:function(o){return o[1].replace(n,"")},TAG:function(o){return o[1].replace(n,"").toLowerCase()},CHILD:function(o){if(o[1]==="nth"){o[2]||r.error(o[0]);o[2]=o[2].replace(/^\+|\s*/g,"");var t=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(o[2]==="even"&&"2n"||o[2]==="odd"&&"2n+1"||!/\D/.test(o[2])&&"0n+"+o[2]||o[2]);o[2]=t[1]+(t[2]||1)-0;o[3]=t[3]-0}else o[2]&&r.error(o[0]);o[0]=e++;return o},ATTR:function(o,
t,F,I,C,J){t=o[1]=o[1].replace(n,"");!J&&x.attrMap[t]&&(o[1]=x.attrMap[t]);o[4]=(o[4]||o[5]||"").replace(n,"");o[2]==="~="&&(o[4]=" "+o[4]+" ");return o},PSEUDO:function(o,t,F,I,C){if(o[1]==="not")if((b.exec(o[3])||"").length>1||/^\w/.test(o[3]))o[3]=r(o[3],null,null,t);else{o=r.filter(o[3],t,F,true^C);F||I.push.apply(I,o);return false}else if(x.match.POS.test(o[0])||x.match.CHILD.test(o[0]))return true;return o},POS:function(o){o.unshift(true);return o}},filters:{enabled:function(o){return o.disabled===
false&&o.type!=="hidden"},disabled:function(o){return o.disabled===true},checked:function(o){return o.checked===true},selected:function(o){return o.selected===true},parent:function(o){return!!o.firstChild},empty:function(o){return!o.firstChild},has:function(o,t,F){return!!r(F[3],o).length},header:function(o){return/h\d/i.test(o.nodeName)},text:function(o){var t=o.getAttribute("type"),F=o.type;return o.nodeName.toLowerCase()==="input"&&"text"===F&&(t===F||t===null)},radio:function(o){return o.nodeName.toLowerCase()===
"input"&&"radio"===o.type},checkbox:function(o){return o.nodeName.toLowerCase()==="input"&&"checkbox"===o.type},file:function(o){return o.nodeName.toLowerCase()==="input"&&"file"===o.type},password:function(o){return o.nodeName.toLowerCase()==="input"&&"password"===o.type},submit:function(o){var t=o.nodeName.toLowerCase();return(t==="input"||t==="button")&&"submit"===o.type},image:function(o){return o.nodeName.toLowerCase()==="input"&&"image"===o.type},reset:function(o){var t=o.nodeName.toLowerCase();
return(t==="input"||t==="button")&&"reset"===o.type},button:function(o){var t=o.nodeName.toLowerCase();return t==="input"&&"button"===o.type||t==="button"},input:function(o){return/input|select|textarea|button/i.test(o.nodeName)},focus:function(o){return o===o.ownerDocument.activeElement}},setFilters:{first:function(o,t){return t===0},last:function(o,t,F,I){return t===I.length-1},even:function(o,t){return t%2===0},odd:function(o,t){return t%2===1},lt:function(o,t,F){return t<F[3]-0},gt:function(o,
t,F){return t>F[3]-0},nth:function(o,t,F){return F[3]-0===t},eq:function(o,t,F){return F[3]-0===t}},filter:{PSEUDO:function(o,t,F,I){var C=t[1],J=x.filters[C];if(J)return J(o,F,t,I);if(C==="contains")return(o.textContent||o.innerText||r.getText([o])||"").indexOf(t[3])>=0;if(C==="not"){t=t[3];F=0;for(I=t.length;F<I;F++)if(t[F]===o)return false;return true}r.error(C)},CHILD:function(o,t){var F=t[1],I=o;switch(F){case "only":case "first":for(;I=I.previousSibling;)if(I.nodeType===1)return false;if(F===
"first")return true;I=o;case "last":for(;I=I.nextSibling;)if(I.nodeType===1)return false;return true;case "nth":F=t[2];var C=t[3];if(F===1&&C===0)return true;var J=t[0],U=o.parentNode;if(U&&(U.sizcache!==J||!o.nodeIndex)){var Z=0;for(I=U.firstChild;I;I=I.nextSibling)I.nodeType===1&&(I.nodeIndex=++Z);U.sizcache=J}I=o.nodeIndex-C;return F===0?I===0:I%F===0&&I/F>=0}},ID:function(o,t){return o.nodeType===1&&o.getAttribute("id")===t},TAG:function(o,t){return t==="*"&&o.nodeType===1||o.nodeName.toLowerCase()===
t},CLASS:function(o,t){return(" "+(o.className||o.getAttribute("class"))+" ").indexOf(t)>-1},ATTR:function(o,t){var F=t[1];F=x.attrHandle[F]?x.attrHandle[F](o):o[F]!=null?o[F]:o.getAttribute(F);var I=F+"",C=t[2],J=t[4];return F==null?C==="!=":C==="="?I===J:C==="*="?I.indexOf(J)>=0:C==="~="?(" "+I+" ").indexOf(J)>=0:J?C==="!="?I!==J:C==="^="?I.indexOf(J)===0:C==="$="?I.substr(I.length-J.length)===J:C==="|="?I===J||I.substr(0,J.length+1)===J+"-":false:I&&F!==false},POS:function(o,t,F,I){var C=x.setFilters[t[2]];
if(C)return C(o,F,t,I)}}},B=x.match.POS,R=function(o,t){return"\\"+(t-0+1)};for(var ba in x.match){x.match[ba]=new RegExp(x.match[ba].source+/(?![^\[]*\])(?![^\(]*\))/.source);x.leftMatch[ba]=new RegExp(/(^(?:.|\r|\n)*?)/.source+x.match[ba].source.replace(/\\(\d+)/g,R))}var ka=function(o,t){o=Array.prototype.slice.call(o,0);if(t){t.push.apply(t,o);return t}return o};try{Array.prototype.slice.call(X.documentElement.childNodes,0)}catch(Ia){ka=function(o,t){var F=0,I=t||[];if(f.call(o)==="[object Array]")Array.prototype.push.apply(I,
o);else if(typeof o.length=="number")for(var C=o.length;F<C;F++)I.push(o[F]);else for(;o[F];F++)I.push(o[F]);return I}}var za,Ba;X.documentElement.compareDocumentPosition?(za=function(o,t){if(o===t){g=true;return 0}if(!o.compareDocumentPosition||!t.compareDocumentPosition)return o.compareDocumentPosition?-1:1;return o.compareDocumentPosition(t)&4?-1:1}):(za=function(o,t){if(o===t){g=true;return 0}if(o.sourceIndex&&t.sourceIndex)return o.sourceIndex-t.sourceIndex;var F,I,C=[],J=[];F=o.parentNode;I=
t.parentNode;var U=F;if(F===I)return Ba(o,t);if(!F)return-1;if(!I)return 1;for(;U;){C.unshift(U);U=U.parentNode}for(U=I;U;){J.unshift(U);U=U.parentNode}F=C.length;I=J.length;for(U=0;U<F&&U<I;U++)if(C[U]!==J[U])return Ba(C[U],J[U]);return U===F?Ba(o,J[U],-1):Ba(C[U],t,1)},Ba=function(o,t,F){if(o===t)return F;for(o=o.nextSibling;o;){if(o===t)return-1;o=o.nextSibling}return 1});r.getText=function(o){for(var t="",F,I=0;o[I];I++){F=o[I];F.nodeType===3||F.nodeType===4?(t+=F.nodeValue):F.nodeType!==8&&(t+=
r.getText(F.childNodes))}return t};(function(){var o=X.createElement("div"),t="script"+(new Date).getTime(),F=X.documentElement;o.innerHTML="<a name='"+t+"'/>";F.insertBefore(o,F.firstChild);X.getElementById(t)&&(x.find.ID=function(I,C,J){if(typeof C.getElementById!="undefined"&&!J)return(C=C.getElementById(I[1]))?C.id===I[1]||typeof C.getAttributeNode!="undefined"&&C.getAttributeNode("id").nodeValue===I[1]?[C]:h:[]},x.filter.ID=function(I,C){var J=typeof I.getAttributeNode!="undefined"&&I.getAttributeNode("id");
return I.nodeType===1&&J&&J.nodeValue===C});F.removeChild(o);F=o=null})();(function(){var o=X.createElement("div");o.appendChild(X.createComment(""));o.getElementsByTagName("*").length>0&&(x.find.TAG=function(t,F){var I=F.getElementsByTagName(t[1]);if(t[1]==="*"){for(var C=[],J=0;I[J];J++)I[J].nodeType===1&&C.push(I[J]);I=C}return I});o.innerHTML="<a href='#'></a>";o.firstChild&&typeof o.firstChild.getAttribute!="undefined"&&o.firstChild.getAttribute("href")!=="#"&&(x.attrHandle.href=function(t){return t.getAttribute("href",
2)});o=null})();X.querySelectorAll&&function(){var o=r,t=X.createElement("div");t.innerHTML="<p class='TEST'></p>";if(!t.querySelectorAll||t.querySelectorAll(".TEST").length!==0){r=function(I,C,J,U){C=C||X;if(!U&&!r.isXML(C)){var Z=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(I);if(Z&&(C.nodeType===1||C.nodeType===9)){if(Z[1])return ka(C.getElementsByTagName(I),J);if(Z[2]&&x.find.CLASS&&C.getElementsByClassName)return ka(C.getElementsByClassName(Z[2]),J)}if(C.nodeType===9){if(I==="body"&&C.body)return ka([C.body],
J);if(Z&&Z[3]){var ra=C.getElementById(Z[3]);if(!ra||!ra.parentNode)return ka([],J);if(ra.id===Z[3])return ka([ra],J)}try{return ka(C.querySelectorAll(I),J)}catch(Ma){}}else if(C.nodeType===1&&C.nodeName.toLowerCase()!=="object"){Z=C;var Ja=(ra=C.getAttribute("id"))||"__sizzle__",Sa=C.parentNode,v=/^\s*[+~]/.test(I);ra?(Ja=Ja.replace(/'/g,"\\$&")):C.setAttribute("id",Ja);v&&Sa&&(C=C.parentNode);try{if(!v||Sa)return ka(C.querySelectorAll("[id='"+Ja+"'] "+I),J)}catch(K){}finally{ra||Z.removeAttribute("id")}}}return o(I,
C,J,U)};for(var F in o)r[F]=o[F];t=null}}();(function(){var o=X.documentElement,t=o.matchesSelector||o.mozMatchesSelector||o.webkitMatchesSelector||o.msMatchesSelector;if(t){var F=!t.call(X.createElement("div"),"div"),I=false;try{t.call(X.documentElement,"[test!='']:sizzle")}catch(C){I=true}r.matchesSelector=function(J,U){U=U.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!r.isXML(J))try{if(I||!x.match.PSEUDO.test(U)&&!/!=/.test(U)){var Z=t.call(J,U);if(Z||!F||J.document&&J.document.nodeType!==11)return Z}}catch(ra){}return r(U,
null,null,[J]).length>0}}})();(function(){var o=X.createElement("div");o.innerHTML="<div class='test e'></div><div class='test'></div>";if(o.getElementsByClassName&&o.getElementsByClassName("e").length!==0){o.lastChild.className="e";if(o.getElementsByClassName("e").length!==1){x.order.splice(1,0,"CLASS");x.find.CLASS=function(t,F,I){if(typeof F.getElementsByClassName!="undefined"&&!I)return F.getElementsByClassName(t[1])};o=null}}})();X.documentElement.contains?(r.contains=function(o,t){return o!==
t&&(o.contains?o.contains(t):true)}):X.documentElement.compareDocumentPosition?(r.contains=function(o,t){return!!(o.compareDocumentPosition(t)&16)}):(r.contains=function(){return false});r.isXML=function(o){return(o=(o?o.ownerDocument||o:0).documentElement)?o.nodeName!=="HTML":false};var Ca=function(o,t){for(var F,I=[],C="",J=t.nodeType?[t]:t;F=x.match.PSEUDO.exec(o);){C+=F[0];o=o.replace(x.match.PSEUDO,"")}o=x.relative[o]?o+"*":o;F=0;for(var U=J.length;F<U;F++)r(o,J[F],I);return r.filter(C,I)};c.find=
r;c.expr=r.selectors;c.expr[":"]=c.expr.filters;c.unique=r.uniqueSort;c.text=r.getText;c.isXMLDoc=r.isXML;c.contains=r.contains})();var xb=/Until$/,yb=/^(?:parents|prevUntil|prevAll)/,zb=/,/,Ka=/^.[^:#\[\.,]*$/,lc=Array.prototype.slice,sb=c.expr.match.POS,ec={children:true,contents:true,next:true,prev:true};c.fn.extend({find:function(a){var d=this,b,e;if(typeof a!="string")return c(a).filter(function(){b=0;for(e=d.length;b<e;b++)if(c.contains(d[b],this))return true});var f=this.pushStack("","find",
a),g,i,n;b=0;for(e=this.length;b<e;b++){g=f.length;c.find(a,this[b],f);if(b>0)for(i=g;i<f.length;i++)for(n=0;n<g;n++)if(f[n]===f[i]){f.splice(i--,1);break}}return f},has:function(a){var d=c(a);return this.filter(function(){for(var b=0,e=d.length;b<e;b++)if(c.contains(this,d[b]))return true})},not:function(a){return this.pushStack(D(this,a,false),"not",a)},filter:function(a){return this.pushStack(D(this,a,true),"filter",a)},is:function(a){return!!a&&(typeof a=="string"?c.filter(a,this).length>0:this.filter(a).length>
0)},closest:function(a,d){var b=[],e,f,g=this[0];if(c.isArray(a)){var i,n={},p=1;if(g&&a.length){e=0;for(f=a.length;e<f;e++){i=a[e];n[i]||(n[i]=sb.test(i)?c(i,d||this.context):i)}for(;g&&g.ownerDocument&&g!==d;){for(i in n){e=n[i];(e.jquery?e.index(g)>-1:c(g).is(e))&&b.push({selector:i,elem:g,level:p})}g=g.parentNode;p++}}return b}i=sb.test(a)||typeof a!="string"?c(a,d||this.context):0;e=0;for(f=this.length;e<f;e++)for(g=this[e];g;){if(i?i.index(g)>-1:c.find.matchesSelector(g,a)){b.push(g);break}g=
g.parentNode;if(!g||!g.ownerDocument||g===d||g.nodeType===11)break}b=b.length>1?c.unique(b):b;return this.pushStack(b,"closest",a)},index:function(a){if(!a||typeof a=="string")return c.inArray(this[0],a?c(a):this.parent().children());return c.inArray(a.jquery?a[0]:a,this)},add:function(a,d){var b=typeof a=="string"?c(a,d):c.makeArray(a&&a.nodeType?[a]:a),e=c.merge(this.get(),b);return this.pushStack(!b[0]||!b[0].parentNode||b[0].parentNode.nodeType===11||!e[0]||!e[0].parentNode||e[0].parentNode.nodeType===
11?e:c.unique(e))},andSelf:function(){return this.add(this.prevObject)}});c.each({parent:function(a){return(a=a.parentNode)&&a.nodeType!==11?a:null},parents:function(a){return c.dir(a,"parentNode")},parentsUntil:function(a,d,b){return c.dir(a,"parentNode",b)},next:function(a){return c.nth(a,2,"nextSibling")},prev:function(a){return c.nth(a,2,"previousSibling")},nextAll:function(a){return c.dir(a,"nextSibling")},prevAll:function(a){return c.dir(a,"previousSibling")},nextUntil:function(a,d,b){return c.dir(a,
"nextSibling",b)},prevUntil:function(a,d,b){return c.dir(a,"previousSibling",b)},siblings:function(a){return c.sibling(a.parentNode.firstChild,a)},children:function(a){return c.sibling(a.firstChild)},contents:function(a){return c.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:c.makeArray(a.childNodes)}},function(a,d){c.fn[a]=function(b,e){var f=c.map(this,d,b),g=lc.call(arguments);xb.test(a)||(e=b);e&&typeof e=="string"&&(f=c.filter(e,f));f=this.length>1&&!ec[a]?c.unique(f):f;(this.length>
1||zb.test(e))&&yb.test(a)&&(f=f.reverse());return this.pushStack(f,a,g.join(","))}});c.extend({filter:function(a,d,b){b&&(a=":not("+a+")");return d.length===1?c.find.matchesSelector(d[0],a)?[d[0]]:[]:c.find.matches(a,d)},dir:function(a,d,b){var e=[];for(a=a[d];a&&a.nodeType!==9&&(b===h||a.nodeType!==1||!c(a).is(b));){a.nodeType===1&&e.push(a);a=a[d]}return e},nth:function(a,d,b){for(var e=0;a;a=a[b])if(a.nodeType===1&&++e===(d||1))break;return a},sibling:function(a,d){for(var b=[];a;a=a.nextSibling)a.nodeType===
1&&a!==d&&b.push(a);return b}});var Tb=/ jQuery\d+="(?:\d+|null)"/g,Jb=/^\s+/,Ub=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,Vb=/<([\w:]+)/,Wb=/<tbody/i,fc=/<|&#?\w+;/,ab=/<(?:script|object|embed|option|style)/i,tb=/checked\s*(?:[^=]|=\s*.checked.)/i,gc=/\/(java|ecma)script/i,dc=/^\s*<!(?:\[CDATA\[|\-\-)/,Va={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],
td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};Va.optgroup=Va.option;Va.tbody=Va.tfoot=Va.colgroup=Va.caption=Va.thead;Va.th=Va.td;c.support.htmlSerialize||(Va._default=[1,"div<div>","</div>"]);c.fn.extend({text:function(a){if(c.isFunction(a))return this.each(function(d){var b=c(this);b.text(a.call(this,d,b.text()))});if(typeof a!="object"&&a!==h)return this.empty().append((this[0]&&
this[0].ownerDocument||X).createTextNode(a));return c.text(this)},wrapAll:function(a){if(c.isFunction(a))return this.each(function(b){c(this).wrapAll(a.call(this,b))});if(this[0]){var d=c(a,this[0].ownerDocument).eq(0).clone(true);this[0].parentNode&&d.insertBefore(this[0]);d.map(function(){for(var b=this;b.firstChild&&b.firstChild.nodeType===1;)b=b.firstChild;return b}).append(this)}return this},wrapInner:function(a){if(c.isFunction(a))return this.each(function(d){c(this).wrapInner(a.call(this,d))});
return this.each(function(){var d=c(this),b=d.contents();b.length?b.wrapAll(a):d.append(a)})},wrap:function(a){return this.each(function(){c(this).wrapAll(a)})},unwrap:function(){return this.parent().each(function(){c.nodeName(this,"body")||c(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,true,function(a){this.nodeType===1&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,true,function(a){this.nodeType===1&&this.insertBefore(a,
this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,false,function(d){this.parentNode.insertBefore(d,this)});if(arguments.length){var a=c(arguments[0]);a.push.apply(a,this.toArray());return this.pushStack(a,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,false,function(d){this.parentNode.insertBefore(d,this.nextSibling)});if(arguments.length){var a=this.pushStack(this,"after",arguments);a.push.apply(a,
c(arguments[0]).toArray());return a}},remove:function(a,d){for(var b=0,e;(e=this[b])!=null;b++)if(!a||c.filter(a,[e]).length){!d&&e.nodeType===1&&(c.cleanData(e.getElementsByTagName("*")),c.cleanData([e]));e.parentNode&&e.parentNode.removeChild(e)}return this},empty:function(){for(var a=0,d;(d=this[a])!=null;a++)for(d.nodeType===1&&c.cleanData(d.getElementsByTagName("*"));d.firstChild;)d.removeChild(d.firstChild);return this},clone:function(a,d){a=a==null?false:a;d=d==null?a:d;return this.map(function(){return c.clone(this,
a,d)})},html:function(a){if(a===h)return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(Tb,""):null;if(typeof a=="string"&&!ab.test(a)&&(c.support.leadingWhitespace||!Jb.test(a))&&!Va[(Vb.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Ub,"<$1></$2>");try{for(var d=0,b=this.length;d<b;d++)this[d].nodeType===1&&(c.cleanData(this[d].getElementsByTagName("*")),this[d].innerHTML=a)}catch(e){this.empty().append(a)}}else c.isFunction(a)?this.each(function(f){var g=c(this);g.html(a.call(this,f,
g.html()))}):this.empty().append(a);return this},replaceWith:function(a){if(this[0]&&this[0].parentNode){if(c.isFunction(a))return this.each(function(d){var b=c(this),e=b.html();b.replaceWith(a.call(this,d,e))});typeof a!="string"&&(a=c(a).detach());return this.each(function(){var d=this.nextSibling,b=this.parentNode;c(this).remove();d?c(d).before(a):c(b).append(a)})}return this.length?this.pushStack(c(c.isFunction(a)?a():a),"replaceWith",a):this},detach:function(a){return this.remove(a,true)},domManip:function(a,
d,b){var e,f,g,i=a[0],n=[];if(!c.support.checkClone&&arguments.length===3&&typeof i=="string"&&tb.test(i))return this.each(function(){c(this).domManip(a,d,b,true)});if(c.isFunction(i))return this.each(function(x){var B=c(this);a[0]=i.call(this,x,d?B.html():h);B.domManip(a,d,b)});if(this[0]){g=i&&i.parentNode;c.support.parentNode&&g&&g.nodeType===11&&g.childNodes.length===this.length?(e={fragment:g}):(e=c.buildFragment(a,this,n));g=e.fragment;g.childNodes.length===1?(f=g=g.firstChild):(f=g.firstChild);
if(f){d=d&&c.nodeName(f,"tr");f=0;for(var p=this.length,r=p-1;f<p;f++)b.call(d?c.nodeName(this[f],"table")?this[f].getElementsByTagName("tbody")[0]||this[f].appendChild(this[f].ownerDocument.createElement("tbody")):this[f]:this[f],e.cacheable||p>1&&f<r?c.clone(g,true,true):g)}n.length&&c.each(n,la)}return this}});c.buildFragment=function(a,d,b){var e,f,g,i;d&&d[0]&&(i=d[0].ownerDocument||d[0]);i.createDocumentFragment||(i=X);a.length===1&&typeof a[0]=="string"&&a[0].length<512&&i===X&&a[0].charAt(0)===
"<"&&!ab.test(a[0])&&(c.support.checkClone||!tb.test(a[0]))&&(f=true,g=c.fragments[a[0]],g&&g!==1&&(e=g));e||(e=i.createDocumentFragment(),c.clean(a,i,e,b));f&&(c.fragments[a[0]]=g?e:1);return{fragment:e,cacheable:f}};c.fragments={};c.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,d){c.fn[a]=function(b){var e=[];b=c(b);var f=this.length===1&&this[0].parentNode;if(f&&f.nodeType===11&&f.childNodes.length===1&&b.length===1){b[d](this[0]);
return this}f=0;for(var g=b.length;f<g;f++){var i=(f>0?this.clone(true):this).get();c(b[f])[d](i);e=e.concat(i)}return this.pushStack(e,a,b.selector)}});c.extend({clone:function(a,d,b){var e=a.cloneNode(true),f,g,i;if((!c.support.noCloneEvent||!c.support.noCloneChecked)&&(a.nodeType===1||a.nodeType===11)&&!c.isXMLDoc(a)){q(a,e);f=l(a);g=l(e);for(i=0;f[i];++i)q(f[i],g[i])}if(d){y(a,e);if(b){f=l(a);g=l(e);for(i=0;f[i];++i)y(f[i],g[i])}}return e},clean:function(a,d,b,e){d=d||X;typeof d.createElement==
"undefined"&&(d=d.ownerDocument||d[0]&&d[0].ownerDocument||X);for(var f=[],g,i=0,n;(n=a[i])!=null;i++){typeof n=="number"&&(n+="");if(n){if(typeof n=="string")if(fc.test(n)){n=n.replace(Ub,"<$1></$2>");g=(Vb.exec(n)||["",""])[1].toLowerCase();var p=Va[g]||Va._default,r=p[0],x=d.createElement("div");for(x.innerHTML=p[1]+n+p[2];r--;)x=x.lastChild;if(!c.support.tbody){r=Wb.test(n);p=g==="table"&&!r?x.firstChild&&x.firstChild.childNodes:p[1]==="<table>"&&!r?x.childNodes:[];for(g=p.length-1;g>=0;--g)c.nodeName(p[g],
"tbody")&&!p[g].childNodes.length&&p[g].parentNode.removeChild(p[g])}!c.support.leadingWhitespace&&Jb.test(n)&&x.insertBefore(d.createTextNode(Jb.exec(n)[0]),x.firstChild);n=x.childNodes}else n=d.createTextNode(n);var B;if(!c.support.appendChecked)if(n[0]&&typeof(B=n.length)=="number")for(g=0;g<B;g++)pa(n[g]);else pa(n);n.nodeType?f.push(n):(f=c.merge(f,n))}}if(b){a=function(R){return!R.type||gc.test(R.type)};for(i=0;f[i];i++)if(e&&c.nodeName(f[i],"script")&&(!f[i].type||f[i].type.toLowerCase()===
"text/javascript"))e.push(f[i].parentNode?f[i].parentNode.removeChild(f[i]):f[i]);else{if(f[i].nodeType===1){d=c.grep(f[i].getElementsByTagName("script"),a);f.splice.apply(f,[i+1,0].concat(d))}b.appendChild(f[i])}}return f},cleanData:function(a){for(var d,b,e=c.cache,f=c.expando,g=c.event.special,i=c.support.deleteExpando,n=0,p;(p=a[n])!=null;n++)if(!(p.nodeName&&c.noData[p.nodeName.toLowerCase()]))if(b=p[c.expando]){if((d=e[b]&&e[b][f])&&d.events){for(var r in d.events)g[r]?c.event.remove(p,r):c.removeEvent(p,
r,d.handle);d.handle&&(d.handle.elem=null)}i?delete p[c.expando]:p.removeAttribute&&p.removeAttribute(c.expando);delete e[b]}}});var Xb=/alpha\([^)]*\)/i,hc=/opacity=([^)]*)/,mc=/([A-Z]|^ms)/g,Kb=/^-?\d+(?:px)?$/i,Yb=/^-?\d/,Zb=/^[+\-]=/,ya=/[^+\-\.\de]+/g,ic={position:"absolute",visibility:"hidden",display:"block"},ma=["Left","Right"],Qb=["Top","Bottom"],fb,mb,va;c.fn.css=function(a,d){if(arguments.length===2&&d===h)return this;return c.access(this,a,d,true,function(b,e,f){return f!==h?c.style(b,
e,f):c.css(b,e)})};c.extend({cssHooks:{opacity:{get:function(a,d){if(d){var b=fb(a,"opacity","opacity");return b===""?"1":b}return a.style.opacity}}},cssNumber:{fillOpacity:true,fontWeight:true,lineHeight:true,opacity:true,orphans:true,widows:true,zIndex:true,zoom:true},cssProps:{"float":c.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,d,b,e){if(a&&a.nodeType!==3&&a.nodeType!==8&&a.style){var f,g=c.camelCase(d),i=a.style,n=c.cssHooks[g];d=c.cssProps[g]||g;if(b===h){if(n&&"get"in n&&(f=
n.get(a,false,e))!==h)return f;return i[d]}e=typeof b;if(!(e==="number"&&isNaN(b)||b==null)){e==="string"&&Zb.test(b)&&(b=+b.replace(ya,"")+parseFloat(c.css(a,d)),e="number");e==="number"&&!c.cssNumber[g]&&(b+="px");if(!n||!("set"in n)||(b=n.set(a,b))!==h)try{i[d]=b}catch(p){}}}},css:function(a,d,b){var e,f;d=c.camelCase(d);f=c.cssHooks[d];d=c.cssProps[d]||d;d==="cssFloat"&&(d="float");if(f&&"get"in f&&(e=f.get(a,true,b))!==h)return e;if(fb)return fb(a,d)},swap:function(a,d,b){var e={};for(var f in d){e[f]=
a.style[f];a.style[f]=d[f]}b.call(a);for(f in d)a.style[f]=e[f]}});c.curCSS=c.css;c.each(["height","width"],function(a,d){c.cssHooks[d]={get:function(b,e,f){var g;if(e){if(b.offsetWidth!==0)return P(b,d,f);c.swap(b,ic,function(){g=P(b,d,f)});return g}},set:function(b,e){if(!Kb.test(e))return e;e=parseFloat(e);if(e>=0)return e+"px"}}});c.support.opacity||(c.cssHooks.opacity={get:function(a,d){return hc.test((d&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":
d?"1":""},set:function(a,d){var b=a.style,e=a.currentStyle;b.zoom=1;var f=c.isNaN(d)?"":"alpha(opacity="+d*100+")";e=e&&e.filter||b.filter||"";b.filter=Xb.test(e)?e.replace(Xb,f):e+" "+f}});c(function(){c.support.reliableMarginRight||(c.cssHooks.marginRight={get:function(a,d){var b;c.swap(a,{display:"inline-block"},function(){d?(b=fb(a,"margin-right","marginRight")):(b=a.style.marginRight)});return b}})});X.defaultView&&X.defaultView.getComputedStyle&&(mb=function(a,d){var b,e;d=d.replace(mc,"-$1").toLowerCase();
if(!(e=a.ownerDocument.defaultView))return h;if(e=e.getComputedStyle(a,null)){b=e.getPropertyValue(d);b===""&&!c.contains(a.ownerDocument.documentElement,a)&&(b=c.style(a,d))}return b});X.documentElement.currentStyle&&(va=function(a,d){var b,e=a.currentStyle&&a.currentStyle[d],f=a.runtimeStyle&&a.runtimeStyle[d],g=a.style;!Kb.test(e)&&Yb.test(e)&&(b=g.left,f&&(a.runtimeStyle.left=a.currentStyle.left),g.left=d==="fontSize"?"1em":e||0,e=g.pixelLeft+"px",g.left=b,f&&(a.runtimeStyle.left=f));return e===
""?"auto":e});fb=mb||va;c.expr&&c.expr.filters&&(c.expr.filters.hidden=function(a){var d=a.offsetHeight;return a.offsetWidth===0&&d===0||!c.support.reliableHiddenOffsets&&(a.style.display||c.css(a,"display"))==="none"},c.expr.filters.visible=function(a){return!c.expr.filters.hidden(a)});var Ab=/%20/g,eb=/\[\]$/,Lb=/\r?\n/g,nb=/#.*$/,Mb=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,$b=/^(?:color|date|datetime|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Ea=/^(?:GET|HEAD)$/,Ya=/^\/\//,
ob=/\?/,Qa=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,ac=/^(?:select|textarea)/i,cc=/\s+/,bc=/([?&])_=[^&]*/,Ta=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,W=c.fn.load,cb={},Za={},Wa,O;try{Wa=V.href}catch(hb){Wa=X.createElement("a");Wa.href="";Wa=Wa.href}O=Ta.exec(Wa.toLowerCase())||[];c.fn.extend({load:function(a,d,b){if(typeof a!="string"&&W)return W.apply(this,arguments);if(!this.length)return this;var e=a.indexOf(" ");if(e>=0){var f=a.slice(e,a.length);a=a.slice(0,e)}e="GET";d&&
(c.isFunction(d)?(b=d,d=h):typeof d=="object"&&(d=c.param(d,c.ajaxSettings.traditional),e="POST"));var g=this;c.ajax({url:a,type:e,dataType:"html",data:d,complete:function(i,n,p){p=i.responseText;i.isResolved()&&(i.done(function(r){p=r}),g.html(f?c("<div>").append(p.replace(Qa,"")).find(f):p));b&&g.each(b,[p,n,i])}});return this},serialize:function(){return c.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?c.makeArray(this.elements):this}).filter(function(){return this.name&&
!this.disabled&&(this.checked||ac.test(this.nodeName)||$b.test(this.type))}).map(function(a,d){var b=c(this).val();return b==null?null:c.isArray(b)?c.map(b,function(e){return{name:d.name,value:e.replace(Lb,"\r\n")}}):{name:d.name,value:b.replace(Lb,"\r\n")}}).get()}});c.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,d){c.fn[d]=function(b){return this.bind(d,b)}});c.each(["get","post"],function(a,d){c[d]=function(b,e,f,g){c.isFunction(e)&&(g=g||f,f=e,e=
h);return c.ajax({type:d,url:b,data:e,success:f,dataType:g})}});c.extend({getScript:function(a,d){return c.get(a,h,d,"script")},getJSON:function(a,d,b){return c.get(a,d,b,"json")},ajaxSetup:function(a,d){d?c.extend(true,a,c.ajaxSettings,d):(d=a,a=c.extend(true,c.ajaxSettings,d));for(var b in{context:1,url:1})b in d?(a[b]=d[b]):b in c.ajaxSettings&&(a[b]=c.ajaxSettings[b]);return a},ajaxSettings:{url:Wa,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|widget):$/.test(O[1]),global:true,type:"GET",
contentType:"application/x-www-form-urlencoded",processData:true,async:true,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":"*/*"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":j.String,"text html":true,"text json":c.parseJSON,"text xml":c.parseXML}},ajaxPrefilter:L(cb),ajaxTransport:L(Za),ajax:function(a,d){function b(C,J,U,Z){if(Ba!==2){Ba=2;Ia&&clearTimeout(Ia);
ka=h;R=Z||"";t.readyState=C?4:0;var ra,Ma,Ja;if(U){Z=e;var Sa=t,v=Z.contents,K=Z.dataTypes,da=Z.responseFields,Y,qa,Aa,Da;for(qa in da)qa in U&&(Sa[da[qa]]=U[qa]);for(;K[0]==="*";){K.shift();Y===h&&(Y=Z.mimeType||Sa.getResponseHeader("content-type"))}if(Y)for(qa in v)if(v[qa]&&v[qa].test(Y)){K.unshift(qa);break}if(K[0]in U)Aa=K[0];else{for(qa in U){if(!K[0]||Z.converters[qa+" "+K[0]]){Aa=qa;break}Da||(Da=qa)}Aa=Aa||Da}if(Aa){Aa!==K[0]&&K.unshift(Aa);U=U[Aa]}else U=void 0}else U=h;U=U;if(C>=200&&C<
300||C===304){if(e.ifModified){if(Y=t.getResponseHeader("Last-Modified"))c.lastModified[r]=Y;if(Y=t.getResponseHeader("Etag"))c.etag[r]=Y}if(C===304){J="notmodified";ra=true}else try{Y=e;U=U;Y.dataFilter&&(U=Y.dataFilter(U,Y.dataType));var Fa=Y.dataTypes;qa={};var vb,wb,oc=Fa.length,jc,Bb=Fa[0],Nb,nc,Cb,Ib,Ob;for(vb=1;vb<oc;vb++){if(vb===1)for(wb in Y.converters)typeof wb=="string"&&(qa[wb.toLowerCase()]=Y.converters[wb]);Nb=Bb;Bb=Fa[vb];if(Bb==="*")Bb=Nb;else if(Nb!=="*"&&Nb!==Bb){nc=Nb+" "+Bb;Cb=
qa[nc]||qa["* "+Bb];if(!Cb){Ob=h;for(Ib in qa){jc=Ib.split(" ");if(jc[0]===Nb||jc[0]==="*")if(Ob=qa[jc[1]+" "+Bb]){Ib=qa[Ib];Ib===true?(Cb=Ob):Ob===true&&(Cb=Ib);break}}}!Cb&&!Ob&&c.error("No conversion from "+nc.replace(" "," to "));Cb!==true&&(U=Cb?Cb(U):Ob(Ib(U)))}}Ma=U;J="success";ra=true}catch(pc){J="parsererror";Ja=pc}}else{Ja=J;if(!J||C){J="error";C<0&&(C=0)}}t.status=C;t.statusText=J;ra?i.resolveWith(f,[Ma,J,t]):i.rejectWith(f,[t,J,Ja]);t.statusCode(p);p=h;Ca&&g.trigger("ajax"+(ra?"Success":
"Error"),[t,e,ra?Ma:Ja]);n.resolveWith(f,[t,J]);Ca&&(g.trigger("ajaxComplete",[t,e]),--c.active||c.event.trigger("ajaxStop"))}}typeof a=="object"&&(d=a,a=h);d=d||{};var e=c.ajaxSetup({},d),f=e.context||e,g=f!==e&&(f.nodeType||f instanceof c)?c(f):c.event,i=c.Deferred(),n=c._Deferred(),p=e.statusCode||{},r,x={},B={},R,ba,ka,Ia,za,Ba=0,Ca,o,t={readyState:0,setRequestHeader:function(C,J){if(!Ba){var U=C.toLowerCase();C=B[U]=B[U]||C;x[C]=J}return this},getAllResponseHeaders:function(){return Ba===2?R:
null},getResponseHeader:function(C){var J;if(Ba===2){if(!ba)for(ba={};J=Mb.exec(R);)ba[J[1].toLowerCase()]=J[2];J=ba[C.toLowerCase()]}return J===h?null:J},overrideMimeType:function(C){Ba||(e.mimeType=C);return this},abort:function(C){C=C||"abort";ka&&ka.abort(C);b(0,C);return this}};i.promise(t);t.success=t.done;t.error=t.fail;t.complete=n.done;t.statusCode=function(C){if(C){var J;if(Ba<2)for(J in C)p[J]=[p[J],C[J]];else{J=C[t.status];t.then(J,J)}}return this};e.url=((a||e.url)+"").replace(nb,"").replace(Ya,
O[1]+"//");e.dataTypes=c.trim(e.dataType||"*").toLowerCase().split(cc);e.crossDomain==null&&(za=Ta.exec(e.url.toLowerCase()),e.crossDomain=!(!za||za[1]==O[1]&&za[2]==O[2]&&(za[3]||(za[1]==="http:"?80:443))==(O[3]||(O[1]==="http:"?80:443))));e.data&&e.processData&&typeof e.data!="string"&&(e.data=c.param(e.data,e.traditional));z(cb,e,d,t);if(Ba===2)return false;Ca=e.global;e.type=e.type.toUpperCase();e.hasContent=!Ea.test(e.type);Ca&&c.active++===0&&c.event.trigger("ajaxStart");if(!e.hasContent){e.data&&
(e.url+=(ob.test(e.url)?"&":"?")+e.data);r=e.url;if(e.cache===false){za=c.now();var F=e.url.replace(bc,"$1_="+za);e.url=F+(F===e.url?(ob.test(e.url)?"&":"?")+"_="+za:"")}}(e.data&&e.hasContent&&e.contentType!==false||d.contentType)&&t.setRequestHeader("Content-Type",e.contentType);e.ifModified&&(r=r||e.url,c.lastModified[r]&&t.setRequestHeader("If-Modified-Since",c.lastModified[r]),c.etag[r]&&t.setRequestHeader("If-None-Match",c.etag[r]));t.setRequestHeader("Accept",e.dataTypes[0]&&e.accepts[e.dataTypes[0]]?
e.accepts[e.dataTypes[0]]+(e.dataTypes[0]!=="*"?", */*; q=0.01":""):e.accepts["*"]);for(o in e.headers)t.setRequestHeader(o,e.headers[o]);if(e.beforeSend&&(e.beforeSend.call(f,t,e)===false||Ba===2)){t.abort();return false}for(o in{success:1,error:1,complete:1})t[o](e[o]);if(ka=z(Za,e,d,t)){t.readyState=1;Ca&&g.trigger("ajaxSend",[t,e]);e.async&&e.timeout>0&&(Ia=setTimeout(function(){t.abort("timeout")},e.timeout));try{Ba=1;ka.send(x,b)}catch(I){status<2?b(-1,I):c.error(I)}}else b(-1,"No Transport");
return t},param:function(a,d){var b=[],e=function(g,i){i=c.isFunction(i)?i():i;b[b.length]=encodeURIComponent(g)+"="+encodeURIComponent(i)};d===h&&(d=c.ajaxSettings.traditional);if(c.isArray(a)||a.jquery&&!c.isPlainObject(a))c.each(a,function(){e(this.name,this.value)});else for(var f in a)E(f,a[f],d,e);return b.join("&").replace(Ab,"+")}});c.extend({active:0,lastModified:{},etag:{}});var ub=c.now(),Db=/(\=)\?(&|$)|\?\?/i;c.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return c.expando+"_"+
ub++}});c.ajaxPrefilter("json jsonp",function(a,d,b){d=a.contentType==="application/x-www-form-urlencoded"&&typeof a.data=="string";if(a.dataTypes[0]==="jsonp"||a.jsonp!==false&&(Db.test(a.url)||d&&Db.test(a.data))){var e,f=a.jsonpCallback=c.isFunction(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback,g=j[f],i=a.url,n=a.data,p="$1"+f+"$2";a.jsonp!==false&&(i=i.replace(Db,p),a.url===i&&(d&&(n=n.replace(Db,p)),a.data===n&&(i+=(/\?/.test(i)?"&":"?")+a.jsonp+"="+f)));a.url=i;a.data=n;j[f]=function(r){e=
[r]};b.always(function(){j[f]=g;e&&c.isFunction(g)&&j[f](e[0])});a.converters["script json"]=function(){e||c.error(f+" was not called");return e[0]};a.dataTypes[0]="json";return"script"}});c.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){c.globalEval(a);return a}}});c.ajaxPrefilter("script",function(a){a.cache===h&&(a.cache=false);a.crossDomain&&
(a.type="GET",a.global=false)});c.ajaxTransport("script",function(a){if(a.crossDomain){var d,b=X.head||X.getElementsByTagName("head")[0]||X.documentElement;return{send:function(e,f){d=X.createElement("script");d.async="async";a.scriptCharset&&(d.charset=a.scriptCharset);d.src=a.url;d.onload=d.onreadystatechange=function(g,i){if(i||!d.readyState||/loaded|complete/.test(d.readyState)){d.onload=d.onreadystatechange=null;b&&d.parentNode&&b.removeChild(d);d=h;i||f(200,"success")}};b.insertBefore(d,b.firstChild)},
abort:function(){d&&d.onload(0,1)}}}});var bb=j.ActiveXObject?function(){for(var a in pb)pb[a](0,1)}:false,Ua=0,pb;c.ajaxSettings.xhr=j.ActiveXObject?function(){var a;if(!(a=!this.isLocal&&G()))a:{try{a=new j.ActiveXObject("Microsoft.XMLHTTP");break a}catch(d){}a=void 0}return a}:G;(function(a){c.extend(c.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})})(c.ajaxSettings.xhr());c.support.ajax&&c.ajaxTransport(function(a){if(!a.crossDomain||c.support.cors){var d;return{send:function(b,e){var f=a.xhr(),
g,i;a.username?f.open(a.type,a.url,a.async,a.username,a.password):f.open(a.type,a.url,a.async);if(a.xhrFields)for(i in a.xhrFields)f[i]=a.xhrFields[i];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType);!a.crossDomain&&!b["X-Requested-With"]&&(b["X-Requested-With"]="XMLHttpRequest");try{for(i in b)f.setRequestHeader(i,b[i])}catch(n){}f.send(a.hasContent&&a.data||null);d=function(p,r){var x,B,R,ba,ka;try{if(d&&(r||f.readyState===4)){d=h;g&&(f.onreadystatechange=c.noop,bb&&delete pb[g]);
if(r)f.readyState!==4&&f.abort();else{x=f.status;R=f.getAllResponseHeaders();ba={};(ka=f.responseXML)&&ka.documentElement&&(ba.xml=ka);ba.text=f.responseText;try{B=f.statusText}catch(Ia){B=""}!x&&a.isLocal&&!a.crossDomain?(x=ba.text?200:404):x===1223&&(x=204)}}}catch(za){r||e(-1,za)}ba&&e(x,B,ba,R)};!a.async||f.readyState===4?d():(g=++Ua,bb&&(pb||(pb={},c(j).unload(bb)),pb[g]=d),f.onreadystatechange=d)},abort:function(){d&&d(0,1)}}}});var db={},Xa,Ha,ib=/^(?:toggle|show|hide)$/,kc=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,
jb,Pa=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],qb,Eb=j.webkitRequestAnimationFrame||j.mozRequestAnimationFrame||j.oRequestAnimationFrame;c.fn.extend({show:function(a,d,b){var e;if(a||a===0)return this.animate(s("show",3),a,d,b);d=0;for(b=this.length;d<b;d++){a=this[d];a.style&&(e=a.style.display,!c._data(a,"olddisplay")&&e==="none"&&(e=a.style.display=""),e===""&&c.css(a,"display")==="none"&&
c._data(a,"olddisplay",m(a.nodeName)))}for(d=0;d<b;d++){a=this[d];if(a.style){e=a.style.display;if(e===""||e==="none")a.style.display=c._data(a,"olddisplay")||""}}return this},hide:function(a,d,b){if(a||a===0)return this.animate(s("hide",3),a,d,b);a=0;for(d=this.length;a<d;a++)if(this[a].style){b=c.css(this[a],"display");b!=="none"&&!c._data(this[a],"olddisplay")&&c._data(this[a],"olddisplay",b)}for(a=0;a<d;a++)this[a].style&&(this[a].style.display="none");return this},_toggle:c.fn.toggle,toggle:function(a,
d,b){var e=typeof a=="boolean";c.isFunction(a)&&c.isFunction(d)?this._toggle.apply(this,arguments):a==null||e?this.each(function(){var f=e?a:c(this).is(":hidden");c(this)[f?"show":"hide"]()}):this.animate(s("toggle",3),a,d,b);return this},fadeTo:function(a,d,b,e){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:d},a,b,e)},animate:function(a,d,b,e){var f=c.speed(d,b,e);if(c.isEmptyObject(a))return this.each(f.complete,[false]);a=c.extend({},a);return this[f.queue===false?
"each":"queue"](function(){f.queue===false&&c._mark(this);var g=c.extend({},f),i=this.nodeType===1,n=i&&c(this).is(":hidden"),p,r,x,B,R,ba,ka,Ia;g.animatedProperties={};for(x in a){p=c.camelCase(x);x!==p&&(a[p]=a[x],delete a[x]);r=a[p];c.isArray(r)?(g.animatedProperties[p]=r[1],r=a[p]=r[0]):(g.animatedProperties[p]=g.specialEasing&&g.specialEasing[p]||g.easing||"swing");if(r==="hide"&&n||r==="show"&&!n)return g.complete.call(this);i&&(p==="height"||p==="width")&&(g.overflow=[this.style.overflow,this.style.overflowX,
this.style.overflowY],c.css(this,"display")==="inline"&&c.css(this,"float")==="none"&&(c.support.inlineBlockNeedsLayout?(B=m(this.nodeName),B==="inline"?(this.style.display="inline-block"):(this.style.display="inline",this.style.zoom=1)):(this.style.display="inline-block")))}g.overflow!=null&&(this.style.overflow="hidden");for(x in a){i=new c.fx(this,g,x);r=a[x];ib.test(r)?i[r==="toggle"?n?"show":"hide":r]():(R=kc.exec(r),ba=i.cur(),R?(ka=parseFloat(R[2]),Ia=R[3]||(c.cssNumber[x]?"":"px"),Ia!=="px"&&
(c.style(this,x,(ka||1)+Ia),ba=(ka||1)/i.cur()*ba,c.style(this,x,ba+Ia)),R[1]&&(ka=(R[1]==="-="?-1:1)*ka+ba),i.custom(ba,ka,Ia)):i.custom(ba,r,""))}return true})},stop:function(a,d){a&&this.queue([]);this.each(function(){var b=c.timers,e=b.length;for(d||c._unmark(true,this);e--;)b[e].elem===this&&(d&&b[e](true),b.splice(e,1))});d||this.dequeue();return this}});c.each({slideDown:s("show",1),slideUp:s("hide",1),slideToggle:s("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},
function(a,d){c.fn[a]=function(b,e,f){return this.animate(d,b,e,f)}});c.extend({speed:function(a,d,b){var e=a&&typeof a=="object"?c.extend({},a):{complete:b||!b&&d||c.isFunction(a)&&a,duration:a,easing:b&&d||d&&!c.isFunction(d)&&d};e.duration=c.fx.off?0:typeof e.duration=="number"?e.duration:e.duration in c.fx.speeds?c.fx.speeds[e.duration]:c.fx.speeds._default;e.old=e.complete;e.complete=function(f){c.isFunction(e.old)&&e.old.call(this);e.queue!==false?c.dequeue(this):f!==false&&c._unmark(this)};
return e},easing:{linear:function(a,d,b,e){return b+e*a},swing:function(a,d,b,e){return(-Math.cos(a*Math.PI)/2+0.5)*e+b}},timers:[],fx:function(a,d,b){this.options=d;this.elem=a;this.prop=b;d.orig=d.orig||{}}});c.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this);(c.fx.step[this.prop]||c.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null))return this.elem[this.prop];var a,d=c.css(this.elem,
this.prop);return isNaN(a=parseFloat(d))?!d||d==="auto"?0:d:a},custom:function(a,d,b){function e(n){return f.step(n)}var f=this,g=c.fx,i;this.startTime=qb||w();this.start=a;this.end=d;this.unit=b||this.unit||(c.cssNumber[this.prop]?"":"px");this.now=this.start;this.pos=this.state=0;e.elem=this.elem;e()&&c.timers.push(e)&&!jb&&(Eb?(jb=true,i=function(){jb&&(Eb(i),g.tick())},Eb(i)):(jb=setInterval(g.tick,g.interval)))},show:function(){this.options.orig[this.prop]=c.style(this.elem,this.prop);this.options.show=
true;this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur());c(this.elem).show()},hide:function(){this.options.orig[this.prop]=c.style(this.elem,this.prop);this.options.hide=true;this.custom(this.cur(),0)},step:function(a){var d=qb||w(),b=true,e=this.elem,f=this.options,g,i;if(a||d>=f.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();f.animatedProperties[this.prop]=true;for(g in f.animatedProperties)f.animatedProperties[g]!==true&&(b=false);if(b){f.overflow!=
null&&!c.support.shrinkWrapBlocks&&c.each(["","X","Y"],function(p,r){e.style["overflow"+r]=f.overflow[p]});f.hide&&c(e).hide();if(f.hide||f.show)for(var n in f.animatedProperties)c.style(e,n,f.orig[n]);f.complete.call(e)}return false}f.duration==Infinity?(this.now=d):(i=d-this.startTime,this.state=i/f.duration,this.pos=c.easing[f.animatedProperties[this.prop]](this.state,i,0,1,f.duration),this.now=this.start+(this.end-this.start)*this.pos);this.update();return true}};c.extend(c.fx,{tick:function(){for(var a=
c.timers,d=0;d<a.length;++d)a[d]()||a.splice(d--,1);a.length||c.fx.stop()},interval:13,stop:function(){clearInterval(jb);jb=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){c.style(a.elem,"opacity",a.now)},_default:function(a){a.elem.style&&a.elem.style[a.prop]!=null?(a.elem.style[a.prop]=(a.prop==="width"||a.prop==="height"?Math.max(0,a.now):a.now)+a.unit):(a.elem[a.prop]=a.now)}}});c.expr&&c.expr.filters&&(c.expr.filters.animated=function(a){return c.grep(c.timers,function(d){return a===
d.elem}).length});var $a=/^t(?:able|d|h)$/i,Pb=/^(?:body|html)$/i;"getBoundingClientRect"in X.documentElement?(c.fn.offset=function(a){var d=this[0],b;if(a)return this.each(function(i){c.offset.setOffset(this,a,i)});if(!d||!d.ownerDocument)return null;if(d===d.ownerDocument.body)return c.offset.bodyOffset(d);try{b=d.getBoundingClientRect()}catch(e){}var f=d.ownerDocument,g=f.documentElement;if(!b||!c.contains(g,d))return b?{top:b.top,left:b.left}:{top:0,left:0};d=f.body;f=k(f);return{top:b.top+(f.pageYOffset||
c.support.boxModel&&g.scrollTop||d.scrollTop)-(g.clientTop||d.clientTop||0),left:b.left+(f.pageXOffset||c.support.boxModel&&g.scrollLeft||d.scrollLeft)-(g.clientLeft||d.clientLeft||0)}}):(c.fn.offset=function(a){var d=this[0];if(a)return this.each(function(x){c.offset.setOffset(this,a,x)});if(!d||!d.ownerDocument)return null;if(d===d.ownerDocument.body)return c.offset.bodyOffset(d);c.offset.initialize();var b,e=d.offsetParent,f=d,g=d.ownerDocument,i=g.documentElement,n=g.body;b=(g=g.defaultView)?
g.getComputedStyle(d,null):d.currentStyle;for(var p=d.offsetTop,r=d.offsetLeft;(d=d.parentNode)&&d!==n&&d!==i;){if(c.offset.supportsFixedPosition&&b.position==="fixed")break;b=g?g.getComputedStyle(d,null):d.currentStyle;p-=d.scrollTop;r-=d.scrollLeft;d===e&&(p+=d.offsetTop,r+=d.offsetLeft,c.offset.doesNotAddBorder&&(!c.offset.doesAddBorderForTableAndCells||!$a.test(d.nodeName))&&(p+=parseFloat(b.borderTopWidth)||0,r+=parseFloat(b.borderLeftWidth)||0),f=e,e=d.offsetParent);c.offset.subtractsBorderForOverflowNotVisible&&
b.overflow!=="visible"&&(p+=parseFloat(b.borderTopWidth)||0,r+=parseFloat(b.borderLeftWidth)||0);b=b}if(b.position==="relative"||b.position==="static"){p+=n.offsetTop;r+=n.offsetLeft}c.offset.supportsFixedPosition&&b.position==="fixed"&&(p+=Math.max(i.scrollTop,n.scrollTop),r+=Math.max(i.scrollLeft,n.scrollLeft));return{top:p,left:r}});c.offset={initialize:function(){var a=X.body,d=X.createElement("div"),b,e,f,g=parseFloat(c.css(a,"marginTop"))||0;c.extend(d.style,{position:"absolute",top:0,left:0,
margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"});d.innerHTML="<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";a.insertBefore(d,a.firstChild);b=d.firstChild;e=b.firstChild;f=b.nextSibling.firstChild.firstChild;this.doesNotAddBorder=e.offsetTop!==
5;this.doesAddBorderForTableAndCells=f.offsetTop===5;e.style.position="fixed";e.style.top="20px";this.supportsFixedPosition=e.offsetTop===20||e.offsetTop===15;e.style.position=e.style.top="";b.style.overflow="hidden";b.style.position="relative";this.subtractsBorderForOverflowNotVisible=e.offsetTop===-5;this.doesNotIncludeMarginInBodyOffset=a.offsetTop!==g;a.removeChild(d);c.offset.initialize=c.noop},bodyOffset:function(a){var d=a.offsetTop,b=a.offsetLeft;c.offset.initialize();c.offset.doesNotIncludeMarginInBodyOffset&&
(d+=parseFloat(c.css(a,"marginTop"))||0,b+=parseFloat(c.css(a,"marginLeft"))||0);return{top:d,left:b}},setOffset:function(a,d,b){var e=c.css(a,"position");e==="static"&&(a.style.position="relative");var f=c(a),g=f.offset(),i=c.css(a,"top"),n=c.css(a,"left"),p={},r={},x,B;(e==="absolute"||e==="fixed")&&c.inArray("auto",[i,n])>-1?(r=f.position(),x=r.top,B=r.left):(x=parseFloat(i)||0,B=parseFloat(n)||0);c.isFunction(d)&&(d=d.call(a,b,g));d.top!=null&&(p.top=d.top-g.top+x);d.left!=null&&(p.left=d.left-
g.left+B);"using"in d?d.using.call(a,p):f.css(p)}};c.fn.extend({position:function(){if(!this[0])return null;var a=this[0],d=this.offsetParent(),b=this.offset(),e=Pb.test(d[0].nodeName)?{top:0,left:0}:d.offset();b.top-=parseFloat(c.css(a,"marginTop"))||0;b.left-=parseFloat(c.css(a,"marginLeft"))||0;e.top+=parseFloat(c.css(d[0],"borderTopWidth"))||0;e.left+=parseFloat(c.css(d[0],"borderLeftWidth"))||0;return{top:b.top-e.top,left:b.left-e.left}},offsetParent:function(){return this.map(function(){for(var a=
this.offsetParent||X.body;a&&!Pb.test(a.nodeName)&&c.css(a,"position")==="static";)a=a.offsetParent;return a})}});c.each(["Left","Top"],function(a,d){var b="scroll"+d;c.fn[b]=function(e){var f,g;if(e===h){f=this[0];if(!f)return null;return(g=k(f))?"pageXOffset"in g?g[a?"pageYOffset":"pageXOffset"]:c.support.boxModel&&g.document.documentElement[b]||g.document.body[b]:f[b]}return this.each(function(){(g=k(this))?g.scrollTo(a?c(g).scrollLeft():e,a?e:c(g).scrollTop()):(this[b]=e)})}});c.each(["Height",
"Width"],function(a,d){var b=d.toLowerCase();c.fn["inner"+d]=function(){var e=this[0];return e&&e.style?parseFloat(c.css(e,b,"padding")):null};c.fn["outer"+d]=function(e){var f=this[0];return f&&f.style?parseFloat(c.css(f,b,e?"margin":"border")):null};c.fn[b]=function(e){var f=this[0];if(!f)return e==null?null:this;if(c.isFunction(e))return this.each(function(i){var n=c(this);n[b](e.call(this,i,n[b]()))});if(c.isWindow(f)){var g=f.document.documentElement["client"+d];return f.document.compatMode===
"CSS1Compat"&&g||f.document.body["client"+d]||g}if(f.nodeType===9)return Math.max(f.documentElement["client"+d],f.body["scroll"+d],f.documentElement["scroll"+d],f.body["offset"+d],f.documentElement["offset"+d]);if(e===h){f=c.css(f,b);g=parseFloat(f);return c.isNaN(g)?f:g}return this.css(b,typeof e=="string"?e:e+"px")}});j.jQuery=j.$=c})(window);
(function(j,h){var k,m=/:([\w\d]+)/g,s=/\?([^#]*)$/,u=function(l){return Array.prototype.slice.call(l)},w=function(l){return Object.prototype.toString.call(l)==="[object Function]"},G=function(l){return Object.prototype.toString.call(l)==="[object Array]"},E=function(l){return decodeURIComponent((l||"").replace(/\+/g," "))},z=encodeURIComponent,L=function(l){return String(l).replace(/&(?!\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},P=function(l){return function(q,
y){return this.route.apply(this,[l,q,y])}},la={},pa=!!(h.history&&history.pushState),na=[];k=function(){var l=u(arguments),q,y;k.apps=k.apps||{};if(l.length===0||l[0]&&w(l[0]))return k.apply(k,["body"].concat(l));else if(typeof(y=l.shift())=="string"){q=k.apps[y]||new k.Application;q.element_selector=y;l.length>0&&j.each(l,function(D,ca){q.use(ca)});q.element_selector!=y&&delete k.apps[y];return k.apps[q.element_selector]=q}};k.VERSION="0.7.0";k.addLogger=function(l){na.push(l)};k.log=function(){var l=
u(arguments);l.unshift("["+Date()+"]");j.each(na,function(q,y){y.apply(k,l)})};if(typeof h.console!="undefined")w(h.console.log.apply)?k.addLogger(function(){h.console.log.apply(h.console,arguments)}):k.addLogger(function(){h.console.log(arguments)});else typeof console!="undefined"&&k.addLogger(function(){console.log.apply(console,arguments)});j.extend(k,{makeArray:u,isFunction:w,isArray:G});k.Object=function(l){return j.extend(this,l||{})};j.extend(k.Object.prototype,{escapeHTML:L,h:L,toHash:function(){var l=
{};j.each(this,function(q,y){w(y)||(l[q]=y)});return l},toHTML:function(){var l="";j.each(this,function(q,y){w(y)||(l+="<strong>"+q+"</strong> "+y+"<br />")});return l},keys:function(l){var q=[];for(var y in this)if(!w(this[y])||!l)q.push(y);return q},has:function(l){return this[l]&&j.trim(this[l].toString())!==""},join:function(){var l=u(arguments),q=l.shift();return l.join(q)},log:function(){k.log.apply(k,arguments)},toString:function(l){var q=[];j.each(this,function(y,D){if(!w(D)||l)q.push('"'+
y+'": '+D.toString())});return"Sammy.Object: {"+q.join(",")+"}"}});k.DefaultLocationProxy=function(l,q){this.app=l;this.is_native=false;this.has_history=pa;this._startPolling(q)};k.DefaultLocationProxy.fullPath=function(l){var q=l.toString().match(/^[^#]*(#.+)$/);return[l.pathname,l.search,q?q[1]:""].join("")};k.DefaultLocationProxy.prototype={bind:function(){var l=this,q=this.app,y=k.DefaultLocationProxy;j(h).bind("hashchange."+this.app.eventNamespace(),function(D,ca){if(l.is_native===false&&!ca){l.is_native=
true;h.clearInterval(y._interval)}q.trigger("location-changed")});if(pa&&!q.disable_push_state){j(h).bind("popstate."+this.app.eventNamespace(),function(){q.trigger("location-changed")});j("a").live("click.history-"+this.app.eventNamespace(),function(D){var ca=y.fullPath(this);if(this.hostname==h.location.hostname&&q.lookupRoute("get",ca)){D.preventDefault();l.setLocation(ca);return false}})}if(!y._bindings)y._bindings=0;y._bindings++},unbind:function(){j(h).unbind("hashchange."+this.app.eventNamespace());
j(h).unbind("popstate."+this.app.eventNamespace());j("a").die("click.history-"+this.app.eventNamespace());k.DefaultLocationProxy._bindings--;k.DefaultLocationProxy._bindings<=0&&h.clearInterval(k.DefaultLocationProxy._interval)},getLocation:function(){return k.DefaultLocationProxy.fullPath(h.location)},setLocation:function(l){if(/^([^#\/]|$)/.test(l))l=pa?"/"+l:"#!/"+l;if(l!=this.getLocation())if(pa&&/^\//.test(l)){history.pushState({path:l},h.title,l);this.app.trigger("location-changed")}else return h.location=
l},_startPolling:function(l){var q=this;if(!k.DefaultLocationProxy._interval){l||(l=10);var y=function(){var D=q.getLocation();if(typeof k.DefaultLocationProxy._last_location=="undefined"||D!=k.DefaultLocationProxy._last_location)h.setTimeout(function(){j(h).trigger("hashchange",[true])},0);k.DefaultLocationProxy._last_location=D};y();k.DefaultLocationProxy._interval=h.setInterval(y,l)}}};k.Application=function(l){var q=this;this.routes={};this.listeners=new k.Object({});this.arounds=[];this.befores=
[];this.namespace=(new Date).getTime()+"-"+parseInt(Math.random()*1E3,10);this.context_prototype=function(){k.EventContext.apply(this,arguments)};this.context_prototype.prototype=new k.EventContext;w(l)&&l.apply(this,[this]);this._location_proxy||this.setLocationProxy(new k.DefaultLocationProxy(this,this.run_interval_every));this.debug&&this.bindToAllEvents(function(y,D){q.log(q.toString(),y.cleaned_type,D||{})})};k.Application.prototype=j.extend({},k.Object.prototype,{ROUTE_VERBS:["get","post","put",
"delete"],APP_EVENTS:["run","unload","lookup-route","run-route","route-found","event-context-before","event-context-after","changed","error","check-form-submission","redirect","location-changed"],_last_route:null,_location_proxy:null,_running:false,element_selector:"body",debug:false,raise_errors:false,run_interval_every:50,disable_push_state:false,template_engine:null,toString:function(){return"Sammy.Application:"+this.element_selector},$element:function(l){return l?j(this.element_selector).find(l):
j(this.element_selector)},use:function(){var l=u(arguments),q=l.shift(),y=q||"";try{l.unshift(this);if(typeof q=="string"){y="Sammy."+q;q=k[q]}q.apply(this,l)}catch(D){if(typeof q==="undefined")this.error("Plugin Error: called use() but plugin ("+y.toString()+") is not defined",D);else w(q)?this.error("Plugin Error",D):this.error("Plugin Error: called use() but '"+y.toString()+"' is not a function",D)}return this},setLocationProxy:function(l){var q=this._location_proxy;this._location_proxy=l;if(this.isRunning()){q&&
q.unbind();this._location_proxy.bind()}},route:function(l,q,y){var D=this,ca=[],oa,T;if(!y&&w(q)){y=q=l;l="any"}l=l.toLowerCase();if(q.constructor==String){for(m.lastIndex=0;(T=m.exec(q))!==null;)ca.push(T[1]);q=new RegExp(q.replace(m,"([^/]+)")+"$")}if(typeof y=="string")y=D[y];oa=function(fa){var ga={verb:fa,path:q,callback:y,param_names:ca};D.routes[fa]=D.routes[fa]||[];D.routes[fa].push(ga)};l==="any"?j.each(this.ROUTE_VERBS,function(fa,ga){oa(ga)}):oa(l);return this},get:P("get"),post:P("post"),
put:P("put"),del:P("delete"),any:P("any"),mapRoutes:function(l){var q=this;j.each(l,function(y,D){q.route.apply(q,D)});return this},eventNamespace:function(){return["sammy-app",this.namespace].join("-")},bind:function(l,q,y){var D=this;if(typeof y=="undefined")y=q;q=function(ca,oa){var T;if(oa&&oa.context){T=oa.context;delete oa.context}else T=new D.context_prototype(D,"bind",ca.type,oa,ca.target);ca.cleaned_type=ca.type.replace(D.eventNamespace(),"");y.apply(T,[ca,oa])};this.listeners[l]||(this.listeners[l]=
[]);this.listeners[l].push(q);this.isRunning()&&this._listen(l,q);return this},trigger:function(l,q){this.$element().trigger([l,this.eventNamespace()].join("."),[q]);return this},refresh:function(){this.last_location=null;this.trigger("location-changed");return this},before:function(l,q){if(w(l)){q=l;l={}}this.befores.push([l,q]);return this},after:function(l){return this.bind("event-context-after",l)},around:function(l){this.arounds.push(l);return this},isRunning:function(){return this._running},
helpers:function(l){j.extend(this.context_prototype.prototype,l);return this},helper:function(l,q){this.context_prototype.prototype[l]=q;return this},run:function(l){if(this.isRunning())return false;var q=this;j.each(this.listeners.toHash(),function(y,D){j.each(D,function(ca,oa){q._listen(y,oa)})});this.trigger("run",{start_url:l});this._running=true;this.last_location=null;!/\#(.+)/.test(this.getLocation())&&typeof l!="undefined"&&this.setLocation(l);this._checkLocation();this._location_proxy.bind();
this.bind("location-changed",function(){q._checkLocation()});this.bind("submit",function(y){return q._checkFormSubmission(j(y.target).closest("form"))===false?y.preventDefault():false});j(h).bind("beforeunload",function(){q.unload()});return this.trigger("changed")},unload:function(){if(!this.isRunning())return false;var l=this;this.trigger("unload");this._location_proxy.unbind();this.$element().unbind("submit").removeClass(l.eventNamespace());j.each(this.listeners.toHash(),function(q,y){j.each(y,
function(D,ca){l._unlisten(q,ca)})});this._running=false;return this},bindToAllEvents:function(l){var q=this;j.each(this.APP_EVENTS,function(y,D){q.bind(D,l)});j.each(this.listeners.keys(true),function(y,D){j.inArray(D,q.APP_EVENTS)==-1&&q.bind(D,l)});return this},routablePath:function(l){return l.replace(s,"")},lookupRoute:function(l,q){var y=false,D=0,ca,oa;if(typeof this.routes[l]!="undefined")for(ca=this.routes[l].length;D<ca;D++){oa=this.routes[l][D];if(this.routablePath(q).match(oa.path)){y=
oa;break}}return y},runRoute:function(l,q,y,D){var ca=this,oa=this.lookupRoute(l,q),T,fa,ga,xa,Oa,Ra,X;this.log("runRoute",[l,q].join(" "));this.trigger("run-route",{verb:l,path:q,params:y});if(typeof y=="undefined")y={};j.extend(y,this._parseQueryString(q));if(oa){this.trigger("route-found",{route:oa});if((Ra=oa.path.exec(this.routablePath(q)))!==null){Ra.shift();j.each(Ra,function(V,c){if(oa.param_names[V])y[oa.param_names[V]]=E(c);else{if(!y.splat)y.splat=[];y.splat.push(E(c))}})}T=new this.context_prototype(this,
l,q,y,D);D=this.arounds.slice(0);ga=this.befores.slice(0);Oa=[T].concat(y.splat);fa=function(){for(var V;ga.length>0;){xa=ga.shift();if(ca.contextMatchesOptions(T,xa[0])){V=xa[1].apply(T,[T]);if(V===false)return false}}ca.last_route=oa;T.trigger("event-context-before",{context:T});V=oa.callback.apply(T,Oa);T.trigger("event-context-after",{context:T});return V};j.each(D.reverse(),function(V,c){var A=fa;fa=function(){return c.apply(T,[A])}});try{X=fa()}catch(Q){this.error(["500 Error",l,q].join(" "),
Q)}return X}else return this.notFound(l,q)},contextMatchesOptions:function(l,q,y){q=q;if(typeof q==="undefined"||q=={})return true;if(typeof y==="undefined")y=true;if(typeof q==="string"||w(q.test))q={path:q};if(q.only)return this.contextMatchesOptions(l,q.only,true);else if(q.except)return this.contextMatchesOptions(l,q.except,false);var D=true,ca=true;if(q.path){if(!w(q.path.test))q.path=new RegExp(q.path.toString()+"$");D=q.path.test(l.path)}if(q.verb)ca=typeof q.verb==="string"?q.verb===l.verb:
q.verb.indexOf(l.verb)>-1;return y?ca&&D:!(ca&&D)},getLocation:function(){return this._location_proxy.getLocation()},setLocation:function(l){return this._location_proxy.setLocation(l)},swap:function(l){return this.$element().html(l)},templateCache:function(l,q){return typeof q!="undefined"?(la[l]=q):la[l]},clearTemplateCache:function(){return la={}},notFound:function(l,q){var y=this.error(["404 Not Found",l,q].join(" "));return l==="get"?y:true},error:function(l,q){q||(q=new Error);q.message=[l,q.message].join(" ");
this.trigger("error",{message:q.message,error:q});if(this.raise_errors)throw q;else this.log(q.message,q)},_checkLocation:function(){var l,q;l=this.getLocation();if(!this.last_location||this.last_location[0]!="get"||this.last_location[1]!=l){this.last_location=["get",l];q=this.runRoute("get",l)}return q},_getFormVerb:function(l){l=j(l);var q,y;y=l.find('input[name="_method"]');if(y.length>0)q=y.val();q||(q=l[0].getAttribute("method"));if(!q||q=="")q="get";return j.trim(q.toString().toLowerCase())},
_checkFormSubmission:function(l){var q,y,D;this.trigger("check-form-submission",{form:l});q=j(l);y=q.attr("action")||"";D=this._getFormVerb(q);this.log("_checkFormSubmission",q,y,D);if(D==="get"){this.setLocation(y+"?"+this._serializeFormParams(q));l=false}else{q=j.extend({},this._parseFormParams(q));l=this.runRoute(D,y,q,l.get(0))}return typeof l=="undefined"?false:l},_serializeFormParams:function(l){var q="";l=l.serializeArray();var y;if(l.length>0){q=this._encodeFormPair(l[0].name,l[0].value);
for(y=1;y<l.length;y++)q=q+"&"+this._encodeFormPair(l[y].name,l[y].value)}return q},_encodeFormPair:function(l,q){return z(l)+"="+z(q)},_parseFormParams:function(l){var q={};l=l.serializeArray();var y;for(y=0;y<l.length;y++)q=this._parseParamPair(q,l[y].name,l[y].value);return q},_parseQueryString:function(l){var q={},y,D;if(l=l.match(s)){l=l[1].split("&");for(D=0;D<l.length;D++){y=l[D].split("=");q=this._parseParamPair(q,E(y[0]),E(y[1]||""))}}return q},_parseParamPair:function(l,q,y){if(l[q])if(G(l[q]))l[q].push(y);
else l[q]=[l[q],y];else l[q]=y;return l},_listen:function(l,q){return this.$element().bind([l,this.eventNamespace()].join("."),q)},_unlisten:function(l,q){return this.$element().unbind([l,this.eventNamespace()].join("."),q)}});k.RenderContext=function(l){this.event_context=l;this.callbacks=[];this.content=this.previous_content=null;this.waiting=this.next_engine=false};k.RenderContext.prototype=j.extend({},k.Object.prototype,{then:function(l){if(!w(l))if(typeof l==="string"&&l in this.event_context){var q=
this.event_context[l];l=function(D){return q.apply(this.event_context,[D])}}else return this;var y=this;if(this.waiting)this.callbacks.push(l);else{this.wait();h.setTimeout(function(){var D=l.apply(y,[y.content,y.previous_content]);D!==false&&y.next(D)},0)}return this},wait:function(){this.waiting=true},next:function(l){this.waiting=false;if(typeof l!=="undefined"){this.previous_content=this.content;this.content=l}this.callbacks.length>0&&this.then(this.callbacks.shift())},load:function(l,q,y){var D=
this;return this.then(function(){var ca,oa,T;if(w(q)){y=q;q={}}else q=j.extend({},q);y&&this.then(y);if(typeof l==="string"){ca=(T=l.match(/\.json$/)||q.json)&&q.cache===true||q.cache!==false;D.next_engine=D.event_context.engineFor(l);delete q.cache;delete q.json;if(q.engine){D.next_engine=q.engine;delete q.engine}if(ca&&(oa=this.event_context.app.templateCache(l)))return oa;this.wait();j.ajax(j.extend({url:l,data:{},dataType:T?"json":null,type:"get",success:function(fa){ca&&D.event_context.app.templateCache(l,
fa);D.next(fa)}},q));return false}else{if(l.nodeType)return l.innerHTML;if(l.selector){D.next_engine=l.attr("data-engine");return q.clone===false?l.remove()[0].innerHTML.toString():l[0].innerHTML.toString()}}})},loadPartials:function(l){if(l){this.partials=this.partials||{};for(name in l)this.load(l[name]).then(function(q){this.partials[name]=q})}return this},render:function(l,q,y,D){return w(l)&&!q?this.then(l):this.loadPartials(D).load(l).interpolate(q,l).then(y)},partial:function(l,q){return this.render(l,
q).swap()},send:function(){var l=this,q=u(arguments),y=q.shift();if(G(q[0]))q=q[0];return this.then(function(){q.push(function(D){l.next(D)});l.wait();y.apply(y,q);return false})},collect:function(l,q,y){var D=this,ca=function(){if(w(l)){q=l;l=this.content}var oa=[],T=false;j.each(l,function(fa,ga){var xa=q.apply(D,[fa,ga]);if(xa.jquery&&xa.length==1){xa=xa[0];T=true}oa.push(xa);return xa});return T?oa:oa.join("")};return y?ca():this.then(ca)},renderEach:function(l,q,y,D){if(G(q)){D=y;y=q;q=null}return this.load(l).then(function(ca){var oa=
this;y||(y=G(this.previous_content)?this.previous_content:[]);if(D)j.each(y,function(T,fa){var ga={},xa=this.next_engine||l;q?(ga[q]=fa):(ga=fa);D(fa,oa.event_context.interpolate(ca,ga,xa))});else return this.collect(y,function(T,fa){var ga={},xa=this.next_engine||l;q?(ga[q]=fa):(ga=fa);return this.event_context.interpolate(ca,ga,xa)},true)})},interpolate:function(l,q,y){var D=this;return this.then(function(ca,oa){if(!l&&oa)l=oa;if(this.next_engine){q=this.next_engine;this.next_engine=false}var T=
D.event_context.interpolate(ca,l,q,this.partials);return y?oa+T:T})},swap:function(){return this.then(function(l){this.event_context.swap(l)}).trigger("changed",{})},appendTo:function(l){return this.then(function(q){j(l).append(q)}).trigger("changed",{})},prependTo:function(l){return this.then(function(q){j(l).prepend(q)}).trigger("changed",{})},replace:function(l){return this.then(function(q){j(l).html(q)}).trigger("changed",{})},trigger:function(l,q){return this.then(function(y){if(typeof q=="undefined")q=
{content:y};this.event_context.trigger(l,q)})}});k.EventContext=function(l,q,y,D,ca){this.app=l;this.verb=q;this.path=y;this.params=new k.Object(D);this.target=ca};k.EventContext.prototype=j.extend({},k.Object.prototype,{$element:function(){return this.app.$element(u(arguments).shift())},engineFor:function(l){var q;if(w(l))return l;l=(l||this.app.template_engine).toString();if(q=l.match(/\.([^\.\?\#]+)$/))l=q[1];if(l&&w(this[l]))return this[l];if(this.app.template_engine)return this.engineFor(this.app.template_engine);
return function(y){return y}},interpolate:function(l,q,y,D){return this.engineFor(y).apply(this,[l,q,D])},render:function(l,q,y,D){return(new k.RenderContext(this)).render(l,q,y,D)},renderEach:function(l,q,y,D){return(new k.RenderContext(this)).renderEach(l,q,y,D)},load:function(l,q,y){return(new k.RenderContext(this)).load(l,q,y)},partial:function(l,q){return(new k.RenderContext(this)).partial(l,q)},send:function(){var l=new k.RenderContext(this);return l.send.apply(l,arguments)},redirect:function(){var l;
l=u(arguments);var q=this.app.getLocation(),y=l.length;if(y>1){for(var D=0,ca=[],oa=[],T={},fa=false;D<y;D++)if(typeof l[D]=="string")ca.push(l[D]);else{j.extend(T,l[D]);fa=true}l=ca.join("/");if(fa){for(var ga in T)oa.push(this.app._encodeFormPair(ga,T[ga]));l+="?"+oa.join("&")}}else l=l[0];this.trigger("redirect",{to:l});this.app.last_location=[this.verb,this.path];this.app.setLocation(l);(new RegExp(l)).test(q)&&this.app.trigger("location-changed")},trigger:function(l,q){if(typeof q=="undefined")q=
{};if(!q.context)q.context=this;return this.app.trigger(l,q)},eventNamespace:function(){return this.app.eventNamespace()},swap:function(l){return this.app.swap(l)},notFound:function(){return this.app.notFound(this.verb,this.path)},json:function(l){return j.parseJSON(l)},toString:function(){return"Sammy.EventContext: "+[this.verb,this.path,this.params].join(" ")}});j.sammy=h.Sammy=k})(jQuery,window);
(function(j){Sammy=Sammy||{};Sammy.Title=function(){this.setTitle=function(h){this.title_function=j.isFunction(h)?h:function(k){return[h,k].join(" ")}};this.helper("title",function(){var h=j.makeArray(arguments).join(" ");if(this.app.title_function)h=this.app.title_function(h);document.title=h})}})(jQuery);
(function(j){function h(m){m=unescape(m);return m==="true"?true:m==="false"?false:m}function k(m,s,u){var w;if(s.match(/^[^\[]+$/))m[s]=h(u);else if(w=s.match(/^([^\[]+)\[\](.*)$/)){s=w[1];w=w[2];if(m[s]&&!j.isArray(m[s]))throw"400 Bad Request";if(w){w=w.match(/^\[([^\]]+)\](.*)$/);if(!w)throw"400 Bad Request";if(m[s])m[s][m[s].length-1][w[1]]?m[s].push(k({},w[1]+w[2],u)):j.extend(true,m[s][m[s].length-1],k({},w[1]+w[2],u));else m[s]=[k({},w[1]+w[2],u)]}else if(m[s])m[s].push(h(u));else m[s]=[h(u)]}else if(w=
s.match(/^([^\[]+)\[([^\[]+)\](.*)$/)){s=w[1];w=w[2]+w[3];if(m[s]&&j.isArray(m[s]))throw"400 Bad Request";if(m[s])j.extend(true,m[s],k(m[s],w,u));else m[s]=k({},w,u)}return m}Sammy=Sammy||{};Sammy.NestedParams=function(m){m._parseParamPair=k}})(jQuery);
(function(){if(!window.JSON)window.JSON={};(function(){function j(z){return z<10?"0"+z:z}function h(z){s.lastIndex=0;return s.test(z)?'"'+z.replace(s,function(L){var P=G[L];return typeof P==="string"?P:"\\u"+("0000"+L.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+z+'"'}function k(z,L){var P,la,pa,na,l=u,q,y=L[z];if(y&&typeof y==="object"&&typeof y.toJSON==="function")y=y.toJSON(z);if(typeof E==="function")y=E.call(L,z,y);switch(typeof y){case "string":return h(y);case "number":return isFinite(y)?
String(y):"null";case "boolean":case "null":return String(y);case "object":if(!y)return"null";u+=w;q=[];if(Object.prototype.toString.apply(y)==="[object Array]"){na=y.length;for(P=0;P<na;P+=1)q[P]=k(P,y)||"null";pa=q.length===0?"[]":u?"[\n"+u+q.join(",\n"+u)+"\n"+l+"]":"["+q.join(",")+"]";u=l;return pa}if(E&&typeof E==="object"){na=E.length;for(P=0;P<na;P+=1){la=E[P];if(typeof la==="string")if(pa=k(la,y))q.push(h(la)+(u?": ":":")+pa)}}else for(la in y)if(Object.hasOwnProperty.call(y,la))if(pa=k(la,
y))q.push(h(la)+(u?": ":":")+pa);pa=q.length===0?"{}":u?"{\n"+u+q.join(",\n"+u)+"\n"+l+"}":"{"+q.join(",")+"}";u=l;return pa}}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return this.getUTCFullYear()+"-"+j(this.getUTCMonth()+1)+"-"+j(this.getUTCDate())+"T"+j(this.getUTCHours())+":"+j(this.getUTCMinutes())+":"+j(this.getUTCSeconds())+"Z"};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var m=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
s=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,u,w,G={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},E;if(typeof JSON.stringify!=="function")JSON.stringify=function(z,L,P){var la;w=u="";if(typeof P==="number")for(la=0;la<P;la+=1)w+=" ";else if(typeof P==="string")w=P;if((E=L)&&typeof L!=="function"&&(typeof L!=="object"||typeof L.length!=="number"))throw new Error("JSON.stringify");
return k("",{"":z})};if(typeof JSON.parse!=="function")JSON.parse=function(z,L){function P(pa,na){var l,q,y=pa[na];if(y&&typeof y==="object")for(l in y)if(Object.hasOwnProperty.call(y,l)){q=P(y,l);if(q!==undefined)y[l]=q;else delete y[l]}return L.call(pa,na,y)}var la;m.lastIndex=0;if(m.test(z))z=z.replace(m,function(pa){return"\\u"+("0000"+pa.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(z.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){la=eval("("+z+")");return typeof L==="function"?P({"":la},""):la}throw new SyntaxError("JSON.parse");}})();Sammy=Sammy||{};Sammy.JSON=function(j){j.helpers({json:function(h){return typeof h=="string"?JSON.parse(h):JSON.stringify(h)}})}})(jQuery);
(function(j){if(!window.Mustache)var h=function(){var k=function(){};k.prototype={otag:"{{",ctag:"}}",pragmas:{},buffer:[],pragmas_implemented:{"IMPLICIT-ITERATOR":true},context:{},render:function(m,s,u,w){if(!w){this.context=s;this.buffer=[]}if(!this.includes("",m))if(w)return m;else{this.send(m);return}m=this.render_pragmas(m);m=this.render_section(m,s,u);if(w)return this.render_tags(m,s,u,w);this.render_tags(m,s,u,w)},send:function(m){m!=""&&this.buffer.push(m)},render_pragmas:function(m){if(!this.includes("%",
m))return m;var s=this;return m.replace(new RegExp(this.otag+"%([\\w-]+) ?([\\w]+=[\\w]+)?"+this.ctag),function(u,w,G){if(!s.pragmas_implemented[w])throw{message:"This implementation of mustache doesn't understand the '"+w+"' pragma"};s.pragmas[w]={};if(G){u=G.split("=");s.pragmas[w][u[0]]=u[1]}return""})},render_partial:function(m,s,u){m=this.trim(m);if(!u||u[m]===undefined)throw{message:"unknown_partial '"+m+"'"};if(typeof s[m]!="object")return this.render(u[m],s,u,true);return this.render(u[m],
s[m],u,true)},render_section:function(m,s,u){if(!this.includes("#",m)&&!this.includes("^",m))return m;var w=this;return m.replace(new RegExp(this.otag+"(\\^|\\#)\\s*(.+)\\s*"+this.ctag+"\n*([\\s\\S]+?)"+this.otag+"\\/\\s*\\2\\s*"+this.ctag+"\\s*","mg"),function(G,E,z,L){G=w.find(z,s);if(E=="^")return!G||w.is_array(G)&&G.length===0?w.render(L,s,u,true):"";else if(E=="#")return w.is_array(G)?w.map(G,function(P){return w.render(L,w.create_context(P),u,true)}).join(""):w.is_object(G)?w.render(L,w.create_context(G),
u,true):typeof G==="function"?G.call(s,L,function(P){return w.render(P,s,u,true)}):G?w.render(L,s,u,true):""})},render_tags:function(m,s,u,w){var G=this,E=function(){return new RegExp(G.otag+"(=|!|>|\\{|%)?([^\\/#\\^]+?)\\1?"+G.ctag+"+","g")},z=E(),L=function(la,pa,na){switch(pa){case "!":return"";case "=":G.set_delimiters(na);z=E();return"";case ">":return G.render_partial(na,s,u);case "{":return G.find(na,s);default:return G.escape(G.find(na,s))}};m=m.split("\n");for(var P=0;P<m.length;P++){m[P]=
m[P].replace(z,L,this);w||this.send(m[P])}if(w)return m.join("\n")},set_delimiters:function(m){m=m.split(" ");this.otag=this.escape_regex(m[0]);this.ctag=this.escape_regex(m[1])},escape_regex:function(m){if(!arguments.callee.sRE)arguments.callee.sRE=new RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\)","g");return m.replace(arguments.callee.sRE,"\\$1")},find:function(m,s){m=this.trim(m);var u;if(s[m]===false||s[m]===0||s[m])u=s[m];else if(this.context[m]===false||this.context[m]===0||
this.context[m])u=this.context[m];if(typeof u==="function")return u.apply(s);if(u!==undefined)return u;return""},includes:function(m,s){return s.indexOf(this.otag+m)!=-1},escape:function(m){return String(m===null?"":m).replace(/&(?!\w+;)|["<>\\]/g,function(s){switch(s){case "&":return"&amp;";case "\\":return"\\\\";case '"':return'"';case "<":return"&lt;";case ">":return"&gt;";default:return s}})},create_context:function(m){if(this.is_object(m))return m;else{var s=".";if(this.pragmas["IMPLICIT-ITERATOR"])s=
this.pragmas["IMPLICIT-ITERATOR"].iterator;var u={};u[s]=m;return u}},is_object:function(m){return m&&typeof m=="object"},is_array:function(m){return Object.prototype.toString.call(m)==="[object Array]"},trim:function(m){return m.replace(/^\s*|\s*$/g,"")},map:function(m,s){if(typeof m.map=="function")return m.map(s);else{for(var u=[],w=m.length,G=0;G<w;G++)u.push(s(m[G]));return u}}};return{name:"mustache.js",version:"0.3.1-dev",to_html:function(m,s,u,w){var G=new k;if(w)G.send=w;G.render(m,s,u);
if(!w)return G.buffer.join("\n")}}}();Sammy=Sammy||{};Sammy.Mustache=function(k,m){m||(m="mustache");k.helper(m,function(s,u,w){u=j.extend({},this,u);w=j.extend({},u.partials,w);return h.to_html(s,u,w)})}})(jQuery);
window.Modernizr=function(j,h,k){function m(){G.input=function(Q){for(var V=0,c=Q.length;V<c;V++)oa[Q[V]]=!!(Q[V]in la);return oa}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" "));G.inputtypes=function(Q){for(var V=0,c,A,M,N=Q.length;V<N;V++){la.setAttribute("type",A=Q[V]);(c=la.type!=="text")&&(la.value=pa,la.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(A)&&la.style.WebkitAppearance!==k?(E.appendChild(la),M=h.defaultView,c=M.getComputedStyle&&
M.getComputedStyle(la,null).WebkitAppearance!=="textfield"&&la.offsetHeight!==0,E.removeChild(la)):/^(search|tel)$/.test(A)||(/^(url|email)$/.test(A)?(c=la.checkValidity&&la.checkValidity()===false):/^color$/.test(A)?(E.appendChild(la),c=la.value!=pa,E.removeChild(la)):(c=la.value!=pa)));ca[Q[V]]=!!c}return ca}("search tel url email datetime date month week time datetime-local number range color".split(" "))}function s(Q,V){var c=Q.charAt(0).toUpperCase()+Q.substr(1);c=(Q+" "+q.join(c+" ")+c).split(" ");
return!!u(c,V)}function u(Q,V){for(var c in Q)if(P[Q[c]]!==k&&(!V||V(Q[c],L)))return true}function w(Q,V){return typeof Q===V}var G={},E=h.documentElement,z=h.head||h.getElementsByTagName("head")[0],L=h.createElement("modernizr"),P=L.style,la=h.createElement("input"),pa=":)",na=Object.prototype.toString,l=" -webkit- -moz- -o- -ms- -khtml- ".split(" "),q="Webkit Moz O ms Khtml".split(" "),y={svg:"http://www.w3.org/2000/svg"},D={},ca={},oa={},T=[],fa,ga=function(Q){var V=h.createElement("style"),c=
h.createElement("div");V.textContent=Q+"{#modernizr{height:3px}}";z.appendChild(V);c.id="modernizr";E.appendChild(c);Q=c.offsetHeight===3;V.parentNode.removeChild(V);c.parentNode.removeChild(c);return!!Q},xa=function(){var Q={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return function(V,c){c=c||h.createElement(Q[V]||"div");var A=(V="on"+V)in c;A||(c.setAttribute||(c=h.createElement("div")),c.setAttribute&&c.removeAttribute&&(c.setAttribute(V,""),A=
w(c[V],"function"),w(c[V],k)||(c[V]=k),c.removeAttribute(V)));return A}}(),Oa={}.hasOwnProperty,Ra;w(Oa,k)||w(Oa.call,k)?(Ra=function(Q,V){return V in Q&&w(Q.constructor.prototype[V],k)}):(Ra=function(Q,V){return Oa.call(Q,V)});D.flexbox=function(){var Q=h.createElement("div"),V=h.createElement("div");(function(A,M,N,S){M+=":";A.style.cssText=(M+l.join(N+";"+M)).slice(0,-M.length)+(S||"")})(Q,"display","box","width:42px;padding:0;");V.style.cssText=l.join("box-flex:1;")+"width:10px;";Q.appendChild(V);
E.appendChild(Q);var c=V.offsetWidth===42;Q.removeChild(V);E.removeChild(Q);return c};D.canvas=function(){var Q=h.createElement("canvas");return Q.getContext&&Q.getContext("2d")};D.canvastext=function(){return G.canvas&&w(h.createElement("canvas").getContext("2d").fillText,"function")};D.webgl=function(){return!!j.WebGLRenderingContext};D.touch=function(){return"ontouchstart"in j||ga("@media ("+l.join("touch-enabled),(")+"modernizr)")};D.geolocation=function(){return!!navigator.geolocation};D.postmessage=
function(){return!!j.postMessage};D.websqldatabase=function(){return!!j.openDatabase};D.indexedDB=function(){for(var Q=-1,V=q.length;++Q<V;){var c=q[Q].toLowerCase();if(j[c+"_indexedDB"]||j[c+"IndexedDB"])return true}return false};D.hashchange=function(){return xa("hashchange",j)&&(h.documentMode===k||h.documentMode>7)};D.history=function(){return!!(j.history&&history.pushState)};D.draganddrop=function(){return xa("dragstart")&&xa("drop")};D.websockets=function(){return"WebSocket"in j};D.rgba=function(){P.cssText=
"background-color:rgba(150,255,150,.5)";return(""+P.backgroundColor).indexOf("rgba")!==-1};D.hsla=function(){P.cssText="background-color:hsla(120,40%,100%,.5)";return(""+P.backgroundColor).indexOf("rgba")!==-1||(""+P.backgroundColor).indexOf("hsla")!==-1};D.multiplebgs=function(){P.cssText="background:url(//:),url(//:),red url(//:)";return/(url\s*\(.*?){3}/.test(P.background)};D.backgroundsize=function(){return s("backgroundSize")};D.borderimage=function(){return s("borderImage")};D.borderradius=
function(){return s("borderRadius","",function(Q){return(""+Q).indexOf("orderRadius")!==-1})};D.boxshadow=function(){return s("boxShadow")};D.textshadow=function(){return h.createElement("div").style.textShadow===""};D.opacity=function(){var Q=l.join("opacity:.55;")+"";P.cssText=Q;return/^0.55$/.test(P.opacity)};D.cssanimations=function(){return s("animationName")};D.csscolumns=function(){return s("columnCount")};D.cssgradients=function(){var Q=("background-image:"+l.join("gradient(linear,left top,right bottom,from(#9f9),to(white));background-image:")+
l.join("linear-gradient(left top,#9f9, white);background-image:")).slice(0,-17);P.cssText=Q;return(""+P.backgroundImage).indexOf("gradient")!==-1};D.cssreflections=function(){return s("boxReflect")};D.csstransforms=function(){return!!u(["transformProperty","WebkitTransform","MozTransform","OTransform","msTransform"])};D.csstransforms3d=function(){var Q=!!u(["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"]);Q&&"webkitPerspective"in E.style&&(Q=ga("@media ("+
l.join("transform-3d),(")+"modernizr)"));return Q};D.csstransitions=function(){return s("transitionProperty")};D.fontface=function(){var Q,V,c=z||E,A=h.createElement("style");V=h.implementation||{hasFeature:function(){return false}};A.type="text/css";c.insertBefore(A,c.firstChild);Q=A.sheet||A.styleSheet;V=(V.hasFeature("CSS2","")?function(M){if(!Q||!M)return false;var N=false;try{Q.insertRule(M,0);N=/src/i.test(Q.cssRules[0].cssText);Q.deleteRule(Q.cssRules.length-1)}catch(S){}return N}:function(M){if(!Q||
!M)return false;Q.cssText=M;return Q.cssText.length!==0&&/src/i.test(Q.cssText)&&Q.cssText.replace(/\r+|\n+/g,"").indexOf(M.split(" ")[0])===0})('@font-face { font-family: "font"; src: url(data:,); }');c.removeChild(A);return V};D.video=function(){var Q=h.createElement("video"),V=!!Q.canPlayType;if(V){V=new Boolean(V);V.ogg=Q.canPlayType('video/ogg; codecs="theora"');V.h264=Q.canPlayType('video/mp4; codecs="avc1.42E01E"')||Q.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"');V.webm=Q.canPlayType('video/webm; codecs="vp8, vorbis"')}return V};
D.audio=function(){var Q=h.createElement("audio"),V=!!Q.canPlayType;V&&(V=new Boolean(V),V.ogg=Q.canPlayType('audio/ogg; codecs="vorbis"'),V.mp3=Q.canPlayType("audio/mpeg;"),V.wav=Q.canPlayType('audio/wav; codecs="1"'),V.m4a=Q.canPlayType("audio/x-m4a;")||Q.canPlayType("audio/aac;"));return V};D.localstorage=function(){try{return!!localStorage.getItem}catch(Q){return false}};D.sessionstorage=function(){try{return!!sessionStorage.getItem}catch(Q){return false}};D.webWorkers=function(){return!!j.Worker};
D.applicationcache=function(){return!!j.applicationCache};D.svg=function(){return!!h.createElementNS&&!!h.createElementNS(y.svg,"svg").createSVGRect};D.inlinesvg=function(){var Q=h.createElement("div");Q.innerHTML="<svg/>";return(Q.firstChild&&Q.firstChild.namespaceURI)==y.svg};D.smil=function(){return!!h.createElementNS&&/SVG/.test(na.call(h.createElementNS(y.svg,"animate")))};D.svgclippaths=function(){return!!h.createElementNS&&/SVG/.test(na.call(h.createElementNS(y.svg,"clipPath")))};for(var X in D)Ra(D,
X)&&(fa=X.toLowerCase(),G[fa]=D[X](),T.push((G[fa]?"":"no-")+fa));G.input||m();G.crosswindowmessaging=G.postmessage;G.historymanagement=G.history;G.addTest=function(Q,V){Q=Q.toLowerCase();if(!G[Q]){V=!!V();E.className+=" "+(V?"":"no-")+Q;G[Q]=V;return G}};P.cssText="";L=la=null;j.attachEvent&&function(){var Q=h.createElement("div");Q.innerHTML="<elem></elem>";return Q.childNodes.length!==1}()&&function(Q,V){function c(aa,ha){for(var sa=-1,ta=aa.length,La,gb=[];++sa<ta;){La=aa[sa];(ha=La.media||ha)!=
"screen"&&gb.push(c(La.imports,ha),La.cssText)}return gb.join("")}function A(aa){for(var ha=-1;++ha<N;)aa.createElement(M[ha])}var M="abbr|article|aside|audio|canvas|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video".split("|"),N=M.length,S=new RegExp("(^|\\s)(abbr|article|aside|audio|canvas|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video)","gi"),ja=new RegExp("<(/*)(abbr|article|aside|audio|canvas|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video)",
"gi"),ia=new RegExp("(^|[^\\n]*?\\s)(abbr|article|aside|audio|canvas|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video)([^\\n]*)({[\\n\\w\\W]*?})","gi"),wa=V.createDocumentFragment(),Ga=V.documentElement,ua=Ga.firstChild,Na=V.createElement("body"),H=V.createElement("style"),ea;A(V);A(wa);ua.insertBefore(H,ua.firstChild);H.media="print";Q.attachEvent("onbeforeprint",function(){var aa=-1,ha=c(V.styleSheets,"all"),sa=[],ta;for(ea=ea||V.body;(ta=
ia.exec(ha))!=null;)sa.push((ta[1]+ta[2]+ta[3]).replace(S,"$1.iepp_$2")+ta[4]);for(H.styleSheet.cssText=sa.join("\n");++aa<N;){ha=V.getElementsByTagName(M[aa]);sa=ha.length;for(ta=-1;++ta<sa;)ha[ta].className.indexOf("iepp_")<0&&(ha[ta].className+=" iepp_"+M[aa])}wa.appendChild(ea);Ga.appendChild(Na);Na.className=ea.className;Na.innerHTML=ea.innerHTML.replace(ja,"<$1font")});Q.attachEvent("onafterprint",function(){Na.innerHTML="";Ga.removeChild(Na);Ga.appendChild(ea);H.styleSheet.cssText=""})}(j,
h);G._enableHTML5=true;G._version="1.7";E.className=E.className.replace(/\bno-js\b/,"")+" js "+T.join(" ");return G}(this,this.document);
var Model=function(j,h){var k=function(m){this.attributes=jQuery.extend({},m);this.changes={};this.errors=new Model.Errors(this);this.uid=[j,Model.UID.generate()].join("-");jQuery.isFunction(this.initialize)&&this.initialize()};Model.Module.extend.call(k,Model.Module);k._name=j;k.collection=[];k.unique_key="id";k.extend(Model.Callbacks).extend(Model.ClassMethods);k.prototype=new Model.Base;k.prototype.constructor=k;jQuery.isFunction(h)&&h.call(k,k,k.prototype);return k};
Model.Callbacks={bind:function(j,h){this.callbacks=this.callbacks||{};this.callbacks[j]=this.callbacks[j]||[];this.callbacks[j].push(h);return this},trigger:function(j,h){this.callbacks=this.callbacks||{};var k=this.callbacks[j];if(k)for(var m=0;m<k.length;m++)k[m].apply(this,h||[]);return this},unbind:function(j,h){this.callbacks=this.callbacks||{};if(h)for(var k=this.callbacks[j]||[],m=0;m<k.length;m++)k[m]===h&&this.callbacks[j].splice(m,1);else delete this.callbacks[j];return this}};
Model.ClassMethods={add:function(j){var h=j.id();if(jQuery.inArray(j,this.collection)===-1&&!(h&&this.find(h))){this.collection.push(j);this.trigger("add",[j])}return this},all:function(){return this.collection.slice()},chain:function(j){return jQuery.extend({},this,{collection:j})},count:function(){return this.all().length},detect:function(j){for(var h=this.all(),k,m=0,s=h.length;m<s;m++){k=h[m];if(j.call(k,k,m))return k}},each:function(j,h){for(var k=this.all(),m=0,s=k.length;m<s;m++)j.call(h||
k[m],k[m],m,k);return this},find:function(j){return this.detect(function(){return this.id()==j})},first:function(){return this.all()[0]},load:function(j){if(this._persistence){var h=this;this._persistence.read(function(k){for(var m=0,s=k.length;m<s;m++)h.add(k[m]);j&&j.call(h,k)})}return this},last:function(){var j=this.all();return j[j.length-1]},map:function(j,h){for(var k=this.all(),m=[],s=0,u=k.length;s<u;s++)m.push(j.call(h||k[s],k[s],s,k));return m},persistence:function(j){if(arguments.length==
0)return this._persistence;else{var h=Array.prototype.slice.call(arguments,1);h.unshift(this);this._persistence=j.apply(j,h);return this}},pluck:function(j){for(var h=this.all(),k=[],m=0,s=h.length;m<s;m++)k.push(h[m].attr(j));return k},remove:function(j){for(var h,k=0,m=this.collection.length;k<m;k++)if(this.collection[k]===j){h=k;break}if(h!=undefined){this.collection.splice(h,1);this.trigger("remove",[j]);return true}else return false},reverse:function(){return this.chain(this.all().reverse())},
select:function(j,h){for(var k=this.all(),m=[],s,u=0,w=k.length;u<w;u++){s=k[u];if(j.call(h||s,s,u,k))m.push(s)}return this.chain(m)},sort:function(j){return this.chain(this.all().sort(j))},sortBy:function(j){var h=jQuery.isFunction(j);return this.sort(function(k,m){var s=h?j.call(k):k.attr(j),u=h?j.call(m):m.attr(j);return s<u?-1:s>u?1:0})},use:function(j){var h=Array.prototype.slice.call(arguments,1);h.unshift(this);j.apply(this,h);return this}};
Model.Errors=function(j){this.errors={};this.model=j};Model.Errors.prototype={add:function(j,h){this.errors[j]||(this.errors[j]=[]);this.errors[j].push(h);return this},all:function(){return this.errors},clear:function(){this.errors={};return this},each:function(j){for(var h in this.errors)for(var k=0;k<this.errors[h].length;k++)j.call(this,h,this.errors[h][k]);return this},on:function(j){return this.errors[j]||[]},size:function(){var j=0;this.each(function(){j++});return j}};
Model.InstanceMethods={asJSON:function(){return this.attr()},attr:function(j,h){if(arguments.length===0)return jQuery.extend({},this.attributes,this.changes);else if(arguments.length===2){if(this.attributes[j]===h)delete this.changes[j];else this.changes[j]=h;return this}else if(typeof j==="object"){for(var k in j)this.attr(k,j[k]);return this}else return j in this.changes?this.changes[j]:this.attributes[j]},callPersistMethod:function(j,h){var k=this,m=function(s){if(s){k.merge(k.changes).reset();
j==="destroy"?k.constructor.remove(k):k.constructor.add(k);k.trigger(j)}var u;if(h)u=h.apply(k,arguments);return u};this.constructor._persistence?this.constructor._persistence[j](this,m):m.call(this,true)},destroy:function(j){this.callPersistMethod("destroy",j);return this},id:function(){return this.attributes[this.constructor.unique_key]},merge:function(j){jQuery.extend(this.attributes,j);return this},newRecord:function(){return this.id()===undefined},reset:function(){this.errors.clear();this.changes=
{};return this},save:function(j){if(this.valid())this.callPersistMethod(this.newRecord()?"create":"update",j);else j&&j(false);return this},valid:function(){this.errors.clear();this.validate();return this.errors.size()===0},validate:function(){return this}};
Model.localStorage=function(j){if(!window.localStorage)return{create:function(s,u){u(true)},destroy:function(s,u){u(true)},read:function(s){s([])},update:function(s,u){u(true)}};var h=[j._name,"collection"].join("-"),k=function(){var s=localStorage[h];return s?JSON.parse(s):[]},m=function(s){localStorage.setItem(s.uid,JSON.stringify(s.asJSON()));s=s.uid;var u=k();if(jQuery.inArray(s,u)===-1){u.push(s);localStorage.setItem(h,JSON.stringify(u))}};return{create:function(s,u){m(s);u(true)},destroy:function(s,
u){localStorage.removeItem(s.uid);var w=s.uid,G=k();w=jQuery.inArray(w,G);if(w>-1){G.splice(w,1);localStorage.setItem(h,JSON.stringify(G))}u(true)},read:function(s){if(!s)return false;for(var u=j.map(function(){return this.uid}),w=k(),G=[],E,z,L=0,P=w.length;L<P;L++){z=w[L];if(jQuery.inArray(z,u)==-1){E=JSON.parse(localStorage[z]);E=new j(E);E.uid=z;G.push(E)}}s(G)},update:function(s,u){m(s);u(true)}}};Model.Log=function(){window.console&&window.console.log.apply(window.console,arguments)};
Model.Module={extend:function(j){jQuery.extend(this,j);return this},include:function(j){jQuery.extend(this.prototype,j);return this}};
Model.REST=function(j,h,k){var m=/:([\w\d]+)/g,s=function(){for(var u=[],w;(w=m.exec(h))!==null;)u.push(w[1]);return u}();return jQuery.extend({path:function(u){var w=h;jQuery.each(s,function(G,E){w=w.replace(":"+E,u.attributes[E])});return w},create:function(u,w){return this.xhr("POST",this.create_path(u),u,w)},create_path:function(u){return this.path(u)},destroy:function(u,w){return this.xhr("DELETE",this.destroy_path(u),u,w)},destroy_path:function(u){return this.update_path(u)},params:function(u){var w;
if(u){var G=u.asJSON();delete G[u.constructor.unique_key];w={};w[u.constructor._name.toLowerCase()]=G}else w=null;if(jQuery.ajaxSettings.data)w=jQuery.extend({},jQuery.ajaxSettings.data,w);return w},read:function(u){return this.xhr("GET",this.read_path(),null,function(w,G,E){E=jQuery.makeArray(E);w=[];G=0;for(var z=E.length;G<z;G++)w.push(new j(E[G]));u(w)})},read_path:function(){return h},update:function(u,w){return this.xhr("PUT",this.update_path(u),u,w)},update_path:function(u){return[this.path(u),
u.id()].join("/")},xhr:function(u,w,G,E){var z=this,L=u=="GET"?undefined:this.params(G);console.log(L);console.log(u);return jQuery.ajax({type:u,url:w+".json",dataType:"json",data:L,dataFilter:function(P){return/\S/.test(P)?P:undefined},complete:function(P,la){z.xhrComplete(P,la,G,E)}})},xhrComplete:function(u,w,G,E){var z=Model.REST["handle"+u.status];z&&z.call(this,u,w,G);w=w==="success";z=Model.REST.parseResponseData(u);w&&G&&z&&G.attr(z);E&&E.call(G,w,u,z)}},k)};Model.RestPersistence=Model.REST;
Model.REST.handle422=function(j,h,k){if(j=Model.REST.parseResponseData(j)){k.errors.clear();for(var m in j)for(h=0;h<j[m].length;h++)k.errors.add(m,j[m][h])}};Model.REST.parseResponseData=function(j){try{return/\S/.test(j.responseText)?jQuery.parseJSON(j.responseText):undefined}catch(h){Model.Log(h)}};Model.UID={counter:0,generate:function(){return[(new Date).valueOf(),this.counter++].join("-")},reset:function(){this.counter=0;return this}};Model.VERSION="0.10.1";
Model.Base=function(){function j(){}j.prototype=jQuery.extend({},Model.Callbacks,Model.InstanceMethods);return j}();
Model.SinatraREST=function(j,h,k){var m=/:([\w\d]+)/g,s=function(){for(var u=[],w;(w=m.exec(h))!==null;)u.push(w[1]);return u}();return jQuery.extend({path:function(u){var w=h;jQuery.each(s,function(G,E){w=w.replace(":"+E,u.attributes[E])});return w},create:function(u,w){return this.xhr("POST",this.create_path(u),u,w)},create_path:function(u){return this.path(u)},destroy:function(u,w){return this.xhr("DELETE",this.destroy_path(u),u,w)},destroy_path:function(u){return this.update_path(u)},params:function(u){var w;
if(u){var G=u.asJSON();delete G[u.constructor.unique_key];w={};w[u.constructor._name.toLowerCase()]=G}else w=null;if(jQuery.ajaxSettings.data)w=jQuery.extend({},jQuery.ajaxSettings.data,w);return w},read:function(u){return this.xhr("GET",this.read_path(),null,function(w,G,E){E=jQuery.makeArray(E);w=[];G=0;for(var z=E.length;G<z;G++)w.push(new j(E[G]));u(w)})},read_path:function(){return h},update:function(u,w){return this.xhr("PUT",this.update_path(u),u,w)},update_path:function(u){return[this.path(u),
u.id()].join("/")},xhr:function(u,w,G,E){var z=this,L=u=="GET"?undefined:this.params(G);return jQuery.ajax({type:u,url:w+".json",dataType:"json",data:L,complete:function(P,la){z.xhrComplete(P,la,G,E)}})},xhrComplete:function(u,w,G,E){var z=Model.REST["handle"+u.status];z&&z.call(this,u,w,G);w=w==="success";z=Model.REST.parseResponseData(u);w&&G&&z&&G.attr(z);E&&E.call(G,w,u,z)}},k)};
var CodeMirror=function(){function j(c,A){function M(b){Za=null;var e={line:0,ch:0};ja(e,{line:W.length-1,ch:W[W.length-1].text.length},X(b),e,e);Za=new w}function N(){if(ma.readOnly!="nocursor"){!Wa&&ma.onFocus&&ma.onFocus($a);Wa=true;sa();if(va.className.search(/\bCodeMirror-focused\b/)==-1)va.className+=" CodeMirror-focused";dc()}}function S(){Wa&&ma.onBlur&&ma.onBlur($a);clearInterval(bc);hb=null;Wa=false;va.className=va.className.replace(" CodeMirror-focused","")}function ja(b,e,f,g,i){if(Za){for(var n=
[],p=b.line,r=e.line+1;p<r;++p)n.push(W[p].text);for(Za.addChange(b.line,f.length,n);Za.done.length>ma.undoDepth;)Za.done.shift()}ua(b,e,f,g,i)}function ia(b,e){var f=b.pop();if(f){for(var g=[],i=f.start+f.added,n=f.start;n<i;++n)g.push(W[n].text);e.push({start:f.start,added:f.old.length,old:g});n=f.start+f.old.length-1;g=g[g.length-1];var p=f.old[f.old.length-1];if(p)if(g){for(var r=g.length,x=p.length;r>=0&&x>=0;--r,--x)if(g.charAt(r)!=p.charAt(x))break;g=x+1}else g=p.length;else g=g?g.length:0;
n=Ka({line:n,ch:g});ua({line:f.start,ch:0},{line:i-1,ch:W[i-1].text.length},f.old,n,n)}}function wa(){ia(Za.done,Za.undone)}function Ga(){ia(Za.undone,Za.done)}function ua(b,e,f,g,i){for(var n=false,p=Eb.length,r=b.line;r<e.line;++r)if(W[r].text.length==p){n=true;break}var x=e.line-b.line;r=W[b.line];var B=W[e.line];if(r==B)if(f.length==1)r.replace(b.ch,e.ch,f[0]);else{B=r.split(e.ch,f[f.length-1]);var R=[b.line+1,x];r.replace(b.ch,r.text.length,f[0]);r=1;for(var ba=f.length-1;r<ba;++r)R.push(new s(f[r]));
R.push(B);W.splice.apply(W,R)}else if(f.length==1){r.replace(b.ch,r.text.length,f[0]+B.text.slice(e.ch));W.splice(b.line+1,x)}else{R=[b.line+1,x-1];r.replace(b.ch,r.text.length,f[0]);B.replace(0,e.ch,f[f.length-1]);r=1;for(ba=f.length-1;r<ba;++r)R.push(new s(f[r]));W.splice.apply(W,R)}r=b.line;for(ba=r+f.length;r<ba;++r){B=W[r].text;if(B.length>p){Eb=B;p=B.length;n=false}}if(n){r=p=0;for(ba=W.length;r<ba;++r){B=W[r].text;if(B.length>p){p=B.length;Eb=B}}}n=[];x=f.length-x-1;r=0;for(B=cb.length;r<B;++r){p=
cb[r];if(p<b.line)n.push(p);else p>e.line&&n.push(p+x)}f.length&&n.push(b.line);cb=n;Kb(100);Ua.push({from:b.line,to:e.line+1,diff:x});pb={from:b,to:e,text:f};xb(g,i,O.from.line<=Math.min(e.line,e.line+x)?O.from.line:O.from.line+x,O.to.line<=Math.min(e.line,e.line+x)?O.to.line:O.to.line+x);Ab.style.height=W.length*ab()+2*Ya.offsetTop+"px"}function Na(b,e,f){function g(n){if(l(n,e))return n;if(!l(f,n))return i;var p=n.line+b.length-(f.line-e.line)-1,r=n.ch;if(n.line==f.line)r+=b[b.length-1].length-
(f.ch-(f.line==e.line?e.ch:0));return{line:p,ch:r}}e=Ka(e);f=f?Ka(f):e;b=X(b);var i;ea(b,e,f,function(n){i=n;return{from:g(O.from),to:g(O.to)}});return i}function H(b,e){ea(X(b),O.from,O.to,function(f){return e=="end"?{from:f,to:f}:e=="start"?{from:O.from,to:O.from}:{from:O.from,to:f}})}function ea(b,e,f,g){g=g({line:e.line+b.length-1,ch:b.length==1?b[0].length+e.ch:b[b.length-1].length});ja(e,f,b,g.from,g.to)}function aa(b,e){var f=b.line,g=e.line;if(f==g)return W[f].text.slice(b.ch,e.ch);var i=
[W[f].text.slice(b.ch)];for(f=f+1;f<g;++f)i.push(W[f].text);i.push(W[g].text.slice(0,e.ch));return i.join("\n")}function ha(){return aa(O.from,O.to)}function sa(){Pb||ac.set(2E3,function(){Yb();La();Wa&&sa();Zb()})}function ta(b){function e(){Yb();var g=La();if(g=="moved"&&b)Oa[b]=true;if(!g&&!f){f=true;ac.set(80,e)}else{Pb=false;sa()}Zb()}var f=false;Pb=true;ac.set(20,e)}function La(){function b(Ba,Ca){for(var o=0;;){var t=f.indexOf("\n",o);if(t==-1||(f.charAt(t-1)=="\r"?t-1:t)>=Ba)return{line:Ca,
ch:Ba-o};++Ca;o=t+1}}if(!Xa){var e=false,f=Ea.value,g=Q(Ea);if(!g)return false;e=Pa.text!=f;var i=ub,n=e||g.start!=Pa.start||g.end!=(i?Pa.start:Pa.end);if(!n&&!i)return false;if(e){hb=ub=null;if(ma.readOnly){bb=true;return"changed"}}var p=b(g.start,Pa.from),r=b(g.end,Pa.from);if(i){p=g.start==i.anchor?r:p;r=hb?O.to:g.start==i.anchor?p:r;if(!l(p,r)){ub=null;O.inverted=false;i=p;p=r;r=i}}if(p.line==r.line&&p.line==O.from.line&&p.line==O.to.line&&!hb)bb=false;if(e){i=0;for(var x=f.length,B=Math.min(x,
Pa.text.length),R,ba=Pa.from,ka=-1;i<B&&(R=f.charAt(i))==Pa.text.charAt(i);){++i;if(R=="\n"){ba++;ka=i}}B=ka>-1?i-ka:i;for(var Ia=Pa.to-1,za=Pa.text.length;;){R=Pa.text.charAt(za);R=="\n"&&Ia--;if(f.charAt(x)!=R){++x;++za;break}if(za<=i||x<=i)break;--x;--za}ka=Pa.text.lastIndexOf("\n",za-1);ja({line:ba,ch:B},{line:Ia,ch:ka==-1?za:za-ka-1},X(f.slice(i,x)),p,r);if(ba!=Ia||p.line!=ba)bb=true}else xb(p,r);Pa.text=f;Pa.start=g.start;Pa.end=g.end;return e?"changed":n?"moved":false}}function gb(){for(var b=
[],e=Math.max(0,O.from.line-1),f=Math.min(W.length,O.to.line+2),g=e;g<f;++g)b.push(W[g].text);b=Ea.value=b.join(fa);var i=O.from.ch,n=O.to.ch;for(g=e;g<O.from.line;++g)i+=fa.length+W[g].text.length;for(g=e;g<O.to.line;++g)n+=fa.length+W[g].text.length;Pa={text:b,from:e,to:f,start:i,end:n};V(Ea,i,ub?i:n)}function kb(){ma.readOnly!="nocursor"&&Ea.focus()}function Fb(){var b=Wb(O.inverted?O.from:O.to);return Rb(b.x,b.y,b.x,b.yBot)}function Rb(b,e,f,g){var i=Ya.offsetLeft,n=Ya.offsetTop,p=ab();e+=n;g+=
n;b+=i;f+=i;var r=va.clientHeight,x=va.scrollTop;i=false;n=true;if(e<x){va.scrollTop=Math.max(0,e-2*p);i=true}else if(g>x+r){va.scrollTop=g+p-r;i=true}e=va.clientWidth;g=va.scrollLeft;if(b<g){va.scrollLeft=Math.max(0,b-10);i=true}else if(f>e+g){va.scrollLeft=f+10-e;i=true;if(f>Ab.clientWidth)n=false}i&&ma.onScroll&&ma.onScroll($a);return n}function Sb(){var b=ab(),e=va.scrollTop-Ya.offsetTop;return{from:Math.min(W.length,Math.max(0,Math.floor(e/b))),to:Math.min(W.length,Math.ceil((e+va.clientHeight)/
b))}}function lb(b){if(va.clientWidth){for(var e=b===true?[]:[{from:Ha,to:ib,domStart:0}],f=0,g=b.length||0;f<g;++f){for(var i=b[f],n=[],p=i.diff||0,r=0,x=e.length;r<x;++r){var B=e[r];if(i.to<=B.from)n.push({from:B.from+p,to:B.to+p,domStart:B.domStart});else if(B.to<=i.from)n.push(B);else{i.from>B.from&&n.push({from:B.from,to:i.from,domStart:B.domStart});i.to<B.to&&n.push({from:i.to+p,to:B.to+p,domStart:B.domStart+(i.to-B.from)})}}e=n}p=Sb();i=Math.min(Ha,Math.max(p.from-3,0));n=Math.min(W.length,
Math.max(ib,p.to+3));b=[];r=0;x=ib-Ha;var R=i,ba=0;f=0;for(g=e.length;f<g;++f){B=e[f];if(!(B.to<=i)){if(B.from>=n)break;if(B.domStart>r||B.from>R){b.push({from:R,to:B.from,domSize:B.domStart-r,domStart:r});ba+=B.from-R}R=B.to;r=B.domStart+(B.to-B.from)}}if(r!=x||R!=n){ba+=Math.abs(n-R);b.push({from:R,to:n,domSize:x-r,domStart:r})}if(b.length){Qa.style.display="none";if(ba>(p.to-p.from)*0.3){B=i=Math.max(p.from-10,0);e=n=Math.min(p.to+7,W.length);f=[];g={line:B,ch:0};g=l(O.from,g)&&!l(O.to,g);for(B=
B;B<e;++B){r=p=null;if(g){p=0;if(O.to.line==B){g=false;r=O.to.ch}}else if(O.from.line==B)if(O.to.line==B){p=O.from.ch;r=O.to.ch}else{g=true;p=O.from.ch}f.push(W[B].getHTML(p,r,true))}Qa.innerHTML=f.join("")}else{e=O.from.line;f=O.to.line;g=0;B=oa&&mb.createElement("div");p=0;for(r=b.length;p<r;++p){x=b[p];R=x.to-x.from-x.domSize;ba=Qa.childNodes[x.domStart+x.domSize+g]||null;if(oa)for(var ka=Math.max(-R,x.domSize);ka>0;--ka)Qa.removeChild(ba?ba.previousSibling:Qa.lastChild);else if(R){for(ka=Math.max(0,
R);ka>0;--ka)Qa.insertBefore(mb.createElement("pre"),ba);for(ka=Math.max(0,-R);ka>0;--ka)Qa.removeChild(ba?ba.previousSibling:Qa.lastChild)}var Ia=Qa.childNodes[x.domStart+g],za=e<x.from&&f>=x.from;for(ka=x.from;ka<x.to;++ka){var Ba=null,Ca=null;if(za){Ba=0;if(f==ka){za=false;Ca=O.to.ch}}else if(e==ka)if(f==ka){Ba=O.from.ch;Ca=O.to.ch}else{za=true;Ba=O.from.ch}if(oa){B.innerHTML=W[ka].getHTML(Ba,Ca,true);Qa.insertBefore(B.firstChild,ba)}else{Ia.innerHTML=W[ka].getHTML(Ba,Ca,false);Ia.className=W[ka].className||
"";Ia=Ia.nextSibling}}g+=R}}Qa.style.display="";e=i!=Ha||n!=ib||kc!=va.clientHeight;Ha=i;ib=n;Lb.style.top=i*ab()+"px";if(e){kc=va.clientHeight;Ab.style.height=W.length*ab()+2*Ya.offsetTop+"px";Gb()}i=Jb(Eb);Ya.style.width=i>va.clientWidth?i+"px":"";if(Qa.childNodes.length!=ib-Ha)throw new Error("BAD PATCH! "+JSON.stringify(b)+" size="+(ib-Ha)+" nodes="+Qa.childNodes.length);Hb()}}else Ha=ib=0}function Gb(){if(ma.gutter||ma.lineNumbers){var b=Lb.offsetHeight,e=va.clientHeight;nb.style.height=(b-e<
2?e:b)+"px";b=[];for(e=Ha;e<ib;++e){var f=W[e].gutterMarker,g=ma.lineNumbers?e+ma.firstLineNumber:null;if(f&&f.text)g=f.text.replace("%N%",g!=null?g:"");else if(g==null)g="\u00a0";b.push(f&&f.style?'<pre class="'+f.style+'">':"<pre>",g,"</pre>")}nb.style.display="none";Mb.innerHTML=b.join("");b=String(W.length).length;e=Mb.firstChild;f=e.textContent||e.innerText||e.nodeValue||"";for(g="";f.length+g.length<b;)g+="\u00a0";g&&e.insertBefore(mb.createTextNode(g),e.firstChild);nb.style.display="";Ya.style.marginLeft=
nb.offsetWidth+"px"}}function Hb(){var b=O.inverted?O.from:O.to,e=Ub(b.line,b.ch)+"px";b=(b.line-Ha)*ab()+"px";$b.style.top=b;if(na(O.from,O.to)){ob.style.top=b;ob.style.left=e;ob.style.display=""}else ob.style.display="none"}function rb(b,e){var f=hb&&Ka(hb);if(f)if(l(f,b))b=f;else if(l(e,f))e=f;xb(b,e)}function xb(b,e,f,g){if(!(na(O.from,b)&&na(O.to,e))){if(l(e,b)){var i=e;e=b;b=i}i=na(O.to,e);var n=na(O.from,b);if(na(b,e))O.inverted=false;else if(i&&!n)O.inverted=true;else if(n&&!i)O.inverted=
false;if(f==null){f=O.from.line;g=O.to.line}if(na(b,e))na(O.from,O.to)||Ua.push({from:f,to:g+1});else if(na(O.from,O.to))Ua.push({from:b.line,to:e.line+1});else{na(b,O.from)||(b.line<f?Ua.push({from:b.line,to:Math.min(e.line,f)+1}):Ua.push({from:f,to:Math.min(g,b.line)+1}));na(e,O.to)||(e.line<g?Ua.push({from:Math.max(f,b.line),to:g+1}):Ua.push({from:Math.max(b.line,g),to:e.line+1}))}O.from=b;O.to=e;db=true}}function yb(b,e,f){b=Ka({line:b,ch:e||0});(f?rb:xb)(b,b)}function zb(b){return Math.max(0,
Math.min(b,W.length-1))}function Ka(b){if(b.line<0)return{line:0,ch:0};if(b.line>=W.length)return{line:W.length-1,ch:W[W.length-1].text.length};var e=b.ch,f=W[b.line].text.length;return e==null||e>f?{line:b.line,ch:f}:e<0?{line:b.line,ch:0}:b}function lc(b){rb({line:b,ch:0},{line:b,ch:W[b].text.length})}function sb(b,e){if(e=="smart")if(Ta.indent)var f=hc(b);else e="prev";var g=W[b],i=g.indentation(),n=g.text.match(/^\s*/)[0],p;if(e=="prev")p=b?W[b-1].indentation():0;else if(e=="smart")p=Ta.indent(f,
g.text.slice(n.length));else if(e=="add")p=i+ma.indentUnit;else if(e=="subtract")p=i-ma.indentUnit;p=Math.max(0,p);if(p-i){i="";f=0;if(ma.indentWithTabs)for(g=Math.floor(p/ga);g;--g){f+=ga;i+="\t"}for(;f<p;){++f;i+=" "}}else{if(O.from.line!=b&&O.to.line!=b)return;i=n}Na(i,{line:b,ch:0},{line:b,ch:n.length})}function ec(){Ta=j.getMode(ma,ma.mode);for(var b=0,e=W.length;b<e;++b)W[b].stateAfter=null;cb=[0];Kb()}function Tb(b,e,f){function g(r,x,B,R){r=W[r];x=r.addMark(x,B,R);x.line=r;i.push(x)}b=Ka(b);
e=Ka(e);var i=[];if(b.line==e.line)g(b.line,b.ch,e.ch,f);else{g(b.line,b.ch,null,f);for(var n=b.line+1,p=e.line;n<p;++n)g(n,0,null,f);g(e.line,0,e.ch,f)}Ua.push({from:b.line,to:e.line+1});return function(){for(var r,x,B=0;B<i.length;++B){var R=i[B],ba=y(W,R.line);R.line.removeMark(R);if(ba>-1){if(r==null)r=ba;x=ba}}r!=null&&Ua.push({from:r,to:x+1})}}function Jb(b){eb.innerHTML="<pre><span>x</span></pre>";eb.firstChild.firstChild.firstChild.nodeValue=b;return eb.firstChild.firstChild.offsetWidth||
10}function Ub(b,e){if(e==0)return 0;eb.innerHTML="<pre><span>"+W[b].getHTML(null,null,false,e)+"</span></pre>";return eb.firstChild.firstChild.offsetWidth}function Vb(b,e){function f(R){eb.innerHTML="<pre><span>"+g.getHTML(null,null,false,R)+"</span></pre>";return eb.firstChild.firstChild.offsetWidth}if(e<=0)return 0;for(var g=W[b],i=0,n=0,p=g.text.length,r,x=Math.min(p,Math.ceil(e/Jb("x")));;){var B=f(x);if(B<=e&&x<p)x=Math.min(p,Math.ceil(x*1.2));else{r=B;p=x;break}}if(e>r)return p;x=Math.floor(p*
0.8);B=f(x);if(B<e){i=x;n=B}for(;;){if(p-i<=1)return r-e>e-n?i:p;x=Math.ceil((i+p)/2);B=f(x);if(B>e){p=x;r=B}else{i=x;n=B}}}function Wb(b,e){var f=ab(),g=b.line-(e?Ha:0);return{x:Ub(b.line,b.ch),y:g*f,yBot:(g+1)*f}}function fc(b){b=Wb(b,true);var e=pa(Ya);return{x:e.left+b.x,y:e.top+b.y,yBot:e.top+b.yBot}}function ab(){var b=Qa.childNodes.length;if(b)return Qa.offsetHeight/b||1;eb.innerHTML="<pre>x</pre>";return eb.firstChild.offsetHeight||1}function tb(b,e){var f=pa(va,true),g=b.e.clientX,i=b.e.clientY;
if(!e&&(g-f.left>va.clientWidth||i-f.top>va.clientHeight))return null;f=pa(Ya,true);i=Ha+Math.floor((i-f.top)/ab());return Ka({line:i,ch:Vb(zb(i),g-f.left)})}function gc(b){function e(){Ea.value!=i&&ya(H)(Ea.value,"end");Ea.style.cssText=g;Xa=false;gb();sa()}var f=tb(b);if(!(!f||window.opera)){if(na(O.from,O.to)||l(f,O.from)||!l(f,O.to))yb(f.line,f.ch);var g=Ea.style.cssText;Ea.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(b.pageY()-1)+"px; left: "+(b.pageX()-1)+"px; z-index: 1000; background: white; border-width: 0; outline: none; overflow: hidden;";
var i=Ea.value=ha();kb();V(Ea,0,Ea.value.length);Xa=true;if(T){b.stop();var n=L(window,"mouseup",function(){n();setTimeout(e,20)},true)}else setTimeout(e,50)}}function dc(){clearInterval(bc);var b=true;ob.style.visibility="";bc=setInterval(function(){ob.style.visibility=(b=!b)?"":"hidden"},650)}function Va(b){function e(Ca,o,t){if(Ca.text){var F=Ca.styles;Ca=p?0:Ca.text.length-1;for(var I,C=p?0:F.length-2,J=p?F.length:-2;C!=J;C+=2*r){var U=F[C];if(F[C+1]!=null&&F[C+1]!=ba)Ca+=r*U.length;else for(var Z=
p?0:U.length-1,ra=p?U.length:-1;Z!=ra;Z+=r,Ca+=r)if(Ca>=o&&Ca<t&&Ia.test(I=U.charAt(Z))){var Ma=a[I];if(Ma.charAt(1)==">"==p)ka.push(I);else if(ka.pop()!=Ma.charAt(0))return{pos:Ca,match:false};else if(!ka.length)return{pos:Ca,match:true}}}}}var f=O.inverted?O.from:O.to,g=W[f.line],i=f.ch-1,n=i>=0&&a[g.text.charAt(i)]||a[g.text.charAt(++i)];if(n){n.charAt(0);var p=n.charAt(1)==">",r=p?1:-1,x=g.styles,B=i+1;n=0;for(var R=x.length;n<R;n+=2)if((B-=x[n].length)<=0){var ba=x[n+1];break}var ka=[g.text.charAt(i)],
Ia=/[(){}[\]]/;n=f.line;for(R=p?Math.min(n+50,W.length):Math.max(-1,n-50);n!=R;n+=r){g=W[n];x=n==f.line;if(g=e(g,x&&p?i+1:0,x&&!p?i:g.text.length)){ba=g.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";var za=Tb({line:f.line,ch:i},{line:f.line,ch:i+1},ba),Ba=Tb({line:n,ch:g.pos},{line:n,ch:g.pos+1},ba);f=ya(function(){za();Ba()});if(b)setTimeout(f,800);else qb=f;break}}}}function Xb(b){for(var e,f,g=b;g>b-40;--g){if(g==0)return 0;var i=W[g-1];if(i.stateAfter)return g;i=i.indentation();
if(f==null||e>i){f=g;e=i}}return f}function hc(b){var e=Xb(b),f=e&&W[e-1].stateAfter;f=f?h(Ta,f):k(Ta);for(e=e;e<b;++e){var g=W[e];g.highlight(Ta,f);g.stateAfter=h(Ta,f)}W[b].stateAfter||cb.push(b);return f}function mc(){for(var b=+new Date+ma.workTime,e=false;cb.length;){var f=W[Ha].stateAfter?cb.pop():Ha;if(!(f>=W.length)){e=true;var g=Xb(f),i=g&&W[g-1].stateAfter;i=i?h(Ta,i):k(Ta);g=g;for(var n=W.length;g<n;++g){var p=W[g],r=p.stateAfter;if(+new Date>b){cb.push(g);Kb(ma.workDelay);Ua.push({from:f,
to:g});return}var x=p.highlight(Ta,i);p.stateAfter=h(Ta,i);if(r&&!x&&p.text)break}Ua.push({from:f,to:g})}}e&&ma.onHighlightComplete&&ma.onHighlightComplete($a)}function Kb(b){cb.length&&cc.set(b,ya(mc))}function Yb(){bb=null;Ua=[];pb=db=false}function Zb(){var b=false;if(db)b=!Fb();if(Ua.length)lb(Ua);else db&&Hb();b&&Fb();db&&dc();if(!Xa&&(bb===true||bb!==false&&db))gb();db&&ma.matchBrackets&&setTimeout(ya(function(){if(qb){qb();qb=null}Va(false)}),20);b=pb;db&&ma.onCursorActivity&&ma.onCursorActivity($a);
b&&ma.onChange&&$a&&ma.onChange($a,b)}function ya(b){return function(){d++||Yb();try{var e=b.apply(this,arguments)}finally{--d||Zb()}return e}}function ic(b,e,f){this.atOccurrence=false;if(f==null)f=typeof b=="string"&&b==b.toLowerCase();e=e&&typeof e=="object"?Ka(e):{line:0,ch:0};this.pos={from:e,to:e};if(typeof b!="string")this.matches=function(n,p){if(n)for(var r=W[p.line].text.slice(0,p.ch),x=r.match(b),B=0;x;){var R=r.indexOf(x[0]);B+=R;r=r.slice(R+1);if(R=r.match(b))x=R;else break;B++}else{r=
W[p.line].text.slice(p.ch);B=(x=r.match(b))&&p.ch+r.indexOf(x[0])}if(x)return{from:{line:p.line,ch:B},to:{line:p.line,ch:B+x[0].length},match:x}};else{if(f)b=b.toLowerCase();var g=f?function(n){return n.toLowerCase()}:function(n){return n},i=b.split("\n");this.matches=i.length==1?function(n,p){var r=g(W[p.line].text),x=b.length,B;if(n?p.ch>=x&&(B=r.lastIndexOf(b,p.ch-x))!=-1:(B=r.indexOf(b,p.ch))!=-1)return{from:{line:p.line,ch:B},to:{line:p.line,ch:B+x}}}:function(n,p){var r=p.line,x=n?i.length-
1:0,B=i[x],R=g(W[r].text),ba=n?R.indexOf(B)+B.length:R.lastIndexOf(B);if(!(n?ba>=p.ch||ba!=B.length:ba<=p.ch||ba!=R.length-B.length))for(;;){if(n?!r:r==W.length-1)return;R=g(W[r+=n?-1:1].text);B=i[n?--x:++x];if(x>0&&x<i.length-1)if(R!=B)return;else continue;x=n?R.lastIndexOf(B):R.indexOf(B)+B.length;if(n?x!=R.length-B.length:x!=B.length)return;B={line:p.line,ch:ba};r={line:r,ch:x};return{from:n?r:B,to:n?B:r}}}}}var ma={},Qb=j.defaults;for(var fb in Qb)if(Qb.hasOwnProperty(fb))ma[fb]=(A&&A.hasOwnProperty(fb)?
A:Qb)[fb];var mb=ma.document,va=mb.createElement("div");va.className="CodeMirror";if(window.ActiveXObject&&/MSIE [1-7]\b/.test(navigator.userAgent))va.style.position="relative";va.innerHTML='<div style="position: relative"><div style="position: absolute; height: 0; width: 0; overflow: hidden;"></div><div style="position: relative"><div class="CodeMirror-gutter"><div class="CodeMirror-gutter-text"></div></div><div style="overflow: hidden; position: absolute; width: 1px; height: 0; left: 0"><textarea style="position: absolute; width: 100000px;" wrap="off"></textarea></div><div class="CodeMirror-lines"><div style="position: relative"><pre class="CodeMirror-cursor">&#160;</pre><div></div></div></div></div></div>';
c.appendChild?c.appendChild(va):c(va);var Ab=va.firstChild,eb=Ab.firstChild,Lb=eb.nextSibling,nb=Lb.firstChild,Mb=nb.firstChild,$b=nb.nextSibling,Ea=$b.firstChild,Ya=$b.nextSibling.firstChild,ob=Ya.firstChild,Qa=ob.nextSibling;if(ma.tabindex!=null)Ea.tabindex=ma.tabindex;if(!ma.gutter&&!ma.lineNumbers)nb.style.display="none";var ac=new P,cc=new P,bc,Ta,W=[new s("")],cb,Za=new w,Wa;ec();var O={from:{line:0,ch:0},to:{line:0,ch:0},inverted:false},hb,ub,Db,bb,Ua,pb,db,Xa,Ha=0,ib=0,kc=0,jb=null,Pa,qb,
Eb="";ya(function(){M(ma.value||"");bb=false})();setTimeout(gb,20);L(va,"mousedown",ya(function(b){function e(B){var R=tb(B,true);if(R&&!na(R,n)){Wa||N();n=R;rb(i,R);bb=false;var ba=Sb();if(R.line>=ba.to||R.line<ba.from)p=setTimeout(ya(function(){e(B)}),150)}}var f=Db;Db=null;for(var g=b.target();g!=va;g=g.parentNode)if(g.parentNode==Mb){ma.onGutterClick&&ma.onGutterClick($a,y(Mb.childNodes,g)+Ha);return b.stop()}T&&b.button()==3&&gc(b);if(b.button()==1){var i=tb(b),n=i,p;if(i){Wa||N();b.stop();if(f&&
+new Date-f<400)return lc(i.line);yb(i.line,i.ch,true);var r=L(mb,"mousemove",ya(function(B){clearTimeout(p);B.stop();e(B)}),true),x=L(mb,"mouseup",ya(function(B){clearTimeout(p);var R=tb(B);R&&rb(i,R);B.stop();kb();bb=true;r();x()}),true)}else b.target()==va&&b.stop()}}));T||L(va,"contextmenu",ya(gc));L(Ab,"dblclick",ya(function(b){var e=tb(b);if(e){for(var f=W[e.line].text,g=e.ch,i=e.ch;g>0&&/\w/.test(f.charAt(g-1));)--g;for(;i<f.length&&/\w/.test(f.charAt(i));)++i;rb({line:e.line,ch:g},{line:e.line,
ch:i});b.stop();Db=+new Date}}));L(va,"scroll",function(){lb([]);ma.onScroll&&ma.onScroll($a)});L(window,"resize",function(){lb(true)});L(Ea,"keyup",ya(function(b){if(!(ma.onKeyEvent&&ma.onKeyEvent($a,E(b.e)))){if(ub){ub=null;bb=true}if(b.e.keyCode==16)hb=null}}));L(Ea,"keydown",ya(function(b){Wa||N();var e=b.e.keyCode,f=(xa?b.e.metaKey:b.e.ctrlKey)&&!b.e.altKey,g=b.e.ctrlKey||b.e.altKey||b.e.metaKey;hb=e==16||b.e.shiftKey?hb||(O.inverted?O.to:O.from):null;if(!(ma.onKeyEvent&&ma.onKeyEvent($a,E(b.e)))){if(e==
33||e==34){e=e==34;f=Math.floor(va.clientHeight/ab());g=O.inverted?O.from:O.to;yb(g.line+Math.max(f-1,1)*(e?1:-1),g.ch,true);return b.stop()}if(f&&(e==36||e==35||xa&&(e==38||e==40))){yb(e==36||e==38?0:W.length-1,true);return b.stop()}if(f&&e==65){e=W.length-1;xb({line:0,ch:0},{line:e,ch:W[e].text.length});return b.stop()}if(!ma.readOnly){if(!g&&e==13)return;if(g=!g){if(g=e==9)a:{g=b.e.shiftKey;hb=null;switch(ma.tabMode){case "default":g=false;break a;case "indent":for(var i=O.from.line,n=O.to.line;i<=
n;++i)sb(i,"smart");break;case "classic":if(na(O.from,O.to)){g?sb(O.from.line,"smart"):H("\t","end");break}case "shift":i=O.from.line;for(n=O.to.line;i<=n;++i)sb(i,g?"subtract":"add");break}g=true}g=g}if(g)return b.stop();if(f&&e==90){wa();return b.stop()}if(f&&(b.e.shiftKey&&e==90||e==89)){Ga();return b.stop()}}jb=(f?"c":"")+e;if(O.inverted&&Oa.hasOwnProperty(jb))if(b=Q(Ea)){ub={anchor:b.start};V(Ea,b.start,b.start)}ta(jb)}}));L(Ea,"keypress",ya(function(b){if(!(ma.onKeyEvent&&ma.onKeyEvent($a,E(b.e)))){if(ma.electricChars&&
Ta.electricChars){var e=String.fromCharCode(b.e.charCode==null?b.e.keyCode:b.e.charCode);Ta.electricChars.indexOf(e)>-1&&setTimeout(ya(function(){sb(O.to.line,"smart")}),50)}e=b.e.keyCode;if(e==13){if(!ma.readOnly){H("\n","end");if(ma.enterMode!="flat")sb(O.from.line,ma.enterMode=="keep"?"prev":"smart")}b.stop()}else!b.e.ctrlKey&&!b.e.altKey&&!b.e.metaKey&&e==9&&ma.tabMode!="default"?b.stop():ta(jb)}}));L(Ea,"focus",N);L(Ea,"blur",S);L(va,"dragenter",function(b){b.stop()});L(va,"dragover",function(b){b.stop()});
L(va,"drop",ya(function(b){var e=tb(b,true),f=b.e.dataTransfer.files;if(!(!e||ma.readOnly))if(f&&f.length&&window.FileReader&&window.File){var g=f.length,i=Array(g),n=0;for(b=0;b<g;++b)p(f[b],b);var p=function(x,B){var R=new FileReader;R.onload=function(){i[B]=R.result;++n==g&&Na(i.join(""),Ka(e),Ka(e))};R.readAsText(x)}}else try{(i=b.e.dataTransfer.getData("Text"))&&Na(i,e,e)}catch(r){}}));L(va,"paste",function(){kb();ta()});L(Ea,"paste",function(){ta()});L(Ea,"cut",function(){ta()});mb.activeElement==
Ea?N():S();var $a={getValue:function(){for(var b=[],e=0,f=W.length;e<f;++e)b.push(W[e].text);return b.join("\n")},setValue:ya(M),getSelection:ha,replaceSelection:ya(H),focus:function(){kb();N();ta()},setOption:function(b,e){ma[b]=e;if(b=="lineNumbers"||b=="gutter"){var f=ma.gutter||ma.lineNumbers;nb.style.display=f?"":"none";if(f)Gb();else Qa.parentNode.style.marginLeft=0}else if(b=="mode"||b=="indentUnit")ec();else b=="readOnly"&&e=="nocursor"&&Ea.blur()},getOption:function(b){return ma[b]},undo:ya(wa),
redo:ya(Ga),indentLine:ya(function(b){b>=0&&b<W.length&&sb(b,"smart")}),historySize:function(){return{undo:Za.done.length,redo:Za.undone.length}},matchBrackets:ya(function(){Va(true)}),getTokenAt:function(b){b=Ka(b);return W[b.line].getTokenAt(Ta,hc(b.line),b.ch)},cursorCoords:function(b){if(b==null)b=O.inverted;return fc(b?O.from:O.to)},charCoords:function(b){return fc(Ka(b))},coordsChar:function(b){var e=pa(Ya),f=zb(Math.min(W.length-1,Ha+Math.floor((b.y-e.top)/ab())));return Ka({line:f,ch:Vb(zb(f),
b.x-e.left)})},getSearchCursor:function(b,e,f){return new ic(b,e,f)},markText:ya(function(b,e,f){return ya(Tb(b,e,f))}),setMarker:function(b,e,f){if(typeof b=="number")b=W[zb(b)];b.gutterMarker={text:e,style:f};Gb();return b},clearMarker:function(b){if(typeof b=="number")b=W[zb(b)];b.gutterMarker=null;Gb()},setLineClass:ya(function(b,e){if(typeof b=="number"){var f=b;b=W[zb(b)]}else{f=y(W,b);if(f==-1)return null}if(b.className!=e){b.className=e;Ua.push({from:f,to:f+1})}return b}),lineInfo:function(b){if(typeof b==
"number"){var e=b;b=W[b];if(!b)return null}else{e=y(W,b);if(e==-1)return null}var f=b.gutterMarker;return{line:e,text:b.text,markerText:f&&f.text,markerClass:f&&f.style}},addWidget:function(b,e,f){b=Wb(Ka(b),true);e.style.top=Ha*ab()+b.yBot+Ya.offsetTop+"px";e.style.left=b.x+Ya.offsetLeft+"px";Ab.appendChild(e);f&&Rb(b.x,b.yBot,b.x+e.offsetWidth,b.yBot+e.offsetHeight)},lineCount:function(){return W.length},getCursor:function(b){if(b==null)b=O.inverted;return{line:(b?O.from:O.to).line,ch:(b?O.from:
O.to).ch}},somethingSelected:function(){return!na(O.from,O.to)},setCursor:ya(function(b,e){e==null&&typeof b.line=="number"?yb(b.line,b.ch):yb(b,e)}),setSelection:ya(function(b,e){xb(Ka(b),Ka(e||b))}),getLine:function(b){if(b>=0&&b<W.length)return W[b].text},setLine:ya(function(b,e){b>=0&&b<W.length&&Na(e,{line:b,ch:0},{line:b,ch:W[b].text.length})}),removeLine:ya(function(b){b>=0&&b<W.length&&Na("",{line:b,ch:0},Ka({line:b+1,ch:0}))}),replaceRange:ya(Na),getRange:function(b,e){return aa(Ka(b),Ka(e))},
operation:function(b){return ya(b)()},refresh:function(){lb(true)},getInputField:function(){return Ea},getWrapperElement:function(){return va}},Pb=false,a={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},d=0;ic.prototype={findNext:function(){return this.find(false)},findPrevious:function(){return this.find(true)},find:function(b){function e(i){i={line:i,ch:0};f.pos={from:i,to:i};return f.atOccurrence=false}for(var f=this,g=Ka(b?this.pos.from:this.pos.to);;){if(this.pos=this.matches(b,g)){this.atOccurrence=
true;return this.pos.match||true}if(b){if(!g.line)return e(0);g={line:g.line-1,ch:W[g.line-1].text.length}}else{if(g.line==W.length-1)return e(W.length);g={line:g.line+1,ch:0}}}},from:function(){if(this.atOccurrence)return{line:this.pos.from.line,ch:this.pos.from.ch}},to:function(){if(this.atOccurrence)return{line:this.pos.to.line,ch:this.pos.to.ch}}};return $a}function h(c,A){if(A===true)return A;if(c.copyState)return c.copyState(A);var M={};for(var N in A){var S=A[N];if(S instanceof Array)S=S.concat([]);
M[N]=S}return M}function k(c,A,M){return c.startState?c.startState(A,M):true}function m(c){this.pos=this.start=0;this.string=c}function s(c,A){this.styles=A||[c,null];this.stateAfter=null;this.text=c;this.marked=this.gutterMarker=this.className=null}function u(c,A,M,N){for(var S=0,ja=0,ia=0;ja<A;S+=2){var wa=M[S],Ga=ja+wa.length;if(ia==0){Ga>c&&N.push(wa.slice(c-ja,Math.min(wa.length,A-ja)),M[S+1]);if(Ga>=c)ia=1}else if(ia==1)Ga>A?N.push(wa.slice(0,A-ja),M[S+1]):N.push(wa,M[S+1]);ja=Ga}}function w(){this.time=
0;this.done=[];this.undone=[]}function G(){if(this.preventDefault){this.preventDefault();this.stopPropagation()}else{this.returnValue=false;this.cancelBubble=true}}function E(c){if(!c.stop)c.stop=G;return c}function z(c){this.e=c}function L(c,A,M,N){function S(ja){M(new z(ja||window.event))}if(typeof c.addEventListener=="function"){c.addEventListener(A,S,false);if(N)return function(){c.removeEventListener(A,S,false)}}else{c.attachEvent("on"+A,S);if(N)return function(){c.detachEvent("on"+A,S)}}}function P(){this.id=
null}function la(c,A){if(A==null){A=c.search(/[^\s\u00a0]/);if(A==-1)A=c.length}for(var M=0,N=0;M<A;++M)if(c.charAt(M)=="\t")N+=ga-N%ga;else++N;return N}function pa(c,A){for(var M=c.ownerDocument.body,N=0,S=0,ja=false,ia=c;ia;ia=ia.offsetParent){N+=ia.offsetLeft;S+=ia.offsetTop;if(ia==M)ja=true}for(ia=c.parentNode;ia!=(A&&ja?null:M);ia=ia.parentNode)if(ia.scrollLeft!=null){N-=ia.scrollLeft;S-=ia.scrollTop}return{left:N,top:S}}function na(c,A){return c.line==A.line&&c.ch==A.ch}function l(c,A){return c.line<
A.line||c.line==A.line&&c.ch<A.ch}function q(c){return c.replace(/[<>&]/g,function(A){return A=="&"?"&amp;":A=="<"?"&lt;":"&gt;"})}function y(c,A){if(c.indexOf)return c.indexOf(A);for(var M=0,N=c.length;M<N;++M)if(c[M]==A)return M;return-1}j.defaults={value:"",mode:null,indentUnit:2,indentWithTabs:false,tabMode:"classic",enterMode:"indent",electricChars:true,onKeyEvent:null,lineNumbers:false,gutter:false,firstLineNumber:1,readOnly:false,onChange:null,onCursorActivity:null,onGutterClick:null,onHighlightComplete:null,
onFocus:null,onBlur:null,onScroll:null,matchBrackets:false,workTime:100,workDelay:200,undoDepth:40,tabindex:null,document:window.document};var D={},ca={};j.defineMode=function(c,A){if(!j.defaults.mode&&c!="null")j.defaults.mode=c;D[c]=A};j.defineMIME=function(c,A){ca[c]=A};j.getMode=function(c,A){if(typeof A=="string"&&ca.hasOwnProperty(A))A=ca[A];if(typeof A=="string")var M=A,N={};else if(A!=null){M=A.name;N=A}var S=D[M];if(!S){window.console&&console.warn("No mode "+M+" found, falling back to plain text.");
return j.getMode(c,"text/plain")}return S(c,N||{})};j.listModes=function(){var c=[];for(var A in D)D.propertyIsEnumerable(A)&&c.push(A);return c};j.listMIMEs=function(){var c=[];for(var A in ca)ca.propertyIsEnumerable(A)&&c.push(A);return c};j.fromTextArea=function(c,A){function M(){c.value=ia.getValue()}A||(A={});A.value=c.value;if(!A.tabindex&&c.tabindex)A.tabindex=c.tabindex;if(c.form){var N=L(c.form,"submit",M,true);if(typeof c.form.submit=="function"){var S=c.form.submit,ja=function(){M();c.form.submit=
S;c.form.submit();c.form.submit=ja};c.form.submit=ja}}c.style.display="none";var ia=j(function(wa){c.parentNode.insertBefore(wa,c.nextSibling)},A);ia.save=M;ia.toTextArea=function(){M();c.parentNode.removeChild(ia.getWrapperElement());c.style.display="";if(c.form){N();if(typeof c.form.submit=="function")c.form.submit=S}};return ia};j.startState=k;j.copyState=h;m.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==0},peek:function(){return this.string.charAt(this.pos)},
next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eat:function(c){var A=this.string.charAt(this.pos);if(typeof c=="string"?A==c:A&&(c.test?c.test(A):c(A))){++this.pos;return A}},eatWhile:function(c){for(var A=this.start;this.eat(c););return this.pos>A},eatSpace:function(){for(var c=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>c},skipToEnd:function(){this.pos=this.string.length},skipTo:function(c){c=this.string.indexOf(c,this.pos);
if(c>-1){this.pos=c;return true}},backUp:function(c){this.pos-=c},column:function(){return la(this.string,this.start)},indentation:function(){return la(this.string)},match:function(c,A,M){if(typeof c=="string"){if((M?this.string.toLowerCase():this.string).indexOf(M?c.toLowerCase():c,this.pos)==this.pos){if(A!==false)this.pos+=c.length;return true}}else{if((c=this.string.slice(this.pos).match(c))&&A!==false)this.pos+=c[0].length;return c}},current:function(){return this.string.slice(this.start,this.pos)}};
s.prototype={replace:function(c,A,M){var N=[],S=this.marked;u(0,c,this.styles,N);M&&N.push(M,null);u(A,this.text.length,this.styles,N);this.styles=N;this.text=this.text.slice(0,c)+M+this.text.slice(A);this.stateAfter=null;if(S){c=M.length-(A-c);M=this.text.length;for(N=0;N<S.length;++N){var ja=S[N],ia=false;if(ja.from>=M)ia=true;else{ja.from=ja.from<=Math.min(A,A+c)?ja.from:ja.from+c;if(ja.to!=null)ja.to=ja.to<=Math.min(A,A+c)?ja.to:ja.to+c}if(ia||ja.from>=ja.to){S.splice(N,1);N--}}}},split:function(c,
A){var M=[A,null];u(c,this.text.length,this.styles,M);return new s(A+this.text.slice(c),M)},addMark:function(c,A,M){c={from:c,to:A,style:M};if(this.marked==null)this.marked=[];this.marked.push(c);this.marked.sort(function(N,S){return N.from-S.from});return c},removeMark:function(c){var A=this.marked;if(A)for(var M=0;M<A.length;++M)if(A[M]==c){A.splice(M,1);break}},highlight:function(c,A){var M=new m(this.text),N=this.styles,S=0,ja=false,ia=N[0],wa;for(this.text==""&&c.blankLine&&c.blankLine(A);!M.eol();){var Ga=
c.token(M,A),ua=this.text.slice(M.start,M.pos);M.start=M.pos;if(S&&N[S-1]==Ga)N[S-2]+=ua;else if(ua){if(!ja&&(N[S+1]!=Ga||S&&N[S-2]!=wa))ja=true;N[S++]=ua;N[S++]=Ga;wa=ia;ia=N[S]}if(M.pos>5E3){N[S++]=this.text.slice(M.pos);N[S++]=null;break}}if(N.length!=S){N.length=S;ja=true}if(S&&N[S-2]!=wa)ja=true;return ja},getTokenAt:function(c,A,M){for(var N=new m(this.text);N.pos<M&&!N.eol();){N.start=N.pos;var S=c.token(N,A)}return{start:N.start,end:N.pos,string:N.current(),className:S||null,state:A}},indentation:function(){return la(this.text)},
getHTML:function(c,A,M,N){function S(kb,Fb){if(kb)Fb?ja.push('<span class="',Fb,'">',q(kb),"</span>"):ja.push(q(kb))}var ja=[];if(M)ja.push(this.className?'<pre class="'+this.className+'">':"<pre>");var ia=this.styles,wa=this.text,Ga=this.marked;if(c==A)c=null;var ua=wa.length;if(N!=null)ua=Math.min(N,ua);if(!wa&&N==null)S(" ",c!=null&&A==null?"CodeMirror-selected":null);else if(!Ga&&c==null)for(c=N=0;c<ua;N+=2){A=ia[N];var Na=A.length;if(c+Na>ua)A=A.slice(0,ua-c);c+=Na;S(A,ia[N+1])}else{N=wa=0;var H=
"",ea=-1,aa=null,ha=function(){if(Ga){ea+=1;aa=ea<Ga.length?Ga[ea]:null}};for(ha();wa<ua;){var sa=ua,ta="";if(c!=null)if(c>wa)sa=c;else if(A==null||A>wa){ta=" CodeMirror-selected";if(A!=null)sa=Math.min(sa,A)}for(;aa&&aa.to!=null&&aa.to<=wa;)ha();if(aa)if(aa.from>wa)sa=Math.min(sa,aa.from);else{ta+=" "+aa.style;if(aa.to!=null)sa=Math.min(sa,aa.to)}for(;;){var La=wa+H.length,gb=Na;if(ta)gb=Na?Na+ta:ta;S(La>sa?H.slice(0,sa-wa):H,gb);if(La>=sa){H=H.slice(sa-wa);wa=sa;break}wa=La;H=ia[N++];Na=ia[N++]}}c!=
null&&A==null&&S(" ","CodeMirror-selected")}M&&ja.push("</pre>");return ja.join("")}};w.prototype={addChange:function(c,A,M){this.undone.length=0;var N=+new Date,S=this.done[this.done.length-1];if(N-this.time>400||!S||S.start>c+A||S.start+S.added<c-S.added+S.old.length)this.done.push({start:c,added:A,old:M});else{var ja=0;if(c<S.start){for(var ia=S.start-c-1;ia>=0;--ia)S.old.unshift(M[ia]);S.added+=S.start-c;S.start=c}else if(S.start<c){ja=c-S.start;A+=ja}ia=S.added-ja;for(c=M.length;ia<c;++ia)S.old.push(M[ia]);
if(S.added<A)S.added=A}this.time=N}};z.prototype={stop:function(){G.call(this.e)},target:function(){return this.e.target||this.e.srcElement},button:function(){if(this.e.which)return this.e.which;else if(this.e.button&1)return 1;else if(this.e.button&2)return 3;else if(this.e.button&4)return 2},pageX:function(){if(this.e.pageX!=null)return this.e.pageX;var c=this.target().ownerDocument;return this.e.clientX+c.body.scrollLeft+c.documentElement.scrollLeft},pageY:function(){if(this.e.pageY!=null)return this.e.pageY;
var c=this.target().ownerDocument;return this.e.clientY+c.body.scrollTop+c.documentElement.scrollTop}};P.prototype={set:function(c,A){clearTimeout(this.id);this.id=setTimeout(A,c)}};var oa=function(){var c=document.createElement("pre");c.innerHTML=" ";return!c.innerHTML}(),T=/gecko\/\d{7}/i.test(navigator.userAgent),fa="\n";(function(){var c=document.createElement("textarea");c.value="foo\nbar";if(c.value.indexOf("\r")>-1)fa="\r\n"})();for(var ga=8,xa=/Mac/.test(navigator.platform),Oa={},Ra=35;Ra<=
40;++Ra)Oa[Ra]=Oa["c"+Ra]=true;var X="\n\nb".split(/\n/).length!=3?function(c){for(var A=0,M,N=[];(M=c.indexOf("\n",A))>-1;){N.push(c.slice(A,c.charAt(M-1)=="\r"?M-1:M));A=M+1}N.push(c.slice(A));return N}:function(c){return c.split(/\r?\n/)};if(window.getSelection)var Q=function(c){try{return{start:c.selectionStart,end:c.selectionEnd}}catch(A){return null}},V=function(c,A,M){try{c.setSelectionRange(A,M)}catch(N){}};else{Q=function(c){try{var A=c.ownerDocument.selection.createRange()}catch(M){return null}if(!A||
A.parentElement()!=c)return null;var N=c.value,S=N.length,ja=c.createTextRange();ja.moveToBookmark(A.getBookmark());var ia=c.createTextRange();ia.collapse(false);if(ja.compareEndPoints("StartToEnd",ia)>-1)return{start:S,end:S};c=-ja.moveStart("character",-S);for(A=N.indexOf("\r");A>-1&&A<c;A=N.indexOf("\r",A+1),c++);if(ja.compareEndPoints("EndToEnd",ia)>-1)return{start:c,end:S};S=-ja.moveEnd("character",-S);for(A=N.indexOf("\r");A>-1&&A<S;A=N.indexOf("\r",A+1),S++);return{start:c,end:S}};V=function(c,
A,M){var N=c.createTextRange();N.collapse(true);var S=N.duplicate(),ja=0;c=c.value;for(var ia=c.indexOf("\n");ia>-1&&ia<A;ia=c.indexOf("\n",ia+1))++ja;for(N.move("character",A-ja);ia>-1&&ia<M;ia=c.indexOf("\n",ia+1))++ja;S.move("character",M-ja);N.setEndPoint("EndToEnd",S);N.select()}}j.defineMode("null",function(){return{token:function(c){c.skipToEnd()}}});j.defineMIME("text/plain","null");return j}();
jQuery.cookie=function(j,h,k){if(typeof h!="undefined"){k=k||{};if(h===null){h="";k.expires=-1}var m="";if(k.expires&&(typeof k.expires=="number"||k.expires.toUTCString)){if(typeof k.expires=="number"){m=new Date;m.setTime(m.getTime()+k.expires*24*60*60*1E3)}else m=k.expires;m="; expires="+m.toUTCString()}var s=k.path?"; path="+k.path:"",u=k.domain?"; domain="+k.domain:"";k=k.secure?"; secure":"";document.cookie=[j,"=",encodeURIComponent(h),m,s,u,k].join("")}else{h=null;if(document.cookie&&document.cookie!=
""){k=document.cookie.split(";");for(m=0;m<k.length;m++){s=jQuery.trim(k[m]);if(s.substring(0,j.length+1)==j+"="){h=decodeURIComponent(s.substring(j.length+1));break}}}return h}};
CodeMirror.defineMode("javascript",function(j,h){function k(H,ea){for(var aa=false,ha;(ha=H.next())!=null;){if(ha==ea&&!aa)return false;aa=!aa&&ha=="\\"}return aa}function m(H,ea,aa){ia=H;wa=aa;return ea}function s(H,ea){var aa=H.next();if(aa=='"'||aa=="'"){aa=u(aa);ea.tokenize=aa;return aa(H,ea)}else if(/[\[\]{}\(\),;\:\.]/.test(aa))return m(aa);else if(aa=="0"&&H.eat(/x/i)){H.eatWhile(/[\da-f]/i);return m("number","js-atom")}else if(/\d/.test(aa)){H.match(/^\d*(?:\.\d*)?(?:e[+\-]?\d+)?/);return m("number",
"js-atom")}else if(aa=="/")if(H.eat("*")){aa=w;ea.tokenize=aa;return aa(H,ea)}else if(H.eat("/")){H.skipToEnd();return m("comment","js-comment")}else if(ea.reAllowed){k(H,"/");H.eatWhile(/[gimy]/);return m("regexp","js-string")}else{H.eatWhile(ja);return m("operator",null,H.current())}else if(ja.test(aa)){H.eatWhile(ja);return m("operator",null,H.current())}else{H.eatWhile(/[\w\$_]/);aa=H.current();var ha=S.propertyIsEnumerable(aa)&&S[aa];return ha?m(ha.type,ha.style,aa):m("variable","js-variable",
aa)}}function u(H){return function(ea,aa){if(!k(ea,H))aa.tokenize=s;return m("string","js-string")}}function w(H,ea){for(var aa=false,ha;ha=H.next();){if(ha=="/"&&aa){ea.tokenize=s;break}aa=ha=="*"}return m("comment","js-comment")}function G(H,ea,aa,ha,sa,ta){this.indented=H;this.column=ea;this.type=aa;this.prev=sa;this.info=ta;if(ha!=null)this.align=ha}function E(){for(var H=arguments.length-1;H>=0;H--)ua.cc.push(arguments[H])}function z(){E.apply(null,arguments);return true}function L(H){var ea=
ua.state;if(ea.context){ua.marked="js-variabledef";for(var aa=ea.localVars;aa;aa=aa.next)if(aa.name==H)return;ea.localVars={name:H,next:ea.localVars}}}function P(){if(!ua.state.context)ua.state.localVars=Na;ua.state.context={prev:ua.state.context,vars:ua.state.localVars}}function la(){ua.state.localVars=ua.state.context.vars;ua.state.context=ua.state.context.prev}function pa(H,ea){var aa=function(){var ha=ua.state;ha.lexical=new G(ha.indented,ua.stream.column(),H,null,ha.lexical,ea)};aa.lex=true;
return aa}function na(){var H=ua.state;if(H.lexical.prev){if(H.lexical.type==")")H.indented=H.lexical.indented;H.lexical=H.lexical.prev}}function l(H){return function(ea){return ea==H?z():H==";"?E():z(arguments.callee)}}function q(H){if(H=="var")return z(pa("vardef"),xa,l(";"),na);if(H=="keyword a")return z(pa("form"),y,q,na);if(H=="keyword b")return z(pa("form"),q,na);if(H=="{")return z(pa("}"),ga,na);if(H==";")return z();if(H=="function")return z(c);if(H=="for")return z(pa("form"),l("("),pa(")"),
Ra,l(")"),na,q,na);if(H=="variable")return z(pa("stat"),ca);if(H=="switch")return z(pa("form"),y,pa("}","switch"),l("{"),ga,na,na);if(H=="case")return z(y,l(":"));if(H=="default")return z(l(":"));if(H=="catch")return z(pa("form"),P,l("("),A,l(")"),q,na,la);return E(pa("stat"),y,l(";"),na)}function y(H){if(Ga.hasOwnProperty(H))return z(D);if(H=="function")return z(c);if(H=="keyword c")return z(y);if(H=="(")return z(pa(")"),y,l(")"),na,D);if(H=="operator")return z(y);if(H=="[")return z(pa("]"),fa(y,
"]"),na,D);if(H=="{")return z(pa("}"),fa(T,"}"),na,D);return z()}function D(H,ea){if(H=="operator"&&/\+\+|--/.test(ea))return z(D);if(H=="operator")return z(y);if(H!=";"){if(H=="(")return z(pa(")"),fa(y,")"),na,D);if(H==".")return z(oa,D);if(H=="[")return z(pa("]"),y,l("]"),na,D)}}function ca(H){if(H==":")return z(na,q);return E(D,l(";"),na)}function oa(H){if(H=="variable"){ua.marked="js-property";return z()}}function T(H){if(H=="variable")ua.marked="js-property";if(Ga.hasOwnProperty(H))return z(l(":"),
y)}function fa(H,ea){function aa(ha){if(ha==",")return z(H,aa);if(ha==ea)return z();return z(l(ea))}return function(ha){return ha==ea?z():E(H,aa)}}function ga(H){if(H=="}")return z();return E(q,ga)}function xa(H,ea){if(H=="variable"){L(ea);return z(Oa)}return z()}function Oa(H,ea){if(ea=="=")return z(y,Oa);if(H==",")return z(xa)}function Ra(H){if(H=="var")return z(xa,Q);if(H==";")return E(Q);if(H=="variable")return z(X);return E(Q)}function X(H,ea){if(ea=="in")return z(y);return z(D,Q)}function Q(H,
ea){if(H==";")return z(V);if(ea=="in")return z(y);return z(y,l(";"),V)}function V(H){H!=")"&&z(y)}function c(H,ea){if(H=="variable"){L(ea);return z(c)}if(H=="(")return z(pa(")"),P,fa(A,")"),na,q,la)}function A(H,ea){if(H=="variable"){L(ea);return z()}}var M=j.indentUnit,N=h.json,S=function(){function H(La){return{type:La,style:"js-keyword"}}var ea=H("keyword a"),aa=H("keyword b"),ha=H("keyword c"),sa=H("operator"),ta={type:"atom",style:"js-atom"};return{"if":ea,"while":ea,"with":ea,"else":aa,"do":aa,
"try":aa,"finally":aa,"return":ha,"break":ha,"continue":ha,"new":ha,"delete":ha,"throw":ha,"var":H("var"),"function":H("function"),"catch":H("catch"),"for":H("for"),"switch":H("switch"),"case":H("case"),"default":H("default"),"in":sa,"typeof":sa,"instanceof":sa,"true":ta,"false":ta,"null":ta,undefined:ta,NaN:ta,Infinity:ta}}(),ja=/[+\-*&%=<>!?|]/,ia,wa,Ga={atom:true,number:true,variable:true,string:true,regexp:true},ua={state:null,column:null,marked:null,cc:null},Na={name:"this",next:{name:"arguments"}};
na.lex=true;return{startState:function(H){return{tokenize:s,reAllowed:true,cc:[],lexical:new G((H||0)-M,0,"block",false),localVars:null,context:null,indented:0}},token:function(H,ea){if(H.sol()){if(!ea.lexical.hasOwnProperty("align"))ea.lexical.align=false;ea.indented=H.indentation()}if(H.eatSpace())return null;var aa=ea.tokenize(H,ea);if(ia=="comment")return aa;ea.reAllowed=ia=="operator"||ia=="keyword c"||ia.match(/^[\[{}\(,;:]$/);var ha;a:{var sa=ia,ta=wa,La=ea.cc;ua.state=ea;ua.stream=H;ua.marked=
null;ua.cc=La;if(!ea.lexical.hasOwnProperty("align"))ea.lexical.align=true;for(;;)if((La.length?La.pop():N?y:q)(sa,ta)){for(;La.length&&La[La.length-1].lex;)La.pop()();if(ua.marked){ha=ua.marked;break a}if(ha=sa=="variable")b:{for(ha=ea.localVars;ha;ha=ha.next)if(ha.name==ta){ha=true;break b}ha=void 0}if(ha){ha="js-localvariable";break a}ha=aa;break a}}return ha},indent:function(H,ea){if(H.tokenize!=s)return 0;var aa=ea&&ea.charAt(0),ha=H.lexical,sa=ha.type,ta=aa==sa;return sa=="vardef"?ha.indented+
4:sa=="form"&&aa=="{"?ha.indented:sa=="stat"||sa=="form"?ha.indented+M:ha.info=="switch"&&!ta?ha.indented+(/^(?:case|default)\b/.test(ea)?M:2*M):ha.align?ha.column+(ta?0:1):ha.indented+(ta?0:M)},electricChars:":{}"}});CodeMirror.defineMIME("text/javascript","javascript");CodeMirror.defineMIME("application/json",{name:"javascript",json:true});
CodeMirror.defineMode("xml",function(j,h){function k(T,fa){function ga(Oa){fa.tokenize=Oa;return Oa(T,fa)}var xa=T.next();if(xa=="<")if(T.eat("!"))if(T.eat("["))return T.match("CDATA[")?ga(u("xml-cdata","]]\>")):null;else if(T.match("--"))return ga(u("xml-comment","--\>"));else if(T.match("DOCTYPE")){T.eatWhile(/[\w\._\-]/);return ga(u("xml-doctype",">"))}else return null;else if(T.eat("?")){T.eatWhile(/[\w\._\-]/);fa.tokenize=u("xml-processing","?>");return"xml-processing"}else{D=T.eat("/")?"closeTag":
"openTag";T.eatSpace();for(y="";xa=T.eat(/[^\s\u00a0=<>\"\'\/?]/);)y+=xa;fa.tokenize=m;return"xml-tag"}else if(xa=="&"){T.eatWhile(/[^;]/);T.eat(";");return"xml-entity"}else{T.eatWhile(/[^&<]/);return null}}function m(T,fa){var ga=T.next();if(ga==">"||ga=="/"&&T.eat(">")){fa.tokenize=k;D=ga==">"?"endTag":"selfcloseTag";return"xml-tag"}else if(ga=="="){D="equals";return null}else if(/[\'\"]/.test(ga)){fa.tokenize=s(ga);return fa.tokenize(T,fa)}else{T.eatWhile(/[^\s\u00a0=<>\"\'\/?]/);return"xml-word"}}
function s(T){return function(fa,ga){for(;!fa.eol();)if(fa.next()==T){ga.tokenize=m;break}return"xml-attribute"}}function u(T,fa){return function(ga,xa){for(;!ga.eol();){if(ga.match(fa)){xa.tokenize=k;break}ga.next()}return T}}function w(){for(var T=arguments.length-1;T>=0;T--)ca.cc.push(arguments[T])}function G(){w.apply(null,arguments);return true}function E(T,fa){var ga=l.doNotIndent.hasOwnProperty(T)||ca.context&&ca.context.noIndent;ca.context={prev:ca.context,tagName:T,indent:ca.indented,startOfLine:fa,
noIndent:ga}}function z(T){if(T=="openTag"){ca.tagName=y;return G(la,L(ca.startOfLine))}else if(T=="closeTag"){if(ca.context)ca.context=ca.context.prev;return G(P)}else{if(T=="xml-cdata"){if(!ca.context||ca.context.name!="!cdata")E("!cdata");if(ca.tokenize==k)if(ca.context)ca.context=ca.context.prev}return G()}}function L(T){return function(fa){if(fa=="selfcloseTag"||fa=="endTag"&&l.autoSelfClosers.hasOwnProperty(ca.tagName.toLowerCase()))return G();if(fa=="endTag"){E(ca.tagName,T);return G()}return G()}}
function P(T){if(T=="endTag")return G();return w()}function la(T){if(T=="xml-word"){oa="xml-attname";return G(la)}if(T=="equals")return G(pa,la);return w()}function pa(T){if(T=="xml-word"&&l.allowUnquoted){oa="xml-attribute";return G()}if(T=="xml-attribute")return G();return w()}var na=j.indentUnit,l=h.htmlMode?{autoSelfClosers:{br:true,img:true,hr:true,link:true,input:true,meta:true,col:true,frame:true,base:true,area:true},doNotIndent:{pre:true,"!cdata":true},allowUnquoted:true}:{autoSelfClosers:{},
doNotIndent:{"!cdata":true},allowUnquoted:false},q=h.alignCDATA,y,D,ca,oa;return{startState:function(){return{tokenize:k,cc:[],indented:0,startOfLine:true,tagName:null,context:null}},token:function(T,fa){if(T.sol()){fa.startOfLine=true;fa.indented=T.indentation()}if(T.eatSpace())return null;oa=D=y=null;var ga=fa.tokenize(T,fa);if((ga||D)&&ga!="xml-comment")for(ca=fa;;)if((fa.cc.pop()||z)(D||ga))break;fa.startOfLine=false;return oa||ga},indent:function(T,fa){var ga=T.context;if(ga&&ga.noIndent)return 0;
if(q&&/<!\[CDATA\[/.test(fa))return 0;if(ga&&/^<\//.test(fa))ga=ga.prev;for(;ga&&!ga.startOfLine;)ga=ga.prev;return ga?ga.indent+na:0},electricChars:"/"}});CodeMirror.defineMIME("application/xml","xml");CodeMirror.defineMIME("text/html",{name:"xml",htmlMode:true});
CodeMirror.defineMode("css",function(j){function h(E,z){G=z;return E}function k(E,z){var L=E.next();if(L=="@"){E.eatWhile(/\w/);return h("css-at",E.current())}else if(L=="/"&&E.eat("*")){z.tokenize=m;return m(E,z)}else if(L=="<"&&E.eat("!")){z.tokenize=s;return s(E,z)}else if(L=="=")h(null,"compare");else if((L=="~"||L=="|")&&E.eat("="))return h(null,"compare");else if(L=='"'||L=="'"){z.tokenize=u(L);return z.tokenize(E,z)}else if(L=="#"){E.eatWhile(/\w/);return h("css-selector","hash")}else if(L==
"!"){E.match(/^\s*\w*/);return h("css-important","important")}else if(/\d/.test(L)){E.eatWhile(/[\w.%]/);return h("css-unit","unit")}else if(/[,.+>*\/]/.test(L))return h(null,"select-op");else if(/[;{}:\[\]]/.test(L))return h(null,L);else{E.eatWhile(/[\w\\\-_]/);return h("css-identifier","identifier")}}function m(E,z){for(var L=false,P;(P=E.next())!=null;){if(L&&P=="/"){z.tokenize=k;break}L=P=="*"}return h("css-comment","comment")}function s(E,z){for(var L=0,P;(P=E.next())!=null;){if(L>=2&&P==">"){z.tokenize=
k;break}L=P=="-"?L+1:0}return h("css-comment","comment")}function u(E){return function(z,L){for(var P=false,la;(la=z.next())!=null;){if(la==E&&!P)break;P=!P&&la=="\\"}if(!P)L.tokenize=k;return h("css-string","string")}}var w=j.indentUnit,G;return{startState:function(E){return{tokenize:k,baseIndent:E||0,stack:[]}},token:function(E,z){if(E.eatSpace())return null;var L=z.tokenize(E,z),P=z.stack[z.stack.length-1];if(G=="hash"&&P=="rule")L="css-colorcode";else if(L=="css-identifier")if(P=="rule")L="css-value";
else if(!P||P=="@media{")L="css-selector";P=="rule"&&/^[\{\};]$/.test(G)&&z.stack.pop();if(G=="{")if(P=="@media")z.stack[z.stack.length-1]="@media{";else z.stack.push("{");else if(G=="}")z.stack.pop();else if(G=="@media")z.stack.push("@media");else P!="rule"&&P!="@media"&&G!="comment"&&z.stack.push("rule");return L},indent:function(E,z){var L=E.stack.length;if(/^\}/.test(z))L-=E.stack[E.stack.length-1]=="rule"?2:1;return E.baseIndent+L*w},electricChars:"}"}});CodeMirror.defineMIME("text/css","css");
CodeMirror.defineMode("liquid",function(j){function h(E,z){var L=u.token(E,z.htmlState);if(L=="xml-tag"&&E.current()==">"&&z.htmlState.context)if(/^script$/i.test(z.htmlState.context.tagName)){z.token=m;z.localState=w.startState(u.indent(z.htmlState,""))}else if(/^style$/i.test(z.htmlState.context.tagName)){z.token=s;z.localState=G.startState(u.indent(z.htmlState,""))}return L}function k(E,z,L){var P=E.current();z=P.search(z);z>-1&&E.backUp(P.length-z);return L}function m(E,z){if(E.match(/^<\/\s*script\s*>/i,
false)){z.token=h;z.curState=null;return h(E,z)}return k(E,/<\/\s*script\s*>/,w.token(E,z.localState))}function s(E,z){if(E.match(/^<\/\s*style\s*>/i,false)){z.token=h;z.localState=null;return h(E,z)}return k(E,/<\/\s*style\s*>/,G.token(E,z.localState))}var u=CodeMirror.getMode(j,{name:"xml",htmlMode:true}),w=CodeMirror.getMode(j,"javascript"),G=CodeMirror.getMode(j,"css");return{startState:function(){var E=u.startState();return{token:h,localState:null,htmlState:E}},copyState:function(E){if(E.localState)var z=
CodeMirror.copyState(E.token==s?G:w,E.localState);return{token:E.token,localState:z,htmlState:CodeMirror.copyState(u,E.htmlState)}},token:function(E,z){return z.token(E,z)},indent:function(E,z){return E.token==h||/^\s*<\//.test(z)?u.indent(E.htmlState,z):E.token==m?w.indent(E.localState,z):G.indent(E.localState,z)},electricChars:"/{}:"}});CodeMirror.defineMIME("text/html","htmlmixed");
var Asset=Model("asset",function(){this.persistence(Model.REST,"/admin/assets");this.include({toMustache:function(j){this.merge({query_path:j?"?"+decodeURIComponent(jQuery.param({query:j})):"",query:j});return this.attr()},toMustacheWithNeighbors:function(j){var h=Asset.all(),k=h.indexOf(this),m=this.toMustache(j),s=h[k+1]?Asset.all()[k+1].toMustache(j):null;j=h[k-1]?Asset.all()[k-1].toMustache(j):null;jQuery("<img />")[0].src="/images/large/"+m.id+"/"+m.file_name;if(s)jQuery("<img />")[0].src="/images/large/"+
s.id+"/"+s.file_name;if(j)jQuery("<img />")[0].src="/images/large/"+j.id+"/"+j.file_name;return{asset:m,next:s,previous:j}}});this.extend({toMustache:function(j){var h=j?"?"+decodeURIComponent(jQuery.param({query:j})):"";return{assets:this.map(function(k){k.merge({query_path:h,query:j});return k.attr()}),query:j}},asJSON:function(){return Asset.map(function(j){return j.attr()})},tags:function(){tags=[];Asset.map(function(){tags=tags.concat(this.attr("tags"))});return tags},searchRemote:function(j,
h){var k=j!=null?decodeURIComponent(jQuery.param({query:j})):"";Asset.each(function(){Asset.remove(this)});jQuery.ajax({type:"get",url:"/search.json",contentType:"application/json",dataType:"json",data:k,success:function(m){jQuery.each(m,function(s,u){var w=new Asset({id:u.id});w.merge(u);Asset.add(w)});h.call(this)}})},searchAdmin:function(j,h){var k=j!=null?decodeURIComponent(jQuery.param({query:j})):"";Asset.each(function(){Asset.remove(this)});jQuery.ajax({type:"get",url:"/admin/assets.json",
contentType:"application/json",dataType:"json",data:k,success:function(m){$.each(m,function(s,u){var w=new Asset({id:u.id});w.merge(u);Asset.add(w)});h.call(this)}})},create:function(j,h){Asset.callback=h;var k=new XMLHttpRequest;k.upload.addEventListener("loadstart",Asset.onloadstartHandler,false);k.upload.addEventListener("progress",Asset.onprogressHandler,false);k.upload.addEventListener("load",Asset.onloadHandler,false);k.addEventListener("readystatechange",Asset.onreadystatechangeHandler,false);
k.open("POST","/admin/assets.json",true);k.setRequestHeader("Content-Type","application/octet-stream");k.setRequestHeader("X-File-Name",j.name);k.send(j)},onloadstartHandler:function(){},onloadHandler:function(){},onprogressHandler:function(){},onreadystatechangeHandler:function(j){var h=null;try{h=j.target.status}catch(k){return}if(h=="200"&&j.target.readyState==4&&j.target.responseText){j=JSON.parse(j.target.responseText);h=new Asset({id:j.id});h.merge(j);Asset.add(h);Asset.callback&&Asset.callback.call(this)}}})}),
Page=Model("page",function(){this.persistence(Model.SinatraREST,"/admin/pages");this.include({children:function(){return Page.find_all_by_parent_id(this.id())},has_children:function(){if(this.children().all().length>0)return true},assets:function(){for(var j=this.attr("assets"),h=0,k=j.length;h<k;++h){var m=j[h],s=new Asset({id:m.id});s.merge(m);Asset.add(s)}return Asset},parts:function(){for(var j=this.attr("parts"),h=0,k=j.length;h<k;++h){var m=j[h],s=new Part({id:m.id});s.merge(m);s.attr("page_id",
this.id());Part.add(s)}return Part},load:function(j){var h=this,k="/admin/pages/"+h.id()+".json";jQuery.ajax({type:"GET",url:k,dataType:"json",success:function(m){h.merge(m);j.call(this)}})},saveRemote:function(j,h){var k=this,m="/admin/pages/"+this.id()+".json";jQuery.ajax({type:"PUT",url:m,data:j,dataType:"json",success:function(s){if(s.errors){alert(JSON.stringify(s.errors));h.error&&h.error.call(this)}else{k.merge(s);h.success&&h.success.call(this)}}})}});this.extend({toMustache:function(){return{pages:this.map(function(j){return j.attr()})}},
asJSON:function(){return Page.map(function(j){return j.attr()})},root:function(){return this.detect(function(){return this.attr("parent_id")==null})},find_by_parent_id:function(j){return this.detect(function(){return this.attr("parent_id")==j})},find_all_by_parent_id:function(j){return this.select(function(){return this.attr("parent_id")==j})},create:function(j,h){jQuery.ajax({type:"post",url:"/admin/pages.json",dataType:"json",data:{page:j},success:function(k){var m=new Page({id:k.id});m.merge(k);
Page.add(m);h.call(this,k)}})}})}),Layout=Model("template",function(){this.persistence(Model.SinatraREST,"/admin/templates");this.include({});this.extend({toMustache:function(){return{layouts:this.map(function(j){return j.attr()})}},asLayoutJSON:function(j){return Layout.find_all_by_class("Layout").map(function(h){j==h.id()?h.attr("selected",'selected="selected"'):h.attr("selected","");return h.attr()})},find_by_class:function(j){return this.detect(function(){return this.attr("klass")==j})},find_all_by_class:function(j){return this.select(function(){return this.attr("klass")==
j})},asJSON_by_class:function(j){return this.find_all_by_class(function(){return j.map(function(h){return h.attributes})})}})}),Part=Model("part",function(){this.include({deleteRemote:function(j,h){var k="/admin/pages/"+j.id()+"/parts/"+this.id()+".json";jQuery.ajax({type:"DELETE",url:k,dataType:"json",success:function(m){j.merge(m);h.call(this)}})}});this.extend({toMustache:function(){return{parts:this.map(function(j){return j.attr()})}},create:function(j,h){var k="/admin/templates/"+j.template_id+
"/parts.json",m=Layout.find(j.template_id);jQuery.ajax({type:"post",url:k,dataType:"json",data:{part:j},success:function(s){m.merge(s);h.call(this)}})}})}),Site=Model("site",function(){this.persistence(Model.SinatraREST,"/admin/sites");this.include({});this.extend({toMustache:function(){return{sites:this.map(function(j){return j.attr()})}}})}),User=Model("user",function(){this.persistence(Model.SinatraREST,"/admin/users");this.include({});this.extend({toMustache:function(){return{users:this.map(function(j){return j.attr()})}}})}),
Galerie={open:function(j,h){$("body").append('<div id="overlay"></div>').append('<div id="modal_wrapper"><div id="modal"></div></div>');var k=$("#modal");k.html(j);var m=$("#modal_wrapper"),s=$(window).height();k=k.height()+42;k=(s-k)/2;$("#overlay").css({height:s}).hide().fadeIn("fast");m.hide().fadeIn("fast").css({top:k});h&&h.call(this)},close:function(){$("#modal_wrapper").fadeOut("fast",function(){$(this).remove();$("#overlay").fadeOut("fast",function(){$(this).remove()})})}},logger={info:function(j){window.console&&
console.log(j)},debug:function(j){window.console&&console.log(j)}},Utilities={notice:function(j){var h=jQuery(".notice");h.text(j);h.slideDown("slow",function(){setTimeout(function(){h.slideUp("slow")},1E3)})},keyboard_nav:function(){jQuery("body").keydown(function(j){switch(j.keyCode){case 37:$("a.previous").click();break;case 39:$("a.next").click();break}})},check_browser_version:function(){if(!Modernizr.history){jQuery("a").live("click",function(h){h.preventDefault();document.location.hash=$(this).attr("href")});
var j=jQuery("form#search-form");j.attr("action","#"+j.attr("action"))}},formObserver:function(j){jQuery(j).keyup(function(){delay(function(){jQuery(j).parents("form:first").submit()},800)})}},iFramer={initialize:function(j){j=jQuery(j);var h=this;j.length&&j.load(function(){var k=$(this).contents().find("div.part-editor"),m=k.find("a");logger.info("load");$(this).fadeIn("fast");h.setEditFlags(k);m.click(function(){window.top.trigger=$(this);window.top.location.hash=$(this).attr("href");return false})})},
setEditFlags:function(j){j.css({position:"relative",display:"block",height:"0",width:"0","text-decoration":"none"}).find("span").css({display:"block",position:"absolute",top:"-24px",left:"12px",padding:"4px 8px",width:"100px",background:"rgba(255, 255, 0, 0.7)"})}},TabControl={initialize:function(j){if(j=jQuery(j)){j.each(function(h,k){$(k).hide()});j.first().show();this.tabControl(jQuery(".tab-control"))}},tabControl:function(j){j.click(function(){var h="tab-"+$(this).find("label").attr("for").split("-")[1];
console.log(h);jQuery(".tab").hide();jQuery("#"+h).show()})}},delay=function(){var j=0;return function(h,k){clearTimeout(j);j=setTimeout(h,k)}}();
Sites=Sammy(function(){var j=this;this.debug=false;this.disable_push_state=true;this.use(Sammy.JSON);this.use(Sammy.Mustache);this.use(Sammy.NestedParams);this.helpers({loadSites:function(h){if(Site.all().length==0)Site.load(function(){h&&h.call(this)});else h&&h.call(this)},renderSiteIndex:function(){this.render("/templates/admin/sites/index.mustache",Site.toMustache()).replace("#sidebar")}});this.bind("run",function(){j.modal=false;j.refresh_pages=true});this.get("#/preview",function(){alert(document.location.hostname);
window.open("/","preview")});this.get("#/sites",function(h){j.refresh_pages=true;Galerie.close();jQuery("#editor").html('<h1 class="section">Sites</div>');h.loadSites(function(){h.renderSiteIndex()})});this.get("#/sites/new",function(h){h.loadSites(function(){$("#modal").length==0&&Galerie.open();h.render("/templates/admin/sites/new.mustache").replace("#modal");h.renderSiteIndex(Site.all())})});this.post("#/sites",function(h){(new Site(h.params.site)).save(function(k,m){var s=JSON.parse(m.responseText);
s.errors?alert(JSON.stringify(s)):h.redirect("#/sites")})});this.get("#/sites/:id/edit",function(h){Galerie.close();h.loadSites(function(){site=Site.find(h.params.id);h.render("/templates/admin/sites/edit.mustache",{site:site.asJSON()}).replace("#editor");h.renderSiteIndex(Site.all())})});this.put("#/sites/:id",function(h){var k=Site.find(h.params.id);k.attr(h.params.site);k.save(function(m,s){var u=JSON.parse(s.responseText);u.errors?alert(JSON.stringify(u)):h.redirect("#/sites")})});this.get("#/sites/:id/remove",
function(h){Galerie.open();h.loadSites(function(){site=Site.find(h.params.id);h.render("/templates/admin/sites/remove.mustache",{site:site.asJSON()}).replace("#modal");h.renderSiteIndex(Site.all())})});this.del("#/sites/:id",function(h){site.destroy(function(k){k?h.redirect("#/sites"):alert("there were issues")})})});
Layouts=Sammy(function(){var j=this;this.debug=false;this.disable_push_state=true;this.use(Sammy.Title);this.use(Sammy.JSON);this.use(Sammy.Mustache);this.use(Sammy.NestedParams);this.helpers({loadLayouts:function(h){if(Layout.all().length==0)Layout.load(function(){h&&h.call(this)});else h&&h.call(this)},renderLayoutIndex:function(){this.render("/templates/admin/templates/index.mustache",{layouts:Layout.find_all_by_class("Layout").map(function(h){return h.attributes}),partials:Layout.find_all_by_class("Partial").map(function(h){return h.attributes}),
javascripts:Layout.find_all_by_class("Javascript").map(function(h){return h.attributes}),stylesheets:Layout.find_all_by_class("Stylesheet").map(function(h){return h.attributes})}).replace("#sidebar")},renderLayout:function(h){console.log(h.attr("filter")=="css"?"selected":"");this.render("/templates/admin/templates/edit.mustache",{layout:h.asJSON(),filters:[{name:"none",value:"none",selected:h.attr("filter")=="css"?'selected="selected"':""},{name:"Sass",value:"sass",selected:h.attr("filter")=="sass"?
'selected="selected"':""},{name:"Scss",value:"scss",selected:h.attr("filter")=="scss"?'selected="selected"':""}]}).replace("#editor").then(function(){var k=jQuery("#layout_content");k.attr("value",h.attr("content"));k=k.attr("class");jQuery("#layout_content").length>0&&CodeMirror.fromTextArea(document.getElementById("layout_content"),{mode:k,lineNumbers:true})})}});this.bind("run",function(){j.refresh_templates=true;j.refresh_pages=true;j.modal=false});this.get("#/templates",function(h){Galerie.close();
j.refresh_templates=false;j.refresh_pages=true;jQuery("#editor").html('<h1 class="section">Templates</div>');h.loadLayouts(function(){h.renderLayoutIndex(Layout.all())})});this.get("#/templates/new/:klass",function(h){this.loadLayouts(function(){var k=$("<div />").attr({id:"new-page-container","class":"small-modal"});$("#modal").length==0&&Galerie.open(k);h.render("/templates/admin/templates/new.mustache",{klass:h.params.klass}).replace("#new-page-container");h.renderLayoutIndex(Layout.all())})});
this.post("#/templates",function(h){(new Layout(h.params.template)).save(function(k,m){var s=JSON.parse(m.responseText);if(s.errors)Utilities.notice(JSON.stringify(s));else{h.redirect("#/templates");Utilities.notice("Successfully saved template")}})});this.get("#/templates/:id/edit",function(h){Galerie.close();j.refresh_pages=true;this.loadLayouts(function(){var k=Layout.find(h.params.id);h.renderLayout(k);h.renderLayoutIndex(Layout.all())})});this.put("#/templates/:id",function(h){var k=Layout.find(h.params.id);
console.log(h.params.layout);k.attr(h.params.layout);k.save(function(m){if(m){h.renderLayoutIndex();Utilities.notice("Successfully saved template")}})});this.get("#/templates/:id/remove",function(h){this.loadLayouts(function(){var k=Layout.find(h.params.id);Galerie.open();h.render("/templates/admin/templates/remove.mustache",{layout:k.asJSON()}).replace("#modal");h.renderLayoutIndex(Layout.all())})});this.del("/templates/:id",function(h){Layout.find(h.params.id).destroy(function(k){if(k){h.renderLayoutIndex();
Utilities.notice("Successfully deleted template");h.redirect("#/templates")}})});this.post("/layouts/:id/parts",function(h){this.loadLayouts(function(){var k=h.params.id,m=h.params.part;alert(JSON.stringify(h.params.part));Part.create(m,function(){h.redirect("#/templates/"+k+"/edit")})})})});
Assets=Sammy(function(j){var h=this;this.debug=false;this.disable_push_state=true;this.use(Sammy.JSON);this.use(Sammy.Mustache);this.use(Sammy.NestedParams);this.swap=function(k){jQuery("#editor").html(k)};this.helpers({loadAssets:function(k,m){if(Asset.all().length==0)Asset.searchAdmin(k,function(){m&&m.call(this)});else m&&m.call(this)}});this.bind("run",function(){h.modal=false;h.first_run=true});this.get("#/assets",function(k){var m=k.params.query?k.params.query:null;Galerie.close();h.modal||
Asset.searchAdmin(m,function(){k.render("/templates/admin/assets/index.mustache",Asset.toMustache(m)).replace("#editor").then(function(){jQuery("#ajax_uploader").attr("multiple","multiple")})});h.modal=false;h.first_run=false});this.get("#/assets/new",function(k){k.render("/templates/admin/assets/new.mustache").replace("#editor").then(function(){jQuery("#ajax_uploader").attr("multiple","multiple")});h.first_run=false});this.post("/admin/assets",function(k){var m=document.getElementById("ajax_uploader").files,
s=k.params.query?k.params.query:null;jQuery("form#new_asset");for(var u=0;u<m.length;u++)Asset.create(m[u],function(){k.render("/templates/admin/assets/new.mustache",Asset.toMustache(s)).replace("#editor").then(function(){jQuery("#ajax_uploader").attr("multiple","multiple")})});return false});this.get("#/assets/:id/edit",function(k){var m=k.params.query?k.params.query:null;this.loadAssets(m,function(){var s=Asset.find(k.params.id);k.render("/templates/admin/assets/edit.mustache",s.toMustacheWithNeighbors(m)).replace("#editor").then(function(){setTimeout(function(){$("img.fade-in").fadeIn("slow")},
100);Utilities.formObserver(".image-info input[type=text], .image-info textarea")})});h.modal=false});this.put("#/assets/:id",function(k){var m=Asset.find(k.params.id);m.attr(k.params.asset);m.save(function(s){s&&Utilities.notice("Successfully saved asset")})});this.get("#/assets/:id/remove",function(k){var m=k.params.query?k.params.query:null;Galerie.close();Galerie.open(jQuery("<div />").attr({id:"remove-asset-container","class":"wide-modal"}));this.loadAssets(m,function(){var s=Asset.find(k.params.id);
k.render("/templates/admin/assets/remove.mustache",{asset:s.toMustache(m)}).replace("#remove-asset-container");h.first_run&&k.render("/templates/admin/assets/index.mustache",Asset.toMustache(m)).replace("#editor")})});this.del("#/assets/:id",function(k){var m=k.params.query?k.params.query:null,s=m?"?"+decodeURIComponent(jQuery.param({query:m})):"";Asset.find(k.params.id).destroy(function(u){if(u){Galerie.close();Utilities.notice("Successfully saved asset");k.redirect("#/assets"+s)}})});j.get("/",
function(){})});
Pages=Sammy(function(j){var h=this;this.debug=false;this.disable_push_state=true;this.use(Sammy.JSON);this.use(Sammy.Mustache);this.use(Sammy.NestedParams);j.helpers({loadPages:function(k){if(Page.all().length==0)Page.load(function(){Layout.load(function(){k&&k.call(this)})});else k&&k.call(this)},renderTree:function(k){var m=this;m.render("/templates/admin/pages/node.mustache",{pages:[k.asJSON()]}).replace("#sidebar").then(function(){m.renderNode(k)})},renderNode:function(k){var m=this;pageNode=
m.render("/templates/admin/pages/node.mustache",k.children().toMustache());pageNode.appendTo("#page-"+k.id()).then(function(){k.children().each(function(s){if(s.has_children()==true){jQuery("#page-"+s.id()).addClass("open");m.renderNode(s)}})})},renderPagePreview:function(k){h.modal||this.render("/templates/admin/pages/show.mustache",{page:k.asJSON(),base_page_id:k.id()}).replace("#editor").then(function(){iFramer.initialize("#preview iframe")})},renderPage:function(k){this.render("/templates/admin/pages/edit.mustache",
{page:k.asJSON(),layouts:Layout.asLayoutJSON(k.attr("layout_id"))}).replace("#editor").then(function(){})}});this.bind("run",function(){h.application=this;h.refresh_pages=true;h.modal=false;jQuery(".add-asset").live("click",function(){h.application.trigger("add-asset");return false});jQuery("#sidebar .opener").live("click",function(){var k=(new Date).getTime(),m=$(this).parents("li:first"),s=this.id.split("-")[2],u=Page.find(s),w=jQuery.cookie("active_page_ids");w=w?w.split(","):[];if(m.hasClass("open")){m.toggleClass("open");
w=jQuery.grep(w,function(G){return G!=s});jQuery.cookie("active_page_ids",w.join(","),{path:"/admin"});u.children().each(function(G){Page.remove(G)});jQuery("#page-"+s+" ul").remove()}else{w.push(s);m.toggleClass("open");k=(new Date).getTime();jQuery.cookie("active_page_ids",w.join(","),{path:"/admin"});Page.load(function(){h.application.renderNode(u);var G=(new Date).getTime()-k;console.log(G)})}h.refresh_pages=false;return h.modal=false})});this.get("#/pages/?",function(k){Galerie.close();h.refresh_pages&&
k.loadPages(function(){k.renderTree(Page.root());logger.info("pages")});jQuery("#editor").html('<h1 class="section">Pages</div>');h.refresh_pages=true;h.do_not_refresh=false});this.get("#/pages/:id/new/?",function(k){this.loadPages(function(){var m=Page.find(k.params.id),s=$("<div />").attr({id:"new-page-container","class":"small-modal"});$("#modal").length==0&&Galerie.open(s);if(h.refresh_pages){k.renderTree(Page.root());h.refresh_pages=true}k.render("/templates/admin/pages/new.mustache",{parent:m.asJSON()}).replace("#new-page-container")})});
this.post("#/pages/:page_id",function(k){Page.find(k.params.page_id);Page.create(k.params.page,function(m){h.refresh_pages=true;Utilities.notice("Successfully saved page");k.redirect("#/pages/"+m.id+"/edit")})});this.get("#/pages/:id/?",function(k){Galerie.close();jQuery(".modal-editor").remove();this.loadPages(function(){var m=k.params.id,s=Page.find(m);if(!h.do_not_refresh){if(s)k.renderPagePreview(s);else{s=new Page({id:m});s.load(function(){k.renderPagePreview(s)})}h.modal=false;h.do_not_refresh=
false;if(h.refresh_pages){k.renderTree(Page.root());h.refresh_pages=false}}});h.do_not_refresh=false});this.get("#/pages/:id/edit/?",function(k){Galerie.close();h.modal=true;this.loadPages(function(){var m=k.params.id,s=Page.find(m);if(!h.do_not_refresh){if(s)k.renderPage(s);else{s=new Page({id:m});s.load(function(){k.renderPage(s)})}if(h.refresh_pages){k.renderTree(Page.root());h.refresh_pages=false}}});h.do_not_refresh=false});this.put("#/pages/:page_id",function(k){var m=Page.find(k.params.page_id);
m.attr(k.params.page);m.save(function(s){if(s){h.modal=false;Utilities.notice("Successfully saved page")}})});this.get("#/pages/:id/remove",function(k){this.loadPages(function(){var m=Page.find(k.params.id),s=$("<div />").attr({id:"remove-page-container","class":"small-modal"});$("#modal").length==0&&Galerie.open(s);h.refresh_pages&&k.renderTree(Page.root());k.render("/templates/admin/pages/remove.mustache",{page:m.asJSON()}).replace("#remove-page-container")})});this.del("/pages/:id",function(k){var m=
k.params.id;Page.find(m).destroy(function(s){if(s){jQuery("#page-"+m).remove();h.refresh_pages=false;k.redirect("#/pages")}})});this.get("/pages/:id/results",function(k){this.loadPages(function(){var m=Page.find(k.params.id);Asset.searchAdmin(k.params.query,function(){Asset.each(function(s){s.attr("current_page_id",m.id());s.save()});k.render("/templates/admin/pages/search_results.mustache",Asset.toMustache()).replace("#search-results-container")})})});this.get("/pages/:page_id/parts/:id/results",
function(k){this.loadPages(function(){var m=Page.find(k.params.page_id),s=Part.find(k.params.id),u=k.params.query;logger.info(s.id());Asset.searchAdmin(u,function(){k.render("/templates/admin/pages/search_results.mustache",Asset.toMustache()).replace("#search-results-container").then(function(){jQuery("#search-results-container li.asset").each(function(w,G){var E=jQuery(G).find("a"),z=jQuery(G).attr("id").split("-")[1];E.click(function(L){L.preventDefault();L=m.attr("parts");for(var P=0,la=L.length;P<
la;++P){var pa=L[P];if(s.id()==pa.id){pa.asset_id=z;s.attr("asset_id",z);s.save()}}m.save(function(){jQuery(".modal-editor").remove();document.location.hash="#/pages/"+m.id()})})})})})})});this.get("#/pages/:page_id/assets/:id/add",function(k){this.loadPages(function(){var m=k.params.page_id,s=Page.find(m),u=Asset.find(k.params.id),w=jQuery("#page-asset-ids");w.attr("value");var G=w.attr("value")+","+u.id();w.attr("value",G);s.saveRemote({page:{assets_list:G}},{success:function(){var E=jQuery('<div class="asset" />').attr("id",
"page-asset-"+u.id()),z=jQuery('<a href="#/assets/'+u.id()+'/edit"></a>'),L=jQuery('<br /><a href="#/pages/'+s.id()+"/assets/"+u.id()+'/remove">Remove</a>');z.append('<img src="/images/icons/'+u.id()+"/"+u.attr("file_name")+'" alt="'+u.attr("title")+'" /></a>');E.html(z);E.append(L);jQuery("#page-assets").append(E);var P=jQuery("#preview iframe");P.hide().attr("src",P.attr("src"));P.load(function(){P.fadeIn("fast")});h.do_not_refresh=true;k.redirect("#/pages/"+m)}})})});this.get("#/pages/:page_id/assets/:id/remove",
function(k){this.loadPages(function(){var m=k.params.id,s=k.params.page_id,u=Page.find(s),w=jQuery("#page-asset-ids"),G=w.attr("value").split(","),E=G.indexOf(m);E!=-1&&G.splice(E,1);w.attr("value",G);u.attr("assets_list",G.join(","));u.save(function(){jQuery("#page-asset-"+m).fadeOut("fast",function(){$(this).remove()});var z=jQuery("#preview iframe");z.hide().attr("src",z.attr("src"));z.load(function(){z.fadeIn("fast")});h.do_not_refresh=true;k.redirect("#/pages/"+s)})})});this.get("#/pages/:page_id/parts/:id/edit",
function(k){this.loadPages(function(){jQuery(".modal-editor").remove();var m=k.params.id,s=Page.find(k.params.page_id).parts().find(m),u=$("iframe").contents(),w=u.find("#editor-"+m);m=this.render("/templates/admin/parts/edit.mustache",{part:s.asJSON()});logger.info(w.offset());logger.info(u.find("body").scrollTop());m.appendTo(jQuery("body")).then(function(){jQuery(".modal-editor").fadeIn("fast").css({top:w.offset().top-u.find("body").scrollTop()+"px",left:w.offset().left+400+"px"})})})});this.get("#/pages/:page_id/image_parts/:id/edit",
function(k){this.loadPages(function(){jQuery(".modal-editor").remove();var m=k.params.id,s=Page.find(k.params.page_id),u=s.parts().find(m),w=$("iframe").contents(),G=w.find("#editor-"+m);this.render("/templates/admin/image_parts/edit.mustache",{part:u.asJSON(),page:s.asJSON()}).appendTo(jQuery("body")).then(function(){jQuery(".modal-editor").fadeIn("fast").css({top:G.offset().top-w.find("body").scrollTop()+"px",left:G.offset().left+400+"px"})})})});this.put("#/pages/:page_id/parts/:id",function(k){var m=
k.params.id,s=k.params.page_id,u=Page.find(s),w=u.parts().find(m);logger.info(k.params.part);for(var G=u.attr("parts"),E=0,z=G.length;E<z;++E){w=G[E];if(m==w.id){var L=k.params.part.content;w.content=L;w=Part.find(w.id);w.attr("content",L);w.save()}}u.save(function(P){if(P){h.modal=false;k.redirect("#/pages/"+s)}})})});
Sites=Sammy(function(){var j=this;this.debug=false;this.disable_push_state=true;this.use(Sammy.JSON);this.use(Sammy.Mustache);this.use(Sammy.NestedParams);this.helpers({loadUsers:function(h){if(User.all().length==0)User.load(function(){h&&h.call(this)});else h&&h.call(this)},renderUserIndex:function(){this.render("/templates/admin/users/index.mustache",User.toMustache()).replace("#editor")}});this.bind("run",function(){j.modal=false;j.refresh_pages=true});this.get("#/users",function(h){Galerie.close();
jQuery("#editor").html('<h1 class="section">Sites</div>');h.loadUsers(function(){h.renderUserIndex()})});this.get("#/users/:id/edit",function(h){Galerie.close();jQuery("#editor").html('<h1 class="section">Sites</div>');h.loadUsers(function(){user=User.find(h.params.id);h.render("/templates/admin/users/edit.mustache",{user:user.asJSON()}).replace("#editor")})});this.put("#/users/:id",function(h){var k=User.find(h.params.id);k.attr(h.params.user);k.save(function(m,s){var u=JSON.parse(s.responseText);
u.errors?alert(JSON.stringify(u)):h.redirect("#/users")})})});jQuery(document).ready(function(){logger.info("Starting!!!");jQuery("#login").length||Pages.run("#/pages");jQuery("#ajax_uploader").attr("multiple","multiple");jQuery(".js-only").show();Utilities.keyboard_nav();Utilities.check_browser_version();var j=jQuery("#tabs a");j.live("click",function(){j.removeClass("active");$(this).addClass("active")})});
