(function(c,a){function f(b){return d.isWindow(b)?b:b.nodeType===9?b.defaultView||b.parentWindow:false}function e(b){if(!fb[b]){var g=T.body,k=d("<"+b+">").appendTo(g),m=k.css("display");k.remove();if(m==="none"||m===""){Da||(Da=T.createElement("iframe"),Da.frameBorder=Da.width=Da.height=0);g.appendChild(Da);if(!Qa||!Da.createElement){Qa=(Da.contentWindow||Da.contentDocument).document;Qa.write((T.compatMode==="CSS1Compat"?"<!doctype html>":"")+"<html><body>");Qa.close()}k=Qa.createElement(b);Qa.body.appendChild(k);
m=d.css(k,"display");g.removeChild(Da)}fb[b]=m}return fb[b]}function h(b,g){var k={};d.each(mb.concat.apply([],mb.slice(0,g)),function(){k[this]=b});return k}function l(){Za=a}function n(){setTimeout(l,0);return Za=d.now()}function v(){try{return new c.XMLHttpRequest}catch(b){}}function D(b,g,k,m){if(d.isArray(g))d.each(g,function(q,t){k||Gb.test(b)?m(b,t):D(b+"["+(typeof t=="object"||d.isArray(t)?q:"")+"]",t,k,m)});else if(!k&&g!=null&&typeof g=="object")for(var o in g)D(b+"["+o+"]",g[o],k,m);else m(b,
g)}function C(b,g,k,m,o,q){o=o||g.dataTypes[0];q=q||{};q[o]=true;o=b[o];for(var t=0,z=o?o.length:0,E=b===gb,G;t<z&&(E||!G);t++){G=o[t](g,k,m);typeof G=="string"&&(!E||q[G]?(G=a):(g.dataTypes.unshift(G),G=C(b,g,k,m,G,q)))}(E||!G)&&!q["*"]&&(G=C(b,g,k,m,"*",q));return G}function O(b){return function(g,k){typeof g!="string"&&(k=g,g="*");if(d.isFunction(k))for(var m=g.toLowerCase().split(nb),o=0,q=m.length,t,z;o<q;o++){t=m[o];(z=/^\+/.test(t))&&(t=t.substr(1)||"*");t=b[t]=b[t]||[];t[z?"unshift":"push"](k)}}}
function P(b,g,k){var m=g==="width"?b.offsetWidth:b.offsetHeight,o=g==="width"?Hb:Ib;if(m>0){k!=="border"&&d.each(o,function(){k||(m-=parseFloat(d.css(b,"padding"+this))||0);k==="margin"?(m+=parseFloat(d.css(b,k+this))||0):(m-=parseFloat(d.css(b,"border"+this+"Width"))||0)});return m+"px"}m=Ra(b,g,g);if(m<0||m==null)m=b.style[g]||0;m=parseFloat(m)||0;k&&d.each(o,function(){m+=parseFloat(d.css(b,"padding"+this))||0;k!=="padding"&&(m+=parseFloat(d.css(b,"border"+this+"Width"))||0);k==="margin"&&(m+=
parseFloat(d.css(b,k+this))||0)});return m+"px"}function X(b,g){g.src?d.ajax({url:g.src,async:false,dataType:"script"}):d.globalEval((g.text||g.textContent||g.innerHTML||"").replace(Jb,"/*$0*/"));g.parentNode&&g.parentNode.removeChild(g)}function ea(b){d.nodeName(b,"input")?ma(b):"getElementsByTagName"in b&&d.grep(b.getElementsByTagName("input"),ma)}function ma(b){if(b.type==="checkbox"||b.type==="radio")b.defaultChecked=b.checked}function r(b){return"getElementsByTagName"in b?b.getElementsByTagName("*"):
"querySelectorAll"in b?b.querySelectorAll("*"):[]}function u(b,g){var k;if(g.nodeType===1){g.clearAttributes&&g.clearAttributes();g.mergeAttributes&&g.mergeAttributes(b);k=g.nodeName.toLowerCase();if(k==="object")g.outerHTML=b.outerHTML;else if(k!=="input"||b.type!=="checkbox"&&b.type!=="radio")if(k==="option")g.selected=b.defaultSelected;else{if(k==="input"||k==="textarea")g.defaultValue=b.defaultValue}else{b.checked&&(g.defaultChecked=g.checked=b.checked);g.value!==b.value&&(g.value=b.value)}g.removeAttribute(d.expando)}}
function A(b,g){if(g.nodeType===1&&d.hasData(b)){var k=d.expando,m=d.data(b),o=d.data(g,m);if(m=m[k]){var q=m.events;o=o[k]=d.extend({},m);if(q){delete o.handle;o.events={};for(var t in q){k=0;for(m=q[t].length;k<m;k++)d.event.add(g,t+(q[t][k].namespace?".":"")+q[t][k].namespace,q[t][k],q[t][k].data)}}}}}function H(b,g,k){g=g||0;if(d.isFunction(g))return d.grep(b,function(o,q){return!!g.call(o,q,o)===k});if(g.nodeType)return d.grep(b,function(o){return o===g===k});if(typeof g=="string"){var m=d.grep(b,
function(o){return o.nodeType===1});if(Kb.test(g))return d.filter(g,m,!k);g=d.filter(g,m)}return d.grep(b,function(o){return d.inArray(o,g)>=0===k})}function Z(b,g){return(b&&b!=="*"?b+".":"")+g.replace(Sa,"`").replace($a,"&")}function ca(b){var g,k,m,o,q,t,z,E,G,N,ba,ha=[];o=[];q=d._data(this,"events");if(!(b.liveFired===this||!q||!q.live||b.target.disabled||b.button&&b.type==="click")){b.namespace&&(ba=new RegExp("(^|\\.)"+b.namespace.split(".").join("\\.(?:.*\\.)?")+"(\\.|$)"));b.liveFired=this;
var fa=q.live.slice(0);for(z=0;z<fa.length;z++){q=fa[z];q.origType.replace(Ca,"")===b.type?o.push(q.selector):fa.splice(z--,1)}o=d(b.target).closest(o,b.currentTarget);E=0;for(G=o.length;E<G;E++){N=o[E];for(z=0;z<fa.length;z++){q=fa[z];if(N.selector===q.selector&&(!ba||ba.test(q.namespace))&&!N.elem.disabled){t=N.elem;m=null;if(q.preType==="mouseenter"||q.preType==="mouseleave"){b.type=q.preType;(m=d(b.relatedTarget).closest(q.selector)[0])&&d.contains(t,m)&&(m=t)}(!m||m!==t)&&ha.push({elem:t,handleObj:q,
level:N.level})}}}E=0;for(G=ha.length;E<G;E++){o=ha[E];if(k&&o.level>k)break;b.currentTarget=o.elem;b.data=o.handleObj.data;b.handleObj=o.handleObj;ba=o.handleObj.origHandler.apply(o.elem,arguments);if(ba===false||b.isPropagationStopped()){k=o.level;ba===false&&(g=false);if(b.isImmediatePropagationStopped())break}}return g}}function y(b,g,k){var m=d.extend({},k[0]);m.type=b;m.originalEvent={};m.liveFired=a;d.event.handle.call(g,m);m.isDefaultPrevented()&&k[0].preventDefault()}function aa(){return true}
function ka(){return false}function pa(b,g,k){var m=g+"defer",o=g+"queue",q=g+"mark",t=d.data(b,m,a,true);t&&(k==="queue"||!d.data(b,o,a,true))&&(k==="mark"||!d.data(b,q,a,true))&&setTimeout(function(){!d.data(b,o,a,true)&&!d.data(b,q,a,true)&&(d.removeData(b,m,true),t.resolve())},0)}function Ba(b){for(var g in b)if(g!=="toJSON")return false;return true}function sa(b,g,k){if(k===a&&b.nodeType===1){k="data-"+g.replace(Y,"$1-$2").toLowerCase();k=b.getAttribute(k);if(typeof k=="string"){try{k=k==="true"?
true:k==="false"?false:k==="null"?null:d.isNaN(k)?R.test(k)?d.parseJSON(k):k:parseFloat(k)}catch(m){}d.data(b,g,k)}else k=a}return k}var T=c.document,Q=c.navigator,p=c.location,d=function(){function b(){if(!g.isReady){try{T.documentElement.doScroll("left")}catch(x){setTimeout(b,1);return}g.ready()}}var g=function(x,M){return new g.fn.init(x,M,o)},k=c.jQuery,m=c.$,o,q=/^(?:[^<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,t=/\S/,z=/^\s+/,E=/\s+$/,G=/\d/,N=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,ba=/^[\],:{}\s]*$/,ha=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,
fa=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,ja=/(?:^|:|,)(?:\s*\[)+/g,za=/(webkit)[ \/]([\w.]+)/,ta=/(opera)(?:.*version)?[ \/]([\w.]+)/,ua=/(msie) ([\w.]+)/,Ea=/(mozilla)(?:.*? rv:([\w.]+))?/,s=/-([a-z])/ig,w=function(x,M){return M.toUpperCase()},I=Q.userAgent,K,F,L=Object.prototype.toString,S=Object.prototype.hasOwnProperty,V=Array.prototype.push,ga=Array.prototype.slice,ra=String.prototype.trim,qa=Array.prototype.indexOf,va={};g.fn=g.prototype={constructor:g,init:function(x,
M,W){var U,da;if(!x)return this;if(x.nodeType){this.context=this[0]=x;this.length=1;return this}if(x==="body"&&!M&&T.body){this.context=T;this[0]=T.body;this.selector=x;this.length=1;return this}if(typeof x=="string"){x.charAt(0)!=="<"||x.charAt(x.length-1)!==">"||x.length<3?(U=q.exec(x)):(U=[null,x,null]);if(U&&(U[1]||!M)){if(U[1]){da=(M=M instanceof g?M[0]:M)?M.ownerDocument||M:T;(W=N.exec(x))?g.isPlainObject(M)?(x=[T.createElement(W[1])],g.fn.attr.call(x,M,true)):(x=[da.createElement(W[1])]):(W=
g.buildFragment([U[1]],[da]),x=(W.cacheable?g.clone(W.fragment):W.fragment).childNodes);return g.merge(this,x)}if((M=T.getElementById(U[2]))&&M.parentNode){if(M.id!==U[2])return W.find(x);this.length=1;this[0]=M}this.context=T;this.selector=x;return this}return!M||M.jquery?(M||W).find(x):this.constructor(M).find(x)}if(g.isFunction(x))return W.ready(x);x.selector!==a&&(this.selector=x.selector,this.context=x.context);return g.makeArray(x,this)},selector:"",jquery:"1.6.2",length:0,size:function(){return this.length},
toArray:function(){return ga.call(this,0)},get:function(x){return x==null?this.toArray():x<0?this[this.length+x]:this[x]},pushStack:function(x,M,W){var U=this.constructor();g.isArray(x)?V.apply(U,x):g.merge(U,x);U.prevObject=this;U.context=this.context;M==="find"?(U.selector=this.selector+(this.selector?" ":"")+W):M&&(U.selector=this.selector+"."+M+"("+W+")");return U},each:function(x,M){return g.each(this,x,M)},ready:function(x){g.bindReady();K.done(x);return this},eq:function(x){return x===-1?this.slice(x):
this.slice(x,+x+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(ga.apply(this,arguments),"slice",ga.call(arguments).join(","))},map:function(x){return this.pushStack(g.map(this,function(M,W){return x.call(M,W,M)}))},end:function(){return this.prevObject||this.constructor(null)},push:V,sort:[].sort,splice:[].splice};g.fn.init.prototype=g.fn;g.extend=g.fn.extend=function(){var x,M,W,U,da,la,na=arguments[0]||{},oa=1,Fa=arguments.length,
Ga=false;typeof na=="boolean"&&(Ga=na,na=arguments[1]||{},oa=2);typeof na!="object"&&!g.isFunction(na)&&(na={});for(Fa===oa&&(na=this,--oa);oa<Fa;oa++)if((x=arguments[oa])!=null)for(M in x){W=na[M];U=x[M];if(na!==U)Ga&&U&&(g.isPlainObject(U)||(da=g.isArray(U)))?(da?(da=false,la=W&&g.isArray(W)?W:[]):(la=W&&g.isPlainObject(W)?W:{}),na[M]=g.extend(Ga,la,U)):U!==a&&(na[M]=U)}return na};g.extend({noConflict:function(x){c.$===g&&(c.$=m);x&&c.jQuery===g&&(c.jQuery=k);return g},isReady:false,readyWait:1,
holdReady:function(x){x?g.readyWait++:g.ready(true)},ready:function(x){if(x===true&&!--g.readyWait||x!==true&&!g.isReady){if(!T.body)return setTimeout(g.ready,1);g.isReady=true;if(!(x!==true&&--g.readyWait>0)){K.resolveWith(T,[g]);g.fn.trigger&&g(T).trigger("ready").unbind("ready")}}},bindReady:function(){if(!K){K=g._Deferred();if(T.readyState==="complete")return setTimeout(g.ready,1);if(T.addEventListener){T.addEventListener("DOMContentLoaded",F,false);c.addEventListener("load",g.ready,false)}else if(T.attachEvent){T.attachEvent("onreadystatechange",
F);c.attachEvent("onload",g.ready);var x=false;try{x=c.frameElement==null}catch(M){}T.documentElement.doScroll&&x&&b()}}},isFunction:function(x){return g.type(x)==="function"},isArray:Array.isArray||function(x){return g.type(x)==="array"},isWindow:function(x){return x&&typeof x=="object"&&"setInterval"in x},isNaN:function(x){return x==null||!G.test(x)||isNaN(x)},type:function(x){return x==null?String(x):va[L.call(x)]||"object"},isPlainObject:function(x){if(!x||g.type(x)!=="object"||x.nodeType||g.isWindow(x))return false;
if(x.constructor&&!S.call(x,"constructor")&&!S.call(x.constructor.prototype,"isPrototypeOf"))return false;var M;for(M in x);return M===a||S.call(x,M)},isEmptyObject:function(x){for(var M in x)return false;return true},error:function(x){throw x;},parseJSON:function(x){if(typeof x!="string"||!x)return null;x=g.trim(x);if(c.JSON&&c.JSON.parse)return c.JSON.parse(x);if(ba.test(x.replace(ha,"@").replace(fa,"]").replace(ja,"")))return(new Function("return "+x))();g.error("Invalid JSON: "+x)},parseXML:function(x,
M,W){c.DOMParser?(W=new DOMParser,M=W.parseFromString(x,"text/xml")):(M=new ActiveXObject("Microsoft.XMLDOM"),M.async="false",M.loadXML(x));W=M.documentElement;(!W||!W.nodeName||W.nodeName==="parsererror")&&g.error("Invalid XML: "+x);return M},noop:function(){},globalEval:function(x){x&&t.test(x)&&(c.execScript||function(M){c.eval.call(c,M)})(x)},camelCase:function(x){return x.replace(s,w)},nodeName:function(x,M){return x.nodeName&&x.nodeName.toUpperCase()===M.toUpperCase()},each:function(x,M,W){var U,
da=0,la=x.length,na=la===a||g.isFunction(x);if(W)if(na)for(U in x){if(M.apply(x[U],W)===false)break}else for(;da<la;){if(M.apply(x[da++],W)===false)break}else if(na)for(U in x){if(M.call(x[U],U,x[U])===false)break}else for(;da<la;)if(M.call(x[da],da,x[da++])===false)break;return x},trim:ra?function(x){return x==null?"":ra.call(x)}:function(x){return x==null?"":(x+"").replace(z,"").replace(E,"")},makeArray:function(x,M){var W=M||[];if(x!=null){var U=g.type(x);x.length==null||U==="string"||U==="function"||
U==="regexp"||g.isWindow(x)?V.call(W,x):g.merge(W,x)}return W},inArray:function(x,M){if(qa)return qa.call(M,x);for(var W=0,U=M.length;W<U;W++)if(M[W]===x)return W;return-1},merge:function(x,M){var W=x.length,U=0;if(typeof M.length=="number")for(var da=M.length;U<da;U++)x[W++]=M[U];else for(;M[U]!==a;)x[W++]=M[U++];x.length=W;return x},grep:function(x,M,W){var U=[],da;W=!!W;for(var la=0,na=x.length;la<na;la++){da=!!M(x[la],la);W!==da&&U.push(x[la])}return U},map:function(x,M,W){var U,da,la=[],na=0,
oa=x.length;if(x instanceof g||oa!==a&&typeof oa=="number"&&(oa>0&&x[0]&&x[oa-1]||oa===0||g.isArray(x)))for(;na<oa;na++){U=M(x[na],na,W);U!=null&&(la[la.length]=U)}else for(da in x){U=M(x[da],da,W);U!=null&&(la[la.length]=U)}return la.concat.apply([],la)},guid:1,proxy:function(x,M){if(typeof M=="string"){var W=x[M];M=x;x=W}if(!g.isFunction(x))return a;var U=ga.call(arguments,2);W=function(){return x.apply(M,U.concat(ga.call(arguments)))};W.guid=x.guid=x.guid||W.guid||g.guid++;return W},access:function(x,
M,W,U,da,la){var na=x.length;if(typeof M=="object"){for(var oa in M)g.access(x,oa,M[oa],U,da,W);return x}if(W!==a){U=!la&&U&&g.isFunction(W);for(oa=0;oa<na;oa++)da(x[oa],M,U?W.call(x[oa],oa,da(x[oa],M)):W,la);return x}return na?da(x[0],M):a},now:function(){return(new Date).getTime()},uaMatch:function(x){x=x.toLowerCase();x=za.exec(x)||ta.exec(x)||ua.exec(x)||x.indexOf("compatible")<0&&Ea.exec(x)||[];return{browser:x[1]||"",version:x[2]||"0"}},sub:function(){function x(W,U){return new x.fn.init(W,
U)}g.extend(true,x,this);x.superclass=this;x.fn=x.prototype=this();x.fn.constructor=x;x.sub=this.sub;x.fn.init=function(W,U){U&&U instanceof g&&!(U instanceof x)&&(U=x(U));return g.fn.init.call(this,W,U,M)};x.fn.init.prototype=x.fn;var M=x(T);return x},browser:{}});g.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(x,M){va["[object "+M+"]"]=M.toLowerCase()});I=g.uaMatch(I);I.browser&&(g.browser[I.browser]=true,g.browser.version=I.version);g.browser.webkit&&(g.browser.safari=
true);t.test("\u00a0")&&(z=/^[\s\xA0]+/,E=/[\s\xA0]+$/);o=g(T);T.addEventListener?(F=function(){T.removeEventListener("DOMContentLoaded",F,false);g.ready()}):T.attachEvent&&(F=function(){T.readyState==="complete"&&(T.detachEvent("onreadystatechange",F),g.ready())});return g}(),B="done fail isResolved isRejected promise then always pipe".split(" "),J=[].slice;d.extend({_Deferred:function(){var b=[],g,k,m,o={done:function(){if(!m){var q=arguments,t,z,E,G,N;g&&(N=g,g=0);t=0;for(z=q.length;t<z;t++){E=
q[t];G=d.type(E);G==="array"?o.done.apply(o,E):G==="function"&&b.push(E)}N&&o.resolveWith(N[0],N[1])}return this},resolveWith:function(q,t){if(!m&&!g&&!k){t=t||[];k=1;try{for(;b[0];)b.shift().apply(q,t)}finally{g=[q,t];k=0}}return this},resolve:function(){o.resolveWith(this,arguments);return this},isResolved:function(){return!!k||!!g},cancel:function(){m=1;b=[];return this}};return o},Deferred:function(b){var g=d._Deferred(),k=d._Deferred(),m;d.extend(g,{then:function(o,q){g.done(o).fail(q);return this},
always:function(){return g.done.apply(g,arguments).fail.apply(this,arguments)},fail:k.done,rejectWith:k.resolveWith,reject:k.resolve,isRejected:k.isResolved,pipe:function(o,q){return d.Deferred(function(t){d.each({done:[o,"resolve"],fail:[q,"reject"]},function(z,E){var G=E[0],N=E[1],ba;d.isFunction(G)?g[z](function(){(ba=G.apply(this,arguments))&&d.isFunction(ba.promise)?ba.promise().then(t.resolve,t.reject):t[N](ba)}):g[z](t[N])})}).promise()},promise:function(o){if(o==null){if(m)return m;m=o={}}for(var q=
B.length;q--;)o[B[q]]=g[B[q]];return o}});g.done(k.cancel).fail(g.cancel);delete g.cancel;b&&b.call(g,g);return g},when:function(b){function g(z){return function(E){k[z]=arguments.length>1?J.call(arguments,0):E;--q||t.resolveWith(t,J.call(k,0))}}var k=arguments,m=0,o=k.length,q=o,t=o<=1&&b&&d.isFunction(b.promise)?b:d.Deferred();if(o>1){for(;m<o;m++)k[m]&&d.isFunction(k[m].promise)?k[m].promise().then(g(m),t.reject):--q;q||t.resolveWith(t,k)}else t!==b&&t.resolveWith(t,o?[b]:[]);return t.promise()}});
d.support=function(){var b=T.createElement("div"),g=T.documentElement,k,m,o,q,t,z,E;b.setAttribute("className","t");b.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>";k=b.getElementsByTagName("*");m=b.getElementsByTagName("a")[0];if(!k||!k.length||!m)return{};o=T.createElement("select");q=o.appendChild(T.createElement("option"));k=b.getElementsByTagName("input")[0];z={leadingWhitespace:b.firstChild.nodeType===3,tbody:!b.getElementsByTagName("tbody").length,
htmlSerialize:!!b.getElementsByTagName("link").length,style:/top/.test(m.getAttribute("style")),hrefNormalized:m.getAttribute("href")==="/a",opacity:/^0.55$/.test(m.style.opacity),cssFloat:!!m.style.cssFloat,checkOn:k.value==="on",optSelected:q.selected,getSetAttribute:b.className!=="t",submitBubbles:true,changeBubbles:true,focusinBubbles:false,deleteExpando:true,noCloneEvent:true,inlineBlockNeedsLayout:false,shrinkWrapBlocks:false,reliableMarginRight:true};k.checked=true;z.noCloneChecked=k.cloneNode(true).checked;
o.disabled=true;z.optDisabled=!q.disabled;try{delete b.test}catch(G){z.deleteExpando=false}!b.addEventListener&&b.attachEvent&&b.fireEvent&&(b.attachEvent("onclick",function(){z.noCloneEvent=false}),b.cloneNode(true).fireEvent("onclick"));k=T.createElement("input");k.value="t";k.setAttribute("type","radio");z.radioValue=k.value==="t";k.setAttribute("checked","checked");b.appendChild(k);m=T.createDocumentFragment();m.appendChild(b.firstChild);z.checkClone=m.cloneNode(true).cloneNode(true).lastChild.checked;
b.innerHTML="";b.style.width=b.style.paddingLeft="1px";o=T.getElementsByTagName("body")[0];m=T.createElement(o?"div":"body");q={visibility:"hidden",width:0,height:0,border:0,margin:0};o&&d.extend(q,{position:"absolute",left:-1000,top:-1000});for(E in q)m.style[E]=q[E];m.appendChild(b);g=o||g;g.insertBefore(m,g.firstChild);z.appendChecked=k.checked;z.boxModel=b.offsetWidth===2;"zoom"in b.style&&(b.style.display="inline",b.style.zoom=1,z.inlineBlockNeedsLayout=b.offsetWidth===2,b.style.display="",b.innerHTML=
"<div style='width:4px;'></div>",z.shrinkWrapBlocks=b.offsetWidth!==2);b.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>";o=b.getElementsByTagName("td");k=o[0].offsetHeight===0;o[0].style.display="";o[1].style.display="none";z.reliableHiddenOffsets=k&&o[0].offsetHeight===0;b.innerHTML="";T.defaultView&&T.defaultView.getComputedStyle&&(t=T.createElement("div"),t.style.width="0",t.style.marginRight="0",b.appendChild(t),z.reliableMarginRight=(parseInt((T.defaultView.getComputedStyle(t,
null)||{marginRight:0}).marginRight,10)||0)===0);m.innerHTML="";g.removeChild(m);if(b.attachEvent)for(E in{submit:1,change:1,focusin:1}){t="on"+E;(k=t in b)||(b.setAttribute(t,"return;"),k=typeof b[t]=="function");z[E+"Bubbles"]=k}m=m=o=q=o=t=b=k=null;return z}();d.boxModel=d.support.boxModel;var R=/^(?:\{.*\}|\[.*\])$/,Y=/([a-z])([A-Z])/g;d.extend({cache:{},uuid:0,expando:"jQuery"+(d.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:true,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",
applet:true},hasData:function(b){b=b.nodeType?d.cache[b[d.expando]]:b[d.expando];return!!b&&!Ba(b)},data:function(b,g,k,m){if(d.acceptData(b)){var o=d.expando,q=typeof g=="string",t=b.nodeType,z=t?d.cache:b,E=t?b[d.expando]:b[d.expando]&&d.expando;if(!((!E||m&&E&&!z[E][o])&&q&&k===a)){E||(t?(b[d.expando]=E=++d.uuid):(E=d.expando));z[E]||(z[E]={},t||(z[E].toJSON=d.noop));if(typeof g=="object"||typeof g=="function")m?(z[E][o]=d.extend(z[E][o],g)):(z[E]=d.extend(z[E],g));b=z[E];m&&(b[o]||(b[o]={}),b=
b[o]);k!==a&&(b[d.camelCase(g)]=k);if(g==="events"&&!b[g])return b[o]&&b[o].events;return q?b[d.camelCase(g)]||b[g]:b}}},removeData:function(b,g,k){if(d.acceptData(b)){var m=d.expando,o=b.nodeType,q=o?d.cache:b,t=o?b[d.expando]:d.expando;if(q[t]){if(g){var z=k?q[t][m]:q[t];if(z){delete z[g];if(!Ba(z))return}}if(k){delete q[t][m];if(!Ba(q[t]))return}g=q[t][m];d.support.deleteExpando||q!=c?delete q[t]:(q[t]=null);g?(q[t]={},o||(q[t].toJSON=d.noop),q[t][m]=g):o&&(d.support.deleteExpando?delete b[d.expando]:
b.removeAttribute?b.removeAttribute(d.expando):(b[d.expando]=null))}}},_data:function(b,g,k){return d.data(b,g,k,true)},acceptData:function(b){if(b.nodeName){var g=d.noData[b.nodeName.toLowerCase()];if(g)return g!==true&&b.getAttribute("classid")===g}return true}});d.fn.extend({data:function(b,g){var k=null;if(typeof b=="undefined"){if(this.length){k=d.data(this[0]);if(this[0].nodeType===1)for(var m=this[0].attributes,o,q=0,t=m.length;q<t;q++){o=m[q].name;o.indexOf("data-")===0&&(o=d.camelCase(o.substring(5)),
sa(this[0],o,k[o]))}}return k}if(typeof b=="object")return this.each(function(){d.data(this,b)});var z=b.split(".");z[1]=z[1]?"."+z[1]:"";if(g===a){k=this.triggerHandler("getData"+z[1]+"!",[z[0]]);k===a&&this.length&&(k=d.data(this[0],b),k=sa(this[0],b,k));return k===a&&z[1]?this.data(z[0]):k}return this.each(function(){var E=d(this),G=[z[0],g];E.triggerHandler("setData"+z[1]+"!",G);d.data(this,b,g);E.triggerHandler("changeData"+z[1]+"!",G)})},removeData:function(b){return this.each(function(){d.removeData(this,
b)})}});d.extend({_mark:function(b,g){b&&(g=(g||"fx")+"mark",d.data(b,g,(d.data(b,g,a,true)||0)+1,true))},_unmark:function(b,g,k){b!==true&&(k=g,g=b,b=false);if(g){k=k||"fx";var m=k+"mark";(b=b?0:(d.data(g,m,a,true)||1)-1)?d.data(g,m,b,true):(d.removeData(g,m,true),pa(g,k,"mark"))}},queue:function(b,g,k){if(b){g=(g||"fx")+"queue";var m=d.data(b,g,a,true);k&&(!m||d.isArray(k)?(m=d.data(b,g,d.makeArray(k),true)):m.push(k));return m||[]}},dequeue:function(b,g){g=g||"fx";var k=d.queue(b,g),m=k.shift();
m==="inprogress"&&(m=k.shift());m&&(g==="fx"&&k.unshift("inprogress"),m.call(b,function(){d.dequeue(b,g)}));k.length||(d.removeData(b,g+"queue",true),pa(b,g,"queue"))}});d.fn.extend({queue:function(b,g){typeof b!="string"&&(g=b,b="fx");if(g===a)return d.queue(this[0],b);return this.each(function(){var k=d.queue(this,b,g);b==="fx"&&k[0]!=="inprogress"&&d.dequeue(this,b)})},dequeue:function(b){return this.each(function(){d.dequeue(this,b)})},delay:function(b,g){b=d.fx?d.fx.speeds[b]||b:b;g=g||"fx";
return this.queue(g,function(){var k=this;setTimeout(function(){d.dequeue(k,g)},b)})},clearQueue:function(b){return this.queue(b||"fx",[])},promise:function(b,g){function k(){--t||m.resolveWith(o,[o])}typeof b!="string"&&(g=b,b=a);b=b||"fx";for(var m=d.Deferred(),o=this,q=o.length,t=1,z=b+"defer",E=b+"queue",G=b+"mark",N;q--;)if(N=d.data(o[q],z,a,true)||(d.data(o[q],E,a,true)||d.data(o[q],G,a,true))&&d.data(o[q],z,d._Deferred(),true)){t++;N.done(k)}k();return m.promise()}});var ia=/[\n\t\r]/g,Ka=
/\s+/,ab=/\r/g,Ta=/^(?:button|input)$/i,bb=/^(?:button|input|object|select|textarea)$/i,La=/^a(?:rea)?$/i,Ma=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Ha=/\:|^on/,wa,xa;d.fn.extend({attr:function(b,g){return d.access(this,b,g,true,d.attr)},removeAttr:function(b){return this.each(function(){d.removeAttr(this,b)})},prop:function(b,g){return d.access(this,b,g,true,d.prop)},removeProp:function(b){b=d.propFix[b]||b;return this.each(function(){try{this[b]=
a;delete this[b]}catch(g){}})},addClass:function(b){var g,k,m,o,q,t,z;if(d.isFunction(b))return this.each(function(E){d(this).addClass(b.call(this,E,this.className))});if(b&&typeof b=="string"){g=b.split(Ka);k=0;for(m=this.length;k<m;k++){o=this[k];if(o.nodeType===1)if(!o.className&&g.length===1)o.className=b;else{q=" "+o.className+" ";t=0;for(z=g.length;t<z;t++)~q.indexOf(" "+g[t]+" ")||(q+=g[t]+" ");o.className=d.trim(q)}}}return this},removeClass:function(b){var g,k,m,o,q,t,z;if(d.isFunction(b))return this.each(function(E){d(this).removeClass(b.call(this,
E,this.className))});if(b&&typeof b=="string"||b===a){g=(b||"").split(Ka);k=0;for(m=this.length;k<m;k++){o=this[k];if(o.nodeType===1&&o.className)if(b){q=(" "+o.className+" ").replace(ia," ");t=0;for(z=g.length;t<z;t++)q=q.replace(" "+g[t]+" "," ");o.className=d.trim(q)}else o.className=""}}return this},toggleClass:function(b,g){var k=typeof b,m=typeof g=="boolean";if(d.isFunction(b))return this.each(function(o){d(this).toggleClass(b.call(this,o,this.className,g),g)});return this.each(function(){if(k===
"string")for(var o,q=0,t=d(this),z=g,E=b.split(Ka);o=E[q++];){z=m?z:!t.hasClass(o);t[z?"addClass":"removeClass"](o)}else if(k==="undefined"||k==="boolean"){this.className&&d._data(this,"__className__",this.className);this.className=this.className||b===false?"":d._data(this,"__className__")||""}})},hasClass:function(b){for(var g=0,k=this.length;g<k;g++)if((" "+this[g].className+" ").replace(ia," ").indexOf(" "+b+" ")>-1)return true;return false},val:function(b){var g,k,m=this[0];if(!arguments.length){if(m){if((g=
d.valHooks[m.nodeName.toLowerCase()]||d.valHooks[m.type])&&"get"in g&&(k=g.get(m,"value"))!==a)return k;k=m.value;return typeof k=="string"?k.replace(ab,""):k==null?"":k}return a}var o=d.isFunction(b);return this.each(function(q){var t=d(this),z;if(this.nodeType===1){o?(z=b.call(this,q,t.val())):(z=b);z==null?(z=""):typeof z=="number"?(z+=""):d.isArray(z)&&(z=d.map(z,function(E){return E==null?"":E+""}));g=d.valHooks[this.nodeName.toLowerCase()]||d.valHooks[this.type];if(!g||!("set"in g)||g.set(this,
z,"value")===a)this.value=z}})}});d.extend({valHooks:{option:{get:function(b){var g=b.attributes.value;return!g||g.specified?b.value:b.text}},select:{get:function(b){var g,k=b.selectedIndex,m=[],o=b.options;b=b.type==="select-one";if(k<0)return null;for(var q=b?k:0,t=b?k+1:o.length;q<t;q++){g=o[q];if(g.selected&&(d.support.optDisabled?!g.disabled:g.getAttribute("disabled")===null)&&(!g.parentNode.disabled||!d.nodeName(g.parentNode,"optgroup"))){g=d(g).val();if(b)return g;m.push(g)}}if(b&&!m.length&&
o.length)return d(o[k]).val();return m},set:function(b,g){var k=d.makeArray(g);d(b).find("option").each(function(){this.selected=d.inArray(d(this).val(),k)>=0});k.length||(b.selectedIndex=-1);return k}}},attrFn:{val:true,css:true,html:true,text:true,data:true,width:true,height:true,offset:true},attrFix:{tabindex:"tabIndex"},attr:function(b,g,k,m){var o=b.nodeType;if(!b||o===3||o===8||o===2)return a;if(m&&g in d.attrFn)return d(b)[g](k);if(!("getAttribute"in b))return d.prop(b,g,k);var q,t;(m=o!==
1||!d.isXMLDoc(b))&&(g=d.attrFix[g]||g,t=d.attrHooks[g],t||(Ma.test(g)?(t=xa):wa&&g!=="className"&&(d.nodeName(b,"form")||Ha.test(g))&&(t=wa)));if(k!==a){if(k===null){d.removeAttr(b,g);return a}if(t&&"set"in t&&m&&(q=t.set(b,k,g))!==a)return q;b.setAttribute(g,""+k);return k}if(t&&"get"in t&&m&&(q=t.get(b,g))!==null)return q;q=b.getAttribute(g);return q===null?a:q},removeAttr:function(b,g){var k;b.nodeType===1&&(g=d.attrFix[g]||g,d.support.getSetAttribute?b.removeAttribute(g):(d.attr(b,g,""),b.removeAttributeNode(b.getAttributeNode(g))),
Ma.test(g)&&(k=d.propFix[g]||g)in b&&(b[k]=false))},attrHooks:{type:{set:function(b,g){if(Ta.test(b.nodeName)&&b.parentNode)d.error("type property can't be changed");else if(!d.support.radioValue&&g==="radio"&&d.nodeName(b,"input")){var k=b.value;b.setAttribute("type",g);k&&(b.value=k);return g}}},tabIndex:{get:function(b){var g=b.getAttributeNode("tabIndex");return g&&g.specified?parseInt(g.value,10):bb.test(b.nodeName)||La.test(b.nodeName)&&b.href?0:a}},value:{get:function(b,g){if(wa&&d.nodeName(b,
"button"))return wa.get(b,g);return g in b?b.value:null},set:function(b,g,k){if(wa&&d.nodeName(b,"button"))return wa.set(b,g,k);b.value=g}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(b,g,k){var m=b.nodeType;if(!b||m===3||m===8||m===2)return a;var o,q;(m!==1||
!d.isXMLDoc(b))&&(g=d.propFix[g]||g,q=d.propHooks[g]);return k!==a?q&&"set"in q&&(o=q.set(b,k,g))!==a?o:(b[g]=k):q&&"get"in q&&(o=q.get(b,g))!==a?o:b[g]},propHooks:{}});xa={get:function(b,g){return d.prop(b,g)?g.toLowerCase():a},set:function(b,g,k){var m;g===false?d.removeAttr(b,k):(m=d.propFix[k]||k,m in b&&(b[m]=true),b.setAttribute(k,k.toLowerCase()));return k}};d.support.getSetAttribute||(d.attrFix=d.propFix,wa=d.attrHooks.name=d.attrHooks.title=d.valHooks.button={get:function(b,g){var k;return(k=
b.getAttributeNode(g))&&k.nodeValue!==""?k.nodeValue:a},set:function(b,g,k){if(b=b.getAttributeNode(k))return b.nodeValue=g}},d.each(["width","height"],function(b,g){d.attrHooks[g]=d.extend(d.attrHooks[g],{set:function(k,m){if(m===""){k.setAttribute(g,"auto");return m}}})}));d.support.hrefNormalized||d.each(["href","src","width","height"],function(b,g){d.attrHooks[g]=d.extend(d.attrHooks[g],{get:function(k){k=k.getAttribute(g,2);return k===null?a:k}})});d.support.style||(d.attrHooks.style={get:function(b){return b.style.cssText.toLowerCase()||
a},set:function(b,g){return b.style.cssText=""+g}});d.support.optSelected||(d.propHooks.selected=d.extend(d.propHooks.selected,{get:function(){}}));d.support.checkOn||d.each(["radio","checkbox"],function(){d.valHooks[this]={get:function(b){return b.getAttribute("value")===null?"on":b.value}}});d.each(["radio","checkbox"],function(){d.valHooks[this]=d.extend(d.valHooks[this],{set:function(b,g){if(d.isArray(g))return b.checked=d.inArray(d(b).val(),g)>=0}})});var Ca=/\.(.*)$/,ya=/^(?:textarea|input|select)$/i,
Sa=/\./g,$a=/ /g,Lb=/[^\w\s.|`]/g,Mb=function(b){return b.replace(Lb,"\\$&")};d.event={add:function(b,g,k,m){if(b.nodeType!==3&&b.nodeType!==8){if(k===false)k=ka;else if(!k)return;var o,q;k.handler&&(o=k,k=o.handler);k.guid||(k.guid=d.guid++);if(q=d._data(b)){var t=q.events,z=q.handle;t||(q.events=t={});z||(q.handle=z=function(fa){return typeof d!="undefined"&&(!fa||d.event.triggered!==fa.type)?d.event.handle.apply(z.elem,arguments):a});z.elem=b;g=g.split(" ");for(var E,G=0,N;E=g[G++];){q=o?d.extend({},
o):{handler:k,data:m};E.indexOf(".")>-1?(N=E.split("."),E=N.shift(),q.namespace=N.slice(0).sort().join(".")):(N=[],q.namespace="");q.type=E;q.guid||(q.guid=k.guid);var ba=t[E],ha=d.event.special[E]||{};if(!ba){ba=t[E]=[];if(!ha.setup||ha.setup.call(b,m,N,z)===false)b.addEventListener?b.addEventListener(E,z,false):b.attachEvent&&b.attachEvent("on"+E,z)}ha.add&&(ha.add.call(b,q),q.handler.guid||(q.handler.guid=k.guid));ba.push(q);d.event.global[E]=true}b=null}}},global:{},remove:function(b,g,k,m){if(b.nodeType!==
3&&b.nodeType!==8){k===false&&(k=ka);var o,q,t=0,z,E,G,N,ba,ha,fa=d.hasData(b)&&d._data(b),ja=fa&&fa.events;if(fa&&ja){g&&g.type&&(k=g.handler,g=g.type);if(!g||typeof g=="string"&&g.charAt(0)===".")for(o in ja)d.event.remove(b,o+(g||""));else{for(g=g.split(" ");o=g[t++];){N=o;z=o.indexOf(".")<0;E=[];z||(E=o.split("."),o=E.shift(),G=new RegExp("(^|\\.)"+d.map(E.slice(0).sort(),Mb).join("\\.(?:.*\\.)?")+"(\\.|$)"));if(ba=ja[o])if(k){N=d.event.special[o]||{};for(q=m||0;q<ba.length;q++){ha=ba[q];if(k.guid===
ha.guid){if(z||G.test(ha.namespace)){m==null&&ba.splice(q--,1);N.remove&&N.remove.call(b,ha)}if(m!=null)break}}if(ba.length===0||m!=null&&ba.length===1){(!N.teardown||N.teardown.call(b,E)===false)&&d.removeEvent(b,o,fa.handle);delete ja[o]}}else for(q=0;q<ba.length;q++){ha=ba[q];if(z||G.test(ha.namespace)){d.event.remove(b,N,ha.handler,q);ba.splice(q--,1)}}}if(d.isEmptyObject(ja)){(g=fa.handle)&&(g.elem=null);delete fa.events;delete fa.handle;d.isEmptyObject(fa)&&d.removeData(b,a,true)}}}}},customEvent:{getData:true,
setData:true,changeData:true},trigger:function(b,g,k,m){var o=b.type||b,q=[],t;o.indexOf("!")>=0&&(o=o.slice(0,-1),t=true);o.indexOf(".")>=0&&(q=o.split("."),o=q.shift(),q.sort());if(k&&!d.event.customEvent[o]||d.event.global[o]){b=typeof b=="object"?b[d.expando]?b:new d.Event(o,b):new d.Event(o);b.type=o;b.exclusive=t;b.namespace=q.join(".");b.namespace_re=new RegExp("(^|\\.)"+q.join("\\.(?:.*\\.)?")+"(\\.|$)");if(m||!k){b.preventDefault();b.stopPropagation()}if(k){if(!(k.nodeType===3||k.nodeType===
8)){b.result=a;b.target=k;g=g!=null?d.makeArray(g):[];g.unshift(b);q=k;m=o.indexOf(":")<0?"on"+o:"";do{t=d._data(q,"handle");b.currentTarget=q;t&&t.apply(q,g);m&&d.acceptData(q)&&q[m]&&q[m].apply(q,g)===false&&(b.result=false,b.preventDefault());q=q.parentNode||q.ownerDocument||q===b.target.ownerDocument&&c}while(q&&!b.isPropagationStopped());if(!b.isDefaultPrevented()){var z;q=d.event.special[o]||{};if((!q._default||q._default.call(k.ownerDocument,b)===false)&&(o!=="click"||!d.nodeName(k,"a"))&&
d.acceptData(k)){try{m&&k[o]&&(z=k[m],z&&(k[m]=null),d.event.triggered=o,k[o]())}catch(E){}z&&(k[m]=z);d.event.triggered=a}}return b.result}}else d.each(d.cache,function(){var G=this[d.expando];G&&G.events&&G.events[o]&&d.event.trigger(b,g,G.handle.elem)})}},handle:function(b){b=d.event.fix(b||c.event);var g=((d._data(this,"events")||{})[b.type]||[]).slice(0),k=!b.exclusive&&!b.namespace,m=Array.prototype.slice.call(arguments,0);m[0]=b;b.currentTarget=this;for(var o=0,q=g.length;o<q;o++){var t=g[o];
if(k||b.namespace_re.test(t.namespace)){b.handler=t.handler;b.data=t.data;b.handleObj=t;t=t.handler.apply(this,m);t!==a&&(b.result=t,t===false&&(b.preventDefault(),b.stopPropagation()));if(b.isImmediatePropagationStopped())break}}return b.result},props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),
fix:function(b){if(b[d.expando])return b;var g=b;b=d.Event(g);for(var k=this.props.length,m;k;){m=this.props[--k];b[m]=g[m]}b.target||(b.target=b.srcElement||T);b.target.nodeType===3&&(b.target=b.target.parentNode);!b.relatedTarget&&b.fromElement&&(b.relatedTarget=b.fromElement===b.target?b.toElement:b.fromElement);if(b.pageX==null&&b.clientX!=null){k=b.target.ownerDocument||T;g=k.documentElement;k=k.body;b.pageX=b.clientX+(g&&g.scrollLeft||k&&k.scrollLeft||0)-(g&&g.clientLeft||k&&k.clientLeft||0);
b.pageY=b.clientY+(g&&g.scrollTop||k&&k.scrollTop||0)-(g&&g.clientTop||k&&k.clientTop||0)}b.which==null&&(b.charCode!=null||b.keyCode!=null)&&(b.which=b.charCode!=null?b.charCode:b.keyCode);!b.metaKey&&b.ctrlKey&&(b.metaKey=b.ctrlKey);!b.which&&b.button!==a&&(b.which=b.button&1?1:b.button&2?3:b.button&4?2:0);return b},guid:1E8,proxy:d.proxy,special:{ready:{setup:d.bindReady,teardown:d.noop},live:{add:function(b){d.event.add(this,Z(b.origType,b.selector),d.extend({},b,{handler:ca,guid:b.handler.guid}))},
remove:function(b){d.event.remove(this,Z(b.origType,b.selector),b)}},beforeunload:{setup:function(b,g,k){d.isWindow(this)&&(this.onbeforeunload=k)},teardown:function(b,g){this.onbeforeunload===g&&(this.onbeforeunload=null)}}}};d.removeEvent=T.removeEventListener?function(b,g,k){b.removeEventListener&&b.removeEventListener(g,k,false)}:function(b,g,k){b.detachEvent&&b.detachEvent("on"+g,k)};d.Event=function(b,g){if(!this.preventDefault)return new d.Event(b,g);b&&b.type?(this.originalEvent=b,this.type=
b.type,this.isDefaultPrevented=b.defaultPrevented||b.returnValue===false||b.getPreventDefault&&b.getPreventDefault()?aa:ka):(this.type=b);g&&d.extend(this,g);this.timeStamp=d.now();this[d.expando]=true};d.Event.prototype={preventDefault:function(){this.isDefaultPrevented=aa;var b=this.originalEvent;!b||(b.preventDefault?b.preventDefault():(b.returnValue=false))},stopPropagation:function(){this.isPropagationStopped=aa;var b=this.originalEvent;!b||(b.stopPropagation&&b.stopPropagation(),b.cancelBubble=
true)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=aa;this.stopPropagation()},isDefaultPrevented:ka,isPropagationStopped:ka,isImmediatePropagationStopped:ka};var ob=function(b){var g=b.relatedTarget,k=false,m=b.type;b.type=b.data;g!==this&&(g&&(k=d.contains(this,g)),k||(d.event.handle.apply(this,arguments),b.type=m))},pb=function(b){b.type=b.data;d.event.handle.apply(this,arguments)};d.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(b,g){d.event.special[b]=
{setup:function(k){d.event.add(this,g,k&&k.selector?pb:ob,b)},teardown:function(k){d.event.remove(this,g,k&&k.selector?pb:ob)}}});d.support.submitBubbles||(d.event.special.submit={setup:function(){if(d.nodeName(this,"form"))return false;else{d.event.add(this,"click.specialSubmit",function(b){var g=b.target,k=g.type;(k==="submit"||k==="image")&&d(g).closest("form").length&&y("submit",this,arguments)});d.event.add(this,"keypress.specialSubmit",function(b){var g=b.target,k=g.type;(k==="text"||k==="password")&&
d(g).closest("form").length&&b.keyCode===13&&y("submit",this,arguments)})}},teardown:function(){d.event.remove(this,".specialSubmit")}});if(!d.support.changeBubbles){var Ya,qb=function(b){var g=b.type,k=b.value;g==="radio"||g==="checkbox"?(k=b.checked):g==="select-multiple"?(k=b.selectedIndex>-1?d.map(b.options,function(m){return m.selected}).join("-"):""):d.nodeName(b,"select")&&(k=b.selectedIndex);return k},cb=function(b,g){var k=b.target,m,o;if(ya.test(k.nodeName)&&!k.readOnly){m=d._data(k,"_change_data");
o=qb(k);(b.type!=="focusout"||k.type!=="radio")&&d._data(k,"_change_data",o);if(!(m===a||o===m))if(m!=null||o){b.type="change";b.liveFired=a;d.event.trigger(b,g,k)}}};d.event.special.change={filters:{focusout:cb,beforedeactivate:cb,click:function(b){var g=b.target,k=d.nodeName(g,"input")?g.type:"";(k==="radio"||k==="checkbox"||d.nodeName(g,"select"))&&cb.call(this,b)},keydown:function(b){var g=b.target,k=d.nodeName(g,"input")?g.type:"";(b.keyCode===13&&!d.nodeName(g,"textarea")||b.keyCode===32&&(k===
"checkbox"||k==="radio")||k==="select-multiple")&&cb.call(this,b)},beforeactivate:function(b){b=b.target;d._data(b,"_change_data",qb(b))}},setup:function(){if(this.type==="file")return false;for(var b in Ya)d.event.add(this,b+".specialChange",Ya[b]);return ya.test(this.nodeName)},teardown:function(){d.event.remove(this,".specialChange");return ya.test(this.nodeName)}};Ya=d.event.special.change.filters;Ya.focus=Ya.beforeactivate}d.support.focusinBubbles||d.each({focus:"focusin",blur:"focusout"},function(b,
g){function k(o){var q=d.event.fix(o);q.type=g;q.originalEvent={};d.event.trigger(q,null,q.target);q.isDefaultPrevented()&&o.preventDefault()}var m=0;d.event.special[g]={setup:function(){m++===0&&T.addEventListener(b,k,true)},teardown:function(){--m===0&&T.removeEventListener(b,k,true)}}});d.each(["bind","one"],function(b,g){d.fn[g]=function(k,m,o){var q;if(typeof k=="object"){for(var t in k)this[g](t,m,k[t],o);return this}if(arguments.length===2||m===false){o=m;m=a}g==="one"?(q=function(E){d(this).unbind(E,
q);return o.apply(this,arguments)},q.guid=o.guid||d.guid++):(q=o);if(k==="unload"&&g!=="one")this.one(k,m,o);else{t=0;for(var z=this.length;t<z;t++)d.event.add(this[t],k,q,m)}return this}});d.fn.extend({unbind:function(b,g){if(typeof b=="object"&&!b.preventDefault)for(var k in b)this.unbind(k,b[k]);else{k=0;for(var m=this.length;k<m;k++)d.event.remove(this[k],b,g)}return this},delegate:function(b,g,k,m){return this.live(g,k,m,b)},undelegate:function(b,g,k){return arguments.length===0?this.unbind("live"):
this.die(g,null,k,b)},trigger:function(b,g){return this.each(function(){d.event.trigger(b,g,this)})},triggerHandler:function(b,g){if(this[0])return d.event.trigger(b,g,this[0],true)},toggle:function(b){var g=arguments,k=b.guid||d.guid++,m=0,o=function(q){var t=(d.data(this,"lastToggle"+b.guid)||0)%m;d.data(this,"lastToggle"+b.guid,t+1);q.preventDefault();return g[t].apply(this,arguments)||false};for(o.guid=k;m<g.length;)g[m++].guid=k;return this.click(o)},hover:function(b,g){return this.mouseenter(b).mouseleave(g||
b)}});var hb={focus:"focusin",blur:"focusout",mouseenter:"mouseover",mouseleave:"mouseout"};d.each(["live","die"],function(b,g){d.fn[g]=function(k,m,o,q){var t=0,z,E,G=q||this.selector,N=q?this:d(this.context);if(typeof k=="object"&&!k.preventDefault){for(z in k)N[g](z,m,k[z],G);return this}if(g==="die"&&!k&&q&&q.charAt(0)==="."){N.unbind(q);return this}if(m===false||d.isFunction(m)){o=m||ka;m=a}for(k=(k||"").split(" ");(q=k[t++])!=null;){z=Ca.exec(q);E="";z&&(E=z[0],q=q.replace(Ca,""));if(q==="hover")k.push("mouseenter"+
E,"mouseleave"+E);else{z=q;hb[q]?(k.push(hb[q]+E),q+=E):(q=(hb[q]||q)+E);if(g==="live"){E=0;for(var ba=N.length;E<ba;E++)d.event.add(N[E],"live."+Z(q,G),{data:m,selector:G,handler:o,origType:q,origHandler:o,preType:z})}else N.unbind("live."+Z(q,G),o)}}return this}});d.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error".split(" "),function(b,g){d.fn[g]=function(k,
m){m==null&&(m=k,k=null);return arguments.length>0?this.bind(g,k,m):this.trigger(g)};d.attrFn&&(d.attrFn[g]=true)});(function(){function b(s,w,I,K,F,L){F=0;for(var S=K.length;F<S;F++){var V=K[F];if(V){var ga=false;for(V=V[s];V;){if(V.sizcache===I){ga=K[V.sizset];break}if(V.nodeType===1){L||(V.sizcache=I,V.sizset=F);if(typeof w!="string"){if(V===w){ga=true;break}}else if(G.filter(w,[V]).length>0){ga=V;break}}V=V[s]}K[F]=ga}}}function g(s,w,I,K,F,L){F=0;for(var S=K.length;F<S;F++){var V=K[F];if(V){var ga=
false;for(V=V[s];V;){if(V.sizcache===I){ga=K[V.sizset];break}V.nodeType===1&&!L&&(V.sizcache=I,V.sizset=F);if(V.nodeName.toLowerCase()===w){ga=V;break}V=V[s]}K[F]=ga}}}var k=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,m=0,o=Object.prototype.toString,q=false,t=true,z=/\\/g,E=/\W/;[0,0].sort(function(){t=false;return 0});var G=function(s,w,I,K){I=I||[];var F=w=w||T;if(w.nodeType!==1&&w.nodeType!==9)return[];if(!s||
typeof s!="string")return I;var L,S,V,ga,ra,qa,va=true,x=G.isXML(w),M=[],W=s;do{k.exec("");if(L=k.exec(W)){W=L[3];M.push(L[1]);if(L[2]){ga=L[3];break}}}while(L);if(M.length>1&&ba.exec(s))if(M.length===2&&N.relative[M[0]])S=Ea(M[0]+M[1],w);else for(S=N.relative[M[0]]?[w]:G(M.shift(),w);M.length;){s=M.shift();N.relative[s]&&(s+=M.shift());S=Ea(s,S)}else{!K&&M.length>1&&w.nodeType===9&&!x&&N.match.ID.test(M[0])&&!N.match.ID.test(M[M.length-1])&&(ra=G.find(M.shift(),w,x),w=ra.expr?G.filter(ra.expr,ra.set)[0]:
ra.set[0]);if(w){ra=K?{expr:M.pop(),set:ja(K)}:G.find(M.pop(),M.length===1&&(M[0]==="~"||M[0]==="+")&&w.parentNode?w.parentNode:w,x);S=ra.expr?G.filter(ra.expr,ra.set):ra.set;for(M.length>0?(V=ja(S)):(va=false);M.length;){L=qa=M.pop();N.relative[qa]?(L=M.pop()):(qa="");L==null&&(L=w);N.relative[qa](V,L,x)}}else V=[]}V||(V=S);V||G.error(qa||s);if(o.call(V)==="[object Array]")if(va)if(w&&w.nodeType===1)for(s=0;V[s]!=null;s++)V[s]&&(V[s]===true||V[s].nodeType===1&&G.contains(w,V[s]))&&I.push(S[s]);else for(s=
0;V[s]!=null;s++)V[s]&&V[s].nodeType===1&&I.push(S[s]);else I.push.apply(I,V);else ja(V,I);ga&&(G(ga,F,I,K),G.uniqueSort(I));return I};G.uniqueSort=function(s){if(ta){q=t;s.sort(ta);if(q)for(var w=1;w<s.length;w++)s[w]===s[w-1]&&s.splice(w--,1)}return s};G.matches=function(s,w){return G(s,null,null,w)};G.matchesSelector=function(s,w){return G(w,null,null,[s]).length>0};G.find=function(s,w,I){var K;if(!s)return[];for(var F=0,L=N.order.length;F<L;F++){var S,V=N.order[F];if(S=N.leftMatch[V].exec(s)){var ga=
S[1];S.splice(1,1);if(ga.substr(ga.length-1)!=="\\"){S[1]=(S[1]||"").replace(z,"");K=N.find[V](S,w,I);if(K!=null){s=s.replace(N.match[V],"");break}}}}K||(K=typeof w.getElementsByTagName!="undefined"?w.getElementsByTagName("*"):[]);return{set:K,expr:s}};G.filter=function(s,w,I,K){for(var F,L,S=s,V=[],ga=w,ra=w&&w[0]&&G.isXML(w[0]);s&&w.length;){for(var qa in N.filter)if((F=N.leftMatch[qa].exec(s))!=null&&F[2]){var va,x,M=N.filter[qa];x=F[1];L=false;F.splice(1,1);if(x.substr(x.length-1)!=="\\"){ga===
V&&(V=[]);if(N.preFilter[qa])if(F=N.preFilter[qa](F,ga,I,V,K,ra)){if(F===true)continue}else L=va=true;if(F)for(var W=0;(x=ga[W])!=null;W++)if(x){va=M(x,F,W,ga);var U=K^!!va;I&&va!=null?U?(L=true):(ga[W]=false):U&&(V.push(x),L=true)}if(va!==a){I||(ga=V);s=s.replace(N.match[qa],"");if(!L)return[];break}}}if(s===S)if(L==null)G.error(s);else break;S=s}return ga};G.error=function(s){throw"Syntax error, unrecognized expression: "+s;};var N=G.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,
CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},
leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(s){return s.getAttribute("href")},type:function(s){return s.getAttribute("type")}},relative:{"+":function(s,w){var I=typeof w=="string",K=I&&!E.test(w);I=I&&!K;K&&(w=w.toLowerCase());K=0;for(var F=s.length,L;K<F;K++)if(L=s[K]){for(;(L=L.previousSibling)&&L.nodeType!==1;);s[K]=I||L&&L.nodeName.toLowerCase()===w?L||false:L===w}I&&G.filter(w,s,true)},">":function(s,w){var I,K=typeof w=="string",F=0,L=s.length;if(K&&
!E.test(w))for(w=w.toLowerCase();F<L;F++){if(I=s[F]){I=I.parentNode;s[F]=I.nodeName.toLowerCase()===w?I:false}}else{for(;F<L;F++)(I=s[F])&&(s[F]=K?I.parentNode:I.parentNode===w);K&&G.filter(w,s,true)}},"":function(s,w,I){var K,F=m++,L=b;typeof w=="string"&&!E.test(w)&&(w=w.toLowerCase(),K=w,L=g);L("parentNode",w,F,s,K,I)},"~":function(s,w,I){var K,F=m++,L=b;typeof w=="string"&&!E.test(w)&&(w=w.toLowerCase(),K=w,L=g);L("previousSibling",w,F,s,K,I)}},find:{ID:function(s,w,I){if(typeof w.getElementById!=
"undefined"&&!I)return(s=w.getElementById(s[1]))&&s.parentNode?[s]:[]},NAME:function(s,w){if(typeof w.getElementsByName!="undefined"){for(var I=[],K=w.getElementsByName(s[1]),F=0,L=K.length;F<L;F++)K[F].getAttribute("name")===s[1]&&I.push(K[F]);return I.length===0?null:I}},TAG:function(s,w){if(typeof w.getElementsByTagName!="undefined")return w.getElementsByTagName(s[1])}},preFilter:{CLASS:function(s,w,I,K,F,L){s=" "+s[1].replace(z,"")+" ";if(L)return s;L=0;for(var S;(S=w[L])!=null;L++)S&&(F^(S.className&&
(" "+S.className+" ").replace(/[\t\n\r]/g," ").indexOf(s)>=0)?I||K.push(S):I&&(w[L]=false));return false},ID:function(s){return s[1].replace(z,"")},TAG:function(s){return s[1].replace(z,"").toLowerCase()},CHILD:function(s){if(s[1]==="nth"){s[2]||G.error(s[0]);s[2]=s[2].replace(/^\+|\s*/g,"");var w=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(s[2]==="even"&&"2n"||s[2]==="odd"&&"2n+1"||!/\D/.test(s[2])&&"0n+"+s[2]||s[2]);s[2]=w[1]+(w[2]||1)-0;s[3]=w[3]-0}else s[2]&&G.error(s[0]);s[0]=m++;return s},ATTR:function(s,
w,I,K,F,L){w=s[1]=s[1].replace(z,"");!L&&N.attrMap[w]&&(s[1]=N.attrMap[w]);s[4]=(s[4]||s[5]||"").replace(z,"");s[2]==="~="&&(s[4]=" "+s[4]+" ");return s},PSEUDO:function(s,w,I,K,F){if(s[1]==="not")if((k.exec(s[3])||"").length>1||/^\w/.test(s[3]))s[3]=G(s[3],null,null,w);else{s=G.filter(s[3],w,I,true^F);I||K.push.apply(K,s);return false}else if(N.match.POS.test(s[0])||N.match.CHILD.test(s[0]))return true;return s},POS:function(s){s.unshift(true);return s}},filters:{enabled:function(s){return s.disabled===
false&&s.type!=="hidden"},disabled:function(s){return s.disabled===true},checked:function(s){return s.checked===true},selected:function(s){return s.selected===true},parent:function(s){return!!s.firstChild},empty:function(s){return!s.firstChild},has:function(s,w,I){return!!G(I[3],s).length},header:function(s){return/h\d/i.test(s.nodeName)},text:function(s){var w=s.getAttribute("type"),I=s.type;return s.nodeName.toLowerCase()==="input"&&"text"===I&&(w===I||w===null)},radio:function(s){return s.nodeName.toLowerCase()===
"input"&&"radio"===s.type},checkbox:function(s){return s.nodeName.toLowerCase()==="input"&&"checkbox"===s.type},file:function(s){return s.nodeName.toLowerCase()==="input"&&"file"===s.type},password:function(s){return s.nodeName.toLowerCase()==="input"&&"password"===s.type},submit:function(s){var w=s.nodeName.toLowerCase();return(w==="input"||w==="button")&&"submit"===s.type},image:function(s){return s.nodeName.toLowerCase()==="input"&&"image"===s.type},reset:function(s){var w=s.nodeName.toLowerCase();
return(w==="input"||w==="button")&&"reset"===s.type},button:function(s){var w=s.nodeName.toLowerCase();return w==="input"&&"button"===s.type||w==="button"},input:function(s){return/input|select|textarea|button/i.test(s.nodeName)},focus:function(s){return s===s.ownerDocument.activeElement}},setFilters:{first:function(s,w){return w===0},last:function(s,w,I,K){return w===K.length-1},even:function(s,w){return w%2===0},odd:function(s,w){return w%2===1},lt:function(s,w,I){return w<I[3]-0},gt:function(s,
w,I){return w>I[3]-0},nth:function(s,w,I){return I[3]-0===w},eq:function(s,w,I){return I[3]-0===w}},filter:{PSEUDO:function(s,w,I,K){var F=w[1],L=N.filters[F];if(L)return L(s,I,w,K);if(F==="contains")return(s.textContent||s.innerText||G.getText([s])||"").indexOf(w[3])>=0;if(F==="not"){w=w[3];I=0;for(K=w.length;I<K;I++)if(w[I]===s)return false;return true}G.error(F)},CHILD:function(s,w){var I=w[1],K=s;switch(I){case "only":case "first":for(;K=K.previousSibling;)if(K.nodeType===1)return false;if(I===
"first")return true;K=s;case "last":for(;K=K.nextSibling;)if(K.nodeType===1)return false;return true;case "nth":I=w[2];var F=w[3];if(I===1&&F===0)return true;var L=w[0],S=s.parentNode;if(S&&(S.sizcache!==L||!s.nodeIndex)){var V=0;for(K=S.firstChild;K;K=K.nextSibling)K.nodeType===1&&(K.nodeIndex=++V);S.sizcache=L}K=s.nodeIndex-F;return I===0?K===0:K%I===0&&K/I>=0}},ID:function(s,w){return s.nodeType===1&&s.getAttribute("id")===w},TAG:function(s,w){return w==="*"&&s.nodeType===1||s.nodeName.toLowerCase()===
w},CLASS:function(s,w){return(" "+(s.className||s.getAttribute("class"))+" ").indexOf(w)>-1},ATTR:function(s,w){var I=w[1];I=N.attrHandle[I]?N.attrHandle[I](s):s[I]!=null?s[I]:s.getAttribute(I);var K=I+"",F=w[2],L=w[4];return I==null?F==="!=":F==="="?K===L:F==="*="?K.indexOf(L)>=0:F==="~="?(" "+K+" ").indexOf(L)>=0:L?F==="!="?K!==L:F==="^="?K.indexOf(L)===0:F==="$="?K.substr(K.length-L.length)===L:F==="|="?K===L||K.substr(0,L.length+1)===L+"-":false:K&&I!==false},POS:function(s,w,I,K){var F=N.setFilters[w[2]];
if(F)return F(s,I,w,K)}}},ba=N.match.POS,ha=function(s,w){return"\\"+(w-0+1)};for(var fa in N.match){N.match[fa]=new RegExp(N.match[fa].source+/(?![^\[]*\])(?![^\(]*\))/.source);N.leftMatch[fa]=new RegExp(/(^(?:.|\r|\n)*?)/.source+N.match[fa].source.replace(/\\(\d+)/g,ha))}var ja=function(s,w){s=Array.prototype.slice.call(s,0);if(w){w.push.apply(w,s);return w}return s};try{Array.prototype.slice.call(T.documentElement.childNodes,0)}catch(za){ja=function(s,w){var I=0,K=w||[];if(o.call(s)==="[object Array]")Array.prototype.push.apply(K,
s);else if(typeof s.length=="number")for(var F=s.length;I<F;I++)K.push(s[I]);else for(;s[I];I++)K.push(s[I]);return K}}var ta,ua;T.documentElement.compareDocumentPosition?(ta=function(s,w){if(s===w){q=true;return 0}if(!s.compareDocumentPosition||!w.compareDocumentPosition)return s.compareDocumentPosition?-1:1;return s.compareDocumentPosition(w)&4?-1:1}):(ta=function(s,w){if(s===w){q=true;return 0}if(s.sourceIndex&&w.sourceIndex)return s.sourceIndex-w.sourceIndex;var I,K,F=[],L=[];I=s.parentNode;K=
w.parentNode;var S=I;if(I===K)return ua(s,w);if(!I)return-1;if(!K)return 1;for(;S;){F.unshift(S);S=S.parentNode}for(S=K;S;){L.unshift(S);S=S.parentNode}I=F.length;K=L.length;for(S=0;S<I&&S<K;S++)if(F[S]!==L[S])return ua(F[S],L[S]);return S===I?ua(s,L[S],-1):ua(F[S],w,1)},ua=function(s,w,I){if(s===w)return I;for(s=s.nextSibling;s;){if(s===w)return-1;s=s.nextSibling}return 1});G.getText=function(s){for(var w="",I,K=0;s[K];K++){I=s[K];I.nodeType===3||I.nodeType===4?(w+=I.nodeValue):I.nodeType!==8&&(w+=
G.getText(I.childNodes))}return w};(function(){var s=T.createElement("div"),w="script"+(new Date).getTime(),I=T.documentElement;s.innerHTML="<a name='"+w+"'/>";I.insertBefore(s,I.firstChild);T.getElementById(w)&&(N.find.ID=function(K,F,L){if(typeof F.getElementById!="undefined"&&!L)return(F=F.getElementById(K[1]))?F.id===K[1]||typeof F.getAttributeNode!="undefined"&&F.getAttributeNode("id").nodeValue===K[1]?[F]:a:[]},N.filter.ID=function(K,F){var L=typeof K.getAttributeNode!="undefined"&&K.getAttributeNode("id");
return K.nodeType===1&&L&&L.nodeValue===F});I.removeChild(s);I=s=null})();(function(){var s=T.createElement("div");s.appendChild(T.createComment(""));s.getElementsByTagName("*").length>0&&(N.find.TAG=function(w,I){var K=I.getElementsByTagName(w[1]);if(w[1]==="*"){for(var F=[],L=0;K[L];L++)K[L].nodeType===1&&F.push(K[L]);K=F}return K});s.innerHTML="<a href='#'></a>";s.firstChild&&typeof s.firstChild.getAttribute!="undefined"&&s.firstChild.getAttribute("href")!=="#"&&(N.attrHandle.href=function(w){return w.getAttribute("href",
2)});s=null})();T.querySelectorAll&&function(){var s=G,w=T.createElement("div");w.innerHTML="<p class='TEST'></p>";if(!w.querySelectorAll||w.querySelectorAll(".TEST").length!==0){G=function(K,F,L,S){F=F||T;if(!S&&!G.isXML(F)){var V=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(K);if(V&&(F.nodeType===1||F.nodeType===9)){if(V[1])return ja(F.getElementsByTagName(K),L);if(V[2]&&N.find.CLASS&&F.getElementsByClassName)return ja(F.getElementsByClassName(V[2]),L)}if(F.nodeType===9){if(K==="body"&&F.body)return ja([F.body],
L);if(V&&V[3]){var ga=F.getElementById(V[3]);if(!ga||!ga.parentNode)return ja([],L);if(ga.id===V[3])return ja([ga],L)}try{return ja(F.querySelectorAll(K),L)}catch(ra){}}else if(F.nodeType===1&&F.nodeName.toLowerCase()!=="object"){V=F;var qa=(ga=F.getAttribute("id"))||"__sizzle__",va=F.parentNode,x=/^\s*[+~]/.test(K);ga?(qa=qa.replace(/'/g,"\\$&")):F.setAttribute("id",qa);x&&va&&(F=F.parentNode);try{if(!x||va)return ja(F.querySelectorAll("[id='"+qa+"'] "+K),L)}catch(M){}finally{ga||V.removeAttribute("id")}}}return s(K,
F,L,S)};for(var I in s)G[I]=s[I];w=null}}();(function(){var s=T.documentElement,w=s.matchesSelector||s.mozMatchesSelector||s.webkitMatchesSelector||s.msMatchesSelector;if(w){var I=!w.call(T.createElement("div"),"div"),K=false;try{w.call(T.documentElement,"[test!='']:sizzle")}catch(F){K=true}G.matchesSelector=function(L,S){S=S.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!G.isXML(L))try{if(K||!N.match.PSEUDO.test(S)&&!/!=/.test(S)){var V=w.call(L,S);if(V||!I||L.document&&L.document.nodeType!==11)return V}}catch(ga){}return G(S,
null,null,[L]).length>0}}})();(function(){var s=T.createElement("div");s.innerHTML="<div class='test e'></div><div class='test'></div>";if(s.getElementsByClassName&&s.getElementsByClassName("e").length!==0){s.lastChild.className="e";if(s.getElementsByClassName("e").length!==1){N.order.splice(1,0,"CLASS");N.find.CLASS=function(w,I,K){if(typeof I.getElementsByClassName!="undefined"&&!K)return I.getElementsByClassName(w[1])};s=null}}})();T.documentElement.contains?(G.contains=function(s,w){return s!==
w&&(s.contains?s.contains(w):true)}):T.documentElement.compareDocumentPosition?(G.contains=function(s,w){return!!(s.compareDocumentPosition(w)&16)}):(G.contains=function(){return false});G.isXML=function(s){return(s=(s?s.ownerDocument||s:0).documentElement)?s.nodeName!=="HTML":false};var Ea=function(s,w){for(var I,K=[],F="",L=w.nodeType?[w]:w;I=N.match.PSEUDO.exec(s);){F+=I[0];s=s.replace(N.match.PSEUDO,"")}s=N.relative[s]?s+"*":s;I=0;for(var S=L.length;I<S;I++)G(s,L[I],K);return G.filter(F,K)};d.find=
G;d.expr=G.selectors;d.expr[":"]=d.expr.filters;d.unique=G.uniqueSort;d.text=G.getText;d.isXMLDoc=G.isXML;d.contains=G.contains})();var Nb=/Until$/,Ob=/^(?:parents|prevUntil|prevAll)/,Pb=/,/,Kb=/^.[^:#\[\.,]*$/,Qb=Array.prototype.slice,rb=d.expr.match.POS,Rb={children:true,contents:true,next:true,prev:true};d.fn.extend({find:function(b){var g=this,k,m;if(typeof b!="string")return d(b).filter(function(){k=0;for(m=g.length;k<m;k++)if(d.contains(g[k],this))return true});var o=this.pushStack("","find",
b),q,t,z;k=0;for(m=this.length;k<m;k++){q=o.length;d.find(b,this[k],o);if(k>0)for(t=q;t<o.length;t++)for(z=0;z<q;z++)if(o[z]===o[t]){o.splice(t--,1);break}}return o},has:function(b){var g=d(b);return this.filter(function(){for(var k=0,m=g.length;k<m;k++)if(d.contains(this,g[k]))return true})},not:function(b){return this.pushStack(H(this,b,false),"not",b)},filter:function(b){return this.pushStack(H(this,b,true),"filter",b)},is:function(b){return!!b&&(typeof b=="string"?d.filter(b,this).length>0:this.filter(b).length>
0)},closest:function(b,g){var k=[],m,o,q=this[0];if(d.isArray(b)){var t,z={},E=1;if(q&&b.length){m=0;for(o=b.length;m<o;m++){t=b[m];z[t]||(z[t]=rb.test(t)?d(t,g||this.context):t)}for(;q&&q.ownerDocument&&q!==g;){for(t in z){m=z[t];(m.jquery?m.index(q)>-1:d(q).is(m))&&k.push({selector:t,elem:q,level:E})}q=q.parentNode;E++}}return k}t=rb.test(b)||typeof b!="string"?d(b,g||this.context):0;m=0;for(o=this.length;m<o;m++)for(q=this[m];q;){if(t?t.index(q)>-1:d.find.matchesSelector(q,b)){k.push(q);break}q=
q.parentNode;if(!q||!q.ownerDocument||q===g||q.nodeType===11)break}k=k.length>1?d.unique(k):k;return this.pushStack(k,"closest",b)},index:function(b){if(!b||typeof b=="string")return d.inArray(this[0],b?d(b):this.parent().children());return d.inArray(b.jquery?b[0]:b,this)},add:function(b,g){var k=typeof b=="string"?d(b,g):d.makeArray(b&&b.nodeType?[b]:b),m=d.merge(this.get(),k);return this.pushStack(!k[0]||!k[0].parentNode||k[0].parentNode.nodeType===11||!m[0]||!m[0].parentNode||m[0].parentNode.nodeType===
11?m:d.unique(m))},andSelf:function(){return this.add(this.prevObject)}});d.each({parent:function(b){return(b=b.parentNode)&&b.nodeType!==11?b:null},parents:function(b){return d.dir(b,"parentNode")},parentsUntil:function(b,g,k){return d.dir(b,"parentNode",k)},next:function(b){return d.nth(b,2,"nextSibling")},prev:function(b){return d.nth(b,2,"previousSibling")},nextAll:function(b){return d.dir(b,"nextSibling")},prevAll:function(b){return d.dir(b,"previousSibling")},nextUntil:function(b,g,k){return d.dir(b,
"nextSibling",k)},prevUntil:function(b,g,k){return d.dir(b,"previousSibling",k)},siblings:function(b){return d.sibling(b.parentNode.firstChild,b)},children:function(b){return d.sibling(b.firstChild)},contents:function(b){return d.nodeName(b,"iframe")?b.contentDocument||b.contentWindow.document:d.makeArray(b.childNodes)}},function(b,g){d.fn[b]=function(k,m){var o=d.map(this,g,k),q=Qb.call(arguments);Nb.test(b)||(m=k);m&&typeof m=="string"&&(o=d.filter(m,o));o=this.length>1&&!Rb[b]?d.unique(o):o;(this.length>
1||Pb.test(m))&&Ob.test(b)&&(o=o.reverse());return this.pushStack(o,b,q.join(","))}});d.extend({filter:function(b,g,k){k&&(b=":not("+b+")");return g.length===1?d.find.matchesSelector(g[0],b)?[g[0]]:[]:d.find.matches(b,g)},dir:function(b,g,k){var m=[];for(b=b[g];b&&b.nodeType!==9&&(k===a||b.nodeType!==1||!d(b).is(k));){b.nodeType===1&&m.push(b);b=b[g]}return m},nth:function(b,g,k){for(var m=0;b;b=b[k])if(b.nodeType===1&&++m===(g||1))break;return b},sibling:function(b,g){for(var k=[];b;b=b.nextSibling)b.nodeType===
1&&b!==g&&k.push(b);return k}});var Sb=/ jQuery\d+="(?:\d+|null)"/g,ib=/^\s+/,sb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,tb=/<([\w:]+)/,Tb=/<tbody/i,Ub=/<|&#?\w+;/,ub=/<(?:script|object|embed|option|style)/i,vb=/checked\s*(?:[^=]|=\s*.checked.)/i,Vb=/\/(java|ecma)script/i,Jb=/^\s*<!(?:\[CDATA\[|\-\-)/,Aa={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],
td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};Aa.optgroup=Aa.option;Aa.tbody=Aa.tfoot=Aa.colgroup=Aa.caption=Aa.thead;Aa.th=Aa.td;d.support.htmlSerialize||(Aa._default=[1,"div<div>","</div>"]);d.fn.extend({text:function(b){if(d.isFunction(b))return this.each(function(g){var k=d(this);k.text(b.call(this,g,k.text()))});if(typeof b!="object"&&b!==a)return this.empty().append((this[0]&&
this[0].ownerDocument||T).createTextNode(b));return d.text(this)},wrapAll:function(b){if(d.isFunction(b))return this.each(function(k){d(this).wrapAll(b.call(this,k))});if(this[0]){var g=d(b,this[0].ownerDocument).eq(0).clone(true);this[0].parentNode&&g.insertBefore(this[0]);g.map(function(){for(var k=this;k.firstChild&&k.firstChild.nodeType===1;)k=k.firstChild;return k}).append(this)}return this},wrapInner:function(b){if(d.isFunction(b))return this.each(function(g){d(this).wrapInner(b.call(this,g))});
return this.each(function(){var g=d(this),k=g.contents();k.length?k.wrapAll(b):g.append(b)})},wrap:function(b){return this.each(function(){d(this).wrapAll(b)})},unwrap:function(){return this.parent().each(function(){d.nodeName(this,"body")||d(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,true,function(b){this.nodeType===1&&this.appendChild(b)})},prepend:function(){return this.domManip(arguments,true,function(b){this.nodeType===1&&this.insertBefore(b,
this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,false,function(g){this.parentNode.insertBefore(g,this)});if(arguments.length){var b=d(arguments[0]);b.push.apply(b,this.toArray());return this.pushStack(b,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,false,function(g){this.parentNode.insertBefore(g,this.nextSibling)});if(arguments.length){var b=this.pushStack(this,"after",arguments);b.push.apply(b,
d(arguments[0]).toArray());return b}},remove:function(b,g){for(var k=0,m;(m=this[k])!=null;k++)if(!b||d.filter(b,[m]).length){!g&&m.nodeType===1&&(d.cleanData(m.getElementsByTagName("*")),d.cleanData([m]));m.parentNode&&m.parentNode.removeChild(m)}return this},empty:function(){for(var b=0,g;(g=this[b])!=null;b++)for(g.nodeType===1&&d.cleanData(g.getElementsByTagName("*"));g.firstChild;)g.removeChild(g.firstChild);return this},clone:function(b,g){b=b==null?false:b;g=g==null?b:g;return this.map(function(){return d.clone(this,
b,g)})},html:function(b){if(b===a)return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(Sb,""):null;if(typeof b=="string"&&!ub.test(b)&&(d.support.leadingWhitespace||!ib.test(b))&&!Aa[(tb.exec(b)||["",""])[1].toLowerCase()]){b=b.replace(sb,"<$1></$2>");try{for(var g=0,k=this.length;g<k;g++)this[g].nodeType===1&&(d.cleanData(this[g].getElementsByTagName("*")),this[g].innerHTML=b)}catch(m){this.empty().append(b)}}else d.isFunction(b)?this.each(function(o){var q=d(this);q.html(b.call(this,o,
q.html()))}):this.empty().append(b);return this},replaceWith:function(b){if(this[0]&&this[0].parentNode){if(d.isFunction(b))return this.each(function(g){var k=d(this),m=k.html();k.replaceWith(b.call(this,g,m))});typeof b!="string"&&(b=d(b).detach());return this.each(function(){var g=this.nextSibling,k=this.parentNode;d(this).remove();g?d(g).before(b):d(k).append(b)})}return this.length?this.pushStack(d(d.isFunction(b)?b():b),"replaceWith",b):this},detach:function(b){return this.remove(b,true)},domManip:function(b,
g,k){var m,o,q,t=b[0],z=[];if(!d.support.checkClone&&arguments.length===3&&typeof t=="string"&&vb.test(t))return this.each(function(){d(this).domManip(b,g,k,true)});if(d.isFunction(t))return this.each(function(N){var ba=d(this);b[0]=t.call(this,N,g?ba.html():a);ba.domManip(b,g,k)});if(this[0]){q=t&&t.parentNode;d.support.parentNode&&q&&q.nodeType===11&&q.childNodes.length===this.length?(m={fragment:q}):(m=d.buildFragment(b,this,z));q=m.fragment;q.childNodes.length===1?(o=q=q.firstChild):(o=q.firstChild);
if(o){g=g&&d.nodeName(o,"tr");o=0;for(var E=this.length,G=E-1;o<E;o++)k.call(g?d.nodeName(this[o],"table")?this[o].getElementsByTagName("tbody")[0]||this[o].appendChild(this[o].ownerDocument.createElement("tbody")):this[o]:this[o],m.cacheable||E>1&&o<G?d.clone(q,true,true):q)}z.length&&d.each(z,X)}return this}});d.buildFragment=function(b,g,k){var m,o,q,t;g&&g[0]&&(t=g[0].ownerDocument||g[0]);t.createDocumentFragment||(t=T);b.length===1&&typeof b[0]=="string"&&b[0].length<512&&t===T&&b[0].charAt(0)===
"<"&&!ub.test(b[0])&&(d.support.checkClone||!vb.test(b[0]))&&(o=true,q=d.fragments[b[0]],q&&q!==1&&(m=q));m||(m=t.createDocumentFragment(),d.clean(b,t,m,k));o&&(d.fragments[b[0]]=q?m:1);return{fragment:m,cacheable:o}};d.fragments={};d.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(b,g){d.fn[b]=function(k){var m=[];k=d(k);var o=this.length===1&&this[0].parentNode;if(o&&o.nodeType===11&&o.childNodes.length===1&&k.length===1){k[g](this[0]);
return this}o=0;for(var q=k.length;o<q;o++){var t=(o>0?this.clone(true):this).get();d(k[o])[g](t);m=m.concat(t)}return this.pushStack(m,b,k.selector)}});d.extend({clone:function(b,g,k){var m=b.cloneNode(true),o,q,t;if((!d.support.noCloneEvent||!d.support.noCloneChecked)&&(b.nodeType===1||b.nodeType===11)&&!d.isXMLDoc(b)){u(b,m);o=r(b);q=r(m);for(t=0;o[t];++t)u(o[t],q[t])}if(g){A(b,m);if(k){o=r(b);q=r(m);for(t=0;o[t];++t)A(o[t],q[t])}}return m},clean:function(b,g,k,m){g=g||T;typeof g.createElement==
"undefined"&&(g=g.ownerDocument||g[0]&&g[0].ownerDocument||T);for(var o=[],q,t=0,z;(z=b[t])!=null;t++){typeof z=="number"&&(z+="");if(z){if(typeof z=="string")if(Ub.test(z)){z=z.replace(sb,"<$1></$2>");q=(tb.exec(z)||["",""])[1].toLowerCase();var E=Aa[q]||Aa._default,G=E[0],N=g.createElement("div");for(N.innerHTML=E[1]+z+E[2];G--;)N=N.lastChild;if(!d.support.tbody){G=Tb.test(z);E=q==="table"&&!G?N.firstChild&&N.firstChild.childNodes:E[1]==="<table>"&&!G?N.childNodes:[];for(q=E.length-1;q>=0;--q)d.nodeName(E[q],
"tbody")&&!E[q].childNodes.length&&E[q].parentNode.removeChild(E[q])}!d.support.leadingWhitespace&&ib.test(z)&&N.insertBefore(g.createTextNode(ib.exec(z)[0]),N.firstChild);z=N.childNodes}else z=g.createTextNode(z);var ba;if(!d.support.appendChecked)if(z[0]&&typeof(ba=z.length)=="number")for(q=0;q<ba;q++)ea(z[q]);else ea(z);z.nodeType?o.push(z):(o=d.merge(o,z))}}if(k){b=function(ha){return!ha.type||Vb.test(ha.type)};for(t=0;o[t];t++)if(m&&d.nodeName(o[t],"script")&&(!o[t].type||o[t].type.toLowerCase()===
"text/javascript"))m.push(o[t].parentNode?o[t].parentNode.removeChild(o[t]):o[t]);else{if(o[t].nodeType===1){g=d.grep(o[t].getElementsByTagName("script"),b);o.splice.apply(o,[t+1,0].concat(g))}k.appendChild(o[t])}}return o},cleanData:function(b){for(var g,k,m=d.cache,o=d.expando,q=d.event.special,t=d.support.deleteExpando,z=0,E;(E=b[z])!=null;z++)if(!(E.nodeName&&d.noData[E.nodeName.toLowerCase()]))if(k=E[d.expando]){if((g=m[k]&&m[k][o])&&g.events){for(var G in g.events)q[G]?d.event.remove(E,G):d.removeEvent(E,
G,g.handle);g.handle&&(g.handle.elem=null)}t?delete E[d.expando]:E.removeAttribute&&E.removeAttribute(d.expando);delete m[k]}}});var wb=/alpha\([^)]*\)/i,Wb=/opacity=([^)]*)/,Xb=/([A-Z]|^ms)/g,xb=/^-?\d+(?:px)?$/i,Yb=/^-?\d/,Zb=/^[+\-]=/,$b=/[^+\-\.\de]+/g,ac={position:"absolute",visibility:"hidden",display:"block"},Hb=["Left","Right"],Ib=["Top","Bottom"],Ra,yb,zb;d.fn.css=function(b,g){if(arguments.length===2&&g===a)return this;return d.access(this,b,g,true,function(k,m,o){return o!==a?d.style(k,
m,o):d.css(k,m)})};d.extend({cssHooks:{opacity:{get:function(b,g){if(g){var k=Ra(b,"opacity","opacity");return k===""?"1":k}return b.style.opacity}}},cssNumber:{fillOpacity:true,fontWeight:true,lineHeight:true,opacity:true,orphans:true,widows:true,zIndex:true,zoom:true},cssProps:{"float":d.support.cssFloat?"cssFloat":"styleFloat"},style:function(b,g,k,m){if(b&&b.nodeType!==3&&b.nodeType!==8&&b.style){var o,q=d.camelCase(g),t=b.style,z=d.cssHooks[q];g=d.cssProps[q]||q;if(k===a){if(z&&"get"in z&&(o=
z.get(b,false,m))!==a)return o;return t[g]}m=typeof k;if(!(m==="number"&&isNaN(k)||k==null)){m==="string"&&Zb.test(k)&&(k=+k.replace($b,"")+parseFloat(d.css(b,g)),m="number");m==="number"&&!d.cssNumber[q]&&(k+="px");if(!z||!("set"in z)||(k=z.set(b,k))!==a)try{t[g]=k}catch(E){}}}},css:function(b,g,k){var m,o;g=d.camelCase(g);o=d.cssHooks[g];g=d.cssProps[g]||g;g==="cssFloat"&&(g="float");if(o&&"get"in o&&(m=o.get(b,true,k))!==a)return m;if(Ra)return Ra(b,g)},swap:function(b,g,k){var m={};for(var o in g){m[o]=
b.style[o];b.style[o]=g[o]}k.call(b);for(o in g)b.style[o]=m[o]}});d.curCSS=d.css;d.each(["height","width"],function(b,g){d.cssHooks[g]={get:function(k,m,o){var q;if(m){if(k.offsetWidth!==0)return P(k,g,o);d.swap(k,ac,function(){q=P(k,g,o)});return q}},set:function(k,m){if(!xb.test(m))return m;m=parseFloat(m);if(m>=0)return m+"px"}}});d.support.opacity||(d.cssHooks.opacity={get:function(b,g){return Wb.test((g&&b.currentStyle?b.currentStyle.filter:b.style.filter)||"")?parseFloat(RegExp.$1)/100+"":
g?"1":""},set:function(b,g){var k=b.style,m=b.currentStyle;k.zoom=1;var o=d.isNaN(g)?"":"alpha(opacity="+g*100+")";m=m&&m.filter||k.filter||"";k.filter=wb.test(m)?m.replace(wb,o):m+" "+o}});d(function(){d.support.reliableMarginRight||(d.cssHooks.marginRight={get:function(b,g){var k;d.swap(b,{display:"inline-block"},function(){g?(k=Ra(b,"margin-right","marginRight")):(k=b.style.marginRight)});return k}})});T.defaultView&&T.defaultView.getComputedStyle&&(yb=function(b,g){var k,m;g=g.replace(Xb,"-$1").toLowerCase();
if(!(m=b.ownerDocument.defaultView))return a;if(m=m.getComputedStyle(b,null)){k=m.getPropertyValue(g);k===""&&!d.contains(b.ownerDocument.documentElement,b)&&(k=d.style(b,g))}return k});T.documentElement.currentStyle&&(zb=function(b,g){var k,m=b.currentStyle&&b.currentStyle[g],o=b.runtimeStyle&&b.runtimeStyle[g],q=b.style;!xb.test(m)&&Yb.test(m)&&(k=q.left,o&&(b.runtimeStyle.left=b.currentStyle.left),q.left=g==="fontSize"?"1em":m||0,m=q.pixelLeft+"px",q.left=k,o&&(b.runtimeStyle.left=o));return m===
""?"auto":m});Ra=yb||zb;d.expr&&d.expr.filters&&(d.expr.filters.hidden=function(b){var g=b.offsetHeight;return b.offsetWidth===0&&g===0||!d.support.reliableHiddenOffsets&&(b.style.display||d.css(b,"display"))==="none"},d.expr.filters.visible=function(b){return!d.expr.filters.hidden(b)});var bc=/%20/g,Gb=/\[\]$/,Ab=/\r?\n/g,cc=/#.*$/,dc=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,ec=/^(?:color|date|datetime|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,fc=/^(?:GET|HEAD)$/,gc=/^\/\//,
Bb=/\?/,hc=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,ic=/^(?:select|textarea)/i,nb=/\s+/,jc=/([?&])_=[^&]*/,Cb=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,Db=d.fn.load,gb={},Eb={},Na,Oa;try{Na=p.href}catch(rc){Na=T.createElement("a");Na.href="";Na=Na.href}Oa=Cb.exec(Na.toLowerCase())||[];d.fn.extend({load:function(b,g,k){if(typeof b!="string"&&Db)return Db.apply(this,arguments);if(!this.length)return this;var m=b.indexOf(" ");if(m>=0){var o=b.slice(m,b.length);b=b.slice(0,m)}m="GET";
g&&(d.isFunction(g)?(k=g,g=a):typeof g=="object"&&(g=d.param(g,d.ajaxSettings.traditional),m="POST"));var q=this;d.ajax({url:b,type:m,dataType:"html",data:g,complete:function(t,z,E){E=t.responseText;t.isResolved()&&(t.done(function(G){E=G}),q.html(o?d("<div>").append(E.replace(hc,"")).find(o):E));k&&q.each(k,[E,z,t])}});return this},serialize:function(){return d.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?d.makeArray(this.elements):this}).filter(function(){return this.name&&
!this.disabled&&(this.checked||ic.test(this.nodeName)||ec.test(this.type))}).map(function(b,g){var k=d(this).val();return k==null?null:d.isArray(k)?d.map(k,function(m){return{name:g.name,value:m.replace(Ab,"\r\n")}}):{name:g.name,value:k.replace(Ab,"\r\n")}}).get()}});d.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(b,g){d.fn[g]=function(k){return this.bind(g,k)}});d.each(["get","post"],function(b,g){d[g]=function(k,m,o,q){d.isFunction(m)&&(q=q||o,o=m,m=
a);return d.ajax({type:g,url:k,data:m,success:o,dataType:q})}});d.extend({getScript:function(b,g){return d.get(b,a,g,"script")},getJSON:function(b,g,k){return d.get(b,g,k,"json")},ajaxSetup:function(b,g){g?d.extend(true,b,d.ajaxSettings,g):(g=b,b=d.extend(true,d.ajaxSettings,g));for(var k in{context:1,url:1})k in g?(b[k]=g[k]):k in d.ajaxSettings&&(b[k]=d.ajaxSettings[k]);return b},ajaxSettings:{url:Na,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|widget):$/.test(Oa[1]),global:true,type:"GET",
contentType:"application/x-www-form-urlencoded",processData:true,async:true,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":"*/*"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":c.String,"text html":true,"text json":d.parseJSON,"text xml":d.parseXML}},ajaxPrefilter:O(gb),ajaxTransport:O(Eb),ajax:function(b,g){function k(F,L,S,V){if(ua!==2){ua=2;za&&clearTimeout(za);
ja=a;ha=V||"";w.readyState=F?4:0;var ga,ra,qa;if(S){V=m;var va=w,x=V.contents,M=V.dataTypes,W=V.responseFields,U,da,la,na;for(da in W)da in S&&(va[W[da]]=S[da]);for(;M[0]==="*";){M.shift();U===a&&(U=V.mimeType||va.getResponseHeader("content-type"))}if(U)for(da in x)if(x[da]&&x[da].test(U)){M.unshift(da);break}if(M[0]in S)la=M[0];else{for(da in S){if(!M[0]||V.converters[da+" "+M[0]]){la=da;break}na||(na=da)}la=la||na}if(la){la!==M[0]&&M.unshift(la);S=S[la]}else S=void 0}else S=a;S=S;if(F>=200&&F<300||
F===304){if(m.ifModified){if(U=w.getResponseHeader("Last-Modified"))d.lastModified[G]=U;if(U=w.getResponseHeader("Etag"))d.etag[G]=U}if(F===304){L="notmodified";ga=true}else try{U=m;S=S;U.dataFilter&&(S=U.dataFilter(S,U.dataType));var oa=U.dataTypes;da={};var Fa,Ga,kc=oa.length,db,Ia=oa[0],Ua,jb,Ja,Pa,Va;for(Fa=1;Fa<kc;Fa++){if(Fa===1)for(Ga in U.converters)typeof Ga=="string"&&(da[Ga.toLowerCase()]=U.converters[Ga]);Ua=Ia;Ia=oa[Fa];if(Ia==="*")Ia=Ua;else if(Ua!=="*"&&Ua!==Ia){jb=Ua+" "+Ia;Ja=da[jb]||
da["* "+Ia];if(!Ja){Va=a;for(Pa in da){db=Pa.split(" ");if(db[0]===Ua||db[0]==="*")if(Va=da[db[1]+" "+Ia]){Pa=da[Pa];Pa===true?(Ja=Va):Va===true&&(Ja=Pa);break}}}!Ja&&!Va&&d.error("No conversion from "+jb.replace(" "," to "));Ja!==true&&(S=Ja?Ja(S):Va(Pa(S)))}}ra=S;L="success";ga=true}catch(lc){L="parsererror";qa=lc}}else{qa=L;if(!L||F){L="error";F<0&&(F=0)}}w.status=F;w.statusText=L;ga?t.resolveWith(o,[ra,L,w]):t.rejectWith(o,[w,L,qa]);w.statusCode(E);E=a;Ea&&q.trigger("ajax"+(ga?"Success":"Error"),
[w,m,ga?ra:qa]);z.resolveWith(o,[w,L]);Ea&&(q.trigger("ajaxComplete",[w,m]),--d.active||d.event.trigger("ajaxStop"))}}typeof b=="object"&&(g=b,b=a);g=g||{};var m=d.ajaxSetup({},g),o=m.context||m,q=o!==m&&(o.nodeType||o instanceof d)?d(o):d.event,t=d.Deferred(),z=d._Deferred(),E=m.statusCode||{},G,N={},ba={},ha,fa,ja,za,ta,ua=0,Ea,s,w={readyState:0,setRequestHeader:function(F,L){if(!ua){var S=F.toLowerCase();F=ba[S]=ba[S]||F;N[F]=L}return this},getAllResponseHeaders:function(){return ua===2?ha:null},
getResponseHeader:function(F){var L;if(ua===2){if(!fa)for(fa={};L=dc.exec(ha);)fa[L[1].toLowerCase()]=L[2];L=fa[F.toLowerCase()]}return L===a?null:L},overrideMimeType:function(F){ua||(m.mimeType=F);return this},abort:function(F){F=F||"abort";ja&&ja.abort(F);k(0,F);return this}};t.promise(w);w.success=w.done;w.error=w.fail;w.complete=z.done;w.statusCode=function(F){if(F){var L;if(ua<2)for(L in F)E[L]=[E[L],F[L]];else{L=F[w.status];w.then(L,L)}}return this};m.url=((b||m.url)+"").replace(cc,"").replace(gc,
Oa[1]+"//");m.dataTypes=d.trim(m.dataType||"*").toLowerCase().split(nb);m.crossDomain==null&&(ta=Cb.exec(m.url.toLowerCase()),m.crossDomain=!(!ta||ta[1]==Oa[1]&&ta[2]==Oa[2]&&(ta[3]||(ta[1]==="http:"?80:443))==(Oa[3]||(Oa[1]==="http:"?80:443))));m.data&&m.processData&&typeof m.data!="string"&&(m.data=d.param(m.data,m.traditional));C(gb,m,g,w);if(ua===2)return false;Ea=m.global;m.type=m.type.toUpperCase();m.hasContent=!fc.test(m.type);Ea&&d.active++===0&&d.event.trigger("ajaxStart");if(!m.hasContent){m.data&&
(m.url+=(Bb.test(m.url)?"&":"?")+m.data);G=m.url;if(m.cache===false){ta=d.now();var I=m.url.replace(jc,"$1_="+ta);m.url=I+(I===m.url?(Bb.test(m.url)?"&":"?")+"_="+ta:"")}}(m.data&&m.hasContent&&m.contentType!==false||g.contentType)&&w.setRequestHeader("Content-Type",m.contentType);m.ifModified&&(G=G||m.url,d.lastModified[G]&&w.setRequestHeader("If-Modified-Since",d.lastModified[G]),d.etag[G]&&w.setRequestHeader("If-None-Match",d.etag[G]));w.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?
m.accepts[m.dataTypes[0]]+(m.dataTypes[0]!=="*"?", */*; q=0.01":""):m.accepts["*"]);for(s in m.headers)w.setRequestHeader(s,m.headers[s]);if(m.beforeSend&&(m.beforeSend.call(o,w,m)===false||ua===2)){w.abort();return false}for(s in{success:1,error:1,complete:1})w[s](m[s]);if(ja=C(Eb,m,g,w)){w.readyState=1;Ea&&q.trigger("ajaxSend",[w,m]);m.async&&m.timeout>0&&(za=setTimeout(function(){w.abort("timeout")},m.timeout));try{ua=1;ja.send(N,k)}catch(K){status<2?k(-1,K):d.error(K)}}else k(-1,"No Transport");
return w},param:function(b,g){var k=[],m=function(q,t){t=d.isFunction(t)?t():t;k[k.length]=encodeURIComponent(q)+"="+encodeURIComponent(t)};g===a&&(g=d.ajaxSettings.traditional);if(d.isArray(b)||b.jquery&&!d.isPlainObject(b))d.each(b,function(){m(this.name,this.value)});else for(var o in b)D(o,b[o],g,m);return k.join("&").replace(bc,"+")}});d.extend({active:0,lastModified:{},etag:{}});var mc=d.now(),eb=/(\=)\?(&|$)|\?\?/i;d.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return d.expando+"_"+
mc++}});d.ajaxPrefilter("json jsonp",function(b,g,k){g=b.contentType==="application/x-www-form-urlencoded"&&typeof b.data=="string";if(b.dataTypes[0]==="jsonp"||b.jsonp!==false&&(eb.test(b.url)||g&&eb.test(b.data))){var m,o=b.jsonpCallback=d.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,q=c[o],t=b.url,z=b.data,E="$1"+o+"$2";b.jsonp!==false&&(t=t.replace(eb,E),b.url===t&&(g&&(z=z.replace(eb,E)),b.data===z&&(t+=(/\?/.test(t)?"&":"?")+b.jsonp+"="+o)));b.url=t;b.data=z;c[o]=function(G){m=
[G]};k.always(function(){c[o]=q;m&&d.isFunction(q)&&c[o](m[0])});b.converters["script json"]=function(){m||d.error(o+" was not called");return m[0]};b.dataTypes[0]="json";return"script"}});d.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(b){d.globalEval(b);return b}}});d.ajaxPrefilter("script",function(b){b.cache===a&&(b.cache=false);b.crossDomain&&
(b.type="GET",b.global=false)});d.ajaxTransport("script",function(b){if(b.crossDomain){var g,k=T.head||T.getElementsByTagName("head")[0]||T.documentElement;return{send:function(m,o){g=T.createElement("script");g.async="async";b.scriptCharset&&(g.charset=b.scriptCharset);g.src=b.url;g.onload=g.onreadystatechange=function(q,t){if(t||!g.readyState||/loaded|complete/.test(g.readyState)){g.onload=g.onreadystatechange=null;k&&g.parentNode&&k.removeChild(g);g=a;t||o(200,"success")}};k.insertBefore(g,k.firstChild)},
abort:function(){g&&g.onload(0,1)}}}});var kb=c.ActiveXObject?function(){for(var b in Wa)Wa[b](0,1)}:false,nc=0,Wa;d.ajaxSettings.xhr=c.ActiveXObject?function(){var b;if(!(b=!this.isLocal&&v()))a:{try{b=new c.ActiveXObject("Microsoft.XMLHTTP");break a}catch(g){}b=void 0}return b}:v;(function(b){d.extend(d.support,{ajax:!!b,cors:!!b&&"withCredentials"in b})})(d.ajaxSettings.xhr());d.support.ajax&&d.ajaxTransport(function(b){if(!b.crossDomain||d.support.cors){var g;return{send:function(k,m){var o=b.xhr(),
q,t;b.username?o.open(b.type,b.url,b.async,b.username,b.password):o.open(b.type,b.url,b.async);if(b.xhrFields)for(t in b.xhrFields)o[t]=b.xhrFields[t];b.mimeType&&o.overrideMimeType&&o.overrideMimeType(b.mimeType);!b.crossDomain&&!k["X-Requested-With"]&&(k["X-Requested-With"]="XMLHttpRequest");try{for(t in k)o.setRequestHeader(t,k[t])}catch(z){}o.send(b.hasContent&&b.data||null);g=function(E,G){var N,ba,ha,fa,ja;try{if(g&&(G||o.readyState===4)){g=a;q&&(o.onreadystatechange=d.noop,kb&&delete Wa[q]);
if(G)o.readyState!==4&&o.abort();else{N=o.status;ha=o.getAllResponseHeaders();fa={};(ja=o.responseXML)&&ja.documentElement&&(fa.xml=ja);fa.text=o.responseText;try{ba=o.statusText}catch(za){ba=""}!N&&b.isLocal&&!b.crossDomain?(N=fa.text?200:404):N===1223&&(N=204)}}}catch(ta){G||m(-1,ta)}fa&&m(N,ba,fa,ha)};!b.async||o.readyState===4?g():(q=++nc,kb&&(Wa||(Wa={},d(c).unload(kb)),Wa[q]=g),o.onreadystatechange=g)},abort:function(){g&&g(0,1)}}}});var fb={},Da,Qa,oc=/^(?:toggle|show|hide)$/,pc=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,
Xa,mb=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],Za,lb=c.webkitRequestAnimationFrame||c.mozRequestAnimationFrame||c.oRequestAnimationFrame;d.fn.extend({show:function(b,g,k){var m;if(b||b===0)return this.animate(h("show",3),b,g,k);g=0;for(k=this.length;g<k;g++){b=this[g];b.style&&(m=b.style.display,!d._data(b,"olddisplay")&&m==="none"&&(m=b.style.display=""),m===""&&d.css(b,"display")==="none"&&
d._data(b,"olddisplay",e(b.nodeName)))}for(g=0;g<k;g++){b=this[g];if(b.style){m=b.style.display;if(m===""||m==="none")b.style.display=d._data(b,"olddisplay")||""}}return this},hide:function(b,g,k){if(b||b===0)return this.animate(h("hide",3),b,g,k);b=0;for(g=this.length;b<g;b++)if(this[b].style){k=d.css(this[b],"display");k!=="none"&&!d._data(this[b],"olddisplay")&&d._data(this[b],"olddisplay",k)}for(b=0;b<g;b++)this[b].style&&(this[b].style.display="none");return this},_toggle:d.fn.toggle,toggle:function(b,
g,k){var m=typeof b=="boolean";d.isFunction(b)&&d.isFunction(g)?this._toggle.apply(this,arguments):b==null||m?this.each(function(){var o=m?b:d(this).is(":hidden");d(this)[o?"show":"hide"]()}):this.animate(h("toggle",3),b,g,k);return this},fadeTo:function(b,g,k,m){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:g},b,k,m)},animate:function(b,g,k,m){var o=d.speed(g,k,m);if(d.isEmptyObject(b))return this.each(o.complete,[false]);b=d.extend({},b);return this[o.queue===false?
"each":"queue"](function(){o.queue===false&&d._mark(this);var q=d.extend({},o),t=this.nodeType===1,z=t&&d(this).is(":hidden"),E,G,N,ba,ha,fa,ja,za;q.animatedProperties={};for(N in b){E=d.camelCase(N);N!==E&&(b[E]=b[N],delete b[N]);G=b[E];d.isArray(G)?(q.animatedProperties[E]=G[1],G=b[E]=G[0]):(q.animatedProperties[E]=q.specialEasing&&q.specialEasing[E]||q.easing||"swing");if(G==="hide"&&z||G==="show"&&!z)return q.complete.call(this);t&&(E==="height"||E==="width")&&(q.overflow=[this.style.overflow,
this.style.overflowX,this.style.overflowY],d.css(this,"display")==="inline"&&d.css(this,"float")==="none"&&(d.support.inlineBlockNeedsLayout?(ba=e(this.nodeName),ba==="inline"?(this.style.display="inline-block"):(this.style.display="inline",this.style.zoom=1)):(this.style.display="inline-block")))}q.overflow!=null&&(this.style.overflow="hidden");for(N in b){t=new d.fx(this,q,N);G=b[N];oc.test(G)?t[G==="toggle"?z?"show":"hide":G]():(ha=pc.exec(G),fa=t.cur(),ha?(ja=parseFloat(ha[2]),za=ha[3]||(d.cssNumber[N]?
"":"px"),za!=="px"&&(d.style(this,N,(ja||1)+za),fa=(ja||1)/t.cur()*fa,d.style(this,N,fa+za)),ha[1]&&(ja=(ha[1]==="-="?-1:1)*ja+fa),t.custom(fa,ja,za)):t.custom(fa,G,""))}return true})},stop:function(b,g){b&&this.queue([]);this.each(function(){var k=d.timers,m=k.length;for(g||d._unmark(true,this);m--;)k[m].elem===this&&(g&&k[m](true),k.splice(m,1))});g||this.dequeue();return this}});d.each({slideDown:h("show",1),slideUp:h("hide",1),slideToggle:h("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},
fadeToggle:{opacity:"toggle"}},function(b,g){d.fn[b]=function(k,m,o){return this.animate(g,k,m,o)}});d.extend({speed:function(b,g,k){var m=b&&typeof b=="object"?d.extend({},b):{complete:k||!k&&g||d.isFunction(b)&&b,duration:b,easing:k&&g||g&&!d.isFunction(g)&&g};m.duration=d.fx.off?0:typeof m.duration=="number"?m.duration:m.duration in d.fx.speeds?d.fx.speeds[m.duration]:d.fx.speeds._default;m.old=m.complete;m.complete=function(o){d.isFunction(m.old)&&m.old.call(this);m.queue!==false?d.dequeue(this):
o!==false&&d._unmark(this)};return m},easing:{linear:function(b,g,k,m){return k+m*b},swing:function(b,g,k,m){return(-Math.cos(b*Math.PI)/2+0.5)*m+k}},timers:[],fx:function(b,g,k){this.options=g;this.elem=b;this.prop=k;g.orig=g.orig||{}}});d.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this);(d.fx.step[this.prop]||d.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null))return this.elem[this.prop];
var b,g=d.css(this.elem,this.prop);return isNaN(b=parseFloat(g))?!g||g==="auto"?0:g:b},custom:function(b,g,k){function m(z){return o.step(z)}var o=this,q=d.fx,t;this.startTime=Za||n();this.start=b;this.end=g;this.unit=k||this.unit||(d.cssNumber[this.prop]?"":"px");this.now=this.start;this.pos=this.state=0;m.elem=this.elem;m()&&d.timers.push(m)&&!Xa&&(lb?(Xa=true,t=function(){Xa&&(lb(t),q.tick())},lb(t)):(Xa=setInterval(q.tick,q.interval)))},show:function(){this.options.orig[this.prop]=d.style(this.elem,
this.prop);this.options.show=true;this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur());d(this.elem).show()},hide:function(){this.options.orig[this.prop]=d.style(this.elem,this.prop);this.options.hide=true;this.custom(this.cur(),0)},step:function(b){var g=Za||n(),k=true,m=this.elem,o=this.options,q,t;if(b||g>=o.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();o.animatedProperties[this.prop]=true;for(q in o.animatedProperties)o.animatedProperties[q]!==
true&&(k=false);if(k){o.overflow!=null&&!d.support.shrinkWrapBlocks&&d.each(["","X","Y"],function(E,G){m.style["overflow"+G]=o.overflow[E]});o.hide&&d(m).hide();if(o.hide||o.show)for(var z in o.animatedProperties)d.style(m,z,o.orig[z]);o.complete.call(m)}return false}o.duration==Infinity?(this.now=g):(t=g-this.startTime,this.state=t/o.duration,this.pos=d.easing[o.animatedProperties[this.prop]](this.state,t,0,1,o.duration),this.now=this.start+(this.end-this.start)*this.pos);this.update();return true}};
d.extend(d.fx,{tick:function(){for(var b=d.timers,g=0;g<b.length;++g)b[g]()||b.splice(g--,1);b.length||d.fx.stop()},interval:13,stop:function(){clearInterval(Xa);Xa=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(b){d.style(b.elem,"opacity",b.now)},_default:function(b){b.elem.style&&b.elem.style[b.prop]!=null?(b.elem.style[b.prop]=(b.prop==="width"||b.prop==="height"?Math.max(0,b.now):b.now)+b.unit):(b.elem[b.prop]=b.now)}}});d.expr&&d.expr.filters&&(d.expr.filters.animated=function(b){return d.grep(d.timers,
function(g){return b===g.elem}).length});var qc=/^t(?:able|d|h)$/i,Fb=/^(?:body|html)$/i;"getBoundingClientRect"in T.documentElement?(d.fn.offset=function(b){var g=this[0],k;if(b)return this.each(function(t){d.offset.setOffset(this,b,t)});if(!g||!g.ownerDocument)return null;if(g===g.ownerDocument.body)return d.offset.bodyOffset(g);try{k=g.getBoundingClientRect()}catch(m){}var o=g.ownerDocument,q=o.documentElement;if(!k||!d.contains(q,g))return k?{top:k.top,left:k.left}:{top:0,left:0};g=o.body;o=f(o);
return{top:k.top+(o.pageYOffset||d.support.boxModel&&q.scrollTop||g.scrollTop)-(q.clientTop||g.clientTop||0),left:k.left+(o.pageXOffset||d.support.boxModel&&q.scrollLeft||g.scrollLeft)-(q.clientLeft||g.clientLeft||0)}}):(d.fn.offset=function(b){var g=this[0];if(b)return this.each(function(N){d.offset.setOffset(this,b,N)});if(!g||!g.ownerDocument)return null;if(g===g.ownerDocument.body)return d.offset.bodyOffset(g);d.offset.initialize();var k,m=g.offsetParent,o=g,q=g.ownerDocument,t=q.documentElement,
z=q.body;k=(q=q.defaultView)?q.getComputedStyle(g,null):g.currentStyle;for(var E=g.offsetTop,G=g.offsetLeft;(g=g.parentNode)&&g!==z&&g!==t;){if(d.offset.supportsFixedPosition&&k.position==="fixed")break;k=q?q.getComputedStyle(g,null):g.currentStyle;E-=g.scrollTop;G-=g.scrollLeft;g===m&&(E+=g.offsetTop,G+=g.offsetLeft,d.offset.doesNotAddBorder&&(!d.offset.doesAddBorderForTableAndCells||!qc.test(g.nodeName))&&(E+=parseFloat(k.borderTopWidth)||0,G+=parseFloat(k.borderLeftWidth)||0),o=m,m=g.offsetParent);
d.offset.subtractsBorderForOverflowNotVisible&&k.overflow!=="visible"&&(E+=parseFloat(k.borderTopWidth)||0,G+=parseFloat(k.borderLeftWidth)||0);k=k}if(k.position==="relative"||k.position==="static"){E+=z.offsetTop;G+=z.offsetLeft}d.offset.supportsFixedPosition&&k.position==="fixed"&&(E+=Math.max(t.scrollTop,z.scrollTop),G+=Math.max(t.scrollLeft,z.scrollLeft));return{top:E,left:G}});d.offset={initialize:function(){var b=T.body,g=T.createElement("div"),k,m,o,q=parseFloat(d.css(b,"marginTop"))||0;d.extend(g.style,
{position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"});g.innerHTML="<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";b.insertBefore(g,b.firstChild);k=g.firstChild;m=k.firstChild;o=k.nextSibling.firstChild.firstChild;
this.doesNotAddBorder=m.offsetTop!==5;this.doesAddBorderForTableAndCells=o.offsetTop===5;m.style.position="fixed";m.style.top="20px";this.supportsFixedPosition=m.offsetTop===20||m.offsetTop===15;m.style.position=m.style.top="";k.style.overflow="hidden";k.style.position="relative";this.subtractsBorderForOverflowNotVisible=m.offsetTop===-5;this.doesNotIncludeMarginInBodyOffset=b.offsetTop!==q;b.removeChild(g);d.offset.initialize=d.noop},bodyOffset:function(b){var g=b.offsetTop,k=b.offsetLeft;d.offset.initialize();
d.offset.doesNotIncludeMarginInBodyOffset&&(g+=parseFloat(d.css(b,"marginTop"))||0,k+=parseFloat(d.css(b,"marginLeft"))||0);return{top:g,left:k}},setOffset:function(b,g,k){var m=d.css(b,"position");m==="static"&&(b.style.position="relative");var o=d(b),q=o.offset(),t=d.css(b,"top"),z=d.css(b,"left"),E={},G={},N,ba;(m==="absolute"||m==="fixed")&&d.inArray("auto",[t,z])>-1?(G=o.position(),N=G.top,ba=G.left):(N=parseFloat(t)||0,ba=parseFloat(z)||0);d.isFunction(g)&&(g=g.call(b,k,q));g.top!=null&&(E.top=
g.top-q.top+N);g.left!=null&&(E.left=g.left-q.left+ba);"using"in g?g.using.call(b,E):o.css(E)}};d.fn.extend({position:function(){if(!this[0])return null;var b=this[0],g=this.offsetParent(),k=this.offset(),m=Fb.test(g[0].nodeName)?{top:0,left:0}:g.offset();k.top-=parseFloat(d.css(b,"marginTop"))||0;k.left-=parseFloat(d.css(b,"marginLeft"))||0;m.top+=parseFloat(d.css(g[0],"borderTopWidth"))||0;m.left+=parseFloat(d.css(g[0],"borderLeftWidth"))||0;return{top:k.top-m.top,left:k.left-m.left}},offsetParent:function(){return this.map(function(){for(var b=
this.offsetParent||T.body;b&&!Fb.test(b.nodeName)&&d.css(b,"position")==="static";)b=b.offsetParent;return b})}});d.each(["Left","Top"],function(b,g){var k="scroll"+g;d.fn[k]=function(m){var o,q;if(m===a){o=this[0];if(!o)return null;return(q=f(o))?"pageXOffset"in q?q[b?"pageYOffset":"pageXOffset"]:d.support.boxModel&&q.document.documentElement[k]||q.document.body[k]:o[k]}return this.each(function(){(q=f(this))?q.scrollTo(b?d(q).scrollLeft():m,b?m:d(q).scrollTop()):(this[k]=m)})}});d.each(["Height",
"Width"],function(b,g){var k=g.toLowerCase();d.fn["inner"+g]=function(){var m=this[0];return m&&m.style?parseFloat(d.css(m,k,"padding")):null};d.fn["outer"+g]=function(m){var o=this[0];return o&&o.style?parseFloat(d.css(o,k,m?"margin":"border")):null};d.fn[k]=function(m){var o=this[0];if(!o)return m==null?null:this;if(d.isFunction(m))return this.each(function(t){var z=d(this);z[k](m.call(this,t,z[k]()))});if(d.isWindow(o)){var q=o.document.documentElement["client"+g];return o.document.compatMode===
"CSS1Compat"&&q||o.document.body["client"+g]||q}if(o.nodeType===9)return Math.max(o.documentElement["client"+g],o.body["scroll"+g],o.documentElement["scroll"+g],o.body["offset"+g],o.documentElement["offset"+g]);if(m===a){o=d.css(o,k);q=parseFloat(o);return d.isNaN(q)?o:q}return this.css(k,typeof m=="string"?m:m+"px")}});c.jQuery=c.$=d})(window);
(function(c,a){function f(h,l){var n=h.nodeName.toLowerCase();if("area"===n){n=h.parentNode;var v=n.name;if(!h.href||!v||n.nodeName.toLowerCase()!=="map")return false;n=c("img[usemap=#"+v+"]")[0];return!!n&&e(n)}return(/input|select|textarea|button|object/.test(n)?!h.disabled:"a"==n?h.href||l:l)&&e(h)}function e(h){return!c(h).parents().andSelf().filter(function(){return c.curCSS(this,"visibility")==="hidden"||c.expr.filters.hidden(this)}).length}c.ui=c.ui||{};if(!c.ui.version){c.extend(c.ui,{version:"1.8.16",
keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}});c.fn.extend({propAttr:c.fn.prop||c.fn.attr,_focus:c.fn.focus,focus:function(h,l){return typeof h==="number"?this.each(function(){var n=
this;setTimeout(function(){c(n).focus();l&&l.call(n)},h)}):this._focus.apply(this,arguments)},scrollParent:function(){var h;h=c.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(c.curCSS(this,"position",1))&&/(auto|scroll)/.test(c.curCSS(this,"overflow",1)+c.curCSS(this,"overflow-y",1)+c.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(c.curCSS(this,
"overflow",1)+c.curCSS(this,"overflow-y",1)+c.curCSS(this,"overflow-x",1))}).eq(0);return/fixed/.test(this.css("position"))||!h.length?c(document):h},zIndex:function(h){if(h!==a)return this.css("zIndex",h);if(this.length){h=c(this[0]);for(var l;h.length&&h[0]!==document;){l=h.css("position");if(l==="absolute"||l==="relative"||l==="fixed"){l=parseInt(h.css("zIndex"),10);if(!isNaN(l)&&l!==0)return l}h=h.parent()}}return 0},disableSelection:function(){return this.bind((c.support.selectstart?"selectstart":
"mousedown")+".ui-disableSelection",function(h){h.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});c.each(["Width","Height"],function(h,l){function n(O,P,X,ea){c.each(v,function(){P-=parseFloat(c.curCSS(O,"padding"+this,true))||0;if(X)P-=parseFloat(c.curCSS(O,"border"+this+"Width",true))||0;if(ea)P-=parseFloat(c.curCSS(O,"margin"+this,true))||0});return P}var v=l==="Width"?["Left","Right"]:["Top","Bottom"],D=l.toLowerCase(),C={innerWidth:c.fn.innerWidth,
innerHeight:c.fn.innerHeight,outerWidth:c.fn.outerWidth,outerHeight:c.fn.outerHeight};c.fn["inner"+l]=function(O){if(O===a)return C["inner"+l].call(this);return this.each(function(){c(this).css(D,n(this,O)+"px")})};c.fn["outer"+l]=function(O,P){if(typeof O!=="number")return C["outer"+l].call(this,O);return this.each(function(){c(this).css(D,n(this,O,true,P)+"px")})}});c.extend(c.expr[":"],{data:function(h,l,n){return!!c.data(h,n[3])},focusable:function(h){return f(h,!isNaN(c.attr(h,"tabindex")))},
tabbable:function(h){var l=c.attr(h,"tabindex"),n=isNaN(l);return(n||l>=0)&&f(h,!n)}});c(function(){var h=document.body,l=h.appendChild(l=document.createElement("div"));c.extend(l.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});c.support.minHeight=l.offsetHeight===100;c.support.selectstart="onselectstart"in l;h.removeChild(l).style.display="none"});c.extend(c.ui,{plugin:{add:function(h,l,n){h=c.ui[h].prototype;for(var v in n){h.plugins[v]=h.plugins[v]||[];h.plugins[v].push([l,n[v]])}},
call:function(h,l,n){if((l=h.plugins[l])&&h.element[0].parentNode)for(var v=0;v<l.length;v++)h.options[l[v][0]]&&l[v][1].apply(h.element,n)}},contains:function(h,l){return document.compareDocumentPosition?h.compareDocumentPosition(l)&16:h!==l&&h.contains(l)},hasScroll:function(h,l){if(c(h).css("overflow")==="hidden")return false;var n=l&&l==="left"?"scrollLeft":"scrollTop",v=false;if(h[n]>0)return true;h[n]=1;v=h[n]>0;h[n]=0;return v},isOverAxis:function(h,l,n){return h>l&&h<l+n},isOver:function(h,
l,n,v,D,C){return c.ui.isOverAxis(h,n,D)&&c.ui.isOverAxis(l,v,C)}})}})(jQuery);
(function(c,a){if(c.cleanData){var f=c.cleanData;c.cleanData=function(h){for(var l=0,n;(n=h[l])!=null;l++)try{c(n).triggerHandler("remove")}catch(v){}f(h)}}else{var e=c.fn.remove;c.fn.remove=function(h,l){return this.each(function(){if(!l)if(!h||c.filter(h,[this]).length)c("*",this).add([this]).each(function(){try{c(this).triggerHandler("remove")}catch(n){}});return e.call(c(this),h,l)})}}c.widget=function(h,l,n){var v=h.split(".")[0],D;h=h.split(".")[1];D=v+"-"+h;if(!n){n=l;l=c.Widget}c.expr[":"][D]=
function(C){return!!c.data(C,h)};c[v]=c[v]||{};c[v][h]=function(C,O){arguments.length&&this._createWidget(C,O)};l=new l;l.options=c.extend(true,{},l.options);c[v][h].prototype=c.extend(true,l,{namespace:v,widgetName:h,widgetEventPrefix:c[v][h].prototype.widgetEventPrefix||h,widgetBaseClass:D},n);c.widget.bridge(h,c[v][h])};c.widget.bridge=function(h,l){c.fn[h]=function(n){var v=typeof n==="string",D=Array.prototype.slice.call(arguments,1),C=this;n=!v&&D.length?c.extend.apply(null,[true,n].concat(D)):
n;if(v&&n.charAt(0)==="_")return C;v?this.each(function(){var O=c.data(this,h),P=O&&c.isFunction(O[n])?O[n].apply(O,D):O;if(P!==O&&P!==a){C=P;return false}}):this.each(function(){var O=c.data(this,h);O?O.option(n||{})._init():c.data(this,h,new l(n,this))});return C}};c.Widget=function(h,l){arguments.length&&this._createWidget(h,l)};c.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:false},_createWidget:function(h,l){c.data(l,this.widgetName,this);this.element=c(l);this.options=
c.extend(true,{},this.options,this._getCreateOptions(),h);var n=this;this.element.bind("remove."+this.widgetName,function(){n.destroy()});this._create();this._trigger("create");this._init()},_getCreateOptions:function(){return c.metadata&&c.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+
"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(h,l){var n=h;if(arguments.length===0)return c.extend({},this.options);if(typeof h==="string"){if(l===a)return this.options[h];n={};n[h]=l}this._setOptions(n);return this},_setOptions:function(h){var l=this;c.each(h,function(n,v){l._setOption(n,v)});return this},_setOption:function(h,l){this.options[h]=l;if(h==="disabled")this.widget()[l?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",
l);return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_trigger:function(h,l,n){var v=this.options[h];l=c.Event(l);l.type=(h===this.widgetEventPrefix?h:this.widgetEventPrefix+h).toLowerCase();n=n||{};if(l.originalEvent){h=c.event.props.length;for(var D;h;){D=c.event.props[--h];l[D]=l.originalEvent[D]}}this.element.trigger(l,n);return!(c.isFunction(v)&&v.call(this.element[0],l,n)===false||l.isDefaultPrevented())}}})(jQuery);
(function(c){var a=false;c(document).mouseup(function(){a=false});c.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var f=this;this.element.bind("mousedown."+this.widgetName,function(e){return f._mouseDown(e)}).bind("click."+this.widgetName,function(e){if(true===c.data(e.target,f.widgetName+".preventClickEvent")){c.removeData(e.target,f.widgetName+".preventClickEvent");e.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.unbind("."+
this.widgetName)},_mouseDown:function(f){if(!a){this._mouseStarted&&this._mouseUp(f);this._mouseDownEvent=f;var e=this,h=f.which==1,l=typeof this.options.cancel=="string"&&f.target.nodeName?c(f.target).closest(this.options.cancel).length:false;if(!h||l||!this._mouseCapture(f))return true;this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet)this._mouseDelayTimer=setTimeout(function(){e.mouseDelayMet=true},this.options.delay);if(this._mouseDistanceMet(f)&&this._mouseDelayMet(f)){this._mouseStarted=
this._mouseStart(f)!==false;if(!this._mouseStarted){f.preventDefault();return true}}true===c.data(f.target,this.widgetName+".preventClickEvent")&&c.removeData(f.target,this.widgetName+".preventClickEvent");this._mouseMoveDelegate=function(n){return e._mouseMove(n)};this._mouseUpDelegate=function(n){return e._mouseUp(n)};c(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);f.preventDefault();return a=true}},_mouseMove:function(f){if(c.browser.msie&&
!(document.documentMode>=9)&&!f.button)return this._mouseUp(f);if(this._mouseStarted){this._mouseDrag(f);return f.preventDefault()}if(this._mouseDistanceMet(f)&&this._mouseDelayMet(f))(this._mouseStarted=this._mouseStart(this._mouseDownEvent,f)!==false)?this._mouseDrag(f):this._mouseUp(f);return!this._mouseStarted},_mouseUp:function(f){c(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=
false;f.target==this._mouseDownEvent.target&&c.data(f.target,this.widgetName+".preventClickEvent",true);this._mouseStop(f)}return false},_mouseDistanceMet:function(f){return Math.max(Math.abs(this._mouseDownEvent.pageX-f.pageX),Math.abs(this._mouseDownEvent.pageY-f.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true}})})(jQuery);
(function(c){c.widget("ui.draggable",c.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false},_create:function(){if(this.options.helper==
"original"&&!/^(?:r|a|f)/.test(this.element.css("position")))this.element[0].style.position="relative";this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._mouseInit()},destroy:function(){if(this.element.data("draggable")){this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy();return this}},_mouseCapture:function(a){var f=
this.options;if(this.helper||f.disabled||c(a.target).is(".ui-resizable-handle"))return false;this.handle=this._getHandle(a);if(!this.handle)return false;if(f.iframeFix)c(f.iframeFix===true?"iframe":f.iframeFix).each(function(){c('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1E3}).css(c(this).offset()).appendTo("body")});return true},_mouseStart:function(a){var f=this.options;
this.helper=this._createHelper(a);this._cacheHelperProportions();if(c.ui.ddmanager)c.ui.ddmanager.current=this;this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};c.extend(this.offset,{click:{left:a.pageX-this.offset.left,top:a.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});
this.originalPosition=this.position=this._generatePosition(a);this.originalPageX=a.pageX;this.originalPageY=a.pageY;f.cursorAt&&this._adjustOffsetFromHelper(f.cursorAt);f.containment&&this._setContainment();if(this._trigger("start",a)===false){this._clear();return false}this._cacheHelperProportions();c.ui.ddmanager&&!f.dropBehaviour&&c.ui.ddmanager.prepareOffsets(this,a);this.helper.addClass("ui-draggable-dragging");this._mouseDrag(a,true);c.ui.ddmanager&&c.ui.ddmanager.dragStart(this,a);return true},
_mouseDrag:function(a,f){this.position=this._generatePosition(a);this.positionAbs=this._convertPositionTo("absolute");if(!f){var e=this._uiHash();if(this._trigger("drag",a,e)===false){this._mouseUp({});return false}this.position=e.position}if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";c.ui.ddmanager&&c.ui.ddmanager.drag(this,a);return false},_mouseStop:function(a){var f=
false;if(c.ui.ddmanager&&!this.options.dropBehaviour)f=c.ui.ddmanager.drop(this,a);if(this.dropped){f=this.dropped;this.dropped=false}if((!this.element[0]||!this.element[0].parentNode)&&this.options.helper=="original")return false;if(this.options.revert=="invalid"&&!f||this.options.revert=="valid"&&f||this.options.revert===true||c.isFunction(this.options.revert)&&this.options.revert.call(this.element,f)){var e=this;c(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,
10),function(){e._trigger("stop",a)!==false&&e._clear()})}else this._trigger("stop",a)!==false&&this._clear();return false},_mouseUp:function(a){this.options.iframeFix===true&&c("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)});c.ui.ddmanager&&c.ui.ddmanager.dragStop(this,a);return c.ui.mouse.prototype._mouseUp.call(this,a)},cancel:function(){this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear();return this},_getHandle:function(a){var f=!this.options.handle||
!c(this.options.handle,this.element).length?true:false;c(this.options.handle,this.element).find("*").andSelf().each(function(){if(this==a.target)f=true});return f},_createHelper:function(a){var f=this.options;a=c.isFunction(f.helper)?c(f.helper.apply(this.element[0],[a])):f.helper=="clone"?this.element.clone().removeAttr("id"):this.element;a.parents("body").length||a.appendTo(f.appendTo=="parent"?this.element[0].parentNode:f.appendTo);a[0]!=this.element[0]&&!/(fixed|absolute)/.test(a.css("position"))&&
a.css("position","absolute");return a},_adjustOffsetFromHelper:function(a){if(typeof a=="string")a=a.split(" ");if(c.isArray(a))a={left:+a[0],top:+a[1]||0};if("left"in a)this.offset.click.left=a.left+this.margins.left;if("right"in a)this.offset.click.left=this.helperProportions.width-a.right+this.margins.left;if("top"in a)this.offset.click.top=a.top+this.margins.top;if("bottom"in a)this.offset.click.top=this.helperProportions.height-a.bottom+this.margins.top},_getParentOffset:function(){this.offsetParent=
this.helper.offsetParent();var a=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&c.ui.contains(this.scrollParent[0],this.offsetParent[0])){a.left+=this.scrollParent.scrollLeft();a.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&c.browser.msie)a={top:0,left:0};return{top:a.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:a.left+(parseInt(this.offsetParent.css("borderLeftWidth"),
10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var a=this.element.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),
10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var a=this.options;if(a.containment=="parent")a.containment=this.helper[0].parentNode;if(a.containment=="document"||a.containment=="window")this.containment=[a.containment=="document"?0:c(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,a.containment=="document"?0:c(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,
(a.containment=="document"?0:c(window).scrollLeft())+c(a.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(a.containment=="document"?0:c(window).scrollTop())+(c(a.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(a.containment)&&a.containment.constructor!=Array){a=c(a.containment);var f=a[0];if(f){a.offset();var e=c(f).css("overflow")!=
"hidden";this.containment=[(parseInt(c(f).css("borderLeftWidth"),10)||0)+(parseInt(c(f).css("paddingLeft"),10)||0),(parseInt(c(f).css("borderTopWidth"),10)||0)+(parseInt(c(f).css("paddingTop"),10)||0),(e?Math.max(f.scrollWidth,f.offsetWidth):f.offsetWidth)-(parseInt(c(f).css("borderLeftWidth"),10)||0)-(parseInt(c(f).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(f.scrollHeight,f.offsetHeight):f.offsetHeight)-(parseInt(c(f).css("borderTopWidth"),
10)||0)-(parseInt(c(f).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom];this.relative_container=a}}else if(a.containment.constructor==Array)this.containment=a.containment},_convertPositionTo:function(a,f){if(!f)f=this.position;var e=a=="absolute"?1:-1,h=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&c.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,l=/(html|body)/i.test(h[0].tagName);return{top:f.top+
this.offset.relative.top*e+this.offset.parent.top*e-(c.browser.safari&&c.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():l?0:h.scrollTop())*e),left:f.left+this.offset.relative.left*e+this.offset.parent.left*e-(c.browser.safari&&c.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():l?0:h.scrollLeft())*e)}},_generatePosition:function(a){var f=this.options,e=this.cssPosition=="absolute"&&
!(this.scrollParent[0]!=document&&c.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,h=/(html|body)/i.test(e[0].tagName),l=a.pageX,n=a.pageY;if(this.originalPosition){var v;if(this.containment){if(this.relative_container){v=this.relative_container.offset();v=[this.containment[0]+v.left,this.containment[1]+v.top,this.containment[2]+v.left,this.containment[3]+v.top]}else v=this.containment;if(a.pageX-this.offset.click.left<v[0])l=v[0]+this.offset.click.left;
if(a.pageY-this.offset.click.top<v[1])n=v[1]+this.offset.click.top;if(a.pageX-this.offset.click.left>v[2])l=v[2]+this.offset.click.left;if(a.pageY-this.offset.click.top>v[3])n=v[3]+this.offset.click.top}if(f.grid){n=f.grid[1]?this.originalPageY+Math.round((n-this.originalPageY)/f.grid[1])*f.grid[1]:this.originalPageY;n=v?!(n-this.offset.click.top<v[1]||n-this.offset.click.top>v[3])?n:!(n-this.offset.click.top<v[1])?n-f.grid[1]:n+f.grid[1]:n;l=f.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/
f.grid[0])*f.grid[0]:this.originalPageX;l=v?!(l-this.offset.click.left<v[0]||l-this.offset.click.left>v[2])?l:!(l-this.offset.click.left<v[0])?l-f.grid[0]:l+f.grid[0]:l}}return{top:n-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(c.browser.safari&&c.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():h?0:e.scrollTop()),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(c.browser.safari&&c.browser.version<
526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():h?0:e.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove();this.helper=null;this.cancelHelperRemoval=false},_trigger:function(a,f,e){e=e||this._uiHash();c.ui.plugin.call(this,a,[f,e]);if(a=="drag")this.positionAbs=this._convertPositionTo("absolute");return c.Widget.prototype._trigger.call(this,a,f,
e)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});c.extend(c.ui.draggable,{version:"1.8.16"});c.ui.plugin.add("draggable","connectToSortable",{start:function(a,f){var e=c(this).data("draggable"),h=e.options,l=c.extend({},f,{item:e.element});e.sortables=[];c(h.connectToSortable).each(function(){var n=c.data(this,"sortable");if(n&&!n.options.disabled){e.sortables.push({instance:n,shouldRevert:n.options.revert});
n.refreshPositions();n._trigger("activate",a,l)}})},stop:function(a,f){var e=c(this).data("draggable"),h=c.extend({},f,{item:e.element});c.each(e.sortables,function(){if(this.instance.isOver){this.instance.isOver=0;e.cancelHelperRemoval=true;this.instance.cancelHelperRemoval=false;if(this.shouldRevert)this.instance.options.revert=true;this.instance._mouseStop(a);this.instance.options.helper=this.instance.options._helper;e.options.helper=="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})}else{this.instance.cancelHelperRemoval=
false;this.instance._trigger("deactivate",a,h)}})},drag:function(a,f){var e=c(this).data("draggable"),h=this;c.each(e.sortables,function(){this.instance.positionAbs=e.positionAbs;this.instance.helperProportions=e.helperProportions;this.instance.offset.click=e.offset.click;if(this.instance._intersectsWith(this.instance.containerCache)){if(!this.instance.isOver){this.instance.isOver=1;this.instance.currentItem=c(h).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",true);
this.instance.options._helper=this.instance.options.helper;this.instance.options.helper=function(){return f.helper[0]};a.target=this.instance.currentItem[0];this.instance._mouseCapture(a,true);this.instance._mouseStart(a,true,true);this.instance.offset.click.top=e.offset.click.top;this.instance.offset.click.left=e.offset.click.left;this.instance.offset.parent.left-=e.offset.parent.left-this.instance.offset.parent.left;this.instance.offset.parent.top-=e.offset.parent.top-this.instance.offset.parent.top;
e._trigger("toSortable",a);e.dropped=this.instance.element;e.currentItem=e.element;this.instance.fromOutside=e}this.instance.currentItem&&this.instance._mouseDrag(a)}else if(this.instance.isOver){this.instance.isOver=0;this.instance.cancelHelperRemoval=true;this.instance.options.revert=false;this.instance._trigger("out",a,this.instance._uiHash(this.instance));this.instance._mouseStop(a,true);this.instance.options.helper=this.instance.options._helper;this.instance.currentItem.remove();this.instance.placeholder&&
this.instance.placeholder.remove();e._trigger("fromSortable",a);e.dropped=false}})}});c.ui.plugin.add("draggable","cursor",{start:function(){var a=c("body"),f=c(this).data("draggable").options;if(a.css("cursor"))f._cursor=a.css("cursor");a.css("cursor",f.cursor)},stop:function(){var a=c(this).data("draggable").options;a._cursor&&c("body").css("cursor",a._cursor)}});c.ui.plugin.add("draggable","opacity",{start:function(a,f){var e=c(f.helper),h=c(this).data("draggable").options;if(e.css("opacity"))h._opacity=
e.css("opacity");e.css("opacity",h.opacity)},stop:function(a,f){var e=c(this).data("draggable").options;e._opacity&&c(f.helper).css("opacity",e._opacity)}});c.ui.plugin.add("draggable","scroll",{start:function(){var a=c(this).data("draggable");if(a.scrollParent[0]!=document&&a.scrollParent[0].tagName!="HTML")a.overflowOffset=a.scrollParent.offset()},drag:function(a){var f=c(this).data("draggable"),e=f.options,h=false;if(f.scrollParent[0]!=document&&f.scrollParent[0].tagName!="HTML"){if(!e.axis||e.axis!=
"x")if(f.overflowOffset.top+f.scrollParent[0].offsetHeight-a.pageY<e.scrollSensitivity)f.scrollParent[0].scrollTop=h=f.scrollParent[0].scrollTop+e.scrollSpeed;else if(a.pageY-f.overflowOffset.top<e.scrollSensitivity)f.scrollParent[0].scrollTop=h=f.scrollParent[0].scrollTop-e.scrollSpeed;if(!e.axis||e.axis!="y")if(f.overflowOffset.left+f.scrollParent[0].offsetWidth-a.pageX<e.scrollSensitivity)f.scrollParent[0].scrollLeft=h=f.scrollParent[0].scrollLeft+e.scrollSpeed;else if(a.pageX-f.overflowOffset.left<
e.scrollSensitivity)f.scrollParent[0].scrollLeft=h=f.scrollParent[0].scrollLeft-e.scrollSpeed}else{if(!e.axis||e.axis!="x")if(a.pageY-c(document).scrollTop()<e.scrollSensitivity)h=c(document).scrollTop(c(document).scrollTop()-e.scrollSpeed);else if(c(window).height()-(a.pageY-c(document).scrollTop())<e.scrollSensitivity)h=c(document).scrollTop(c(document).scrollTop()+e.scrollSpeed);if(!e.axis||e.axis!="y")if(a.pageX-c(document).scrollLeft()<e.scrollSensitivity)h=c(document).scrollLeft(c(document).scrollLeft()-
e.scrollSpeed);else if(c(window).width()-(a.pageX-c(document).scrollLeft())<e.scrollSensitivity)h=c(document).scrollLeft(c(document).scrollLeft()+e.scrollSpeed)}h!==false&&c.ui.ddmanager&&!e.dropBehaviour&&c.ui.ddmanager.prepareOffsets(f,a)}});c.ui.plugin.add("draggable","snap",{start:function(){var a=c(this).data("draggable"),f=a.options;a.snapElements=[];c(f.snap.constructor!=String?f.snap.items||":data(draggable)":f.snap).each(function(){var e=c(this),h=e.offset();this!=a.element[0]&&a.snapElements.push({item:this,
width:e.outerWidth(),height:e.outerHeight(),top:h.top,left:h.left})})},drag:function(a,f){for(var e=c(this).data("draggable"),h=e.options,l=h.snapTolerance,n=f.offset.left,v=n+e.helperProportions.width,D=f.offset.top,C=D+e.helperProportions.height,O=e.snapElements.length-1;O>=0;O--){var P=e.snapElements[O].left,X=P+e.snapElements[O].width,ea=e.snapElements[O].top,ma=ea+e.snapElements[O].height;if(P-l<n&&n<X+l&&ea-l<D&&D<ma+l||P-l<n&&n<X+l&&ea-l<C&&C<ma+l||P-l<v&&v<X+l&&ea-l<D&&D<ma+l||P-l<v&&v<X+
l&&ea-l<C&&C<ma+l){if(h.snapMode!="inner"){var r=Math.abs(ea-C)<=l,u=Math.abs(ma-D)<=l,A=Math.abs(P-v)<=l,H=Math.abs(X-n)<=l;if(r)f.position.top=e._convertPositionTo("relative",{top:ea-e.helperProportions.height,left:0}).top-e.margins.top;if(u)f.position.top=e._convertPositionTo("relative",{top:ma,left:0}).top-e.margins.top;if(A)f.position.left=e._convertPositionTo("relative",{top:0,left:P-e.helperProportions.width}).left-e.margins.left;if(H)f.position.left=e._convertPositionTo("relative",{top:0,
left:X}).left-e.margins.left}var Z=r||u||A||H;if(h.snapMode!="outer"){r=Math.abs(ea-D)<=l;u=Math.abs(ma-C)<=l;A=Math.abs(P-n)<=l;H=Math.abs(X-v)<=l;if(r)f.position.top=e._convertPositionTo("relative",{top:ea,left:0}).top-e.margins.top;if(u)f.position.top=e._convertPositionTo("relative",{top:ma-e.helperProportions.height,left:0}).top-e.margins.top;if(A)f.position.left=e._convertPositionTo("relative",{top:0,left:P}).left-e.margins.left;if(H)f.position.left=e._convertPositionTo("relative",{top:0,left:X-
e.helperProportions.width}).left-e.margins.left}if(!e.snapElements[O].snapping&&(r||u||A||H||Z))e.options.snap.snap&&e.options.snap.snap.call(e.element,a,c.extend(e._uiHash(),{snapItem:e.snapElements[O].item}));e.snapElements[O].snapping=r||u||A||H||Z}else{e.snapElements[O].snapping&&e.options.snap.release&&e.options.snap.release.call(e.element,a,c.extend(e._uiHash(),{snapItem:e.snapElements[O].item}));e.snapElements[O].snapping=false}}}});c.ui.plugin.add("draggable","stack",{start:function(){var a=
c(this).data("draggable").options;a=c.makeArray(c(a.stack)).sort(function(e,h){return(parseInt(c(e).css("zIndex"),10)||0)-(parseInt(c(h).css("zIndex"),10)||0)});if(a.length){var f=parseInt(a[0].style.zIndex)||0;c(a).each(function(e){this.style.zIndex=f+e});this[0].style.zIndex=f+a.length}}});c.ui.plugin.add("draggable","zIndex",{start:function(a,f){var e=c(f.helper),h=c(this).data("draggable").options;if(e.css("zIndex"))h._zIndex=e.css("zIndex");e.css("zIndex",h.zIndex)},stop:function(a,f){var e=
c(this).data("draggable").options;e._zIndex&&c(f.helper).css("zIndex",e._zIndex)}})})(jQuery);
(function(c){c.widget("ui.droppable",{widgetEventPrefix:"drop",options:{accept:"*",activeClass:false,addClasses:true,greedy:false,hoverClass:false,scope:"default",tolerance:"intersect"},_create:function(){var a=this.options,f=a.accept;this.isover=0;this.isout=1;this.accept=c.isFunction(f)?f:function(e){return e.is(f)};this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};c.ui.ddmanager.droppables[a.scope]=c.ui.ddmanager.droppables[a.scope]||[];c.ui.ddmanager.droppables[a.scope].push(this);
a.addClasses&&this.element.addClass("ui-droppable")},destroy:function(){for(var a=c.ui.ddmanager.droppables[this.options.scope],f=0;f<a.length;f++)a[f]==this&&a.splice(f,1);this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable");return this},_setOption:function(a,f){if(a=="accept")this.accept=c.isFunction(f)?f:function(e){return e.is(f)};c.Widget.prototype._setOption.apply(this,arguments)},_activate:function(a){var f=c.ui.ddmanager.current;this.options.activeClass&&
this.element.addClass(this.options.activeClass);f&&this._trigger("activate",a,this.ui(f))},_deactivate:function(a){var f=c.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass);f&&this._trigger("deactivate",a,this.ui(f))},_over:function(a){var f=c.ui.ddmanager.current;if(!(!f||(f.currentItem||f.element)[0]==this.element[0]))if(this.accept.call(this.element[0],f.currentItem||f.element)){this.options.hoverClass&&this.element.addClass(this.options.hoverClass);
this._trigger("over",a,this.ui(f))}},_out:function(a){var f=c.ui.ddmanager.current;if(!(!f||(f.currentItem||f.element)[0]==this.element[0]))if(this.accept.call(this.element[0],f.currentItem||f.element)){this.options.hoverClass&&this.element.removeClass(this.options.hoverClass);this._trigger("out",a,this.ui(f))}},_drop:function(a,f){var e=f||c.ui.ddmanager.current;if(!e||(e.currentItem||e.element)[0]==this.element[0])return false;var h=false;this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var l=
c.data(this,"droppable");if(l.options.greedy&&!l.options.disabled&&l.options.scope==e.options.scope&&l.accept.call(l.element[0],e.currentItem||e.element)&&c.ui.intersect(e,c.extend(l,{offset:l.element.offset()}),l.options.tolerance)){h=true;return false}});if(h)return false;if(this.accept.call(this.element[0],e.currentItem||e.element)){this.options.activeClass&&this.element.removeClass(this.options.activeClass);this.options.hoverClass&&this.element.removeClass(this.options.hoverClass);this._trigger("drop",
a,this.ui(e));return this.element}return false},ui:function(a){return{draggable:a.currentItem||a.element,helper:a.helper,position:a.position,offset:a.positionAbs}}});c.extend(c.ui.droppable,{version:"1.8.16"});c.ui.intersect=function(a,f,e){if(!f.offset)return false;var h=(a.positionAbs||a.position.absolute).left,l=h+a.helperProportions.width,n=(a.positionAbs||a.position.absolute).top,v=n+a.helperProportions.height,D=f.offset.left,C=D+f.proportions.width,O=f.offset.top,P=O+f.proportions.height;switch(e){case "fit":return D<=
h&&l<=C&&O<=n&&v<=P;case "intersect":return D<h+a.helperProportions.width/2&&l-a.helperProportions.width/2<C&&O<n+a.helperProportions.height/2&&v-a.helperProportions.height/2<P;case "pointer":return c.ui.isOver((a.positionAbs||a.position.absolute).top+(a.clickOffset||a.offset.click).top,(a.positionAbs||a.position.absolute).left+(a.clickOffset||a.offset.click).left,O,D,f.proportions.height,f.proportions.width);case "touch":return(n>=O&&n<=P||v>=O&&v<=P||n<O&&v>P)&&(h>=D&&h<=C||l>=D&&l<=C||h<D&&l>C);
default:return false}};c.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(a,f){var e=c.ui.ddmanager.droppables[a.options.scope]||[],h=f?f.type:null,l=(a.currentItem||a.element).find(":data(droppable)").andSelf(),n=0;a:for(;n<e.length;n++)if(!(e[n].options.disabled||a&&!e[n].accept.call(e[n].element[0],a.currentItem||a.element))){for(var v=0;v<l.length;v++)if(l[v]==e[n].element[0]){e[n].proportions.height=0;continue a}e[n].visible=e[n].element.css("display")!="none";if(e[n].visible){h==
"mousedown"&&e[n]._activate.call(e[n],f);e[n].offset=e[n].element.offset();e[n].proportions={width:e[n].element[0].offsetWidth,height:e[n].element[0].offsetHeight}}}},drop:function(a,f){var e=false;c.each(c.ui.ddmanager.droppables[a.options.scope]||[],function(){if(this.options){if(!this.options.disabled&&this.visible&&c.ui.intersect(a,this,this.options.tolerance))e=e||this._drop.call(this,f);if(!this.options.disabled&&this.visible&&this.accept.call(this.element[0],a.currentItem||a.element)){this.isout=
1;this.isover=0;this._deactivate.call(this,f)}}});return e},dragStart:function(a,f){a.element.parents(":not(body,html)").bind("scroll.droppable",function(){a.options.refreshPositions||c.ui.ddmanager.prepareOffsets(a,f)})},drag:function(a,f){a.options.refreshPositions&&c.ui.ddmanager.prepareOffsets(a,f);c.each(c.ui.ddmanager.droppables[a.options.scope]||[],function(){if(!(this.options.disabled||this.greedyChild||!this.visible)){var e=c.ui.intersect(a,this,this.options.tolerance);if(e=!e&&this.isover==
1?"isout":e&&this.isover==0?"isover":null){var h;if(this.options.greedy){var l=this.element.parents(":data(droppable):eq(0)");if(l.length){h=c.data(l[0],"droppable");h.greedyChild=e=="isover"?1:0}}if(h&&e=="isover"){h.isover=0;h.isout=1;h._out.call(h,f)}this[e]=1;this[e=="isout"?"isover":"isout"]=0;this[e=="isover"?"_over":"_out"].call(this,f);if(h&&e=="isout"){h.isout=0;h.isover=1;h._over.call(h,f)}}}})},dragStop:function(a,f){a.element.parents(":not(body,html)").unbind("scroll.droppable");a.options.refreshPositions||
c.ui.ddmanager.prepareOffsets(a,f)}}})(jQuery);
(function(c){c.widget("ui.resizable",c.ui.mouse,{widgetEventPrefix:"resize",options:{alsoResize:false,animate:false,animateDuration:"slow",animateEasing:"swing",aspectRatio:false,autoHide:false,containment:false,ghost:false,grid:false,handles:"e,s,se",helper:false,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1E3},_create:function(){var e=this,h=this.options;this.element.addClass("ui-resizable");c.extend(this,{_aspectRatio:!!h.aspectRatio,aspectRatio:h.aspectRatio,originalElement:this.element,
_proportionallyResizeElements:[],_helper:h.helper||h.ghost||h.animate?h.helper||"ui-resizable-helper":null});if(this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)){/relative/.test(this.element.css("position"))&&c.browser.opera&&this.element.css({position:"relative",top:"auto",left:"auto"});this.element.wrap(c('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),
top:this.element.css("top"),left:this.element.css("left")}));this.element=this.element.parent().data("resizable",this.element.data("resizable"));this.elementIsWrapper=true;this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")});this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0});this.originalResizeStyle=
this.originalElement.css("resize");this.originalElement.css("resize","none");this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"}));this.originalElement.css({margin:this.originalElement.css("margin")});this._proportionallyResize()}this.handles=h.handles||(!c(".ui-resizable-handle",this.element).length?"e,s,se":{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",
nw:".ui-resizable-nw"});if(this.handles.constructor==String){if(this.handles=="all")this.handles="n,e,s,w,se,sw,ne,nw";var l=this.handles.split(",");this.handles={};for(var n=0;n<l.length;n++){var v=c.trim(l[n]),D=c('<div class="ui-resizable-handle '+("ui-resizable-"+v)+'"></div>');/sw|se|ne|nw/.test(v)&&D.css({zIndex:++h.zIndex});"se"==v&&D.addClass("ui-icon ui-icon-gripsmall-diagonal-se");this.handles[v]=".ui-resizable-"+v;this.element.append(D)}}this._renderAxis=function(C){C=C||this.element;for(var O in this.handles){if(this.handles[O].constructor==
String)this.handles[O]=c(this.handles[O],this.element).show();if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var P=c(this.handles[O],this.element),X=0;X=/sw|ne|nw|se|n|s/.test(O)?P.outerHeight():P.outerWidth();P=["padding",/ne|nw|n/.test(O)?"Top":/se|sw|s/.test(O)?"Bottom":/^e$/.test(O)?"Right":"Left"].join("");C.css(P,X);this._proportionallyResize()}c(this.handles[O])}};this._renderAxis(this.element);this._handles=c(".ui-resizable-handle",this.element).disableSelection();
this._handles.mouseover(function(){if(!e.resizing){if(this.className)var C=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);e.axis=C&&C[1]?C[1]:"se"}});if(h.autoHide){this._handles.hide();c(this.element).addClass("ui-resizable-autohide").hover(function(){if(!h.disabled){c(this).removeClass("ui-resizable-autohide");e._handles.show()}},function(){if(!h.disabled)if(!e.resizing){c(this).addClass("ui-resizable-autohide");e._handles.hide()}})}this._mouseInit()},destroy:function(){this._mouseDestroy();
var e=function(l){c(l).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){e(this.element);var h=this.element;h.after(this.originalElement.css({position:h.css("position"),width:h.outerWidth(),height:h.outerHeight(),top:h.css("top"),left:h.css("left")})).remove()}this.originalElement.css("resize",this.originalResizeStyle);e(this.originalElement);return this},_mouseCapture:function(e){var h=
false;for(var l in this.handles)if(c(this.handles[l])[0]==e.target)h=true;return!this.options.disabled&&h},_mouseStart:function(e){var h=this.options,l=this.element.position(),n=this.element;this.resizing=true;this.documentScroll={top:c(document).scrollTop(),left:c(document).scrollLeft()};if(n.is(".ui-draggable")||/absolute/.test(n.css("position")))n.css({position:"absolute",top:l.top,left:l.left});c.browser.opera&&/relative/.test(n.css("position"))&&n.css({position:"relative",top:"auto",left:"auto"});
this._renderProxy();l=a(this.helper.css("left"));var v=a(this.helper.css("top"));if(h.containment){l+=c(h.containment).scrollLeft()||0;v+=c(h.containment).scrollTop()||0}this.offset=this.helper.offset();this.position={left:l,top:v};this.size=this._helper?{width:n.outerWidth(),height:n.outerHeight()}:{width:n.width(),height:n.height()};this.originalSize=this._helper?{width:n.outerWidth(),height:n.outerHeight()}:{width:n.width(),height:n.height()};this.originalPosition={left:l,top:v};this.sizeDiff=
{width:n.outerWidth()-n.width(),height:n.outerHeight()-n.height()};this.originalMousePosition={left:e.pageX,top:e.pageY};this.aspectRatio=typeof h.aspectRatio=="number"?h.aspectRatio:this.originalSize.width/this.originalSize.height||1;h=c(".ui-resizable-"+this.axis).css("cursor");c("body").css("cursor",h=="auto"?this.axis+"-resize":h);n.addClass("ui-resizable-resizing");this._propagate("start",e);return true},_mouseDrag:function(e){var h=this.helper,l=this.originalMousePosition,n=this._change[this.axis];
if(!n)return false;l=n.apply(this,[e,e.pageX-l.left||0,e.pageY-l.top||0]);this._updateVirtualBoundaries(e.shiftKey);if(this._aspectRatio||e.shiftKey)l=this._updateRatio(l,e);l=this._respectSize(l,e);this._propagate("resize",e);h.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"});!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize();this._updateCache(l);this._trigger("resize",e,this.ui());return false},
_mouseStop:function(e){this.resizing=false;var h=this.options;if(this._helper){var l=this._proportionallyResizeElements,n=l.length&&/textarea/i.test(l[0].nodeName);l=n&&c.ui.hasScroll(l[0],"left")?0:this.sizeDiff.height;n=n?0:this.sizeDiff.width;n={width:this.helper.width()-n,height:this.helper.height()-l};l=parseInt(this.element.css("left"),10)+(this.position.left-this.originalPosition.left)||null;var v=parseInt(this.element.css("top"),10)+(this.position.top-this.originalPosition.top)||null;h.animate||
this.element.css(c.extend(n,{top:v,left:l}));this.helper.height(this.size.height);this.helper.width(this.size.width);this._helper&&!h.animate&&this._proportionallyResize()}c("body").css("cursor","auto");this.element.removeClass("ui-resizable-resizing");this._propagate("stop",e);this._helper&&this.helper.remove();return false},_updateVirtualBoundaries:function(e){var h=this.options,l,n,v;h={minWidth:f(h.minWidth)?h.minWidth:0,maxWidth:f(h.maxWidth)?h.maxWidth:Infinity,minHeight:f(h.minHeight)?h.minHeight:
0,maxHeight:f(h.maxHeight)?h.maxHeight:Infinity};if(this._aspectRatio||e){e=h.minHeight*this.aspectRatio;n=h.minWidth/this.aspectRatio;l=h.maxHeight*this.aspectRatio;v=h.maxWidth/this.aspectRatio;if(e>h.minWidth)h.minWidth=e;if(n>h.minHeight)h.minHeight=n;if(l<h.maxWidth)h.maxWidth=l;if(v<h.maxHeight)h.maxHeight=v}this._vBoundaries=h},_updateCache:function(e){this.offset=this.helper.offset();if(f(e.left))this.position.left=e.left;if(f(e.top))this.position.top=e.top;if(f(e.height))this.size.height=
e.height;if(f(e.width))this.size.width=e.width},_updateRatio:function(e){var h=this.position,l=this.size,n=this.axis;if(f(e.height))e.width=e.height*this.aspectRatio;else if(f(e.width))e.height=e.width/this.aspectRatio;if(n=="sw"){e.left=h.left+(l.width-e.width);e.top=null}if(n=="nw"){e.top=h.top+(l.height-e.height);e.left=h.left+(l.width-e.width)}return e},_respectSize:function(e){var h=this._vBoundaries,l=this.axis,n=f(e.width)&&h.maxWidth&&h.maxWidth<e.width,v=f(e.height)&&h.maxHeight&&h.maxHeight<
e.height,D=f(e.width)&&h.minWidth&&h.minWidth>e.width,C=f(e.height)&&h.minHeight&&h.minHeight>e.height;if(D)e.width=h.minWidth;if(C)e.height=h.minHeight;if(n)e.width=h.maxWidth;if(v)e.height=h.maxHeight;var O=this.originalPosition.left+this.originalSize.width,P=this.position.top+this.size.height,X=/sw|nw|w/.test(l);l=/nw|ne|n/.test(l);if(D&&X)e.left=O-h.minWidth;if(n&&X)e.left=O-h.maxWidth;if(C&&l)e.top=P-h.minHeight;if(v&&l)e.top=P-h.maxHeight;if((h=!e.width&&!e.height)&&!e.left&&e.top)e.top=null;
else if(h&&!e.top&&e.left)e.left=null;return e},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e=this.helper||this.element,h=0;h<this._proportionallyResizeElements.length;h++){var l=this._proportionallyResizeElements[h];if(!this.borderDif){var n=[l.css("borderTopWidth"),l.css("borderRightWidth"),l.css("borderBottomWidth"),l.css("borderLeftWidth")],v=[l.css("paddingTop"),l.css("paddingRight"),l.css("paddingBottom"),l.css("paddingLeft")];this.borderDif=c.map(n,
function(D,C){var O=parseInt(D,10)||0,P=parseInt(v[C],10)||0;return O+P})}c.browser.msie&&(c(e).is(":hidden")||c(e).parents(":hidden").length)||l.css({height:e.height()-this.borderDif[0]-this.borderDif[2]||0,width:e.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var e=this.options;this.elementOffset=this.element.offset();if(this._helper){this.helper=this.helper||c('<div style="overflow:hidden;"></div>');var h=c.browser.msie&&c.browser.version<7,l=h?1:0;h=h?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+
h,height:this.element.outerHeight()+h,position:"absolute",left:this.elementOffset.left-l+"px",top:this.elementOffset.top-l+"px",zIndex:++e.zIndex});this.helper.appendTo("body").disableSelection()}else this.helper=this.element},_change:{e:function(e,h){return{width:this.originalSize.width+h}},w:function(e,h){return{left:this.originalPosition.left+h,width:this.originalSize.width-h}},n:function(e,h,l){return{top:this.originalPosition.top+l,height:this.originalSize.height-l}},s:function(e,h,l){return{height:this.originalSize.height+
l}},se:function(e,h,l){return c.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,h,l]))},sw:function(e,h,l){return c.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,h,l]))},ne:function(e,h,l){return c.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,h,l]))},nw:function(e,h,l){return c.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,h,l]))}},_propagate:function(e,h){c.ui.plugin.call(this,e,[h,this.ui()]);
e!="resize"&&this._trigger(e,h,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});c.extend(c.ui.resizable,{version:"1.8.16"});c.ui.plugin.add("resizable","alsoResize",{start:function(){var e=c(this).data("resizable").options,h=function(l){c(l).each(function(){var n=c(this);n.data("resizable-alsoresize",{width:parseInt(n.width(),
10),height:parseInt(n.height(),10),left:parseInt(n.css("left"),10),top:parseInt(n.css("top"),10),position:n.css("position")})})};if(typeof e.alsoResize=="object"&&!e.alsoResize.parentNode)if(e.alsoResize.length){e.alsoResize=e.alsoResize[0];h(e.alsoResize)}else c.each(e.alsoResize,function(l){h(l)});else h(e.alsoResize)},resize:function(e,h){var l=c(this).data("resizable"),n=l.options,v=l.originalSize,D=l.originalPosition,C={height:l.size.height-v.height||0,width:l.size.width-v.width||0,top:l.position.top-
D.top||0,left:l.position.left-D.left||0},O=function(P,X){c(P).each(function(){var ea=c(this),ma=c(this).data("resizable-alsoresize"),r={},u=X&&X.length?X:ea.parents(h.originalElement[0]).length?["width","height"]:["width","height","top","left"];c.each(u,function(A,H){var Z=(ma[H]||0)+(C[H]||0);if(Z&&Z>=0)r[H]=Z||null});if(c.browser.opera&&/relative/.test(ea.css("position"))){l._revertToRelativePosition=true;ea.css({position:"absolute",top:"auto",left:"auto"})}ea.css(r)})};typeof n.alsoResize=="object"&&
!n.alsoResize.nodeType?c.each(n.alsoResize,function(P,X){O(P,X)}):O(n.alsoResize)},stop:function(){var e=c(this).data("resizable"),h=e.options,l=function(n){c(n).each(function(){var v=c(this);v.css({position:v.data("resizable-alsoresize").position})})};if(e._revertToRelativePosition){e._revertToRelativePosition=false;typeof h.alsoResize=="object"&&!h.alsoResize.nodeType?c.each(h.alsoResize,function(n){l(n)}):l(h.alsoResize)}c(this).removeData("resizable-alsoresize")}});c.ui.plugin.add("resizable",
"animate",{stop:function(e){var h=c(this).data("resizable"),l=h.options,n=h._proportionallyResizeElements,v=n.length&&/textarea/i.test(n[0].nodeName),D=v&&c.ui.hasScroll(n[0],"left")?0:h.sizeDiff.height;v={width:h.size.width-(v?0:h.sizeDiff.width),height:h.size.height-D};D=parseInt(h.element.css("left"),10)+(h.position.left-h.originalPosition.left)||null;var C=parseInt(h.element.css("top"),10)+(h.position.top-h.originalPosition.top)||null;h.element.animate(c.extend(v,C&&D?{top:C,left:D}:{}),{duration:l.animateDuration,
easing:l.animateEasing,step:function(){var O={width:parseInt(h.element.css("width"),10),height:parseInt(h.element.css("height"),10),top:parseInt(h.element.css("top"),10),left:parseInt(h.element.css("left"),10)};n&&n.length&&c(n[0]).css({width:O.width,height:O.height});h._updateCache(O);h._propagate("resize",e)}})}});c.ui.plugin.add("resizable","containment",{start:function(){var e=c(this).data("resizable"),h=e.element,l=e.options.containment;if(h=l instanceof c?l.get(0):/parent/.test(l)?h.parent().get(0):
l){e.containerElement=c(h);if(/document/.test(l)||l==document){e.containerOffset={left:0,top:0};e.containerPosition={left:0,top:0};e.parentData={element:c(document),left:0,top:0,width:c(document).width(),height:c(document).height()||document.body.parentNode.scrollHeight}}else{var n=c(h),v=[];c(["Top","Right","Left","Bottom"]).each(function(O,P){v[O]=a(n.css("padding"+P))});e.containerOffset=n.offset();e.containerPosition=n.position();e.containerSize={height:n.innerHeight()-v[3],width:n.innerWidth()-
v[1]};l=e.containerOffset;var D=e.containerSize.height,C=e.containerSize.width;C=c.ui.hasScroll(h,"left")?h.scrollWidth:C;D=c.ui.hasScroll(h)?h.scrollHeight:D;e.parentData={element:h,left:l.left,top:l.top,width:C,height:D}}}},resize:function(e){var h=c(this).data("resizable"),l=h.options,n=h.containerOffset,v=h.position;e=h._aspectRatio||e.shiftKey;var D={top:0,left:0},C=h.containerElement;if(C[0]!=document&&/static/.test(C.css("position")))D=n;if(v.left<(h._helper?n.left:0)){h.size.width+=h._helper?
h.position.left-n.left:h.position.left-D.left;if(e)h.size.height=h.size.width/l.aspectRatio;h.position.left=l.helper?n.left:0}if(v.top<(h._helper?n.top:0)){h.size.height+=h._helper?h.position.top-n.top:h.position.top;if(e)h.size.width=h.size.height*l.aspectRatio;h.position.top=h._helper?n.top:0}h.offset.left=h.parentData.left+h.position.left;h.offset.top=h.parentData.top+h.position.top;l=Math.abs((h._helper?h.offset.left-D.left:h.offset.left-D.left)+h.sizeDiff.width);n=Math.abs((h._helper?h.offset.top-
D.top:h.offset.top-n.top)+h.sizeDiff.height);v=h.containerElement.get(0)==h.element.parent().get(0);D=/relative|absolute/.test(h.containerElement.css("position"));if(v&&D)l-=h.parentData.left;if(l+h.size.width>=h.parentData.width){h.size.width=h.parentData.width-l;if(e)h.size.height=h.size.width/h.aspectRatio}if(n+h.size.height>=h.parentData.height){h.size.height=h.parentData.height-n;if(e)h.size.width=h.size.height*h.aspectRatio}},stop:function(){var e=c(this).data("resizable"),h=e.options,l=e.containerOffset,
n=e.containerPosition,v=e.containerElement,D=c(e.helper),C=D.offset(),O=D.outerWidth()-e.sizeDiff.width;D=D.outerHeight()-e.sizeDiff.height;e._helper&&!h.animate&&/relative/.test(v.css("position"))&&c(this).css({left:C.left-n.left-l.left,width:O,height:D});e._helper&&!h.animate&&/static/.test(v.css("position"))&&c(this).css({left:C.left-n.left-l.left,width:O,height:D})}});c.ui.plugin.add("resizable","ghost",{start:function(){var e=c(this).data("resizable"),h=e.options,l=e.size;e.ghost=e.originalElement.clone();
e.ghost.css({opacity:0.25,display:"block",position:"relative",height:l.height,width:l.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof h.ghost=="string"?h.ghost:"");e.ghost.appendTo(e.helper)},resize:function(){var e=c(this).data("resizable");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=c(this).data("resizable");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}});c.ui.plugin.add("resizable","grid",
{resize:function(){var e=c(this).data("resizable"),h=e.options,l=e.size,n=e.originalSize,v=e.originalPosition,D=e.axis;h.grid=typeof h.grid=="number"?[h.grid,h.grid]:h.grid;var C=Math.round((l.width-n.width)/(h.grid[0]||1))*(h.grid[0]||1);h=Math.round((l.height-n.height)/(h.grid[1]||1))*(h.grid[1]||1);if(/^(se|s|e)$/.test(D)){e.size.width=n.width+C;e.size.height=n.height+h}else if(/^(ne)$/.test(D)){e.size.width=n.width+C;e.size.height=n.height+h;e.position.top=v.top-h}else{if(/^(sw)$/.test(D)){e.size.width=
n.width+C;e.size.height=n.height+h}else{e.size.width=n.width+C;e.size.height=n.height+h;e.position.top=v.top-h}e.position.left=v.left-C}}});var a=function(e){return parseInt(e,10)||0},f=function(e){return!isNaN(parseInt(e,10))}})(jQuery);
(function(c){c.widget("ui.selectable",c.ui.mouse,{options:{appendTo:"body",autoRefresh:true,distance:0,filter:"*",tolerance:"touch"},_create:function(){var a=this;this.element.addClass("ui-selectable");this.dragged=false;var f;this.refresh=function(){f=c(a.options.filter,a.element[0]);f.each(function(){var e=c(this),h=e.offset();c.data(this,"selectable-item",{element:this,$element:e,left:h.left,top:h.top,right:h.left+e.outerWidth(),bottom:h.top+e.outerHeight(),startselected:false,selected:e.hasClass("ui-selected"),
selecting:e.hasClass("ui-selecting"),unselecting:e.hasClass("ui-unselecting")})})};this.refresh();this.selectees=f.addClass("ui-selectee");this._mouseInit();this.helper=c("<div class='ui-selectable-helper'></div>")},destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item");this.element.removeClass("ui-selectable ui-selectable-disabled").removeData("selectable").unbind(".selectable");this._mouseDestroy();return this},_mouseStart:function(a){var f=this;this.opos=[a.pageX,
a.pageY];if(!this.options.disabled){var e=this.options;this.selectees=c(e.filter,this.element[0]);this._trigger("start",a);c(e.appendTo).append(this.helper);this.helper.css({left:a.clientX,top:a.clientY,width:0,height:0});e.autoRefresh&&this.refresh();this.selectees.filter(".ui-selected").each(function(){var h=c.data(this,"selectable-item");h.startselected=true;if(!a.metaKey){h.$element.removeClass("ui-selected");h.selected=false;h.$element.addClass("ui-unselecting");h.unselecting=true;f._trigger("unselecting",
a,{unselecting:h.element})}});c(a.target).parents().andSelf().each(function(){var h=c.data(this,"selectable-item");if(h){var l=!a.metaKey||!h.$element.hasClass("ui-selected");h.$element.removeClass(l?"ui-unselecting":"ui-selected").addClass(l?"ui-selecting":"ui-unselecting");h.unselecting=!l;h.selecting=l;(h.selected=l)?f._trigger("selecting",a,{selecting:h.element}):f._trigger("unselecting",a,{unselecting:h.element});return false}})}},_mouseDrag:function(a){var f=this;this.dragged=true;if(!this.options.disabled){var e=
this.options,h=this.opos[0],l=this.opos[1],n=a.pageX,v=a.pageY;if(h>n){var D=n;n=h;h=D}if(l>v){D=v;v=l;l=D}this.helper.css({left:h,top:l,width:n-h,height:v-l});this.selectees.each(function(){var C=c.data(this,"selectable-item");if(!(!C||C.element==f.element[0])){var O=false;if(e.tolerance=="touch")O=!(C.left>n||C.right<h||C.top>v||C.bottom<l);else if(e.tolerance=="fit")O=C.left>h&&C.right<n&&C.top>l&&C.bottom<v;if(O){if(C.selected){C.$element.removeClass("ui-selected");C.selected=false}if(C.unselecting){C.$element.removeClass("ui-unselecting");
C.unselecting=false}if(!C.selecting){C.$element.addClass("ui-selecting");C.selecting=true;f._trigger("selecting",a,{selecting:C.element})}}else{if(C.selecting)if(a.metaKey&&C.startselected){C.$element.removeClass("ui-selecting");C.selecting=false;C.$element.addClass("ui-selected");C.selected=true}else{C.$element.removeClass("ui-selecting");C.selecting=false;if(C.startselected){C.$element.addClass("ui-unselecting");C.unselecting=true}f._trigger("unselecting",a,{unselecting:C.element})}if(C.selected)if(!a.metaKey&&
!C.startselected){C.$element.removeClass("ui-selected");C.selected=false;C.$element.addClass("ui-unselecting");C.unselecting=true;f._trigger("unselecting",a,{unselecting:C.element})}}}});return false}},_mouseStop:function(a){var f=this;this.dragged=false;c(".ui-unselecting",this.element[0]).each(function(){var e=c.data(this,"selectable-item");e.$element.removeClass("ui-unselecting");e.unselecting=false;e.startselected=false;f._trigger("unselected",a,{unselected:e.element})});c(".ui-selecting",this.element[0]).each(function(){var e=
c.data(this,"selectable-item");e.$element.removeClass("ui-selecting").addClass("ui-selected");e.selecting=false;e.selected=true;e.startselected=true;f._trigger("selected",a,{selected:e.element})});this._trigger("stop",a);this.helper.remove();return false}});c.extend(c.ui.selectable,{version:"1.8.16"})})(jQuery);
(function(c){c.widget("ui.sortable",c.ui.mouse,{widgetEventPrefix:"sort",options:{appendTo:"parent",axis:false,connectWith:false,containment:false,cursor:"auto",cursorAt:false,dropOnEmpty:true,forcePlaceholderSize:false,forceHelperSize:false,grid:false,handle:false,helper:"original",items:"> *",opacity:false,placeholder:false,revert:false,scroll:true,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1E3},_create:function(){var a=this.options;this.containerCache={};this.element.addClass("ui-sortable");
this.refresh();this.floating=this.items.length?a.axis==="x"||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):false;this.offset=this.element.offset();this._mouseInit()},destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").removeData("sortable").unbind(".sortable");this._mouseDestroy();for(var a=this.items.length-1;a>=0;a--)this.items[a].item.removeData("sortable-item");return this},_setOption:function(a,f){if(a===
"disabled"){this.options[a]=f;this.widget()[f?"addClass":"removeClass"]("ui-sortable-disabled")}else c.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(a,f){if(this.reverting)return false;if(this.options.disabled||this.options.type=="static")return false;this._refreshItems(a);var e=null,h=this;c(a.target).parents().each(function(){if(c.data(this,"sortable-item")==h){e=c(this);return false}});if(c.data(a.target,"sortable-item")==h)e=c(a.target);if(!e)return false;if(this.options.handle&&
!f){var l=false;c(this.options.handle,e).find("*").andSelf().each(function(){if(this==a.target)l=true});if(!l)return false}this.currentItem=e;this._removeCurrentsFromItems();return true},_mouseStart:function(a,f,e){f=this.options;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(a);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-
this.margins.left};this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");c.extend(this.offset,{click:{left:a.pageX-this.offset.left,top:a.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this._generatePosition(a);this.originalPageX=a.pageX;this.originalPageY=a.pageY;f.cursorAt&&this._adjustOffsetFromHelper(f.cursorAt);this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};
this.helper[0]!=this.currentItem[0]&&this.currentItem.hide();this._createPlaceholder();f.containment&&this._setContainment();if(f.cursor){if(c("body").css("cursor"))this._storedCursor=c("body").css("cursor");c("body").css("cursor",f.cursor)}if(f.opacity){if(this.helper.css("opacity"))this._storedOpacity=this.helper.css("opacity");this.helper.css("opacity",f.opacity)}if(f.zIndex){if(this.helper.css("zIndex"))this._storedZIndex=this.helper.css("zIndex");this.helper.css("zIndex",f.zIndex)}if(this.scrollParent[0]!=
document&&this.scrollParent[0].tagName!="HTML")this.overflowOffset=this.scrollParent.offset();this._trigger("start",a,this._uiHash());this._preserveHelperProportions||this._cacheHelperProportions();if(!e)for(e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("activate",a,this._uiHash(this));if(c.ui.ddmanager)c.ui.ddmanager.current=this;c.ui.ddmanager&&!f.dropBehaviour&&c.ui.ddmanager.prepareOffsets(this,a);this.dragging=true;this.helper.addClass("ui-sortable-helper");this._mouseDrag(a);
return true},_mouseDrag:function(a){this.position=this._generatePosition(a);this.positionAbs=this._convertPositionTo("absolute");if(!this.lastPositionAbs)this.lastPositionAbs=this.positionAbs;if(this.options.scroll){var f=this.options,e=false;if(this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"){if(this.overflowOffset.top+this.scrollParent[0].offsetHeight-a.pageY<f.scrollSensitivity)this.scrollParent[0].scrollTop=e=this.scrollParent[0].scrollTop+f.scrollSpeed;else if(a.pageY-this.overflowOffset.top<
f.scrollSensitivity)this.scrollParent[0].scrollTop=e=this.scrollParent[0].scrollTop-f.scrollSpeed;if(this.overflowOffset.left+this.scrollParent[0].offsetWidth-a.pageX<f.scrollSensitivity)this.scrollParent[0].scrollLeft=e=this.scrollParent[0].scrollLeft+f.scrollSpeed;else if(a.pageX-this.overflowOffset.left<f.scrollSensitivity)this.scrollParent[0].scrollLeft=e=this.scrollParent[0].scrollLeft-f.scrollSpeed}else{if(a.pageY-c(document).scrollTop()<f.scrollSensitivity)e=c(document).scrollTop(c(document).scrollTop()-
f.scrollSpeed);else if(c(window).height()-(a.pageY-c(document).scrollTop())<f.scrollSensitivity)e=c(document).scrollTop(c(document).scrollTop()+f.scrollSpeed);if(a.pageX-c(document).scrollLeft()<f.scrollSensitivity)e=c(document).scrollLeft(c(document).scrollLeft()-f.scrollSpeed);else if(c(window).width()-(a.pageX-c(document).scrollLeft())<f.scrollSensitivity)e=c(document).scrollLeft(c(document).scrollLeft()+f.scrollSpeed)}e!==false&&c.ui.ddmanager&&!f.dropBehaviour&&c.ui.ddmanager.prepareOffsets(this,
a)}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";for(f=this.items.length-1;f>=0;f--){e=this.items[f];var h=e.item[0],l=this._intersectsWithPointer(e);if(l)if(h!=this.currentItem[0]&&this.placeholder[l==1?"next":"prev"]()[0]!=h&&!c.ui.contains(this.placeholder[0],h)&&(this.options.type=="semi-dynamic"?!c.ui.contains(this.element[0],
h):true)){this.direction=l==1?"down":"up";if(this.options.tolerance=="pointer"||this._intersectsWithSides(e))this._rearrange(a,e);else break;this._trigger("change",a,this._uiHash());break}}this._contactContainers(a);c.ui.ddmanager&&c.ui.ddmanager.drag(this,a);this._trigger("sort",a,this._uiHash());this.lastPositionAbs=this.positionAbs;return false},_mouseStop:function(a,f){if(a){c.ui.ddmanager&&!this.options.dropBehaviour&&c.ui.ddmanager.drop(this,a);if(this.options.revert){var e=this,h=e.placeholder.offset();
e.reverting=true;c(this.helper).animate({left:h.left-this.offset.parent.left-e.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:h.top-this.offset.parent.top-e.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){e._clear(a)})}else this._clear(a,f);return false}},cancel:function(){if(this.dragging){this._mouseUp({target:null});this.options.helper=="original"?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):
this.currentItem.show();for(var a=this.containers.length-1;a>=0;a--){this.containers[a]._trigger("deactivate",null,this._uiHash(this));if(this.containers[a].containerCache.over){this.containers[a]._trigger("out",null,this._uiHash(this));this.containers[a].containerCache.over=0}}}if(this.placeholder){this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]);this.options.helper!="original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove();c.extend(this,
{helper:null,dragging:false,reverting:false,_noFinalSort:null});this.domPosition.prev?c(this.domPosition.prev).after(this.currentItem):c(this.domPosition.parent).prepend(this.currentItem)}return this},serialize:function(a){var f=this._getItemsAsjQuery(a&&a.connected),e=[];a=a||{};c(f).each(function(){var h=(c(a.item||this).attr(a.attribute||"id")||"").match(a.expression||/(.+)[-=_](.+)/);if(h)e.push((a.key||h[1]+"[]")+"="+(a.key&&a.expression?h[1]:h[2]))});!e.length&&a.key&&e.push(a.key+"=");return e.join("&")},
toArray:function(a){var f=this._getItemsAsjQuery(a&&a.connected),e=[];a=a||{};f.each(function(){e.push(c(a.item||this).attr(a.attribute||"id")||"")});return e},_intersectsWith:function(a){var f=this.positionAbs.left,e=f+this.helperProportions.width,h=this.positionAbs.top,l=h+this.helperProportions.height,n=a.left,v=n+a.width,D=a.top,C=D+a.height,O=this.offset.click.top,P=this.offset.click.left;return this.options.tolerance=="pointer"||this.options.forcePointerForContainers||this.options.tolerance!=
"pointer"&&this.helperProportions[this.floating?"width":"height"]>a[this.floating?"width":"height"]?h+O>D&&h+O<C&&f+P>n&&f+P<v:n<f+this.helperProportions.width/2&&e-this.helperProportions.width/2<v&&D<h+this.helperProportions.height/2&&l-this.helperProportions.height/2<C},_intersectsWithPointer:function(a){var f=c.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,a.top,a.height);a=c.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,a.left,a.width);f=f&&a;a=this._getDragVerticalDirection();
var e=this._getDragHorizontalDirection();if(!f)return false;return this.floating?e&&e=="right"||a=="down"?2:1:a&&(a=="down"?2:1)},_intersectsWithSides:function(a){var f=c.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,a.top+a.height/2,a.height);a=c.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,a.left+a.width/2,a.width);var e=this._getDragVerticalDirection(),h=this._getDragHorizontalDirection();return this.floating&&h?h=="right"&&a||h=="left"&&!a:e&&(e=="down"&&f||e=="up"&&!f)},
_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;return a!=0&&(a>0?"down":"up")},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return a!=0&&(a>0?"right":"left")},refresh:function(a){this._refreshItems(a);this.refreshPositions();return this},_connectWith:function(){var a=this.options;return a.connectWith.constructor==String?[a.connectWith]:a.connectWith},_getItemsAsjQuery:function(a){var f=[],e=[],h=this._connectWith();
if(h&&a)for(a=h.length-1;a>=0;a--)for(var l=c(h[a]),n=l.length-1;n>=0;n--){var v=c.data(l[n],"sortable");if(v&&v!=this&&!v.options.disabled)e.push([c.isFunction(v.options.items)?v.options.items.call(v.element):c(v.options.items,v.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),v])}e.push([c.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):c(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),
this]);for(a=e.length-1;a>=0;a--)e[a][0].each(function(){f.push(this)});return c(f)},_removeCurrentsFromItems:function(){for(var a=this.currentItem.find(":data(sortable-item)"),f=0;f<this.items.length;f++)for(var e=0;e<a.length;e++)a[e]==this.items[f].item[0]&&this.items.splice(f,1)},_refreshItems:function(a){this.items=[];this.containers=[this];var f=this.items,e=[[c.isFunction(this.options.items)?this.options.items.call(this.element[0],a,{item:this.currentItem}):c(this.options.items,this.element),
this]],h=this._connectWith();if(h)for(var l=h.length-1;l>=0;l--)for(var n=c(h[l]),v=n.length-1;v>=0;v--){var D=c.data(n[v],"sortable");if(D&&D!=this&&!D.options.disabled){e.push([c.isFunction(D.options.items)?D.options.items.call(D.element[0],a,{item:this.currentItem}):c(D.options.items,D.element),D]);this.containers.push(D)}}for(l=e.length-1;l>=0;l--){a=e[l][1];h=e[l][0];v=0;for(n=h.length;v<n;v++){D=c(h[v]);D.data("sortable-item",a);f.push({item:D,instance:a,width:0,height:0,left:0,top:0})}}},refreshPositions:function(a){if(this.offsetParent&&
this.helper)this.offset.parent=this._getParentOffset();for(var f=this.items.length-1;f>=0;f--){var e=this.items[f];if(!(e.instance!=this.currentContainer&&this.currentContainer&&e.item[0]!=this.currentItem[0])){var h=this.options.toleranceElement?c(this.options.toleranceElement,e.item):e.item;if(!a){e.width=h.outerWidth();e.height=h.outerHeight()}h=h.offset();e.left=h.left;e.top=h.top}}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(f=
this.containers.length-1;f>=0;f--){h=this.containers[f].element.offset();this.containers[f].containerCache.left=h.left;this.containers[f].containerCache.top=h.top;this.containers[f].containerCache.width=this.containers[f].element.outerWidth();this.containers[f].containerCache.height=this.containers[f].element.outerHeight()}return this},_createPlaceholder:function(a){var f=a||this,e=f.options;if(!e.placeholder||e.placeholder.constructor==String){var h=e.placeholder;e.placeholder={element:function(){var l=
c(document.createElement(f.currentItem[0].nodeName)).addClass(h||f.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];if(!h)l.style.visibility="hidden";return l},update:function(l,n){if(!(h&&!e.forcePlaceholderSize)){n.height()||n.height(f.currentItem.innerHeight()-parseInt(f.currentItem.css("paddingTop")||0,10)-parseInt(f.currentItem.css("paddingBottom")||0,10));n.width()||n.width(f.currentItem.innerWidth()-parseInt(f.currentItem.css("paddingLeft")||0,10)-parseInt(f.currentItem.css("paddingRight")||
0,10))}}}}f.placeholder=c(e.placeholder.element.call(f.element,f.currentItem));f.currentItem.after(f.placeholder);e.placeholder.update(f,f.placeholder)},_contactContainers:function(a){for(var f=null,e=null,h=this.containers.length-1;h>=0;h--)if(!c.ui.contains(this.currentItem[0],this.containers[h].element[0]))if(this._intersectsWith(this.containers[h].containerCache)){if(!(f&&c.ui.contains(this.containers[h].element[0],f.element[0]))){f=this.containers[h];e=h}}else if(this.containers[h].containerCache.over){this.containers[h]._trigger("out",
a,this._uiHash(this));this.containers[h].containerCache.over=0}if(f)if(this.containers.length===1){this.containers[e]._trigger("over",a,this._uiHash(this));this.containers[e].containerCache.over=1}else if(this.currentContainer!=this.containers[e]){f=1E4;h=null;for(var l=this.positionAbs[this.containers[e].floating?"left":"top"],n=this.items.length-1;n>=0;n--)if(c.ui.contains(this.containers[e].element[0],this.items[n].item[0])){var v=this.items[n][this.containers[e].floating?"left":"top"];if(Math.abs(v-
l)<f){f=Math.abs(v-l);h=this.items[n]}}if(h||this.options.dropOnEmpty){this.currentContainer=this.containers[e];h?this._rearrange(a,h,null,true):this._rearrange(a,null,this.containers[e].element,true);this._trigger("change",a,this._uiHash());this.containers[e]._trigger("change",a,this._uiHash(this));this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[e]._trigger("over",a,this._uiHash(this));this.containers[e].containerCache.over=1}}},_createHelper:function(a){var f=
this.options;a=c.isFunction(f.helper)?c(f.helper.apply(this.element[0],[a,this.currentItem])):f.helper=="clone"?this.currentItem.clone():this.currentItem;a.parents("body").length||c(f.appendTo!="parent"?f.appendTo:this.currentItem[0].parentNode)[0].appendChild(a[0]);if(a[0]==this.currentItem[0])this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")};if(a[0].style.width==
""||f.forceHelperSize)a.width(this.currentItem.width());if(a[0].style.height==""||f.forceHelperSize)a.height(this.currentItem.height());return a},_adjustOffsetFromHelper:function(a){if(typeof a=="string")a=a.split(" ");if(c.isArray(a))a={left:+a[0],top:+a[1]||0};if("left"in a)this.offset.click.left=a.left+this.margins.left;if("right"in a)this.offset.click.left=this.helperProportions.width-a.right+this.margins.left;if("top"in a)this.offset.click.top=a.top+this.margins.top;if("bottom"in a)this.offset.click.top=
this.helperProportions.height-a.bottom+this.margins.top},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var a=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&c.ui.contains(this.scrollParent[0],this.offsetParent[0])){a.left+=this.scrollParent.scrollLeft();a.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&c.browser.msie)a=
{top:0,left:0};return{top:a.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:a.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var a=this.currentItem.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),
10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var a=this.options;if(a.containment=="parent")a.containment=this.helper[0].parentNode;if(a.containment=="document"||a.containment=="window")this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,c(a.containment=="document"?
document:window).width()-this.helperProportions.width-this.margins.left,(c(a.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(a.containment)){var f=c(a.containment)[0];a=c(a.containment).offset();var e=c(f).css("overflow")!="hidden";this.containment=[a.left+(parseInt(c(f).css("borderLeftWidth"),10)||0)+(parseInt(c(f).css("paddingLeft"),10)||0)-this.margins.left,a.top+(parseInt(c(f).css("borderTopWidth"),
10)||0)+(parseInt(c(f).css("paddingTop"),10)||0)-this.margins.top,a.left+(e?Math.max(f.scrollWidth,f.offsetWidth):f.offsetWidth)-(parseInt(c(f).css("borderLeftWidth"),10)||0)-(parseInt(c(f).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,a.top+(e?Math.max(f.scrollHeight,f.offsetHeight):f.offsetHeight)-(parseInt(c(f).css("borderTopWidth"),10)||0)-(parseInt(c(f).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(a,f){if(!f)f=
this.position;var e=a=="absolute"?1:-1,h=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&c.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,l=/(html|body)/i.test(h[0].tagName);return{top:f.top+this.offset.relative.top*e+this.offset.parent.top*e-(c.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():l?0:h.scrollTop())*e),left:f.left+this.offset.relative.left*e+this.offset.parent.left*e-(c.browser.safari&&
this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():l?0:h.scrollLeft())*e)}},_generatePosition:function(a){var f=this.options,e=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&c.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,h=/(html|body)/i.test(e[0].tagName);if(this.cssPosition=="relative"&&!(this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0]))this.offset.relative=this._getRelativeOffset();
var l=a.pageX,n=a.pageY;if(this.originalPosition){if(this.containment){if(a.pageX-this.offset.click.left<this.containment[0])l=this.containment[0]+this.offset.click.left;if(a.pageY-this.offset.click.top<this.containment[1])n=this.containment[1]+this.offset.click.top;if(a.pageX-this.offset.click.left>this.containment[2])l=this.containment[2]+this.offset.click.left;if(a.pageY-this.offset.click.top>this.containment[3])n=this.containment[3]+this.offset.click.top}if(f.grid){n=this.originalPageY+Math.round((n-
this.originalPageY)/f.grid[1])*f.grid[1];n=this.containment?!(n-this.offset.click.top<this.containment[1]||n-this.offset.click.top>this.containment[3])?n:!(n-this.offset.click.top<this.containment[1])?n-f.grid[1]:n+f.grid[1]:n;l=this.originalPageX+Math.round((l-this.originalPageX)/f.grid[0])*f.grid[0];l=this.containment?!(l-this.offset.click.left<this.containment[0]||l-this.offset.click.left>this.containment[2])?l:!(l-this.offset.click.left<this.containment[0])?l-f.grid[0]:l+f.grid[0]:l}}return{top:n-
this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(c.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():h?0:e.scrollTop()),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(c.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():h?0:e.scrollLeft())}},_rearrange:function(a,f,e,h){e?e[0].appendChild(this.placeholder[0]):f.item[0].parentNode.insertBefore(this.placeholder[0],
this.direction=="down"?f.item[0]:f.item[0].nextSibling);this.counter=this.counter?++this.counter:1;var l=this,n=this.counter;window.setTimeout(function(){n==l.counter&&l.refreshPositions(!h)},0)},_clear:function(a,f){this.reverting=false;var e=[];!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem);this._noFinalSort=null;if(this.helper[0]==this.currentItem[0]){for(var h in this._storedCSS)if(this._storedCSS[h]=="auto"||this._storedCSS[h]=="static")this._storedCSS[h]=
"";this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!f&&e.push(function(l){this._trigger("receive",l,this._uiHash(this.fromOutside))});if((this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!f)e.push(function(l){this._trigger("update",l,this._uiHash())});if(!c.ui.contains(this.element[0],this.currentItem[0])){f||e.push(function(l){this._trigger("remove",
l,this._uiHash())});for(h=this.containers.length-1;h>=0;h--)if(c.ui.contains(this.containers[h].element[0],this.currentItem[0])&&!f){e.push(function(l){return function(n){l._trigger("receive",n,this._uiHash(this))}}.call(this,this.containers[h]));e.push(function(l){return function(n){l._trigger("update",n,this._uiHash(this))}}.call(this,this.containers[h]))}}for(h=this.containers.length-1;h>=0;h--){f||e.push(function(l){return function(n){l._trigger("deactivate",n,this._uiHash(this))}}.call(this,
this.containers[h]));if(this.containers[h].containerCache.over){e.push(function(l){return function(n){l._trigger("out",n,this._uiHash(this))}}.call(this,this.containers[h]));this.containers[h].containerCache.over=0}}this._storedCursor&&c("body").css("cursor",this._storedCursor);this._storedOpacity&&this.helper.css("opacity",this._storedOpacity);if(this._storedZIndex)this.helper.css("zIndex",this._storedZIndex=="auto"?"":this._storedZIndex);this.dragging=false;if(this.cancelHelperRemoval){if(!f){this._trigger("beforeStop",
a,this._uiHash());for(h=0;h<e.length;h++)e[h].call(this,a);this._trigger("stop",a,this._uiHash())}return false}f||this._trigger("beforeStop",a,this._uiHash());this.placeholder[0].parentNode.removeChild(this.placeholder[0]);this.helper[0]!=this.currentItem[0]&&this.helper.remove();this.helper=null;if(!f){for(h=0;h<e.length;h++)e[h].call(this,a);this._trigger("stop",a,this._uiHash())}this.fromOutside=false;return true},_trigger:function(){c.Widget.prototype._trigger.apply(this,arguments)===false&&this.cancel()},
_uiHash:function(a){var f=a||this;return{helper:f.helper,placeholder:f.placeholder||c([]),position:f.position,originalPosition:f.originalPosition,offset:f.positionAbs,item:f.currentItem,sender:a?a.element:null}}});c.extend(c.ui.sortable,{version:"1.8.16"})})(jQuery);
(function(){function c(p,d,B){if(p===d)return p!==0||1/p==1/d;if(p==null)return p===d;var J=typeof p;if(J!=typeof d)return false;if(!p!=!d)return false;if(y.isNaN(p))return y.isNaN(d);var R=y.isString(p),Y=y.isString(d);if(R||Y)return R&&Y&&String(p)==String(d);R=y.isNumber(p);Y=y.isNumber(d);if(R||Y)return R&&Y&&+p==+d;R=y.isBoolean(p);Y=y.isBoolean(d);if(R||Y)return R&&Y&&+p==+d;R=y.isDate(p);Y=y.isDate(d);if(R||Y)return R&&Y&&p.getTime()==d.getTime();R=y.isRegExp(p);Y=y.isRegExp(d);if(R||Y)return R&&
Y&&p.source==d.source&&p.global==d.global&&p.multiline==d.multiline&&p.ignoreCase==d.ignoreCase;if(J!="object")return false;if(p._chain)p=p._wrapped;if(d._chain)d=d._wrapped;if(y.isFunction(p.isEqual))return p.isEqual(d);for(J=B.length;J--;)if(B[J]==p)return true;B.push(p);J=0;R=true;if(p.length===+p.length||d.length===+d.length){if(J=p.length,R=J==d.length)for(;J--;)if(!(R=J in p==J in d&&c(p[J],d[J],B)))break}else{for(var ia in p)if(C.call(p,ia)&&(J++,!(R=C.call(d,ia)&&c(p[ia],d[ia],B))))break;
if(R){for(ia in d)if(C.call(d,ia)&&!J--)break;R=!J}}B.pop();return R}var a=this,f=a._,e={},h=Array.prototype,l=Object.prototype,n=h.slice,v=h.unshift,D=l.toString,C=l.hasOwnProperty,O=h.forEach,P=h.map,X=h.reduce,ea=h.reduceRight,ma=h.filter,r=h.every,u=h.some,A=h.indexOf,H=h.lastIndexOf;l=Array.isArray;var Z=Object.keys,ca=Function.prototype.bind,y=function(p){return new sa(p)};typeof module!=="undefined"&&module.exports?(module.exports=y,y._=y):(a._=y);y.VERSION="1.2.0";var aa=y.each=y.forEach=
function(p,d,B){if(p!=null)if(O&&p.forEach===O)p.forEach(d,B);else if(p.length===+p.length)for(var J=0,R=p.length;J<R;J++){if(J in p&&d.call(B,p[J],J,p)===e)break}else for(J in p)if(C.call(p,J)&&d.call(B,p[J],J,p)===e)break};y.map=function(p,d,B){var J=[];if(p==null)return J;if(P&&p.map===P)return p.map(d,B);aa(p,function(R,Y,ia){J[J.length]=d.call(B,R,Y,ia)});return J};y.reduce=y.foldl=y.inject=function(p,d,B,J){var R=B!==void 0;p==null&&(p=[]);if(X&&p.reduce===X)return J&&(d=y.bind(d,J)),R?p.reduce(d,
B):p.reduce(d);aa(p,function(Y,ia,Ka){R?(B=d.call(J,B,Y,ia,Ka)):(B=Y,R=true)});if(!R)throw new TypeError("Reduce of empty array with no initial value");return B};y.reduceRight=y.foldr=function(p,d,B,J){p==null&&(p=[]);if(ea&&p.reduceRight===ea)return J&&(d=y.bind(d,J)),B!==void 0?p.reduceRight(d,B):p.reduceRight(d);p=(y.isArray(p)?p.slice():y.toArray(p)).reverse();return y.reduce(p,d,B,J)};y.find=y.detect=function(p,d,B){var J;ka(p,function(R,Y,ia){if(d.call(B,R,Y,ia))return J=R,true});return J};
y.filter=y.select=function(p,d,B){var J=[];if(p==null)return J;if(ma&&p.filter===ma)return p.filter(d,B);aa(p,function(R,Y,ia){d.call(B,R,Y,ia)&&(J[J.length]=R)});return J};y.reject=function(p,d,B){var J=[];if(p==null)return J;aa(p,function(R,Y,ia){d.call(B,R,Y,ia)||(J[J.length]=R)});return J};y.every=y.all=function(p,d,B){var J=true;if(p==null)return J;if(r&&p.every===r)return p.every(d,B);aa(p,function(R,Y,ia){if(!(J=J&&d.call(B,R,Y,ia)))return e});return J};var ka=y.some=y.any=function(p,d,B){d=
d||y.identity;var J=false;if(p==null)return J;if(u&&p.some===u)return p.some(d,B);aa(p,function(R,Y,ia){if(J|=d.call(B,R,Y,ia))return e});return!!J};y.include=y.contains=function(p,d){var B=false;if(p==null)return B;if(A&&p.indexOf===A)return p.indexOf(d)!=-1;ka(p,function(J){if(B=J===d)return true});return B};y.invoke=function(p,d){var B=n.call(arguments,2);return y.map(p,function(J){return(d.call?d||J:J[d]).apply(J,B)})};y.pluck=function(p,d){return y.map(p,function(B){return B[d]})};y.max=function(p,
d,B){if(!d&&y.isArray(p))return Math.max.apply(Math,p);if(!d&&y.isEmpty(p))return-Infinity;var J={computed:-Infinity};aa(p,function(R,Y,ia){Y=d?d.call(B,R,Y,ia):R;Y>=J.computed&&(J={value:R,computed:Y})});return J.value};y.min=function(p,d,B){if(!d&&y.isArray(p))return Math.min.apply(Math,p);if(!d&&y.isEmpty(p))return Infinity;var J={computed:Infinity};aa(p,function(R,Y,ia){Y=d?d.call(B,R,Y,ia):R;Y<J.computed&&(J={value:R,computed:Y})});return J.value};y.shuffle=function(p){var d=[],B;aa(p,function(J,
R){R==0?(d[0]=J):(B=Math.floor(Math.random()*(R+1)),d[R]=d[B],d[B]=J)});return d};y.sortBy=function(p,d,B){return y.pluck(y.map(p,function(J,R,Y){return{value:J,criteria:d.call(B,J,R,Y)}}).sort(function(J,R){var Y=J.criteria,ia=R.criteria;return Y<ia?-1:Y>ia?1:0}),"value")};y.groupBy=function(p,d){var B={};aa(p,function(J,R){var Y=d(J,R);(B[Y]||(B[Y]=[])).push(J)});return B};y.sortedIndex=function(p,d,B){B||(B=y.identity);for(var J=0,R=p.length;J<R;){var Y=J+R>>1;B(p[Y])<B(d)?(J=Y+1):(R=Y)}return J};
y.toArray=function(p){return!p?[]:p.toArray?p.toArray():y.isArray(p)?n.call(p):y.isArguments(p)?n.call(p):y.values(p)};y.size=function(p){return y.toArray(p).length};y.first=y.head=function(p,d,B){return d!=null&&!B?n.call(p,0,d):p[0]};y.initial=function(p,d,B){return n.call(p,0,p.length-(d==null||B?1:d))};y.last=function(p,d,B){return d!=null&&!B?n.call(p,p.length-d):p[p.length-1]};y.rest=y.tail=function(p,d,B){return n.call(p,d==null||B?1:d)};y.compact=function(p){return y.filter(p,function(d){return!!d})};
y.flatten=function(p){return y.reduce(p,function(d,B){if(y.isArray(B))return d.concat(y.flatten(B));d[d.length]=B;return d},[])};y.without=function(p){return y.difference(p,n.call(arguments,1))};y.uniq=y.unique=function(p,d,B){B=B?y.map(p,B):p;var J=[];y.reduce(B,function(R,Y,ia){if(0==ia||(d===true?y.last(R)!=Y:!y.include(R,Y))){R[R.length]=Y;J[J.length]=p[ia]}return R},[]);return J};y.union=function(){return y.uniq(y.flatten(arguments))};y.intersection=y.intersect=function(p){var d=n.call(arguments,
1);return y.filter(y.uniq(p),function(B){return y.every(d,function(J){return y.indexOf(J,B)>=0})})};y.difference=function(p,d){return y.filter(p,function(B){return!y.include(d,B)})};y.zip=function(){for(var p=n.call(arguments),d=y.max(y.pluck(p,"length")),B=Array(d),J=0;J<d;J++)B[J]=y.pluck(p,""+J);return B};y.indexOf=function(p,d,B){if(p==null)return-1;var J;if(B)return B=y.sortedIndex(p,d),p[B]===d?B:-1;if(A&&p.indexOf===A)return p.indexOf(d);B=0;for(J=p.length;B<J;B++)if(p[B]===d)return B;return-1};
y.lastIndexOf=function(p,d){if(p==null)return-1;if(H&&p.lastIndexOf===H)return p.lastIndexOf(d);for(var B=p.length;B--;)if(p[B]===d)return B;return-1};y.range=function(p,d,B){arguments.length<=1&&(d=p||0,p=0);B=arguments[2]||1;for(var J=Math.max(Math.ceil((d-p)/B),0),R=0,Y=Array(J);R<J;){Y[R++]=p;p+=B}return Y};y.bind=function(p,d){if(p.bind===ca&&ca)return ca.apply(p,n.call(arguments,1));var B=n.call(arguments,2);return function(){return p.apply(d,B.concat(n.call(arguments)))}};y.bindAll=function(p){var d=
n.call(arguments,1);d.length==0&&(d=y.functions(p));aa(d,function(B){p[B]=y.bind(p[B],p)});return p};y.memoize=function(p,d){var B={};d||(d=y.identity);return function(){var J=d.apply(this,arguments);return C.call(B,J)?B[J]:(B[J]=p.apply(this,arguments))}};y.delay=function(p,d){var B=n.call(arguments,2);return setTimeout(function(){return p.apply(p,B)},d)};y.defer=function(p){return y.delay.apply(y,[p,1].concat(n.call(arguments,1)))};var pa=function(p,d,B){var J;return function(){var R=this,Y=arguments,
ia=function(){J=null;p.apply(R,Y)};B&&clearTimeout(J);if(B||!J)J=setTimeout(ia,d)}};y.throttle=function(p,d){return pa(p,d,false)};y.debounce=function(p,d){return pa(p,d,true)};y.once=function(p){var d=false,B;return function(){if(d)return B;d=true;return B=p.apply(this,arguments)}};y.wrap=function(p,d){return function(){var B=[p].concat(n.call(arguments));return d.apply(this,B)}};y.compose=function(){var p=n.call(arguments);return function(){for(var d=n.call(arguments),B=p.length-1;B>=0;B--)d=[p[B].apply(this,
d)];return d[0]}};y.after=function(p,d){return function(){if(--p<1)return d.apply(this,arguments)}};y.keys=Z||function(p){if(p!==Object(p))throw new TypeError("Invalid object");var d=[],B;for(B in p)C.call(p,B)&&(d[d.length]=B);return d};y.values=function(p){return y.map(p,y.identity)};y.functions=y.methods=function(p){var d=[],B;for(B in p)y.isFunction(p[B])&&d.push(B);return d.sort()};y.extend=function(p){aa(n.call(arguments,1),function(d){for(var B in d)d[B]!==void 0&&(p[B]=d[B])});return p};y.defaults=
function(p){aa(n.call(arguments,1),function(d){for(var B in d)p[B]==null&&(p[B]=d[B])});return p};y.clone=function(p){return y.isArray(p)?p.slice():y.extend({},p)};y.tap=function(p,d){d(p);return p};y.isEqual=function(p,d){return c(p,d,[])};y.isEmpty=function(p){if(y.isArray(p)||y.isString(p))return p.length===0;for(var d in p)if(C.call(p,d))return false;return true};y.isElement=function(p){return!!(p&&p.nodeType==1)};y.isArray=l||function(p){return D.call(p)==="[object Array]"};y.isObject=function(p){return p===
Object(p)};y.isArguments=function(p){return!(!p||!C.call(p,"callee"))};y.isFunction=function(p){return!(!p||!p.constructor||!p.call||!p.apply)};y.isString=function(p){return!!(p===""||p&&p.charCodeAt&&p.substr)};y.isNumber=function(p){return!!(p===0||p&&p.toExponential&&p.toFixed)};y.isNaN=function(p){return p!==p};y.isBoolean=function(p){return p===true||p===false||D.call(p)=="[object Boolean]"};y.isDate=function(p){return!(!p||!p.getTimezoneOffset||!p.setUTCFullYear)};y.isRegExp=function(p){return!(!p||
!p.test||!p.exec||!(p.ignoreCase||p.ignoreCase===false))};y.isNull=function(p){return p===null};y.isUndefined=function(p){return p===void 0};y.noConflict=function(){a._=f;return this};y.identity=function(p){return p};y.times=function(p,d,B){for(var J=0;J<p;J++)d.call(B,J)};y.escape=function(p){return(""+p).replace(/&(?!\w+;|#\d+;|#x[\da-f]+;)/gi,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")};y.mixin=function(p){aa(y.functions(p),
function(d){Q(d,y[d]=p[d])})};var Ba=0;y.uniqueId=function(p){var d=Ba++;return p?p+d:d};y.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};y.template=function(p,d){var B=y.templateSettings;B="var __p=[],print=function(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push('"+p.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(B.escape,function(J,R){return"',_.escape("+R.replace(/\\'/g,"'")+"),'"}).replace(B.interpolate,function(J,R){return"',"+
R.replace(/\\'/g,"'")+",'"}).replace(B.evaluate||null,function(J,R){return"');"+R.replace(/\\'/g,"'").replace(/[\r\n\t]/g," ")+"__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');}return __p.join('');";B=new Function("obj",B);return d?B(d):B};var sa=function(p){this._wrapped=p};y.prototype=sa.prototype;var T=function(p,d){return d?y(p).chain():p},Q=function(p,d){sa.prototype[p]=function(){var B=n.call(arguments);v.call(B,this._wrapped);return T(d.apply(y,B),this._chain)}};
y.mixin(y);aa("pop,push,reverse,shift,sort,splice,unshift".split(","),function(p){var d=h[p];sa.prototype[p]=function(){d.apply(this._wrapped,arguments);return T(this._wrapped,this._chain)}});aa(["concat","join","slice"],function(p){var d=h[p];sa.prototype[p]=function(){return T(d.apply(this._wrapped,arguments),this._chain)}});sa.prototype.chain=function(){this._chain=true;return this};sa.prototype.value=function(){return this._wrapped}})();
(function(c,a){var f,e=/:([\w\d]+)/g,h=/\?([^#]*)$/,l=function(r){return Array.prototype.slice.call(r)},n=function(r){return Object.prototype.toString.call(r)==="[object Function]"},v=function(r){return Object.prototype.toString.call(r)==="[object Array]"},D=function(r){return decodeURIComponent((r||"").replace(/\+/g," "))},C=encodeURIComponent,O=function(r){return String(r).replace(/&(?!\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},P=function(r){return function(u,
A){return this.route.apply(this,[r,u,A])}},X={},ea=!!(a.history&&history.pushState),ma=[];f=function(){var r=l(arguments),u,A;f.apps=f.apps||{};if(r.length===0||r[0]&&n(r[0]))return f.apply(f,["body"].concat(r));else if(typeof(A=r.shift())=="string"){u=f.apps[A]||new f.Application;u.element_selector=A;r.length>0&&c.each(r,function(H,Z){u.use(Z)});u.element_selector!=A&&delete f.apps[A];return f.apps[u.element_selector]=u}};f.VERSION="0.7.0";f.addLogger=function(r){ma.push(r)};f.log=function(){var r=
l(arguments);r.unshift("["+Date()+"]");c.each(ma,function(u,A){A.apply(f,r)})};if(typeof a.console!="undefined")n(a.console.log.apply)?f.addLogger(function(){a.console.log.apply(a.console,arguments)}):f.addLogger(function(){a.console.log(arguments)});else typeof console!="undefined"&&f.addLogger(function(){console.log.apply(console,arguments)});c.extend(f,{makeArray:l,isFunction:n,isArray:v});f.Object=function(r){return c.extend(this,r||{})};c.extend(f.Object.prototype,{escapeHTML:O,h:O,toHash:function(){var r=
{};c.each(this,function(u,A){n(A)||(r[u]=A)});return r},toHTML:function(){var r="";c.each(this,function(u,A){n(A)||(r+="<strong>"+u+"</strong> "+A+"<br />")});return r},keys:function(r){var u=[];for(var A in this)if(!n(this[A])||!r)u.push(A);return u},has:function(r){return this[r]&&c.trim(this[r].toString())!==""},join:function(){var r=l(arguments),u=r.shift();return r.join(u)},log:function(){f.log.apply(f,arguments)},toString:function(r){var u=[];c.each(this,function(A,H){if(!n(H)||r)u.push('"'+
A+'": '+H.toString())});return"Sammy.Object: {"+u.join(",")+"}"}});f.DefaultLocationProxy=function(r,u){this.app=r;this.is_native=false;this.has_history=ea;this._startPolling(u)};f.DefaultLocationProxy.fullPath=function(r){var u=r.toString().match(/^[^#]*(#.+)$/);return[r.pathname,r.search,u?u[1]:""].join("")};f.DefaultLocationProxy.prototype={bind:function(){var r=this,u=this.app,A=f.DefaultLocationProxy;c(a).bind("hashchange."+this.app.eventNamespace(),function(H,Z){if(r.is_native===false&&!Z){r.is_native=
true;a.clearInterval(A._interval)}u.trigger("location-changed")});if(ea&&!u.disable_push_state){c(a).bind("popstate."+this.app.eventNamespace(),function(){u.trigger("location-changed")});c("a").live("click.history-"+this.app.eventNamespace(),function(H){var Z=A.fullPath(this);if(this.hostname==a.location.hostname&&u.lookupRoute("get",Z)){H.preventDefault();r.setLocation(Z);return false}})}if(!A._bindings)A._bindings=0;A._bindings++},unbind:function(){c(a).unbind("hashchange."+this.app.eventNamespace());
c(a).unbind("popstate."+this.app.eventNamespace());c("a").die("click.history-"+this.app.eventNamespace());f.DefaultLocationProxy._bindings--;f.DefaultLocationProxy._bindings<=0&&a.clearInterval(f.DefaultLocationProxy._interval)},getLocation:function(){return f.DefaultLocationProxy.fullPath(a.location)},setLocation:function(r){if(/^([^#\/]|$)/.test(r))r=ea?"/"+r:"#!/"+r;if(r!=this.getLocation())if(ea&&/^\//.test(r)){history.pushState({path:r},a.title,r);this.app.trigger("location-changed")}else return a.location=
r},_startPolling:function(r){var u=this;if(!f.DefaultLocationProxy._interval){r||(r=10);var A=function(){var H=u.getLocation();if(typeof f.DefaultLocationProxy._last_location=="undefined"||H!=f.DefaultLocationProxy._last_location)a.setTimeout(function(){c(a).trigger("hashchange",[true])},0);f.DefaultLocationProxy._last_location=H};A();f.DefaultLocationProxy._interval=a.setInterval(A,r)}}};f.Application=function(r){var u=this;this.routes={};this.listeners=new f.Object({});this.arounds=[];this.befores=
[];this.namespace=(new Date).getTime()+"-"+parseInt(Math.random()*1E3,10);this.context_prototype=function(){f.EventContext.apply(this,arguments)};this.context_prototype.prototype=new f.EventContext;n(r)&&r.apply(this,[this]);this._location_proxy||this.setLocationProxy(new f.DefaultLocationProxy(this,this.run_interval_every));this.debug&&this.bindToAllEvents(function(A,H){u.log(u.toString(),A.cleaned_type,H||{})})};f.Application.prototype=c.extend({},f.Object.prototype,{ROUTE_VERBS:["get","post","put",
"delete"],APP_EVENTS:["run","unload","lookup-route","run-route","route-found","event-context-before","event-context-after","changed","error","check-form-submission","redirect","location-changed"],_last_route:null,_location_proxy:null,_running:false,element_selector:"body",debug:false,raise_errors:false,run_interval_every:50,disable_push_state:false,template_engine:null,toString:function(){return"Sammy.Application:"+this.element_selector},$element:function(r){return r?c(this.element_selector).find(r):
c(this.element_selector)},use:function(){var r=l(arguments),u=r.shift(),A=u||"";try{r.unshift(this);if(typeof u=="string"){A="Sammy."+u;u=f[u]}u.apply(this,r)}catch(H){if(typeof u==="undefined")this.error("Plugin Error: called use() but plugin ("+A.toString()+") is not defined",H);else n(u)?this.error("Plugin Error",H):this.error("Plugin Error: called use() but '"+A.toString()+"' is not a function",H)}return this},setLocationProxy:function(r){var u=this._location_proxy;this._location_proxy=r;if(this.isRunning()){u&&
u.unbind();this._location_proxy.bind()}},route:function(r,u,A){var H=this,Z=[],ca,y;if(!A&&n(u)){A=u=r;r="any"}r=r.toLowerCase();if(u.constructor==String){for(e.lastIndex=0;(y=e.exec(u))!==null;)Z.push(y[1]);u=new RegExp(u.replace(e,"([^/]+)")+"$")}if(typeof A=="string")A=H[A];ca=function(aa){var ka={verb:aa,path:u,callback:A,param_names:Z};H.routes[aa]=H.routes[aa]||[];H.routes[aa].push(ka)};r==="any"?c.each(this.ROUTE_VERBS,function(aa,ka){ca(ka)}):ca(r);return this},get:P("get"),post:P("post"),
put:P("put"),del:P("delete"),any:P("any"),mapRoutes:function(r){var u=this;c.each(r,function(A,H){u.route.apply(u,H)});return this},eventNamespace:function(){return["sammy-app",this.namespace].join("-")},bind:function(r,u,A){var H=this;if(typeof A=="undefined")A=u;u=function(Z,ca){var y;if(ca&&ca.context){y=ca.context;delete ca.context}else y=new H.context_prototype(H,"bind",Z.type,ca,Z.target);Z.cleaned_type=Z.type.replace(H.eventNamespace(),"");A.apply(y,[Z,ca])};this.listeners[r]||(this.listeners[r]=
[]);this.listeners[r].push(u);this.isRunning()&&this._listen(r,u);return this},trigger:function(r,u){this.$element().trigger([r,this.eventNamespace()].join("."),[u]);return this},refresh:function(){this.last_location=null;this.trigger("location-changed");return this},before:function(r,u){if(n(r)){u=r;r={}}this.befores.push([r,u]);return this},after:function(r){return this.bind("event-context-after",r)},around:function(r){this.arounds.push(r);return this},isRunning:function(){return this._running},
helpers:function(r){c.extend(this.context_prototype.prototype,r);return this},helper:function(r,u){this.context_prototype.prototype[r]=u;return this},run:function(r){if(this.isRunning())return false;var u=this;c.each(this.listeners.toHash(),function(A,H){c.each(H,function(Z,ca){u._listen(A,ca)})});this.trigger("run",{start_url:r});this._running=true;this.last_location=null;!/\#(.+)/.test(this.getLocation())&&typeof r!="undefined"&&this.setLocation(r);this._checkLocation();this._location_proxy.bind();
this.bind("location-changed",function(){u._checkLocation()});this.bind("submit",function(A){return u._checkFormSubmission(c(A.target).closest("form"))===false?A.preventDefault():false});c(a).bind("beforeunload",function(){u.unload()});return this.trigger("changed")},unload:function(){if(!this.isRunning())return false;var r=this;this.trigger("unload");this._location_proxy.unbind();this.$element().unbind("submit").removeClass(r.eventNamespace());c.each(this.listeners.toHash(),function(u,A){c.each(A,
function(H,Z){r._unlisten(u,Z)})});this._running=false;return this},bindToAllEvents:function(r){var u=this;c.each(this.APP_EVENTS,function(A,H){u.bind(H,r)});c.each(this.listeners.keys(true),function(A,H){c.inArray(H,u.APP_EVENTS)==-1&&u.bind(H,r)});return this},routablePath:function(r){return r.replace(h,"")},lookupRoute:function(r,u){var A=false,H=0,Z,ca;if(typeof this.routes[r]!="undefined")for(Z=this.routes[r].length;H<Z;H++){ca=this.routes[r][H];if(this.routablePath(u).match(ca.path)){A=ca;break}}return A},
runRoute:function(r,u,A,H){var Z=this,ca=this.lookupRoute(r,u),y,aa,ka,pa,Ba,sa,T;this.log("runRoute",[r,u].join(" "));this.trigger("run-route",{verb:r,path:u,params:A});if(typeof A=="undefined")A={};c.extend(A,this._parseQueryString(u));if(ca){this.trigger("route-found",{route:ca});if((sa=ca.path.exec(this.routablePath(u)))!==null){sa.shift();c.each(sa,function(p,d){if(ca.param_names[p])A[ca.param_names[p]]=D(d);else{if(!A.splat)A.splat=[];A.splat.push(D(d))}})}y=new this.context_prototype(this,
r,u,A,H);H=this.arounds.slice(0);ka=this.befores.slice(0);Ba=[y].concat(A.splat);aa=function(){for(var p;ka.length>0;){pa=ka.shift();if(Z.contextMatchesOptions(y,pa[0])){p=pa[1].apply(y,[y]);if(p===false)return false}}Z.last_route=ca;y.trigger("event-context-before",{context:y});p=ca.callback.apply(y,Ba);y.trigger("event-context-after",{context:y});return p};c.each(H.reverse(),function(p,d){var B=aa;aa=function(){return d.apply(y,[B])}});try{T=aa()}catch(Q){this.error(["500 Error",r,u].join(" "),
Q)}return T}else return this.notFound(r,u)},contextMatchesOptions:function(r,u,A){u=u;if(typeof u==="undefined"||u=={})return true;if(typeof A==="undefined")A=true;if(typeof u==="string"||n(u.test))u={path:u};if(u.only)return this.contextMatchesOptions(r,u.only,true);else if(u.except)return this.contextMatchesOptions(r,u.except,false);var H=true,Z=true;if(u.path){if(!n(u.path.test))u.path=new RegExp(u.path.toString()+"$");H=u.path.test(r.path)}if(u.verb)Z=typeof u.verb==="string"?u.verb===r.verb:
u.verb.indexOf(r.verb)>-1;return A?Z&&H:!(Z&&H)},getLocation:function(){return this._location_proxy.getLocation()},setLocation:function(r){return this._location_proxy.setLocation(r)},swap:function(r){return this.$element().html(r)},templateCache:function(r,u){return typeof u!="undefined"?(X[r]=u):X[r]},clearTemplateCache:function(){return X={}},notFound:function(r,u){var A=this.error(["404 Not Found",r,u].join(" "));return r==="get"?A:true},error:function(r,u){u||(u=new Error);u.message=[r,u.message].join(" ");
this.trigger("error",{message:u.message,error:u});if(this.raise_errors)throw u;else this.log(u.message,u)},_checkLocation:function(){var r,u;r=this.getLocation();if(!this.last_location||this.last_location[0]!="get"||this.last_location[1]!=r){this.last_location=["get",r];u=this.runRoute("get",r)}return u},_getFormVerb:function(r){r=c(r);var u,A;A=r.find('input[name="_method"]');if(A.length>0)u=A.val();u||(u=r[0].getAttribute("method"));if(!u||u=="")u="get";return c.trim(u.toString().toLowerCase())},
_checkFormSubmission:function(r){var u,A,H;this.trigger("check-form-submission",{form:r});u=c(r);A=u.attr("action")||"";H=this._getFormVerb(u);this.log("_checkFormSubmission",u,A,H);if(H==="get"){this.setLocation(A+"?"+this._serializeFormParams(u));r=false}else{u=c.extend({},this._parseFormParams(u));r=this.runRoute(H,A,u,r.get(0))}return typeof r=="undefined"?false:r},_serializeFormParams:function(r){var u="";r=r.serializeArray();var A;if(r.length>0){u=this._encodeFormPair(r[0].name,r[0].value);
for(A=1;A<r.length;A++)u=u+"&"+this._encodeFormPair(r[A].name,r[A].value)}return u},_encodeFormPair:function(r,u){return C(r)+"="+C(u)},_parseFormParams:function(r){var u={};r=r.serializeArray();var A;for(A=0;A<r.length;A++)u=this._parseParamPair(u,r[A].name,r[A].value);return u},_parseQueryString:function(r){var u={},A,H;if(r=r.match(h)){r=r[1].split("&");for(H=0;H<r.length;H++){A=r[H].split("=");u=this._parseParamPair(u,D(A[0]),D(A[1]||""))}}return u},_parseParamPair:function(r,u,A){if(r[u])if(v(r[u]))r[u].push(A);
else r[u]=[r[u],A];else r[u]=A;return r},_listen:function(r,u){return this.$element().bind([r,this.eventNamespace()].join("."),u)},_unlisten:function(r,u){return this.$element().unbind([r,this.eventNamespace()].join("."),u)}});f.RenderContext=function(r){this.event_context=r;this.callbacks=[];this.content=this.previous_content=null;this.waiting=this.next_engine=false};f.RenderContext.prototype=c.extend({},f.Object.prototype,{then:function(r){if(!n(r))if(typeof r==="string"&&r in this.event_context){var u=
this.event_context[r];r=function(H){return u.apply(this.event_context,[H])}}else return this;var A=this;if(this.waiting)this.callbacks.push(r);else{this.wait();a.setTimeout(function(){var H=r.apply(A,[A.content,A.previous_content]);H!==false&&A.next(H)},0)}return this},wait:function(){this.waiting=true},next:function(r){this.waiting=false;if(typeof r!=="undefined"){this.previous_content=this.content;this.content=r}this.callbacks.length>0&&this.then(this.callbacks.shift())},load:function(r,u,A){var H=
this;return this.then(function(){var Z,ca,y;if(n(u)){A=u;u={}}else u=c.extend({},u);A&&this.then(A);if(typeof r==="string"){Z=(y=r.match(/\.json$/)||u.json)&&u.cache===true||u.cache!==false;H.next_engine=H.event_context.engineFor(r);delete u.cache;delete u.json;if(u.engine){H.next_engine=u.engine;delete u.engine}if(Z&&(ca=this.event_context.app.templateCache(r)))return ca;this.wait();c.ajax(c.extend({url:r,data:{},dataType:y?"json":null,type:"get",success:function(aa){Z&&H.event_context.app.templateCache(r,
aa);H.next(aa)}},u));return false}else{if(r.nodeType)return r.innerHTML;if(r.selector){H.next_engine=r.attr("data-engine");return u.clone===false?r.remove()[0].innerHTML.toString():r[0].innerHTML.toString()}}})},loadPartials:function(r){if(r){this.partials=this.partials||{};for(name in r)this.load(r[name]).then(function(u){this.partials[name]=u})}return this},render:function(r,u,A,H){return n(r)&&!u?this.then(r):this.loadPartials(H).load(r).interpolate(u,r).then(A)},partial:function(r,u){return this.render(r,
u).swap()},send:function(){var r=this,u=l(arguments),A=u.shift();if(v(u[0]))u=u[0];return this.then(function(){u.push(function(H){r.next(H)});r.wait();A.apply(A,u);return false})},collect:function(r,u,A){var H=this,Z=function(){if(n(r)){u=r;r=this.content}var ca=[],y=false;c.each(r,function(aa,ka){var pa=u.apply(H,[aa,ka]);if(pa.jquery&&pa.length==1){pa=pa[0];y=true}ca.push(pa);return pa});return y?ca:ca.join("")};return A?Z():this.then(Z)},renderEach:function(r,u,A,H){if(v(u)){H=A;A=u;u=null}return this.load(r).then(function(Z){var ca=
this;A||(A=v(this.previous_content)?this.previous_content:[]);if(H)c.each(A,function(y,aa){var ka={},pa=this.next_engine||r;u?(ka[u]=aa):(ka=aa);H(aa,ca.event_context.interpolate(Z,ka,pa))});else return this.collect(A,function(y,aa){var ka={},pa=this.next_engine||r;u?(ka[u]=aa):(ka=aa);return this.event_context.interpolate(Z,ka,pa)},true)})},interpolate:function(r,u,A){var H=this;return this.then(function(Z,ca){if(!r&&ca)r=ca;if(this.next_engine){u=this.next_engine;this.next_engine=false}var y=H.event_context.interpolate(Z,
r,u,this.partials);return A?ca+y:y})},swap:function(){return this.then(function(r){this.event_context.swap(r)}).trigger("changed",{})},appendTo:function(r){return this.then(function(u){c(r).append(u)}).trigger("changed",{})},prependTo:function(r){return this.then(function(u){c(r).prepend(u)}).trigger("changed",{})},replace:function(r){return this.then(function(u){c(r).html(u)}).trigger("changed",{})},trigger:function(r,u){return this.then(function(A){if(typeof u=="undefined")u={content:A};this.event_context.trigger(r,
u)})}});f.EventContext=function(r,u,A,H,Z){this.app=r;this.verb=u;this.path=A;this.params=new f.Object(H);this.target=Z};f.EventContext.prototype=c.extend({},f.Object.prototype,{$element:function(){return this.app.$element(l(arguments).shift())},engineFor:function(r){var u;if(n(r))return r;r=(r||this.app.template_engine).toString();if(u=r.match(/\.([^\.\?\#]+)$/))r=u[1];if(r&&n(this[r]))return this[r];if(this.app.template_engine)return this.engineFor(this.app.template_engine);return function(A){return A}},
interpolate:function(r,u,A,H){return this.engineFor(A).apply(this,[r,u,H])},render:function(r,u,A,H){return(new f.RenderContext(this)).render(r,u,A,H)},renderEach:function(r,u,A,H){return(new f.RenderContext(this)).renderEach(r,u,A,H)},load:function(r,u,A){return(new f.RenderContext(this)).load(r,u,A)},partial:function(r,u){return(new f.RenderContext(this)).partial(r,u)},send:function(){var r=new f.RenderContext(this);return r.send.apply(r,arguments)},redirect:function(){var r;r=l(arguments);var u=
this.app.getLocation(),A=r.length;if(A>1){for(var H=0,Z=[],ca=[],y={},aa=false;H<A;H++)if(typeof r[H]=="string")Z.push(r[H]);else{c.extend(y,r[H]);aa=true}r=Z.join("/");if(aa){for(var ka in y)ca.push(this.app._encodeFormPair(ka,y[ka]));r+="?"+ca.join("&")}}else r=r[0];this.trigger("redirect",{to:r});this.app.last_location=[this.verb,this.path];this.app.setLocation(r);(new RegExp(r)).test(u)&&this.app.trigger("location-changed")},trigger:function(r,u){if(typeof u=="undefined")u={};if(!u.context)u.context=
this;return this.app.trigger(r,u)},eventNamespace:function(){return this.app.eventNamespace()},swap:function(r){return this.app.swap(r)},notFound:function(){return this.app.notFound(this.verb,this.path)},json:function(r){return c.parseJSON(r)},toString:function(){return"Sammy.EventContext: "+[this.verb,this.path,this.params].join(" ")}});c.sammy=a.Sammy=f})(jQuery,window);
(function(c){Sammy=Sammy||{};Sammy.Title=function(){this.setTitle=function(a){this.title_function=c.isFunction(a)?a:function(f){return[a,f].join(" ")}};this.helper("title",function(){var a=c.makeArray(arguments).join(" ");if(this.app.title_function)a=this.app.title_function(a);document.title=a})}})(jQuery);
(function(c){function a(e){e=unescape(e);return e==="true"?true:e==="false"?false:e}function f(e,h,l){var n;if(h.match(/^[^\[]+$/))e[h]=a(l);else if(n=h.match(/^([^\[]+)\[\](.*)$/)){h=n[1];n=n[2];if(e[h]&&!c.isArray(e[h]))throw"400 Bad Request";if(n){n=n.match(/^\[([^\]]+)\](.*)$/);if(!n)throw"400 Bad Request";if(e[h])e[h][e[h].length-1][n[1]]?e[h].push(f({},n[1]+n[2],l)):c.extend(true,e[h][e[h].length-1],f({},n[1]+n[2],l));else e[h]=[f({},n[1]+n[2],l)]}else if(e[h])e[h].push(a(l));else e[h]=[a(l)]}else if(n=
h.match(/^([^\[]+)\[([^\[]+)\](.*)$/)){h=n[1];n=n[2]+n[3];if(e[h]&&c.isArray(e[h]))throw"400 Bad Request";if(e[h])c.extend(true,e[h],f(e[h],n,l));else e[h]=f({},n,l)}return e}Sammy=Sammy||{};Sammy.NestedParams=function(e){e._parseParamPair=f}})(jQuery);
(function(){if(!window.JSON)window.JSON={};(function(){function c(C){return C<10?"0"+C:C}function a(C){h.lastIndex=0;return h.test(C)?'"'+C.replace(h,function(O){var P=v[O];return typeof P==="string"?P:"\\u"+("0000"+O.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+C+'"'}function f(C,O){var P,X,ea,ma,r=l,u,A=O[C];if(A&&typeof A==="object"&&typeof A.toJSON==="function")A=A.toJSON(C);if(typeof D==="function")A=D.call(O,C,A);switch(typeof A){case "string":return a(A);case "number":return isFinite(A)?
String(A):"null";case "boolean":case "null":return String(A);case "object":if(!A)return"null";l+=n;u=[];if(Object.prototype.toString.apply(A)==="[object Array]"){ma=A.length;for(P=0;P<ma;P+=1)u[P]=f(P,A)||"null";ea=u.length===0?"[]":l?"[\n"+l+u.join(",\n"+l)+"\n"+r+"]":"["+u.join(",")+"]";l=r;return ea}if(D&&typeof D==="object"){ma=D.length;for(P=0;P<ma;P+=1){X=D[P];if(typeof X==="string")if(ea=f(X,A))u.push(a(X)+(l?": ":":")+ea)}}else for(X in A)if(Object.hasOwnProperty.call(A,X))if(ea=f(X,A))u.push(a(X)+
(l?": ":":")+ea);ea=u.length===0?"{}":l?"{\n"+l+u.join(",\n"+l)+"\n"+r+"}":"{"+u.join(",")+"}";l=r;return ea}}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return this.getUTCFullYear()+"-"+c(this.getUTCMonth()+1)+"-"+c(this.getUTCDate())+"T"+c(this.getUTCHours())+":"+c(this.getUTCMinutes())+":"+c(this.getUTCSeconds())+"Z"};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var e=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
h=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,l,n,v={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},D;if(typeof JSON.stringify!=="function")JSON.stringify=function(C,O,P){var X;n=l="";if(typeof P==="number")for(X=0;X<P;X+=1)n+=" ";else if(typeof P==="string")n=P;if((D=O)&&typeof O!=="function"&&(typeof O!=="object"||typeof O.length!=="number"))throw new Error("JSON.stringify");return f("",
{"":C})};if(typeof JSON.parse!=="function")JSON.parse=function(C,O){function P(ea,ma){var r,u,A=ea[ma];if(A&&typeof A==="object")for(r in A)if(Object.hasOwnProperty.call(A,r)){u=P(A,r);if(u!==undefined)A[r]=u;else delete A[r]}return O.call(ea,ma,A)}var X;e.lastIndex=0;if(e.test(C))C=C.replace(e,function(ea){return"\\u"+("0000"+ea.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(C.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){X=eval("("+C+")");return typeof O==="function"?P({"":X},""):X}throw new SyntaxError("JSON.parse");}})();Sammy=Sammy||{};Sammy.JSON=function(c){c.helpers({json:function(a){return typeof a=="string"?JSON.parse(a):JSON.stringify(a)}})}})(jQuery);
var Mustache=function(){var c=function(){};c.prototype={otag:"{{",ctag:"}}",pragmas:{},buffer:[],pragmas_implemented:{"IMPLICIT-ITERATOR":true},context:{},render:function(a,f,e,h){if(!h){this.context=f;this.buffer=[]}if(!this.includes("",a))if(h)return a;else{this.send(a);return}a=this.render_pragmas(a);a=this.render_section(a,f,e);if(h)return this.render_tags(a,f,e,h);this.render_tags(a,f,e,h)},send:function(a){a!==""&&this.buffer.push(a)},render_pragmas:function(a){if(!this.includes("%",a))return a;
var f=this;return a.replace(new RegExp(this.otag+"%([\\w-]+) ?([\\w]+=[\\w]+)?"+this.ctag,"g"),function(e,h,l){if(!f.pragmas_implemented[h])throw{message:"This implementation of mustache doesn't understand the '"+h+"' pragma"};f.pragmas[h]={};if(l){e=l.split("=");f.pragmas[h][e[0]]=e[1]}return""})},render_partial:function(a,f,e){a=this.trim(a);if(!e||e[a]===undefined)throw{message:"unknown_partial '"+a+"'"};if(typeof f[a]!="object")return this.render(e[a],f,e,true);return this.render(e[a],f[a],e,
true)},render_section:function(a,f,e){if(!this.includes("#",a)&&!this.includes("^",a))return a;var h=this;return a.replace(new RegExp(this.otag+"(\\^|\\#)\\s*(.+)\\s*"+this.ctag+"\n*([\\s\\S]+?)"+this.otag+"\\/\\s*\\2\\s*"+this.ctag+"\\s*","mg"),function(l,n,v,D){l=h.find(v,f);if(n=="^")return!l||h.is_array(l)&&l.length===0?h.render(D,f,e,true):"";else if(n=="#")return h.is_array(l)?h.map(l,function(C){return h.render(D,h.create_context(C),e,true)}).join(""):h.is_object(l)?h.render(D,h.create_context(l),
e,true):typeof l==="function"?l.call(f,D,function(C){return h.render(C,f,e,true)}):l?h.render(D,f,e,true):""})},render_tags:function(a,f,e,h){var l=this,n=function(){return new RegExp(l.otag+"(=|!|>|\\{|%)?([^\\/#\\^]+?)\\1?"+l.ctag+"+","g")},v=n(),D=function(O,P,X){switch(P){case "!":return"";case "=":l.set_delimiters(X);v=n();return"";case ">":return l.render_partial(X,f,e);case "{":return l.find(X,f);default:return l.escape(l.find(X,f))}};a=a.split("\n");for(var C=0;C<a.length;C++){a[C]=a[C].replace(v,
D,this);h||this.send(a[C])}if(h)return a.join("\n")},set_delimiters:function(a){a=a.split(" ");this.otag=this.escape_regex(a[0]);this.ctag=this.escape_regex(a[1])},escape_regex:function(a){if(!arguments.callee.sRE)arguments.callee.sRE=new RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\)","g");return a.replace(arguments.callee.sRE,"\\$1")},find:function(a,f){a=this.trim(a);var e;if(f[a]===false||f[a]===0||f[a])e=f[a];else if(this.context[a]===false||this.context[a]===0||this.context[a])e=
this.context[a];if(typeof e==="function")return e.apply(f);if(e!==undefined)return e;return""},includes:function(a,f){return f.indexOf(this.otag+a)!=-1},escape:function(a){return String(a===null?"":a).replace(/&(?!\w+;)|["'<>\\]/g,function(f){switch(f){case "&":return"&amp;";case "\\":return"\\\\";case '"':return"&quot;";case "'":return"&#39;";case "<":return"&lt;";case ">":return"&gt;";default:return f}})},create_context:function(a){if(this.is_object(a))return a;else{var f=".";if(this.pragmas["IMPLICIT-ITERATOR"])f=
this.pragmas["IMPLICIT-ITERATOR"].iterator;var e={};e[f]=a;return e}},is_object:function(a){return a&&typeof a=="object"},is_array:function(a){return Object.prototype.toString.call(a)==="[object Array]"},trim:function(a){return a.replace(/^\s*|\s*$/g,"")},map:function(a,f){if(typeof a.map=="function")return a.map(f);else{for(var e=[],h=a.length,l=0;l<h;l++)e.push(f(a[l]));return e}}};return{name:"mustache.js",version:"0.3.1-dev",to_html:function(a,f,e,h){var l=new c;if(h)l.send=h;l.render(a,f,e);
if(!h)return l.buffer.join("\n")}}}();(function(c){Sammy=Sammy||{};Sammy.Mustache=function(a,f){f||(f="mustache");a.helper(f,function(e,h,l){h=c.extend({},this,h);l=c.extend({},h.partials,l);return Mustache.to_html(e,h,l)})}})(jQuery);
window.Modernizr=function(c,a,f){function e(){v.input=function(Q){for(var p=0,d=Q.length;p<d;p++)ca[Q[p]]=!!(Q[p]in X);return ca}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" "));v.inputtypes=function(Q){for(var p=0,d,B,J,R=Q.length;p<R;p++){X.setAttribute("type",B=Q[p]);(d=X.type!=="text")&&(X.value=ea,X.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(B)&&X.style.WebkitAppearance!==f?(D.appendChild(X),J=a.defaultView,d=J.getComputedStyle&&
J.getComputedStyle(X,null).WebkitAppearance!=="textfield"&&X.offsetHeight!==0,D.removeChild(X)):/^(search|tel)$/.test(B)||(/^(url|email)$/.test(B)?(d=X.checkValidity&&X.checkValidity()===false):/^color$/.test(B)?(D.appendChild(X),d=X.value!=ea,D.removeChild(X)):(d=X.value!=ea)));Z[Q[p]]=!!d}return Z}("search tel url email datetime date month week time datetime-local number range color".split(" "))}function h(Q,p){var d=Q.charAt(0).toUpperCase()+Q.substr(1);d=(Q+" "+u.join(d+" ")+d).split(" ");return!!l(d,
p)}function l(Q,p){for(var d in Q)if(P[Q[d]]!==f&&(!p||p(Q[d],O)))return true}function n(Q,p){return typeof Q===p}var v={},D=a.documentElement,C=a.head||a.getElementsByTagName("head")[0],O=a.createElement("modernizr"),P=O.style,X=a.createElement("input"),ea=":)",ma=Object.prototype.toString,r=" -webkit- -moz- -o- -ms- -khtml- ".split(" "),u="Webkit Moz O ms Khtml".split(" "),A={svg:"http://www.w3.org/2000/svg"},H={},Z={},ca={},y=[],aa,ka=function(Q){var p=a.createElement("style"),d=a.createElement("div");
p.textContent=Q+"{#modernizr{height:3px}}";C.appendChild(p);d.id="modernizr";D.appendChild(d);Q=d.offsetHeight===3;p.parentNode.removeChild(p);d.parentNode.removeChild(d);return!!Q},pa=function(){var Q={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return function(p,d){d=d||a.createElement(Q[p]||"div");var B=(p="on"+p)in d;B||(d.setAttribute||(d=a.createElement("div")),d.setAttribute&&d.removeAttribute&&(d.setAttribute(p,""),B=n(d[p],"function"),n(d[p],
f)||(d[p]=f),d.removeAttribute(p)));return B}}(),Ba={}.hasOwnProperty,sa;n(Ba,f)||n(Ba.call,f)?(sa=function(Q,p){return p in Q&&n(Q.constructor.prototype[p],f)}):(sa=function(Q,p){return Ba.call(Q,p)});H.flexbox=function(){var Q=a.createElement("div"),p=a.createElement("div");(function(B,J,R,Y){J+=":";B.style.cssText=(J+r.join(R+";"+J)).slice(0,-J.length)+(Y||"")})(Q,"display","box","width:42px;padding:0;");p.style.cssText=r.join("box-flex:1;")+"width:10px;";Q.appendChild(p);D.appendChild(Q);var d=
p.offsetWidth===42;Q.removeChild(p);D.removeChild(Q);return d};H.canvas=function(){var Q=a.createElement("canvas");return Q.getContext&&Q.getContext("2d")};H.canvastext=function(){return v.canvas&&n(a.createElement("canvas").getContext("2d").fillText,"function")};H.webgl=function(){return!!c.WebGLRenderingContext};H.touch=function(){return"ontouchstart"in c||ka("@media ("+r.join("touch-enabled),(")+"modernizr)")};H.geolocation=function(){return!!navigator.geolocation};H.postmessage=function(){return!!c.postMessage};
H.websqldatabase=function(){return!!c.openDatabase};H.indexedDB=function(){for(var Q=-1,p=u.length;++Q<p;){var d=u[Q].toLowerCase();if(c[d+"_indexedDB"]||c[d+"IndexedDB"])return true}return false};H.hashchange=function(){return pa("hashchange",c)&&(a.documentMode===f||a.documentMode>7)};H.history=function(){return!!(c.history&&history.pushState)};H.draganddrop=function(){return pa("dragstart")&&pa("drop")};H.websockets=function(){return"WebSocket"in c};H.rgba=function(){P.cssText="background-color:rgba(150,255,150,.5)";
return(""+P.backgroundColor).indexOf("rgba")!==-1};H.hsla=function(){P.cssText="background-color:hsla(120,40%,100%,.5)";return(""+P.backgroundColor).indexOf("rgba")!==-1||(""+P.backgroundColor).indexOf("hsla")!==-1};H.multiplebgs=function(){P.cssText="background:url(//:),url(//:),red url(//:)";return/(url\s*\(.*?){3}/.test(P.background)};H.backgroundsize=function(){return h("backgroundSize")};H.borderimage=function(){return h("borderImage")};H.borderradius=function(){return h("borderRadius","",function(Q){return(""+
Q).indexOf("orderRadius")!==-1})};H.boxshadow=function(){return h("boxShadow")};H.textshadow=function(){return a.createElement("div").style.textShadow===""};H.opacity=function(){var Q=r.join("opacity:.55;")+"";P.cssText=Q;return/^0.55$/.test(P.opacity)};H.cssanimations=function(){return h("animationName")};H.csscolumns=function(){return h("columnCount")};H.cssgradients=function(){var Q=("background-image:"+r.join("gradient(linear,left top,right bottom,from(#9f9),to(white));background-image:")+r.join("linear-gradient(left top,#9f9, white);background-image:")).slice(0,
-17);P.cssText=Q;return(""+P.backgroundImage).indexOf("gradient")!==-1};H.cssreflections=function(){return h("boxReflect")};H.csstransforms=function(){return!!l(["transformProperty","WebkitTransform","MozTransform","OTransform","msTransform"])};H.csstransforms3d=function(){var Q=!!l(["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"]);Q&&"webkitPerspective"in D.style&&(Q=ka("@media ("+r.join("transform-3d),(")+"modernizr)"));return Q};H.csstransitions=function(){return h("transitionProperty")};
H.fontface=function(){var Q,p,d=C||D,B=a.createElement("style");p=a.implementation||{hasFeature:function(){return false}};B.type="text/css";d.insertBefore(B,d.firstChild);Q=B.sheet||B.styleSheet;p=(p.hasFeature("CSS2","")?function(J){if(!Q||!J)return false;var R=false;try{Q.insertRule(J,0);R=/src/i.test(Q.cssRules[0].cssText);Q.deleteRule(Q.cssRules.length-1)}catch(Y){}return R}:function(J){if(!Q||!J)return false;Q.cssText=J;return Q.cssText.length!==0&&/src/i.test(Q.cssText)&&Q.cssText.replace(/\r+|\n+/g,
"").indexOf(J.split(" ")[0])===0})('@font-face { font-family: "font"; src: url(data:,); }');d.removeChild(B);return p};H.video=function(){var Q=a.createElement("video"),p=!!Q.canPlayType;if(p){p=new Boolean(p);p.ogg=Q.canPlayType('video/ogg; codecs="theora"');p.h264=Q.canPlayType('video/mp4; codecs="avc1.42E01E"')||Q.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"');p.webm=Q.canPlayType('video/webm; codecs="vp8, vorbis"')}return p};H.audio=function(){var Q=a.createElement("audio"),p=!!Q.canPlayType;
p&&(p=new Boolean(p),p.ogg=Q.canPlayType('audio/ogg; codecs="vorbis"'),p.mp3=Q.canPlayType("audio/mpeg;"),p.wav=Q.canPlayType('audio/wav; codecs="1"'),p.m4a=Q.canPlayType("audio/x-m4a;")||Q.canPlayType("audio/aac;"));return p};H.localstorage=function(){try{return!!localStorage.getItem}catch(Q){return false}};H.sessionstorage=function(){try{return!!sessionStorage.getItem}catch(Q){return false}};H.webWorkers=function(){return!!c.Worker};H.applicationcache=function(){return!!c.applicationCache};H.svg=
function(){return!!a.createElementNS&&!!a.createElementNS(A.svg,"svg").createSVGRect};H.inlinesvg=function(){var Q=a.createElement("div");Q.innerHTML="<svg/>";return(Q.firstChild&&Q.firstChild.namespaceURI)==A.svg};H.smil=function(){return!!a.createElementNS&&/SVG/.test(ma.call(a.createElementNS(A.svg,"animate")))};H.svgclippaths=function(){return!!a.createElementNS&&/SVG/.test(ma.call(a.createElementNS(A.svg,"clipPath")))};for(var T in H)sa(H,T)&&(aa=T.toLowerCase(),v[aa]=H[T](),y.push((v[aa]?"":
"no-")+aa));v.input||e();v.crosswindowmessaging=v.postmessage;v.historymanagement=v.history;v.addTest=function(Q,p){Q=Q.toLowerCase();if(!v[Q]){p=!!p();D.className+=" "+(p?"":"no-")+Q;v[Q]=p;return v}};P.cssText="";O=X=null;c.attachEvent&&function(){var Q=a.createElement("div");Q.innerHTML="<elem></elem>";return Q.childNodes.length!==1}()&&function(Q,p){function d(wa,xa){for(var Ca=-1,ya=wa.length,Sa,$a=[];++Ca<ya;){Sa=wa[Ca];(xa=Sa.media||xa)!="screen"&&$a.push(d(Sa.imports,xa),Sa.cssText)}return $a.join("")}
function B(wa){for(var xa=-1;++xa<R;)wa.createElement(J[xa])}var J="abbr|article|aside|audio|canvas|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video".split("|"),R=J.length,Y=new RegExp("(^|\\s)(abbr|article|aside|audio|canvas|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video)","gi"),ia=new RegExp("<(/*)(abbr|article|aside|audio|canvas|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video)",
"gi"),Ka=new RegExp("(^|[^\\n]*?\\s)(abbr|article|aside|audio|canvas|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video)([^\\n]*)({[\\n\\w\\W]*?})","gi"),ab=p.createDocumentFragment(),Ta=p.documentElement,bb=Ta.firstChild,La=p.createElement("body"),Ma=p.createElement("style"),Ha;B(p);B(ab);bb.insertBefore(Ma,bb.firstChild);Ma.media="print";Q.attachEvent("onbeforeprint",function(){var wa=-1,xa=d(p.styleSheets,"all"),Ca=[],ya;for(Ha=Ha||p.body;(ya=
Ka.exec(xa))!=null;)Ca.push((ya[1]+ya[2]+ya[3]).replace(Y,"$1.iepp_$2")+ya[4]);for(Ma.styleSheet.cssText=Ca.join("\n");++wa<R;){xa=p.getElementsByTagName(J[wa]);Ca=xa.length;for(ya=-1;++ya<Ca;)xa[ya].className.indexOf("iepp_")<0&&(xa[ya].className+=" iepp_"+J[wa])}ab.appendChild(Ha);Ta.appendChild(La);La.className=Ha.className;La.innerHTML=Ha.innerHTML.replace(ia,"<$1font")});Q.attachEvent("onafterprint",function(){La.innerHTML="";Ta.removeChild(La);Ta.appendChild(Ha);Ma.styleSheet.cssText=""})}(c,
a);v._enableHTML5=true;v._version="1.7";D.className=D.className.replace(/\bno-js\b/,"")+" js "+y.join(" ");return v}(this,this.document);
var Model=function(c,a){var f=function(e){this.attributes=jQuery.extend({},e);this.changes={};this.errors=new Model.Errors(this);this.uid=[c,Model.UID.generate()].join("-");jQuery.isFunction(this.initialize)&&this.initialize()};Model.Module.extend.call(f,Model.Module);f._name=c;f.collection=[];f.unique_key="id";f.extend(Model.Callbacks).extend(Model.ClassMethods);f.prototype=new Model.Base;f.prototype.constructor=f;jQuery.isFunction(a)&&a.call(f,f,f.prototype);return f};
Model.Callbacks={bind:function(c,a){this.callbacks=this.callbacks||{};this.callbacks[c]=this.callbacks[c]||[];this.callbacks[c].push(a);return this},trigger:function(c,a){this.callbacks=this.callbacks||{};var f=this.callbacks[c];if(f)for(var e=0;e<f.length;e++)f[e].apply(this,a||[]);return this},unbind:function(c,a){this.callbacks=this.callbacks||{};if(a)for(var f=this.callbacks[c]||[],e=0;e<f.length;e++)f[e]===a&&this.callbacks[c].splice(e,1);else delete this.callbacks[c];return this}};
Model.ClassMethods={add:function(c){var a=c.id();if(jQuery.inArray(c,this.collection)===-1&&!(a&&this.find(a))){this.collection.push(c);this.trigger("add",[c])}return this},all:function(){return this.collection.slice()},chain:function(c){return jQuery.extend({},this,{collection:c})},count:function(){return this.all().length},detect:function(c){for(var a=this.all(),f,e=0,h=a.length;e<h;e++){f=a[e];if(c.call(f,f,e))return f}},each:function(c,a){for(var f=this.all(),e=0,h=f.length;e<h;e++)c.call(a||
f[e],f[e],e,f);return this},find:function(c){return this.detect(function(){return this.id()==c})},first:function(){return this.all()[0]},load:function(c){if(this._persistence){var a=this;this._persistence.read(function(f){for(var e=0,h=f.length;e<h;e++)a.add(f[e]);c&&c.call(a,f)})}return this},last:function(){var c=this.all();return c[c.length-1]},map:function(c,a){for(var f=this.all(),e=[],h=0,l=f.length;h<l;h++)e.push(c.call(a||f[h],f[h],h,f));return e},persistence:function(c){if(arguments.length==
0)return this._persistence;else{var a=Array.prototype.slice.call(arguments,1);a.unshift(this);this._persistence=c.apply(c,a);return this}},pluck:function(c){for(var a=this.all(),f=[],e=0,h=a.length;e<h;e++)f.push(a[e].attr(c));return f},remove:function(c){for(var a,f=0,e=this.collection.length;f<e;f++)if(this.collection[f]===c){a=f;break}if(a!=undefined){this.collection.splice(a,1);this.trigger("remove",[c]);return true}else return false},reverse:function(){return this.chain(this.all().reverse())},
select:function(c,a){for(var f=this.all(),e=[],h,l=0,n=f.length;l<n;l++){h=f[l];if(c.call(a||h,h,l,f))e.push(h)}return this.chain(e)},sort:function(c){return this.chain(this.all().sort(c))},sortBy:function(c){var a=jQuery.isFunction(c);return this.sort(function(f,e){var h=a?c.call(f):f.attr(c),l=a?c.call(e):e.attr(c);return h<l?-1:h>l?1:0})},use:function(c){var a=Array.prototype.slice.call(arguments,1);a.unshift(this);c.apply(this,a);return this}};
Model.Errors=function(c){this.errors={};this.model=c};Model.Errors.prototype={add:function(c,a){this.errors[c]||(this.errors[c]=[]);this.errors[c].push(a);return this},all:function(){return this.errors},clear:function(){this.errors={};return this},each:function(c){for(var a in this.errors)for(var f=0;f<this.errors[a].length;f++)c.call(this,a,this.errors[a][f]);return this},on:function(c){return this.errors[c]||[]},size:function(){var c=0;this.each(function(){c++});return c}};
Model.InstanceMethods={asJSON:function(){return this.attr()},attr:function(c,a){if(arguments.length===0)return jQuery.extend({},this.attributes,this.changes);else if(arguments.length===2){if(this.attributes[c]===a)delete this.changes[c];else this.changes[c]=a;return this}else if(typeof c==="object"){for(var f in c)this.attr(f,c[f]);return this}else return c in this.changes?this.changes[c]:this.attributes[c]},callPersistMethod:function(c,a){var f=this,e=function(h){if(h){f.merge(f.changes).reset();
c==="destroy"?f.constructor.remove(f):f.constructor.add(f);f.trigger(c)}var l;if(a)l=a.apply(f,arguments);return l};this.constructor._persistence?this.constructor._persistence[c](this,e):e.call(this,true)},destroy:function(c){this.callPersistMethod("destroy",c);return this},id:function(){return this.attributes[this.constructor.unique_key]},merge:function(c){jQuery.extend(this.attributes,c);return this},newRecord:function(){return this.id()===undefined},reset:function(){this.errors.clear();this.changes=
{};return this},save:function(c){if(this.valid())this.callPersistMethod(this.newRecord()?"create":"update",c);else c&&c(false);return this},valid:function(){this.errors.clear();this.validate();return this.errors.size()===0},validate:function(){return this}};
Model.localStorage=function(c){if(!window.localStorage)return{create:function(h,l){l(true)},destroy:function(h,l){l(true)},read:function(h){h([])},update:function(h,l){l(true)}};var a=[c._name,"collection"].join("-"),f=function(){var h=localStorage[a];return h?JSON.parse(h):[]},e=function(h){localStorage.setItem(h.uid,JSON.stringify(h.asJSON()));h=h.uid;var l=f();if(jQuery.inArray(h,l)===-1){l.push(h);localStorage.setItem(a,JSON.stringify(l))}};return{create:function(h,l){e(h);l(true)},destroy:function(h,
l){localStorage.removeItem(h.uid);var n=h.uid,v=f();n=jQuery.inArray(n,v);if(n>-1){v.splice(n,1);localStorage.setItem(a,JSON.stringify(v))}l(true)},read:function(h){if(!h)return false;for(var l=c.map(function(){return this.uid}),n=f(),v=[],D,C,O=0,P=n.length;O<P;O++){C=n[O];if(jQuery.inArray(C,l)==-1){D=JSON.parse(localStorage[C]);D=new c(D);D.uid=C;v.push(D)}}h(v)},update:function(h,l){e(h);l(true)}}};Model.Log=function(){window.console&&window.console.log.apply(window.console,arguments)};
Model.Module={extend:function(c){jQuery.extend(this,c);return this},include:function(c){jQuery.extend(this.prototype,c);return this}};
Model.REST=function(c,a,f){var e=/:([\w\d]+)/g,h=function(){for(var l=[],n;(n=e.exec(a))!==null;)l.push(n[1]);return l}();return jQuery.extend({path:function(l){var n=a;jQuery.each(h,function(v,D){n=n.replace(":"+D,l.attributes[D])});return n},create:function(l,n){return this.xhr("POST",this.create_path(l),l,n)},create_path:function(l){return this.path(l)},destroy:function(l,n){return this.xhr("DELETE",this.destroy_path(l),l,n)},destroy_path:function(l){return this.update_path(l)},params:function(l){var n;
if(l){var v=l.asJSON();delete v[l.constructor.unique_key];n={};n[l.constructor._name.toLowerCase()]=v}else n=null;if(jQuery.ajaxSettings.data)n=jQuery.extend({},jQuery.ajaxSettings.data,n);return n},read:function(l){return this.xhr("GET",this.read_path(),null,function(n,v,D){D=jQuery.makeArray(D);n=[];v=0;for(var C=D.length;v<C;v++)n.push(new c(D[v]));l(n)})},read_path:function(){return a},update:function(l,n){return this.xhr("PUT",this.update_path(l),l,n)},update_path:function(l){return[this.path(l),
l.id()].join("/")},xhr:function(l,n,v,D){var C=this,O=l=="GET"?undefined:this.params(v);return jQuery.ajax({type:l,url:n+".json",dataType:"json",data:O,dataFilter:function(P){return/\S/.test(P)?P:undefined},complete:function(P,X){C.xhrComplete(P,X,v,D)}})},xhrComplete:function(l,n,v,D){var C=Model.REST["handle"+l.status];C&&C.call(this,l,n,v);n=n==="success";C=Model.REST.parseResponseData(l);n&&v&&C&&v.attr(C);D&&D.call(v,n,l,C)}},f)};Model.RestPersistence=Model.REST;
Model.REST.handle422=function(c,a,f){if(c=Model.REST.parseResponseData(c)){f.errors.clear();for(var e in c)for(a=0;a<c[e].length;a++)f.errors.add(e,c[e][a])}};Model.REST.parseResponseData=function(c){try{return/\S/.test(c.responseText)?jQuery.parseJSON(c.responseText):undefined}catch(a){Model.Log(a)}};Model.UID={counter:0,generate:function(){return[(new Date).valueOf(),this.counter++].join("-")},reset:function(){this.counter=0;return this}};Model.VERSION="0.10.1";
Model.Base=function(){function c(){}c.prototype=jQuery.extend({},Model.Callbacks,Model.InstanceMethods);return c}();
Model.SinatraREST=function(c,a,f){var e=/:([\w\d]+)/g,h=function(){for(var l=[],n;(n=e.exec(a))!==null;)l.push(n[1]);return l}();return jQuery.extend({path:function(l){var n=a;jQuery.each(h,function(v,D){n=n.replace(":"+D,l.attributes[D])});return n},create:function(l,n){return this.xhr("POST",this.create_path(l),l,n)},create_path:function(l){return this.path(l)},destroy:function(l,n){return this.xhr("DELETE",this.destroy_path(l),l,n)},destroy_path:function(l){return this.update_path(l)},params:function(l){var n;
if(l){var v=l.asJSON();delete v[l.constructor.unique_key];n={};n[l.constructor._name.toLowerCase()]=v}else n=null;if(jQuery.ajaxSettings.data)n=jQuery.extend({},jQuery.ajaxSettings.data,n);return n},read:function(l){return this.xhr("GET",this.read_path(),null,function(n,v,D){D=jQuery.makeArray(D);n=[];v=0;for(var C=D.length;v<C;v++)n.push(new c(D[v]));l(n)})},read_path:function(){return a},update:function(l,n){return this.xhr("PUT",this.update_path(l),l,n)},update_path:function(l){return[this.path(l),
l.id()].join("/")},xhr:function(l,n,v,D){var C=this,O=l=="GET"?undefined:this.params(v);return jQuery.ajax({type:l,url:n+".json",dataType:"json",data:O,complete:function(P,X){C.xhrComplete(P,X,v,D)}})},xhrComplete:function(l,n,v,D){var C=Model.REST["handle"+l.status];C&&C.call(this,l,n,v);n=n==="success";C=Model.REST.parseResponseData(l);n&&v&&C&&v.attr(C);D&&D.call(v,n,l,C)}},f)};
jQuery.cookie=function(c,a,f){if(typeof a!="undefined"){f=f||{};if(a===null){a="";f.expires=-1}var e="";if(f.expires&&(typeof f.expires=="number"||f.expires.toUTCString)){if(typeof f.expires=="number"){e=new Date;e.setTime(e.getTime()+f.expires*24*60*60*1E3)}else e=f.expires;e="; expires="+e.toUTCString()}var h=f.path?"; path="+f.path:"",l=f.domain?"; domain="+f.domain:"";f=f.secure?"; secure":"";document.cookie=[c,"=",encodeURIComponent(a),e,h,l,f].join("")}else{a=null;if(document.cookie&&document.cookie!=
""){f=document.cookie.split(";");for(e=0;e<f.length;e++){h=jQuery.trim(f[e]);if(h.substring(0,c.length+1)==c+"="){a=decodeURIComponent(h.substring(c.length+1));break}}}return a}};
var Asset=Model("asset",function(){this.persistence(Model.REST,"/admin/assets");this.include({load:function(c){var a=this,f="/admin/assets/"+a.id()+".json";jQuery.ajax({type:"GET",url:f,dataType:"json",success:function(e){a.merge(e);c.call(this)}})},toMustache:function(c){this.merge({query_path:c?"?"+decodeURIComponent(jQuery.param({query:c})):"",query:c});return this.attr()},toMustacheWithNeighbors:function(c){Asset.all().indexOf(this);c=this.toMustache(c);jQuery("<img />")[0].src="/images/"+c.id+
"/"+c.file_name;return{asset:c}}});this.extend({find_all_by_folder_id:function(c){return this.select(function(){return this.attr("folder_id")==c})},toMustache:function(c){var a=c?"?"+decodeURIComponent(jQuery.param({query:c})):"";return this.map(function(f){f.merge({query_path:a,query:c});return f.attr()})},asJSON:function(){return Asset.map(function(c){return c.attr()})},tags:function(){tags=[];Asset.map(function(){tags=tags.concat(this.attr("tags"))});return tags},searchRemote:function(c,a){var f=
c!=null?decodeURIComponent(jQuery.param({query:c})):"";Asset.each(function(){Asset.remove(this)});jQuery.ajax({type:"get",url:"/search.json",contentType:"application/json",dataType:"json",data:f,success:function(e){jQuery.each(e,function(h,l){var n=new Asset({id:l.id});n.merge(l);Asset.add(n)});a.call(this)}})},searchAdmin:function(c,a){Asset.each(function(){Asset.remove(this)});jQuery.ajax({type:"get",url:"/admin/assets.json",contentType:"application/json",dataType:"json",data:c,success:function(f){$.each(f,
function(e,h){var l=new Asset({id:h.id});l.merge(h);Asset.add(l)});a.call(this)}})},upload:function(c,a){var f=c.file,e=new XMLHttpRequest,h=this.generate_uuid(),l=JSON.stringify({folder_id:c.folder_id});Asset.callback=a;e.upload.uuid=h;e.upload.filename=f.name;e.upload.addEventListener("loadstart",Asset.onloadstartHandler,false);e.upload.addEventListener("progress",Asset.onprogressHandler);e.upload.addEventListener("load",Asset.onloadHandler,false);e.addEventListener("readystatechange",Asset.onreadystatechangeHandler,
false);e.open("POST","/admin/assets.json",true);e.setRequestHeader("Content-Type","application/octet-stream");e.setRequestHeader("X-File-Name",f.name);e.setRequestHeader("X-Params",l);e.setRequestHeader("X-File-Upload","true");e.send(f);a.before&&a.before.call(this,{uuid:h,file_name:f.name})},onloadstartHandler:function(){},onloadHandler:function(){},onprogressHandler:function(c){var a=Math.round(c.loaded/c.total*100);Asset.callback.progress&&Asset.callback.progress.call(this,c.target.uuid,a)},onreadystatechangeHandler:function(c){var a=
null;try{a=c.target.status}catch(f){return}if(a=="200"&&c.target.readyState==4&&c.target.responseText){a=JSON.parse(c.target.responseText);a.uuid=c.target.upload.uuid;Asset.callback.success&&Asset.callback.success.call(this,a)}},generate_uuid:function(){for(var c=[],a=0;a<32;a++)c[a]="0123456789ABCDEF".substr(Math.floor(Math.random()*16),1);c[12]="4";c[16]="0123456789ABCDEF".substr(c[16]&3|8,1);return c.join("")}})}),Folder=Model("folder",function(){this.persistence(Model.SinatraREST,"/admin/folders");
this.include({loadAssets:function(c){Asset.each(function(){Asset.remove(this)});var a="/admin/folders/"+this.attr("id")+"/assets.json";jQuery.ajax({type:"get",url:a,contentType:"application/json",dataType:"json",success:function(f){jQuery.each(f,function(e,h){var l=new Asset({id:h.id});l.merge(h);Asset.add(l)});c&&c.call(this)}})}});this.extend({asJSON:function(){return Folder.map(function(c){return c.attr()})}})}),Page=Model("page",function(){this.persistence(Model.SinatraREST,"/admin/pages");this.include({initialize:function(){},
children:function(){return Page.find_all_by_parent_id(this.id())},childrenAsJSON:function(){return this.children().map(function(c){return c.attr()})},setPartAttributes:function(c,a){var f=this.attr("contents"),e;jQuery.each(f,function(h,l){if(c==l.id){if(a.content)l.content=a.content;if(a.asset_id)l.asset_id=a.asset_id;if(a.path)l.path=a.path;e=l}});return e},findPartByName:function(c){var a=this.attr("contents"),f;jQuery.each(a,function(e,h){if(c==h.name){f=h;return false}});return f},findPartById:function(c){var a=
this.attr("contents"),f;jQuery.each(a,function(e,h){if(c==h.id){f=h;return false}});return f},getChildren:function(c){var a=this,f="/admin/pages/"+a.id()+"/children.json";jQuery.ajax({type:"GET",url:f,dataType:"json",success:function(e){$.each(e,function(h,l){var n=new Page({id:l.id});n.merge(l);Page.add(n)});a.attr({"children?":true,children:a.childrenAsJSON()});c&&c.call(this,e)}})},has_children:function(){if(this.children().all().length>0)return true},parent:function(){return Page.find(this.attr("parent_id"))},
assets:function(){for(var c=this.attr("assets"),a=0,f=c.length;a<f;++a){var e=c[a],h=new Asset({id:e.id});h.merge(e);Asset.add(h)}return Asset},parts:function(){var c=this.attr("contents"),a=c.length;Part.each(function(){Part.remove(this)});for(var f=0;f<a;++f){var e=c[f],h=new Part({id:e.id});h.merge(e);h.attr("page_id",this.id());Part.add(h)}return Part},load:function(c){var a=this,f="/admin/pages/"+a.id()+".json";jQuery.ajax({type:"GET",url:f,dataType:"json",success:function(e){a.merge(e);c.call(this)}})}});
this.extend({toMustache:function(){return{pages:this.map(function(c){return c.attr()})}},root:function(){return this.detect(function(){return this.attr("parent_id")==null})},find_by_parent_id:function(c){return this.detect(function(){return this.attr("parent_id")==c})},find_all_by_parent_id:function(c){return this.select(function(){return this.attr("parent_id")==c})},find_by_path:function(c){return this.detect(function(){return this.attr("path")==c})},load_by_id:function(c,a){jQuery.ajax({type:"GET",
url:"/admin/pages/"+c+".json",dataType:"json",success:function(f){var e=Page.find(f.id);e||(e=new Page({id:f.id}));e.merge(f);Page.add(e);a&&a.call(this,f)}})},create:function(c,a){jQuery.ajax({type:"post",url:"/admin/pages.json",dataType:"json",data:{page:c},success:function(f){var e=new Page({id:f.id});e.merge(f);Page.add(e);a.call(this,f)}})}})}),Layout=Model("layout",function(){this.persistence(Model.SinatraREST,"/admin/templates");this.include({load:function(c){var a=this,f="/admin/templates/"+
a.id()+".json";jQuery.ajax({type:"GET",url:f,dataType:"json",success:function(e){a.merge(e);c.call(this,e)}})}});this.extend({toMustache:function(){return{layouts:this.map(function(c){return c.attr()})}},asLayoutJSON:function(c){return Layout.find_all_by_class("Layout").map(function(a){c==a.id()?a.attr("selected",'selected="selected"'):a.attr("selected","");return a.attr()})},find_by_class:function(c){return this.detect(function(){return this.attr("klass")==c})},find_all_by_class:function(c){return this.select(function(){return this.attr("klass")==
c})},asJSON_by_class:function(c){return this.find_all_by_class(function(){return c.map(function(a){return a.attributes})})}})}),Part=Model("part",function(){this.include({deleteRemote:function(c,a){var f="/admin/pages/"+c.id()+"/parts/"+this.id()+".json";jQuery.ajax({type:"DELETE",url:f,dataType:"json",success:function(e){c.merge(e);a.call(this)}})}});this.extend({toMustache:function(){return{parts:this.map(function(c){return c.attr()})}},create:function(c,a){var f="/admin/templates/"+c.template_id+
"/parts.json",e=Layout.find(c.template_id);jQuery.ajax({type:"post",url:f,dataType:"json",data:{part:c},success:function(h){e.merge(h);a.call(this)}})}})}),Site=Model("site",function(){this.persistence(Model.SinatraREST,"/admin/sites");this.include({});this.extend({toMustache:function(){return{sites:this.map(function(c){return c.attr()})}}})}),User=Model("user",function(){this.persistence(Model.SinatraREST,"/admin/users");this.include({});this.extend({toMustache:function(){return{users:this.map(function(c){return c.attr()})}}})}),
Galerie={open:function(c,a){$("body").append('<div id="overlay"></div>').append('<div id="modal_wrapper"><div id="modal"></div></div>');var f=$("#modal");f.html(c);var e=$("#modal_wrapper"),h=$(window).height();f=f.height()+42;f=(h-f)/2;$("#overlay").css({height:h}).hide().fadeIn("fast");e.hide().fadeIn("fast").css({top:f});a&&a.call(this)},close:function(){$("#modal_wrapper").fadeOut("fast",function(){$(this).remove();$("#overlay").fadeOut("fast",function(){$(this).remove()})})}},logger={info:function(c){window.console&&
console.log(c)},debug:function(c){window.console&&console.log(c)}},Utilities={setNonHistoryLinks:function(){Modernizr.history||jQuery("a").click(function(c){c.preventDefault();if((c=jQuery(this).attr("href"))&&!c.match("http://")&&!c.match(/^#/)){console.log("#"+c);document.location.hash=$(this).attr("#href")}})},loadModal:function(c,a){var f=this,e=jQuery(c);if(e.length){Loader.start();var h=e.find("img");if(h.length)setTimeout(function(){e.height()<20?h.load(function(){f.resizeModal(h,e,a)}):f.resizeModal(h,
e,a)},13);else{jQuery(window).width();var l=jQuery(window).height();e.css({width:"640px",height:"480px","margin-top":(l-540)/2+"px"});Loader.stop();a&&a.call(this)}}},resizeModal:function(c,a,f){var e=c.clone();e=e[0].width/e[0].height;var h=jQuery(window).width(),l=jQuery(window).height();if(a.height()>l-40){c.height(l-40).width((l-40)*e);a.height(l-40).width((l-40)*e)}if(a.width()>h-40){c.height((h-40)/e).width(h-40);a.height((h-40)/e).width(h-40);a.css({"margin-top":(l-(h-40)/e)/2})}a.width()<
h-40&&a.height()<l-40&&a.css({width:a.height()*e+"px","margin-top":(l-a.height())/2});Loader.stop();f&&f.call(this)},notice:function(c,a){a=a||{};var f=jQuery(".notice"),e=a["class"]||"message";f.html(c).addClass(e).fadeIn("fast",function(){setTimeout(function(){a.persist||f.fadeOut("slow")},1800)})},hideNotice:function(){jQuery(".notice").fadeOut("slow")},setTimestamp:function(){window.timestamp=(new Date).getTime()},keyboard_nav:function(){jQuery("body").keydown(function(c){switch(c.keyCode){case 37:$("a.previous").click();
break;case 39:$("a.next").click();break}})},check_browser_version:function(){},formObserver:function(){},unique:function(c){tmp=[];for(i=0;i<c.length;i++)if(!Utilities.contains(tmp,c[i])){tmp.length+=1;tmp[tmp.length-1]=c[i]}return tmp},contains:function(c,a){for(j=0;j<c.length;j++)if(c[j]==a)return true;return false}},Loader={start:function(c){c=jQuery("#loader");if(c.length){c.show();Loader.timer=setInterval(function(){var a=c.css("background-position-y").replace("px","");c.css({"background-position-y":a-
40+"px"})},67)}},stop:function(c){c=jQuery("#loader");if(c.length){c.hide();clearInterval(Loader.timer)}}},Updater={setup:function(c,a){jQuery.each(c,function(f,e){var h=new a({id:e.id});h.merge(e);a.add(h)})},update:function(){window.ninja=true;jQuery.ajax({url:"/admin/activity.json",type:"POST",data:{updated:window.timestamp},success:function(c){jQuery.each(c.models,function(a,f){Page.find(f.id).merge(f);Utilities.setTimestamp()});window.ninja=false}})}},aceModes={javascript:require("ace/mode/javascript").Mode,
html:require("ace/mode/html").Mode,css:require("ace/mode/css").Mode,scss:require("ace/mode/scss").Mode,sass:require("ace/mode/scss").Mode,textile:require("ace/mode/textile").Mode,none:require("ace/mode/scss").Mode},delay=function(){var c=0;return function(a,f){clearTimeout(c);c=setTimeout(a,f)}}(),Editor={initialize:function(){var c=jQuery("#editor-buttons input[type=button]"),a=jQuery("#editor-buttons input#save");c.click(function(){var f=jQuery(this).data("cmd"),e=jQuery(this).data("value");if(e==
"promptUser")e=prompt(jQuery(this).data("text"));var h=jQuery("iframe")[0];f&&h.contentDocument.execCommand(f,false,e)});a.click(function(){var f=document.location.pathname.split("/"),e=Page.find(f[f.length-1]),h={};jQuery("iframe").contents().find("div.editable").each(function(){var l=jQuery(this),n=l.attr("id").split("-")[1];h[n]=l.html()});jQuery.each(h,function(l,n){n=Editor.textilize(n);e.setPartAttributes(l,{content:n})});e.save()})},textilize:function(c,a){c=c.replace(/\s*<p>((.|[\r\n])*?)<\/p>\s*/gi,
"\n\n$1\n\n\n");c=c.replace(/\s*<h1>((.|[\r\n])*?)<\/h1>\s*/gi,"h1. $1\n\n");c=c.replace(/\s*<h2>((.|[\r\n])*?)<\/h2>\s*/gi,"h2. $1\n\n");c=c.replace(/\s*<h3>((.|[\r\n])*?)<\/h3>\s*/gi,"h3. $1\n\n");c=c.replace(/\s*<h4>((.|[\r\n])*?)<\/h4>\s*/gi,"h4. $1\n\n");c=c.replace(/\s*<h5>((.|[\r\n])*?)<\/h5>\s*/gi,"h5. $1\n\n");c=c.replace(/\s*<h6>((.|[\r\n])*?)<\/h6>\s*/gi,"h6. $1\n\n");c=c.replace(/<(?:b|strong)>((.|[\r\n])*?)<\/(?:b|strong)>/gi,"*$1*");c=c.replace(/<(?:i|em)>((.|[\r\n])*?)<\/(?:i|em)>/gi,
"_$1_");c=c.replace(/<(?:strike|del)>((.|[\r\n])*?)<\/(?:strike|del)>/gi,"-$1-");c=c.replace(/<(?:u|ins)>((.|[\r\n])*?)<\/(?:u|ins)>/gi,"+$1+");c=c.replace(/<a href="(.*?)">((.|[\r\n])*?)<\/a>/gi,'"$2":$1');c=c.replace(/<code.*?>((.|[\r\n])*?)<\/code>/gi,"@$1@");if(a)c=c.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");c=c.replace(/(\r\n|\n){3,}/g,"\n\n");return c=c.replace(/^[\r\n]+|[\r\n]+$/g,"")}};
jQuery("span.opener").live("click",function(){var c=jQuery(this),a=c.parents("li.node:first").attr("id").split("-")[1];if(c.hasClass("open")){c.removeClass("open");Pages.trigger("close-page-children",a)}else{c.addClass("open");Pages.trigger("open-page-children",a)}});jQuery("a.page-reload").live("click",function(){var c=jQuery(this).attr("href").split("/")[3];c=jQuery("iframe#page-iframe-"+c);c.attr("src",c.attr("src"));Utilities.hideNotice()});jQuery("div#sidebar a").live("click",function(){Utilities.hideNotice()});
jQuery(window).resize(function(){var c=jQuery("div#asset-editor");Utilities.loadModal(c)});jQuery("a.insert-file").live("click",function(c){c.preventDefault();window.editor.insert($(this).attr("href"))});jQuery("a.info-icon").live("click",function(c){c.preventDefault();current_asset_id=this.id.split("-")[2];Assets.trigger("show_info",{current_asset_id:current_asset_id})});jQuery("a.close-modal-strip").live("click",function(c){c.preventDefault();jQuery("div.modal-strip").fadeOut("fast",function(){jQuery(this).remove()})});
jQuery("a.insert-image").live("click",function(c){c.preventDefault();c=jQuery(this).attr("href");Base.trigger("image-browser",c)});jQuery("a.remove-icon").live("click",function(c){c.preventDefault();current_asset_id=this.id.split("-")[2];Assets.trigger("show_remove_dialog",{current_asset_id:current_asset_id})});
var iFramer={initialize:function(c,a){var f=jQuery(c);jQuery("#loader");f.length&&f.load(function(){var e=$(this).contents();e.find("div.editable").attr("contenteditable","true").css({background:"hsla(30, 17.7%, 61%, 0.3)"});e.find("a").click(function(h){var l=jQuery(this).attr("href").split("?")[0].replace("/preview","");if(l=Page.find_by_path(l)){h.preventDefault();Pages.setLocation(l.attr("admin_path"))}});e.find("a.insert-image").click(function(h){h.preventDefault();h=jQuery(this).attr("href");
Base.trigger("image-browser",h)});a&&a.call(this)})},setEditFlags:function(c){c.css({position:"relative",display:"block",height:"0",width:"0","text-decoration":"none"}).find("span").css({display:"block",position:"absolute",top:"-24px",left:"12px",padding:"4px 8px",width:"100px",background:"rgba(255, 255, 0, 0.7)"})}},Base=Sammy(function(c){c.debug=false;c.use(Sammy.JSON);c.use(Sammy.Mustache);c.use(Sammy.NestedParams);c.template_engine="mustache";c.helpers({setup:function(a,f){jQuery.each(a,function(e,
h){var l=new f({id:h.id});l.merge(h);f.add(l)})},update:function(){var a=this;window.ninja=true;jQuery.ajax({url:"/admin/activity.json",type:"POST",data:{updated:window.timestamp},success:function(f){jQuery.each(f.models,function(e,h){h.class_name=="Page"&&a.trigger("update-page",h);h.class_name=="Layout"&&a.trigger("update-layout",h);Utilities.setTimestamp()});window.ninja=false}})}});c.bind("run",function(){var a=this;jQuery("#sidebar .opener").live("click",function(){a.trigger("toggle-children",
this);return false});a.trigger("toggle-sidebar")});c.bind("set-active-tab",function(a,f){var e=jQuery("div#tabs a.tab"),h=f.split("?")[0].split("/")[2];h=jQuery("#"+h+"-tab");e.removeClass("active");h.addClass("active")});c.bind("update-page",function(a,f){var e=Page.find(f.id);e.merge(f);e.save();jQuery("li#page-"+f.id).find("span.title a").text(e.attr("title"));jQuery("h1#page-title-"+e.id()).text(e.attr("title"));jQuery("#page-iframe-"+e.id()).length&&Utilities.notice('<a class="page-reload" href="'+
e.attr("admin_path")+'">This page has been changed. Click here to reload.</span>',{persist:true,"class":"warning"})});c.bind("update-layout",function(a,f){var e=Layout.find(f.id);e.merge(f);e.save();jQuery("li#layout-"+f.id).find("span.title a").text(e.attr("name"))});c.bind("image-browser",function(a,f){var e=this,h=f.split("/")[3],l=f.split("/")[5],n=Page.find(h),v=n.findPartById(l);Asset.searchAdmin({limit:12,page:1},function(){e.load(jQuery("script#admin-image_parts-index")).interpolate({assets:Asset.asJSON(),
part:v.attributes},"mustache").appendTo("body").then(function(){jQuery("ul.assets .image a").click(function(D){var C=jQuery(D.currentTarget);D=C.find("img").attr("src").split("?")[0];C=C.attr("id").split("-")[2];var O=jQuery("iframe#page-iframe-"+n.id());O=O.length?O.contents().find('img[src^="'+v.path+'"]').first():jQuery('img[src^="'+v.path+'"]').first();D=O.attr("src").replace(O.attr("src").split("?")[0],D);O.attr("src",D);jQuery("#overlay").fadeOut("fast",function(){jQuery(this).remove()});n.setPartAttributes(l,
{asset_id:C,path:D});n.save();return false})})})});c.bind("toggle-sidebar",function(){var a=jQuery("div#sidebar"),f=jQuery("div#editor"),e=jQuery("p#toggle");e.find("a").click(function(h){h.preventDefault();if(a.hasClass("closed")){h="300";jQuery.cookie("sidebar_toggled","")}else{h="24";jQuery.cookie("sidebar_toggled","closed")}Modernizr.cssanimations&&console.log("Move.js goes here");a.animate({width:h},200).toggleClass("closed");f.animate({left:h},200).toggleClass("open");e.animate({left:h},200).toggleClass("open")})});
c.before(function(){Galerie.close()});c.before(function(a){var f=a.path;a&&a.verb=="get"&&a.trigger("set-active-tab",f)})}),Sites=Sammy(function(){var c=this;this.helpers({loadSites:function(a){if(Site.all().length==0)Site.load(function(){a&&a.call(this)});else a&&a.call(this)},renderSiteIndex:function(a){this.load(jQuery("script#admin-sites-index")).interpolate(Site.toMustache(),"mustache").replace("#editor").then(function(){a&&a.call(this)})}});this.get("#/preview",function(){alert(document.location.hostname);
window.open("/","preview")});this.get("/admin/sites",function(a){c.refresh_pages=true;jQuery("#editor").html('<h1 class="section">Sites</div>');a.loadSites(function(){a.renderSiteIndex()})});this.get("/admin/sites/new",function(a){a.loadSites(function(){$("#modal").length==0&&Galerie.open();a.load(jQuery("script#admin-sites-new")).interpolate({},"mustache").replace("#modal");a.renderSiteIndex(Site.all())})});this.post("/admin/sites",function(a){(new Site(a.params.site)).save(function(f,e){var h=JSON.parse(e.responseText);
h.errors?alert(JSON.stringify(h)):a.redirect("#/sites")})});this.get("/admin/sites/:id/edit",function(a){a.loadSites(function(){site=Site.find(a.params.id);if(jQuery("#sites").length){jQuery(".site-form").html("");a.load(jQuery("script#admin-sites-edit")).interpolate({site:site.asJSON()},"mustache").replace("#site-form-"+site.id())}else a.renderSiteIndex(function(){jQuery(".site-form").html("");a.load(jQuery("script#admin-sites-edit")).interpolate({site:site.asJSON()},"mustache").replace("#site-form-"+
site.id())})})});this.put("/admin/sites/:id",function(a){var f=Site.find(a.params.id);f.attr(a.params.site);f.save(function(e,h){var l=JSON.parse(h.responseText);l.errors?alert(JSON.stringify(l)):a.redirect("#/sites")})});this.get("/admin/sites/:id/remove",function(a){Galerie.open();a.loadSites(function(){site=Site.find(a.params.id);a.load(jQuery("script#admin-sites-remove")).interpolate({site:site.asJSON()},"mustache").replace("#modal");a.renderSiteIndex(Site.all())})});this.del("/admin/sites/:id",
function(a){site.destroy(function(f){f?a.redirect("#/sites"):alert("there were issues")})})}),Layouts=Sammy(function(){var c=this;this.helpers({loadLayouts:function(a){a&&a.call(this)},renderLayoutIndex:function(){this.load(jQuery("script#admin-templates-index")).interpolate({layouts:Layout.find_all_by_class("Layout").map(function(a){return a.attributes}),partials:Layout.find_all_by_class("Partial").map(function(a){return a.attributes}),javascripts:Layout.find_all_by_class("Javascript").map(function(a){return a.attributes}),
stylesheets:Layout.find_all_by_class("Stylesheet").map(function(a){return a.attributes}),files:Layout.find_all_by_class("Upload").map(function(a){return a.attributes})},"mustache").replace("#sidebar")},renderLayout:function(a){this.load(jQuery("script#admin-templates-edit")).interpolate({layout:a.asJSON(),image:a.attr("file_type")&&a.attr("file_type").match("image")?true:false,filters:[{name:"CSS",value:"none",selected:a.attr("filter")=="css"?'selected="selected"':""},{name:"Sass",value:"sass",selected:a.attr("filter")==
"sass"?'selected="selected"':""},{name:"SCSS",value:"scss",selected:a.attr("filter")=="scss"?'selected="selected"':""},{name:"Partial",value:"none",selected:a.attr("filter")=="none"?'selected="selected"':""}]},"mustache").replace("#editor").then(function(){var f=a.attr("mode");f=aceModes[f];window.editor=ace.edit("layout_content");window.editor.setTheme("ace/theme/textmate");window.editor.getSession().setMode(new f);window.editor.session.setUseWrapMode(true);window.editor.getSession().setValue(a.attr("content"));
jQuery("a.tab").click(function(e){e.preventDefault();jQuery(".pane").hide();jQuery(jQuery(this).attr("href")).show()})})}});this.bind("run",function(){c.refresh_templates=true;c.refresh_pages=true;c.modal=false});this.get("/admin/templates",function(a){c.refresh_templates=false;jQuery("#editor").html('<h1 class="section">Templates</div>');a.renderLayoutIndex(Layout.all())});this.get("/admin/templates/new/:klass",function(a){var f=$("<div />").attr({id:"new-page-container","class":"small-modal"}),
e=a.params.klass;$("#modal").length==0&&Galerie.open(f);a.load(jQuery("#admin-templates-new")).interpolate({klass:e,file:e=="upload"?true:false},"mustache").replace("#new-page-container");a.renderLayoutIndex(Layout.all())});this.post("/admin/templates",function(a){(new Layout(a.params.template)).save(function(f,e){var h=JSON.parse(e.responseText);if(h.errors)Utilities.notice(JSON.stringify(h));else{a.redirect("/admin/templates");Utilities.notice("Successfully saved template")}})});this.get("/admin/templates/:id/edit",
function(a){c.refresh_pages=true;var f=Layout.find(a.params.id);a.renderLayout(f);a.renderLayoutIndex(Layout.all())});this.put("/admin/templates/:id",function(a){var f=Layout.find(a.params.id);a.params.layout.content=window.editor.getSession().getValue();f.attr(a.params.layout);f.save(function(e){if(e){a.renderLayoutIndex();Utilities.notice("Successfully saved template");e=aceModes[f.attr("mode")];window.editor.getSession().setUseSoftTabs(true);window.editor.getSession().setTabSize(2);window.editor.getSession().setMode(new e)}})});
this.get("/admin/templates/:id/remove",function(a){var f=Layout.find(a.params.id);Galerie.open();a.load(jQuery("#admin-templates-remove")).interpolate({layout:f.asJSON()},"mustache").replace("#modal");a.renderLayoutIndex(Layout.all())});this.del("/templates/:id",function(a){Layout.find(a.params.id).destroy(function(f){if(f){a.renderLayoutIndex();Utilities.notice("Successfully deleted template");a.redirect("/admin/templates")}})});this.post("/layouts/:id/parts",function(a){this.loadLayouts(function(){var f=
a.params.id;Part.create(a.params.part,function(){a.redirect("/admin/templates/"+f+"/edit")})})})}),Assets=Sammy(function(c){var a=this;c.helpers({send_files:function(f,e,h){jQuery.each(f,function(l,n){Asset.upload({file:n,folder_id:e.folder_id},{before:function(v){h.before&&h.before.call(this,v)},progress:function(v,D){h.progress&&h.progress.call(this,v,D)},success:function(v){asset=new Asset;asset.merge(v);Asset.add(asset);h.success&&h.success.call(this,asset)}})})}});c.bind("render-asset",function(f,
e,h){this.load(jQuery("script#admin-assets-edit")).interpolate(e.toMustacheWithNeighbors(h),"mustache").appendTo("body").then(function(){Utilities.loadModal("div#asset-editor",function(){jQuery("div#asset-editor").fadeIn("fast");window.modal=true})})});c.bind("render-index",function(f,e){var h=e.query,l=e.folder_id,n=this,v=jQuery("script#admin-assets-asset").html();n.load(jQuery("script#admin-assets-index")).interpolate({assets:Asset.toMustache(h),folder_id:l,query:h,partials:{asset:v}},"mustache").replace("#editor").then(function(){jQuery("#ajax_uploader").attr("multiple",
"multiple").bind("change",function(){jQuery(this).parents("form:first").submit()});n.trigger("set_draggable_assets");n.trigger("set_droppable_folders")});window.modal=false});c.bind("set_draggable_assets",function(){jQuery("li.asset").draggable({revert:true,stack:".asset"})});c.bind("set_droppable_folders",function(){jQuery("li.folder").droppable({hoverClass:"active",drop:function(f,e){var h=f.target.id.split("-")[1],l=Folder.find(h),n=e.draggable[0].id.split("-")[1];n=Asset.find(n);n.attr("folder_id",
h);e.draggable.fadeOut("fast");n.save(function(v){v?Utilities.notice("Asset added to "+l.attr("name")):e.draggable.fadeIn("fast")})}})});c.bind("show_info",function(f,e){var h=Asset.find(e.current_asset_id),l=jQuery("#asset-"+h.id()),n=l.find(".info");jQuery(".modal-strip").remove();n.length||this.load(jQuery("#admin-assets-info")).interpolate({asset:h.toMustache()},"mustache").appendTo(l).then(function(){jQuery(".modal-strip").fadeIn("fast")})});c.bind("show_remove_dialog",function(f,e){var h=Asset.find(e.current_asset_id),
l=jQuery("#asset-"+h.id()),n=l.find(".remove");jQuery(".modal-strip").remove();n.length||this.load(jQuery("script#admin-assets-remove")).interpolate({asset:h.toMustache()},"mustache").appendTo(jQuery("body")).then(function(){var v=jQuery(".modal-strip");v.css({top:l.offset().top+l.height()/2,left:l.offset().left+l.width()/2});v.fadeIn("fast")})});c.get("/admin/assets",function(f){jQuery("#overlay").remove();var e=f.params.query,h={query:e};h.limit=f.params.limit||96;h.page=f.params.page||1;if(e){f.renderFolderTree();
Asset.searchAdmin(h,function(){f.trigger("render-index",{query:e})})}else f.redirect(Folder.first().attr("admin_path"))});c.get("/admin/assets/new",function(f){f.load(jQuery("script#admin-assets-new")).interpolate({},"mustache").replace("#editor").then(function(){jQuery("#ajax_uploader").attr("multiple","multiple")});a.first_run=false});c.post("/admin/assets",function(f){var e=document.getElementById("ajax_uploader").files,h=f.params.asset.folder_id,l=f.params.query?f.params.query:null;jQuery("form#new_asset");
l=l?{query:l}:{};l.limit=f.params.limit||48;l.page=f.params.page||1;l.folder_id=h;this.send_files(e,l,{before:function(n){f.load(jQuery("script#admin-assets-loading")).interpolate({uuid:n.uuid,title:n.file_name.split(".")[0]},"mustache").appendTo("#assets")},progress:function(){},success:function(n){var v=Mustache.to_html(jQuery("script#admin-assets-asset").html(),n.attr());jQuery("<img />").attr("src","/images/"+n.id()+"/"+n.attr("file_name")).load(function(){jQuery("li#asset-"+n.attr("uuid")).replaceWith(v)})}});
return false});c.get("/admin/assets/:id/edit",function(f){jQuery("#overlay").remove();var e=f.params.query?f.params.query:"",h=e?{query:f.params.query}:{},l=Asset.find(f.params.id);window.modal=true;if(l)f.trigger("render-asset",l,e);else{alert("hey");Asset.searchAdmin(h,function(){var n=Asset.find(f.params.id);f.trigger("render-index",{folder_id:n.attr("folder_id")});f.renderFolderTree();f.trigger("render-asset",n,e)})}});c.put("/admin/assets/:id",function(f){var e=Asset.find(f.params.id);if(e){e.attr(f.params.asset);
e.save(function(h){h&&Utilities.notice("Successfully saved asset")})}else{e=new Asset({id:f.params.id});e.load(function(){e.attr(f.params.asset);e.save(function(h){h&&Utilities.notice("Successfully saved asset")})})}});c.del("/admin/assets/:id",function(f){f=f.params.id;var e=Asset.find(f);e.attr("folder_id");jQuery("li#asset-"+f).fadeOut("fast");jQuery(".modal-strip").remove();e.destroy(function(h){h&&Utilities.notice("Asset removed")})})}),Folders=Sammy(function(c){this.helpers({renderFolderTree:function(a){if(jQuery("ul#folders").length)a&&
a.call(this);else this.load(jQuery("script#admin-folders-index")).interpolate({folders:Folder.asJSON()},"mustache").replace("#sidebar").then(function(){a&&a.call(this)})}});this.get("/admin/folders/new/?",function(a){$("#modal").length==0&&Galerie.open();a.renderFolderTree(function(){jQuery("ul#folders li").removeClass("active")});a.load(jQuery("#admin-folders-new")).interpolate({},"mustache").replace("#modal")});c.get("/admin/folders/:id",function(a){jQuery("#overlay").remove();var f=a.params.id,
e=Folder.find(f);a.renderFolderTree(function(){jQuery("ul#folders li").removeClass("active");jQuery("#folder-"+f).addClass("active")});window.modal||e.loadAssets(function(){a.trigger("render-index",{folder_id:e.id()})});window.modal=false});c.get("/admin/folders/:folder_id/assets/:id/edit",function(a){jQuery("#overlay").remove();var f=Folder.find(a.params.folder_id),e=Asset.find(a.params.id);window.modal=true;e?a.trigger("render-asset",e):f.loadAssets(function(){e=Asset.find(a.params.id);a.renderFolderTree();
a.trigger("render-index",{folder_id:f.id()});a.trigger("render-asset",e)})});this.post("/admin/folders",function(a){var f=new Folder(a.params.folder);f.save(function(e,h){var l=JSON.parse(h.responseText);if(l.errors)alert(JSON.stringify(l));else{alert(f.attr("admin_path"));a.load(jQuery("script#admin-folders-index")).interpolate({folders:Folder.asJSON()},"mustache").replace("#sidebar");a.redirect(f.attr("admin_path"))}})})}),Pages=Sammy(function(c){c.helpers({renderPagePreview:function(a,f){var e=
this;e.load(jQuery("script#admin-pages-show")).interpolate({page:a.asJSON(),layouts:Layout.asLayoutJSON(a.attr("layout_id")),base_page_id:a.id()},"mustache").replace("#editor").then(function(){iFramer.initialize(".preview iframe",function(){f&&f.call(this)});e.trigger("set-active-page",a);Editor.initialize()})},renderPageEditor:function(a,f){var e=this;if(jQuery("#page-editor").length){f&&f.call(this);e.trigger("set-active-page",a)}else e.load(jQuery("script#admin-pages-edit")).interpolate({page:a.asJSON()},
"mustache").replace("#editor").then(function(){jQuery("li.node").removeClass("active");jQuery("#page-"+a.id()).addClass("active");f&&f.call(this);e.trigger("set-active-page",a)})},renderPageProperties:function(a,f){this.load(jQuery("script#admin-pages-form")).interpolate({page:a.asJSON(),layouts:Layout.asLayoutJSON(a.attr("layout_id")),base_page_id:a.id(),timestamp:window.timestamp},"mustache").replace("#page-tabs-"+a.id()).then(function(){f&&f.call(this)})},renderPageMenu:function(){var a=Page.root(),
f=Page.all(),e=jQuery.cookie("active_page_ids")?jQuery.cookie("active_page_ids").split(","):[];jQuery.each(f,function(h,l){var n=Page.root()==l||_.include(e,l.id())?true:false;l.attr({children:l.childrenAsJSON(),"open?":n})});this.load(jQuery("script#admin-pages-index")).interpolate({root:a.asJSON(),partials:{node:jQuery("script#admin-pages-node").html()}},"mustache").replace("#sidebar")}});c.bind("show-page-menu",function(a,f){var e=this;if(f.children().count()==0&&f.attr("child_count")!=0)f.getChildren(function(){f.attr("open?",
true);e.renderPageMenu(f)});else{if(f.attr("child_count")==0)f=f.parent();e.renderPageMenu(f)}});c.bind("open-page-children",function(a,f){var e=this,h=Page.find(f),l=jQuery("li#page-"+h.id()),n=jQuery.cookie("active_page_ids")?jQuery.cookie("active_page_ids").split(","):[];h.getChildren(function(){h.attr("open?",true);h.attr("children",h.childrenAsJSON());n.push(h.id());jQuery.cookie("active_page_ids",Utilities.unique(n).join(","),{path:"/admin"});e.load(jQuery("script#admin-pages-children")).interpolate({page:h.asJSON(),
partials:{node:jQuery("script#admin-pages-node").html()}},"mustache").appendTo(l)})});c.bind("close-page-children",function(a,f){var e=Page.find(f);jQuery("li#page-"+e.id()).find("ul.page-children").remove();e.children().each(function(h){Page.remove(h)})});c.bind("set-active-page",function(a,f){jQuery("li.node").removeClass("active");jQuery("li#page-"+f.id()).addClass("active")});c.bind("reload-page",function(a,f){var e=f.id(),h=jQuery("iframe#page-iframe-"+e);jQuery("li#page-"+e).find("span.title a").text(f.attr("title"));
jQuery("h1#page-title-"+e).text(f.attr("title"));h.attr("src",h.attr("src"))});this.get("/admin/pages/?",function(a){var f=Page.first();a.redirect(f.attr("admin_path"))});this.get("/admin/pages/:id/new/?",function(a){var f=Page.find(a.params.id),e=$("<div />").attr({id:"new-page-container","class":"small-modal"});$("#modal").length==0&&Galerie.open(e);a.trigger("page-index");a.load(jQuery("#admin-pages-new")).interpolate({parent:f.asJSON(),layouts:Layout.asLayoutJSON(f.attr("layout_id"))},"mustache").replace("#new-page-container")});
this.post("/admin/pages/:page_id/?",function(a){Page.find(a.params.page_id);(new Page(a.params.page)).save(function(f,e){var h=JSON.parse(e.responseText);if(h.errors)alert(JSON.stringify(h));else{Utilities.notice("Successfully created page");a.redirect(h.admin_path)}})});this.get("/admin/pages/:id/?",function(a){jQuery("#overlay").remove();jQuery(".modal-editor").remove();var f=Page.find(a.params.id);if(f)a.renderPagePreview(f);else{f=new Page({id:a.params.id});f.load(function(){a.renderPagePreview(f)})}a.trigger("show-page-menu",
f)});this.get("/admin/pages/:id/edit/?",function(a){var f=Page.find(a.params.id);a.renderPageEditor(f,function(){a.renderPageProperties(f)});a.trigger("show-page-menu",f)});this.put("/admin/pages/:page_id",function(a){var f=Page.find(a.params.page_id),e=jQuery("span.timestamp").text();f.attr(a.params.page);e<window.timestamp?alert("Someone else has edited this page, please reload and try again"):f.save(function(h){if(h){Utilities.setTimestamp();Utilities.notice("Successfully saved page");a.trigger("reload-page",
f);a.redirect(f.attr("admin_path"))}})});this.get("/admin/pages/:id/remove",function(a){var f=Page.find(a.params.id),e=$("<div />").attr({id:"remove-page-container","class":"small-modal"});$("#modal").length==0&&Galerie.open(e);a.trigger("page-index");a.load(jQuery("#admin-pages-remove")).interpolate({page:f.asJSON()},"mustache").replace("#remove-page-container")});this.del("/admin/pages/:id",function(a){var f=Page.find(a.params.id);f.destroy(function(e){if(e){jQuery("#page-"+f.id()).remove();a.redirect("/admin/pages")}})})}),
Parts=Sammy(function(c){c.helpers({renderPart:function(a,f,e){var h=this;h.load(jQuery("script#admin-"+e+"-edit")).interpolate({part:a.asJSON(),page:f.asJSON(),assets:Asset.asJSON(),timestamp:window.timestamp},"mustache").replace("#page-tabs-"+f.id()).then(function(){var l=aceModes.textile;window.editor=ace.edit("part-"+a.id()+"-content");window.editor.setTheme("ace/theme/textmate");window.editor.getSession().setMode(new l);window.editor.session.setUseWrapMode(true);window.editor.getSession().setValue(a.attr("content"));
jQuery(".toolbar a.tab").removeClass("active");jQuery(".toolbar a."+a.attr("name")+"-tab").addClass("active");h.trigger("set_asset_links");jQuery("#ajax_uploader").attr("multiple","multiple").change(function(){var n=jQuery(this).parents("form:first");jQuery(".progress").slideDown("slow",function(){n.submit()})});h.trigger("page-index")})}});this.bind("set_asset_links",function(){jQuery("#search-results-container li.asset").each(function(a,f){var e=jQuery(f).find("a"),h=jQuery(f).attr("id").split("-")[1],
l=e.find("img").attr("src");e.click(function(n){n.preventDefault();jQuery("input#part-asset-id").attr("value",h);jQuery("form#edit-part img.preview").attr("src",l.replace("icon","thumbnail"))})})});this.get("/admin/pages/:page_id/parts/:id/edit",function(a){jQuery(".modal-editor").remove();$("iframe");var f=Page.find(a.params.page_id),e=f.parts().find(a.params.id);a.trigger("show-page-menu",f);a.renderPageEditor(f,function(){a.renderPart(e,f,"parts")})});this.get("/admin/pages/:page_id/image_parts/:id/edit",
function(a){var f=Page.find(a.params.page_id),e=f.parts().find(a.params.id);$("iframe");Asset.searchAdmin({limit:"24"},function(){a.trigger("show-page-menu",f);a.renderPageEditor(f,function(){a.renderPart(e,f,"image_parts")})})});this.get("/admin/pages/:page_id/parts/:id/results",function(a){Page.find(a.params.page_id);Part.find(a.params.id);var f=a.params.query?a.params.query:null;Asset.searchAdmin(f?{query:f}:{},function(){a.load(jQuery("#admin-pages-search_results")).interpolate(Asset.toMustache(),
"mustache").replace("#search-results-container").then(function(){a.trigger("set_asset_links")})})});this.put("#/pages/:page_id/parts/:id",function(a){var f=Page.find(a.params.page_id),e=f.parts().find(a.params.id),h=f.attr("contents"),l=h.length;a.params.part.content=window.editor.getSession().getValue();for(var n=0;n<l;++n){e=h[n];if(a.params.id==e.id){e.content=a.params.part.content;e.asset_id=a.params.part.asset_id;var v=Part.find(e.id);v.attr({asset_id:a.params.part.asset_id,content:a.params.part.content});
v.save()}}f.save(function(D){if(D){Utilities.setTimestamp();Utilities.notice(v.attr("name")+" saved");window.editor.getSession().setUseSoftTabs(true);window.editor.getSession().setTabSize(2);window.editor.getSession().setMode(new editorMode)}})});this.post("#/pages/:page_id/image_parts/:id/assets",function(a){Page.find(a.params.page_id).parts().find(a.params.id);var f=document.getElementById("ajax_uploader").files,e=a.params.query?a.params.query:null;jQuery("form#new_asset");e=e?{query:e}:{};e.limit=
a.params.limit||48;e.page=a.params.page||1;this.send_files(f,e,function(){a.load(jQuery("#admin-pages-search_results")).interpolate(Asset.toMustache(),"mustache").replace("#search-results-container").then(function(){jQuery("#ajax_uploader").attr("files",null);jQuery(".progress").slideUp("slow",function(){jQuery(this).html("")});a.trigger("set_asset_links")})})})}),Users=Sammy(function(){this.helpers({loadUsers:function(c){if(User.all().length==0)User.load(function(){c&&c.call(this)});else c&&c.call(this)},
renderUserIndex:function(c){this.load(jQuery("script#admin-users-index")).interpolate(User.toMustache(),"mustache").replace("#editor").then(function(){c&&c.call(this)})}});this.get("/admin/users",function(c){jQuery("#editor").html('<h1 class="section">Users</div>');c.loadUsers(function(){c.renderUserIndex()})});this.get("/admin/users/new",function(c){c.loadUsers(function(){jQuery("#modal").length||Galerie.open();c.load(jQuery("script#admin-users-new")).interpolate({},"mustache").replace("#modal");
c.renderUserIndex()})});this.post("/admin/users",function(c){(new User(c.params.user)).save(function(a,f){var e=JSON.parse(f.responseText);e.errors?alert(JSON.stringify(e)):c.redirect("/admin/users")})});this.get("/admin/users/:id/edit",function(c){c.loadUsers(function(){user=User.find(c.params.id);if(jQuery("#users").length){jQuery(".user-form").html("");c.load(jQuery("script#admin-users-edit")).interpolate({user:user.asJSON()},"mustache").replace("#user-form-"+user.id())}else c.renderUserIndex(function(){jQuery(".user-form").html("");
c.load(jQuery("script#admin-users-edit")).interpolate({user:user.asJSON()},"mustache").replace("#user-form-"+user.id())})})});this.put("/admin/users/:id",function(c){var a=User.find(c.params.id);a.attr(c.params.user);a.save(function(f,e){var h=JSON.parse(e.responseText);h.errors?alert(JSON.stringify(h)):c.redirect("/admin/users")})})});
jQuery(document).ready(function(){var c=jQuery("#loader");jQuery("<img />",{src:"/images/loader.png"});jQuery("body").ajaxStart(function(){window.ninja||Loader.start(c)}).ajaxSuccess(function(){Loader.stop(c)});if(!jQuery("#login").length){jQuery.ajax({url:"/templates",success:function(a){jQuery("head").append(a)}});jQuery.ajax({url:"/admin/sites/current.json",success:function(a){Updater.setup(a.pages,Page);Updater.setup(a.templates,Layout);Updater.setup(a.folders,Folder);Base.run();window.timestamp=
a.now}})}require("pilot/canon").addCommand({name:"save",bindKey:{win:"Ctrl-S",mac:"Command-S",sender:"editor"},exec:function(){jQuery("form.command-save").submit()}})});
